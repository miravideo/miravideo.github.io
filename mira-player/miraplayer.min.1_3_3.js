/*! For license information please see miraplayer.min.js.LICENSE.txt */
(()=>{var __webpack_modules__=[,(t,e,r)=>{const n=r(2),i=r(4),s=r(5),o=r(11);t.exports={ColorUtil:n,TimeUtil:i,CacheUtil:s,DomUtil:o}},(t,e,r)=>{"use strict";const n=r(3),i={color:(t,e)=>n(t).setAlpha(e/100).toRgbString()};t.exports=i},(t,e,r)=>{var n;!function(i){var s=/^\s+/,o=/\s+$/,a=0,A=i.round,u=i.min,l=i.max,c=i.random;function h(t,e){if(e=e||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,e);var r=function(t){var e,r,n,a={r:0,g:0,b:0},A=1,c=null,h=null,f=null,p=!1,d=!1;return"string"==typeof t&&(t=function(t){t=t.replace(s,"").replace(o,"").toLowerCase();var e,r=!1;if(S[t])t=S[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{r:R(e[1]),g:R(e[2]),b:R(e[3]),a:N(e[4]),format:r?"name":"hex8"}:(e=V.hex6.exec(t))?{r:R(e[1]),g:R(e[2]),b:R(e[3]),format:r?"name":"hex"}:(e=V.hex4.exec(t))?{r:R(e[1]+""+e[1]),g:R(e[2]+""+e[2]),b:R(e[3]+""+e[3]),a:N(e[4]+""+e[4]),format:r?"name":"hex8"}:!!(e=V.hex3.exec(t))&&{r:R(e[1]+""+e[1]),g:R(e[2]+""+e[2]),b:R(e[3]+""+e[3]),format:r?"name":"hex"}}(t)),"object"==typeof t&&(G(t.r)&&G(t.g)&&G(t.b)?(e=t.r,r=t.g,n=t.b,a={r:255*O(e,255),g:255*O(r,255),b:255*O(n,255)},p=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):G(t.h)&&G(t.s)&&G(t.v)?(c=D(t.s),h=D(t.v),a=function(t,e,r){t=6*O(t,360),e=O(e,100),r=O(r,100);var n=i.floor(t),s=t-n,o=r*(1-e),a=r*(1-s*e),A=r*(1-(1-s)*e),u=n%6;return{r:255*[r,a,o,o,A,r][u],g:255*[A,r,r,a,o,o][u],b:255*[o,o,A,r,r,a][u]}}(t.h,c,h),p=!0,d="hsv"):G(t.h)&&G(t.s)&&G(t.l)&&(c=D(t.s),f=D(t.l),a=function(t,e,r){var n,i,s;function o(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=O(t,360),e=O(e,100),r=O(r,100),0===e)n=i=s=r;else{var a=r<.5?r*(1+e):r+e-r*e,A=2*r-a;n=o(A,a,t+1/3),i=o(A,a,t),s=o(A,a,t-1/3)}return{r:255*n,g:255*i,b:255*s}}(t.h,c,f),p=!0,d="hsl"),t.hasOwnProperty("a")&&(A=t.a)),A=M(A),{ok:p,format:t.format||d,r:u(255,l(a.r,0)),g:u(255,l(a.g,0)),b:u(255,l(a.b,0)),a:A}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=A(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=A(this._r)),this._g<1&&(this._g=A(this._g)),this._b<1&&(this._b=A(this._b)),this._ok=r.ok,this._tc_id=a++}function f(t,e,r){t=O(t,255),e=O(e,255),r=O(r,255);var n,i,s=l(t,e,r),o=u(t,e,r),a=(s+o)/2;if(s==o)n=i=0;else{var A=s-o;switch(i=a>.5?A/(2-s-o):A/(s+o),s){case t:n=(e-r)/A+(e<r?6:0);break;case e:n=(r-t)/A+2;break;case r:n=(t-e)/A+4}n/=6}return{h:n,s:i,l:a}}function p(t,e,r){t=O(t,255),e=O(e,255),r=O(r,255);var n,i,s=l(t,e,r),o=u(t,e,r),a=s,A=s-o;if(i=0===s?0:A/s,s==o)n=0;else{switch(s){case t:n=(e-r)/A+(e<r?6:0);break;case e:n=(r-t)/A+2;break;case r:n=(t-e)/A+4}n/=6}return{h:n,s:i,v:a}}function d(t,e,r,n){var i=[L(A(t).toString(16)),L(A(e).toString(16)),L(A(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(t,e,r,n){return[L(Q(n)),L(A(t).toString(16)),L(A(e).toString(16)),L(A(r).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var r=h(t).toHsl();return r.s-=e/100,r.s=P(r.s),h(r)}function v(t,e){e=0===e?0:e||10;var r=h(t).toHsl();return r.s+=e/100,r.s=P(r.s),h(r)}function y(t){return h(t).desaturate(100)}function _(t,e){e=0===e?0:e||10;var r=h(t).toHsl();return r.l+=e/100,r.l=P(r.l),h(r)}function b(t,e){e=0===e?0:e||10;var r=h(t).toRgb();return r.r=l(0,u(255,r.r-A(-e/100*255))),r.g=l(0,u(255,r.g-A(-e/100*255))),r.b=l(0,u(255,r.b-A(-e/100*255))),h(r)}function w(t,e){e=0===e?0:e||10;var r=h(t).toHsl();return r.l-=e/100,r.l=P(r.l),h(r)}function B(t,e){var r=h(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,h(r)}function x(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function E(t){var e=h(t).toHsl(),r=e.h;return[h(t),h({h:(r+120)%360,s:e.s,l:e.l}),h({h:(r+240)%360,s:e.s,l:e.l})]}function C(t){var e=h(t).toHsl(),r=e.h;return[h(t),h({h:(r+90)%360,s:e.s,l:e.l}),h({h:(r+180)%360,s:e.s,l:e.l}),h({h:(r+270)%360,s:e.s,l:e.l})]}function T(t){var e=h(t).toHsl(),r=e.h;return[h(t),h({h:(r+72)%360,s:e.s,l:e.l}),h({h:(r+216)%360,s:e.s,l:e.l})]}function I(t,e,r){e=e||6,r=r||30;var n=h(t).toHsl(),i=360/r,s=[h(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(h(n));return s}function F(t,e){e=e||6;for(var r=h(t).toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(h({h:n,s:i,v:s})),s=(s+a)%1;return o}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=M(t),this._roundA=A(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=A(360*t.h),r=A(100*t.s),n=A(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=A(360*t.h),r=A(100*t.s),n=A(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,n,i){var s=[L(A(t).toString(16)),L(A(e).toString(16)),L(A(r).toString(16)),L(Q(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:A(this._r),g:A(this._g),b:A(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+A(this._r)+", "+A(this._g)+", "+A(this._b)+")":"rgba("+A(this._r)+", "+A(this._g)+", "+A(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:A(100*O(this._r,255))+"%",g:A(100*O(this._g,255))+"%",b:A(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+A(100*O(this._r,255))+"%, "+A(100*O(this._g,255))+"%, "+A(100*O(this._b,255))+"%)":"rgba("+A(100*O(this._r,255))+"%, "+A(100*O(this._g,255))+"%, "+A(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+g(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=h(t);r="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(B,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(F,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},h.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:D(t[n]));t=r}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:c(),g:c(),b:c()})},h.mix=function(t,e,r){r=0===r?0:r||50;var n=h(t).toRgb(),i=h(e).toRgb(),s=r/100;return h({r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a})},h.readability=function(t,e){var r=h(t),n=h(e);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},h.isReadable=function(t,e,r){var n,i,s,o,a,A=h.readability(t,e);switch(i=!1,(s=r,"AA"!==(o=((s=s||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==o&&(o="AA"),"small"!==(a=(s.size||"small").toLowerCase())&&"large"!==a&&(a="small"),n={level:o,size:a}).level+n.size){case"AAsmall":case"AAAlarge":i=A>=4.5;break;case"AAlarge":i=A>=3;break;case"AAAsmall":i=A>=7}return i},h.mostReadable=function(t,e,r){var n,i,s,o,a=null,A=0;i=(r=r||{}).includeFallbackColors,s=r.level,o=r.size;for(var u=0;u<e.length;u++)(n=h.readability(t,e[u]))>A&&(A=n,a=h(e[u]));return h.isReadable(t,a,{level:s,size:o})||!i?a:(r.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],r))};var S=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=h.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(S);function M(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=u(e,l(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return u(1,l(0,t))}function R(t){return parseInt(t,16)}function L(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function Q(t){return i.round(255*parseFloat(t)).toString(16)}function N(t){return R(t)/255}var k,H,j,V=(H="[\\s|\\(]+("+(k="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+k+")[,|\\s]+("+k+")\\s*\\)?",j="[\\s|\\(]+("+k+")[,|\\s]+("+k+")[,|\\s]+("+k+")[,|\\s]+("+k+")\\s*\\)?",{CSS_UNIT:new RegExp(k),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(t){return!!V.CSS_UNIT.exec(t)}t.exports?t.exports=h:void 0===(n=function(){return h}.call(e,r,e,t))||(t.exports=n)}(Math)},t=>{"use strict";const e={secToHms:(t,e=0)=>{t=t.toFixed(e);const r=Math.floor(t/3600).toString();let n=Math.floor((t-3600*r)/60).toString();r>0&&(n=n.padStart(2,"0"));let i=Math.floor(t-3600*r-60*n).toString();return n.length>0&&(i=i.padStart(2,"0")),`${r>0?r+":":""}${n}:${i}${e>0?(t-Math.floor(t)).toFixed(e).replace("0.","."):""}`}};t.exports=e},(t,e,r)=>{"use strict";const{createObjectURL:n,revokeObjectURL:i}=URL,s=r(6),o=r(10),a={},A={},u=Date.now();o.iterate(((t,e)=>{u-t.updated<1296e6||o.removeItem(e)}));const l={contentType:t=>t&&t.includes("/")?`.${t.split("/")[1].toUpperCase()}`:"",cachedResource:async(t,e)=>{const r=s(t);e&&e({key:r,total:1048576,loaded:1});let i=await async function(t){return a[t]||(a[t]=o.getItem(t)),await a[t]}(r);return i&&i.data?(i.url=n(i.data),i):(a[r]=async function(t,e=null){if(!t.startsWith("http"))return{url:t};const r=s(t);return A[r]||(A[r]=new Promise((function(r){const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const t=n.getResponseHeader("Content-Type");r({data:n.response,type:t})})),n.addEventListener("error",(e=>r({url:t}))),n.addEventListener("progress",(t=>{e&&e(t)})),n.open("get",t),n.responseType="blob",n.send()}))),A[r]}(t,(t=>{const{total:n,loaded:i}=t;e&&e({key:r,total:n,loaded:i})})),i=await a[r],i.data&&function(t,e){e&&e.data&&(e.updated=Date.now(),o.setItem(t,e),e.url=n(e.data))}(r,i),i)},forceCacheNode:async(t,e)=>await l.cacheNode(t,e,!0),cacheNode:async(t,e,r=!1)=>{const{type:n,src:i,path:s,url:o,fontFamily:a,font:A,preload:u}=t.conf;let c=i||s||o;if("text"===n&&a?.startsWith("http")&&(r||!1!==u)){const{url:r}=await l.cachedResource(a,e);t.cachedFontFamily=r}else if("richtext"===n&&A&&(r||!1!==u)){const r=Array.isArray(A)?A:[A];for(const n of r){n.format=t.fontFormat(n);const{url:r}=await l.cachedResource(n.src,e);n.cachedSrc=r}t.conf.font=r}else if(["image","gif"].includes(n)&&c&&(r||u)){const{url:r,type:n}=await l.cachedResource(c,e);if(t.conf.cachedSrc=r,t.conf.srcType=l.contentType(n),t.conf.motion?.src){const{url:r,type:n}=await l.cachedResource(t.conf.motion?.src,e);t.conf.motion.cachedSrc=r}}else if(["audio","speech","video"].includes(n)&&c&&(r||u)){const{url:r}=await l.cachedResource(c,e);t.conf.cachedSrc=r;const n=c.split("/");t.conf.srcFile=n[n.length-1]}}};t.exports=l},(t,e,r)=>{var n,i,s,o,a;n=r(7),i=r(8).utf8,s=r(9),o=r(8).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?o.stringToBytes(t):i.stringToBytes(t):s(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=n.bytesToWords(t),A=8*t.length,u=1732584193,l=-271733879,c=-1732584194,h=271733878,f=0;f<r.length;f++)r[f]=16711935&(r[f]<<8|r[f]>>>24)|4278255360&(r[f]<<24|r[f]>>>8);r[A>>>5]|=128<<A%32,r[14+(A+64>>>9<<4)]=A;var p=a._ff,d=a._gg,g=a._hh,m=a._ii;for(f=0;f<r.length;f+=16){var v=u,y=l,_=c,b=h;u=p(u,l,c,h,r[f+0],7,-680876936),h=p(h,u,l,c,r[f+1],12,-389564586),c=p(c,h,u,l,r[f+2],17,606105819),l=p(l,c,h,u,r[f+3],22,-1044525330),u=p(u,l,c,h,r[f+4],7,-176418897),h=p(h,u,l,c,r[f+5],12,1200080426),c=p(c,h,u,l,r[f+6],17,-1473231341),l=p(l,c,h,u,r[f+7],22,-45705983),u=p(u,l,c,h,r[f+8],7,1770035416),h=p(h,u,l,c,r[f+9],12,-1958414417),c=p(c,h,u,l,r[f+10],17,-42063),l=p(l,c,h,u,r[f+11],22,-1990404162),u=p(u,l,c,h,r[f+12],7,1804603682),h=p(h,u,l,c,r[f+13],12,-40341101),c=p(c,h,u,l,r[f+14],17,-1502002290),u=d(u,l=p(l,c,h,u,r[f+15],22,1236535329),c,h,r[f+1],5,-165796510),h=d(h,u,l,c,r[f+6],9,-1069501632),c=d(c,h,u,l,r[f+11],14,643717713),l=d(l,c,h,u,r[f+0],20,-373897302),u=d(u,l,c,h,r[f+5],5,-701558691),h=d(h,u,l,c,r[f+10],9,38016083),c=d(c,h,u,l,r[f+15],14,-660478335),l=d(l,c,h,u,r[f+4],20,-405537848),u=d(u,l,c,h,r[f+9],5,568446438),h=d(h,u,l,c,r[f+14],9,-1019803690),c=d(c,h,u,l,r[f+3],14,-187363961),l=d(l,c,h,u,r[f+8],20,1163531501),u=d(u,l,c,h,r[f+13],5,-1444681467),h=d(h,u,l,c,r[f+2],9,-51403784),c=d(c,h,u,l,r[f+7],14,1735328473),u=g(u,l=d(l,c,h,u,r[f+12],20,-1926607734),c,h,r[f+5],4,-378558),h=g(h,u,l,c,r[f+8],11,-2022574463),c=g(c,h,u,l,r[f+11],16,1839030562),l=g(l,c,h,u,r[f+14],23,-35309556),u=g(u,l,c,h,r[f+1],4,-1530992060),h=g(h,u,l,c,r[f+4],11,1272893353),c=g(c,h,u,l,r[f+7],16,-155497632),l=g(l,c,h,u,r[f+10],23,-1094730640),u=g(u,l,c,h,r[f+13],4,681279174),h=g(h,u,l,c,r[f+0],11,-358537222),c=g(c,h,u,l,r[f+3],16,-722521979),l=g(l,c,h,u,r[f+6],23,76029189),u=g(u,l,c,h,r[f+9],4,-640364487),h=g(h,u,l,c,r[f+12],11,-421815835),c=g(c,h,u,l,r[f+15],16,530742520),u=m(u,l=g(l,c,h,u,r[f+2],23,-995338651),c,h,r[f+0],6,-198630844),h=m(h,u,l,c,r[f+7],10,1126891415),c=m(c,h,u,l,r[f+14],15,-1416354905),l=m(l,c,h,u,r[f+5],21,-57434055),u=m(u,l,c,h,r[f+12],6,1700485571),h=m(h,u,l,c,r[f+3],10,-1894986606),c=m(c,h,u,l,r[f+10],15,-1051523),l=m(l,c,h,u,r[f+1],21,-2054922799),u=m(u,l,c,h,r[f+8],6,1873313359),h=m(h,u,l,c,r[f+15],10,-30611744),c=m(c,h,u,l,r[f+6],15,-1560198380),l=m(l,c,h,u,r[f+13],21,1309151649),u=m(u,l,c,h,r[f+4],6,-145523070),h=m(h,u,l,c,r[f+11],10,-1120210379),c=m(c,h,u,l,r[f+2],15,718787259),l=m(l,c,h,u,r[f+9],21,-343485551),u=u+v>>>0,l=l+y>>>0,c=c+_>>>0,h=h+b>>>0}return n.endian([u,l,c,h])})._ff=function(t,e,r,n,i,s,o){var a=t+(e&r|~e&n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._gg=function(t,e,r,n,i,s,o){var a=t+(e&n|r&~n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._hh=function(t,e,r,n,i,s,o){var a=t+(e^r^n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._ii=function(t,e,r,n,i,s,o){var a=t+(r^(e|~n))+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(a(t,e));return e&&e.asBytes?r:e&&e.asString?o.bytesToString(r):n.bytesToHex(r)}},t=>{var e,r;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],s=0;s<4;s++)8*n+6*s<=8*t.length?r.push(e.charAt(i>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}},t.exports=r},t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},(t,e,r)=>{t.exports=function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){if(s)return s(o,!0);var A=new Error("Cannot find module '"+o+"'");throw A.code="MODULE_NOT_FOUND",A}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(t){return i(e[o][1][t]||t)}),u,u.exports,t,e,r,n)}return r[o].exports}for(var s=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,n){(function(t){"use strict";var r,n,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var s=0,o=new i(l),a=t.document.createTextNode("");o.observe(a,{characterData:!0}),r=function(){a.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var A=new t.MessageChannel;A.port1.onmessage=l,r=function(){A.port2.postMessage(0)}}var u=[];function l(){var t,e;n=!0;for(var r=u.length;r;){for(e=u,u=[],t=-1;++t<r;)e[t]();r=u.length}n=!1}e.exports=function(t){1!==u.push(t)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function i(){}var s={},o=["REJECTED"],a=["FULFILLED"],A=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,t!==i&&f(this,t)}function l(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(t,e,r){n((function(){var n;try{n=e(r)}catch(e){return s.reject(t,e)}n===t?s.reject(t,new TypeError("Cannot resolve promise with itself")):s.resolve(t,n)}))}function h(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var r=!1;function n(e){r||(r=!0,s.reject(t,e))}function i(e){r||(r=!0,s.resolve(t,e))}var o=p((function(){e(i,n)}));"error"===o.status&&n(o.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}e.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===o)return this;var r=new this.constructor(i);return this.state!==A?c(r,this.state===a?t:e,this.outcome):this.queue.push(new l(r,t,e)),r},l.prototype.callFulfilled=function(t){s.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){s.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},s.resolve=function(t,e){var r=p(h,e);if("error"===r.status)return s.reject(t,r.value);var n=r.value;if(n)f(t,n);else{t.state=a,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},s.reject=function(t,e){t.state=o,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:s.resolve(new this(i),t)},u.reject=function(t){var e=new this(i);return s.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),a=0,A=-1,u=new this(i);++A<r;)l(t[A],A);return u;function l(t,i){e.resolve(t).then((function(t){o[i]=t,++a!==r||n||(n=!0,s.resolve(u,o))}),(function(t){n||(n=!0,s.reject(u,t))}))}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r,n=t.length,o=!1;if(!n)return this.resolve([]);for(var a=-1,A=new this(i);++a<n;)r=t[a],e.resolve(r).then((function(t){o||(o=!0,s.resolve(A,t))}),(function(t){o||(o=!0,s.reject(A,t))}));return A}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function s(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var o=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function A(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function u(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var c="local-forage-detect-blob-support",h=void 0,f={},p=Object.prototype.toString,d="readonly",g="readwrite";function m(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=0;i<e;i++)n[i]=t.charCodeAt(i);return r}function v(t){return"boolean"==typeof h?o.resolve(h):function(t){return new o((function(e){var r=t.transaction(c,g),n=s([""]);r.objectStore(c).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return h=t}))}function y(t){var e=f[t.name],r={};r.promise=new o((function(t,e){r.resolve=t,r.reject=e})),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then((function(){return r.promise})):e.dbReady=r.promise}function _(t){var e=f[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function b(t,e){var r=f[t.name].deferredOperations.pop();if(r)return r.reject(e),r.promise}function w(t,e){return new o((function(r,n){if(f[t.name]=f[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);y(t),t.db.close()}var s=[t.name];e&&s.push(t.version);var o=i.open.apply(i,s);e&&(o.onupgradeneeded=function(e){var r=o.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(c)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),o.onerror=function(t){t.preventDefault(),n(o.error)},o.onsuccess=function(){var e=o.result;e.onversionchange=function(t){t.target.close()},r(e),_(t)}}))}function B(t){return w(t,!1)}function x(t){return w(t,!0)}function E(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,i=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||r){if(r){var s=t.db.version+1;s>t.version&&(t.version=s)}return!0}return!1}function C(t){return s([m(atob(t.data))],{type:t.type})}function T(t){return t&&t.__local_forage_encoded_blob}function I(t){var e=this,r=e._initReady().then((function(){var t=f[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return A(r,t,t),r}function F(t,e,r,n){void 0===n&&(n=1);try{var i=t.db.transaction(t.storeName,e);r(null,i)}catch(i){if(n>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return o.resolve().then((function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),x(t)})).then((function(){return function(t){y(t);for(var e=f[t.name],r=e.forages,n=0;n<r.length;n++){var i=r[n];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,B(t).then((function(e){return t.db=e,E(t)?x(t):e})).then((function(n){t.db=e.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n})).catch((function(e){throw b(t,e),e}))}(t).then((function(){F(t,e,r,n-1)}))})).catch(r);r(i)}}var S={_driver:"asyncStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var i=f[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},f[r.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=I);var s=[];function a(){return o.resolve()}for(var A=0;A<i.forages.length;A++){var u=i.forages[A];u!==e&&s.push(u._initReady().catch(a))}var l=i.forages.slice(0);return o.all(s).then((function(){return r.db=i.db,B(r)})).then((function(t){return r.db=t,E(r,e._defaultConfig.version)?x(r):t})).then((function(t){r.db=i.db=t,e._dbInfo=r;for(var n=0;n<l.length;n++){var s=l[n];s!==e&&(s._dbInfo.db=r.db,s._dbInfo.version=r.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=new o((function(e,n){r.ready().then((function(){F(r._dbInfo,d,(function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName).openCursor(),a=1;o.onsuccess=function(){var r=o.result;if(r){var n=r.value;T(n)&&(n=C(n));var i=t(n,r.key,a++);void 0!==i?e(i):r.continue()}else e()},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},getItem:function(t,e){var r=this;t=u(t);var n=new o((function(e,n){r.ready().then((function(){F(r._dbInfo,d,(function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName).get(t);o.onsuccess=function(){var t=o.result;void 0===t&&(t=null),T(t)&&(t=C(t)),e(t)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},setItem:function(t,e,r){var n=this;t=u(t);var i=new o((function(r,i){var s;n.ready().then((function(){return s=n._dbInfo,"[object Blob]"===p.call(e)?v(s.db).then((function(t){return t?e:(r=e,new o((function(t,e){var n=new FileReader;n.onerror=e,n.onloadend=function(e){var n=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):e})).then((function(e){F(n._dbInfo,g,(function(s,o){if(s)return i(s);try{var a=o.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var A=a.put(e,t);o.oncomplete=function(){void 0===e&&(e=null),r(e)},o.onabort=o.onerror=function(){var t=A.error?A.error:A.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return a(i,r),i},removeItem:function(t,e){var r=this;t=u(t);var n=new o((function(e,n){r.ready().then((function(){F(r._dbInfo,g,(function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName).delete(t);s.oncomplete=function(){e()},s.onerror=function(){n(o.error)},s.onabort=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},clear:function(t){var e=this,r=new o((function(t,r){e.ready().then((function(){F(e._dbInfo,g,(function(n,i){if(n)return r(n);try{var s=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=s.error?s.error:s.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return a(r,t),r},length:function(t){var e=this,r=new o((function(t,r){e.ready().then((function(){F(e._dbInfo,d,(function(n,i){if(n)return r(n);try{var s=i.objectStore(e._dbInfo.storeName).count();s.onsuccess=function(){t(s.result)},s.onerror=function(){r(s.error)}}catch(t){r(t)}}))})).catch(r)}));return a(r,t),r},key:function(t,e){var r=this,n=new o((function(e,n){t<0?e(null):r.ready().then((function(){F(r._dbInfo,d,(function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName),a=!1,A=o.openKeyCursor();A.onsuccess=function(){var r=A.result;r?0===t||a?e(r.key):(a=!0,r.advance(t)):e(null)},A.onerror=function(){n(A.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},keys:function(t){var e=this,r=new o((function(t,r){e.ready().then((function(){F(e._dbInfo,d,(function(n,i){if(n)return r(n);try{var s=i.objectStore(e._dbInfo.storeName).openKeyCursor(),o=[];s.onsuccess=function(){var e=s.result;e?(o.push(e.key),e.continue()):t(o)},s.onerror=function(){r(s.error)}}catch(t){r(t)}}))})).catch(r)}));return a(r,t),r},dropInstance:function(t,e){e=l.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,s=this;if(t.name){var A=t.name===r.name&&s._dbInfo.db?o.resolve(s._dbInfo.db):B(t).then((function(e){var r=f[t.name],n=r.forages;r.db=e;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=e;return e}));n=t.storeName?A.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;y(t);var n=f[t.name],s=n.forages;e.close();for(var a=0;a<s.length;a++){var A=s[a];A._dbInfo.db=null,A._dbInfo.version=r}var u=new o((function(e,n){var s=i.open(t.name,r);s.onerror=function(t){s.result.close(),n(t)},s.onupgradeneeded=function(){s.result.deleteObjectStore(t.storeName)},s.onsuccess=function(){var t=s.result;t.close(),e(t)}}));return u.then((function(t){n.db=t;for(var e=0;e<s.length;e++){var r=s[e];r._dbInfo.db=t,_(r._dbInfo)}})).catch((function(e){throw(b(t,e)||o.resolve()).catch((function(){})),e}))}})):A.then((function(e){y(t);var r=f[t.name],n=r.forages;e.close();for(var s=0;s<n.length;s++)n[s]._dbInfo.db=null;var a=new o((function(e,r){var n=i.deleteDatabase(t.name);n.onerror=function(){var t=n.result;t&&t.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}}));return a.then((function(t){r.db=t;for(var e=0;e<n.length;e++)_(n[e]._dbInfo)})).catch((function(e){throw(b(t,e)||o.resolve()).catch((function(){})),e}))}))}else n=o.reject("Invalid arguments");return a(n,e),n}};var U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=/^~~local_forage_type~([^~]+)~/,O="__lfsc__:",P=O.length,R="arbf",L="blob",D="si08",Q="ui08",N="uic8",k="si16",H="si32",j="ur16",V="ui32",G="fl32",K="fl64",W=P+R.length,z=Object.prototype.toString;function X(t){var e,r,n,i,s,o=.75*t.length,a=t.length,A=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var u=new ArrayBuffer(o),l=new Uint8Array(u);for(e=0;e<a;e+=4)r=U.indexOf(t[e]),n=U.indexOf(t[e+1]),i=U.indexOf(t[e+2]),s=U.indexOf(t[e+3]),l[A++]=r<<2|n>>4,l[A++]=(15&n)<<4|i>>2,l[A++]=(3&i)<<6|63&s;return u}function Y(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=U[r[e]>>2],n+=U[(3&r[e])<<4|r[e+1]>>4],n+=U[(15&r[e+1])<<2|r[e+2]>>6],n+=U[63&r[e+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var q={serialize:function(t,e){var r="";if(t&&(r=z.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===z.call(t.buffer))){var n,i=O;t instanceof ArrayBuffer?(n=t,i+=R):(n=t.buffer,"[object Int8Array]"===r?i+=D:"[object Uint8Array]"===r?i+=Q:"[object Uint8ClampedArray]"===r?i+=N:"[object Int16Array]"===r?i+=k:"[object Uint16Array]"===r?i+=j:"[object Int32Array]"===r?i+=H:"[object Uint32Array]"===r?i+=V:"[object Float32Array]"===r?i+=G:"[object Float64Array]"===r?i+=K:e(new Error("Failed to get type for BinaryArray"))),e(i+Y(n))}else if("[object Blob]"===r){var s=new FileReader;s.onload=function(){var r="~~local_forage_type~"+t.type+"~"+Y(this.result);e("__lfsc__:blob"+r)},s.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t),e(null,r)}},deserialize:function(t){if(t.substring(0,P)!==O)return JSON.parse(t);var e,r=t.substring(W),n=t.substring(P,W);if(n===L&&M.test(r)){var i=r.match(M);e=i[1],r=r.substring(i[0].length)}var o=X(r);switch(n){case R:return o;case L:return s([o],{type:e});case D:return new Int8Array(o);case Q:return new Uint8Array(o);case N:return new Uint8ClampedArray(o);case k:return new Int16Array(o);case j:return new Uint16Array(o);case H:return new Int32Array(o);case V:return new Uint32Array(o);case G:return new Float32Array(o);case K:return new Float64Array(o);default:throw new Error("Unkown type: "+n)}},stringToBuffer:X,bufferToString:Y};function $(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function J(t,e,r,n,i,s){t.executeSql(r,n,i,(function(t,o){o.code===o.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?s(t,o):$(t,e,(function(){t.executeSql(r,n,i,s)}),s)}),s):s(t,o)}),s)}function Z(t,e,r,n){var i=this;t=u(t);var s=new o((function(s,o){i.ready().then((function(){void 0===e&&(e=null);var a=e,A=i._dbInfo;A.serializer.serialize(e,(function(e,u){u?o(u):A.db.transaction((function(r){J(r,A,"INSERT OR REPLACE INTO "+A.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){s(a)}),(function(t,e){o(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void s(Z.apply(i,[t,a,r,n-1]));o(e)}}))}))})).catch(o)}));return a(s,r),s}function tt(t){return new o((function(e,r){t.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var i=[],s=0;s<n.rows.length;s++)i.push(n.rows.item(s).name);e({db:t,storeNames:i})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!=typeof t[n]?t[n].toString():t[n];var i=new o((function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return n(t)}r.db.transaction((function(i){$(i,r,(function(){e._dbInfo=r,t()}),(function(t,e){n(e)}))}),n)}));return r.serializer=q,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var r=this,n=new o((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){J(r,i,"SELECT * FROM "+i.storeName,[],(function(r,n){for(var s=n.rows,o=s.length,a=0;a<o;a++){var A=s.item(a),u=A.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=t(u,A.key,a+1)))return void e(u)}e()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},getItem:function(t,e){var r=this;t=u(t);var n=new o((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){J(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=i.serializer.deserialize(n)),e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},setItem:function(t,e,r){return Z.apply(this,[t,e,r,1])},removeItem:function(t,e){var r=this;t=u(t);var n=new o((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){J(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},clear:function(t){var e=this,r=new o((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){J(e,n,"DELETE FROM "+n.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,t),r},length:function(t){var e=this,r=new o((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){J(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(e,r){var n=r.rows.item(0).c;t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,t),r},key:function(t,e){var r=this,n=new o((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){J(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},keys:function(t){var e=this,r=new o((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){J(e,n,"SELECT key FROM "+n.storeName,[],(function(e,r){for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i).key);t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,t),r},dropInstance:function(t,e){e=l.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,i=this;return a(n=t.name?new o((function(e){var n;n=t.name===r.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(tt(n))})).then((function(t){return new o((function(e,r){t.db.transaction((function(n){function i(t){return new o((function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}for(var s=[],a=0,A=t.storeNames.length;a<A;a++)s.push(i(t.storeNames[a]));o.all(s).then((function(){e()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):o.reject("Invalid arguments"),e),n}};function rt(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function nt(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var it={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=rt(t,this._defaultConfig),nt()?(this._dbInfo=e,e.serializer=q,o.resolve()):o.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=r.ready().then((function(){for(var e=r._dbInfo,n=e.keyPrefix,i=n.length,s=localStorage.length,o=1,a=0;a<s;a++){var A=localStorage.key(a);if(0===A.indexOf(n)){var u=localStorage.getItem(A);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,A.substring(i),o++)))return u}}}));return a(n,e),n},getItem:function(t,e){var r=this;t=u(t);var n=r.ready().then((function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n}));return a(n,e),n},setItem:function(t,e,r){var n=this;t=u(t);var i=n.ready().then((function(){void 0===e&&(e=null);var r=e;return new o((function(i,s){var o=n._dbInfo;o.serializer.serialize(e,(function(e,n){if(n)s(n);else try{localStorage.setItem(o.keyPrefix+t,e),i(r)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||s(t),s(t)}}))}))}));return a(i,r),i},removeItem:function(t,e){var r=this;t=u(t);var n=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return a(n,e),n},clear:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}}));return a(r,t),r},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var r=this,n=r.ready().then((function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e}));return a(n,e),n},keys:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo,r=localStorage.length,n=[],i=0;i<r;i++){var s=localStorage.key(i);0===s.indexOf(t.keyPrefix)&&n.push(s.substring(t.keyPrefix.length))}return n}));return a(r,t),r},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,i=this;return n=t.name?new o((function(e){t.storeName?e(rt(t,i._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}})):o.reject("Invalid arguments"),a(n,e),n}},st=function(t,e){for(var r=t.length,n=0;n<r;){if((i=t[n])===(s=e)||"number"==typeof i&&"number"==typeof s&&isNaN(i)&&isNaN(s))return!0;n++}var i,s;return!1},ot=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},At={},ut={INDEXEDDB:S,WEBSQL:et,LOCALSTORAGE:it},lt=[ut.INDEXEDDB._driver,ut.WEBSQL._driver,ut.LOCALSTORAGE._driver],ct=["dropInstance"],ht=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ct),ft={description:"",driver:lt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pt(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(ot(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var gt=function(){function t(e){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ut)if(ut.hasOwnProperty(r)){var n=ut[r],i=n._driver;this[r]=i,at[i]||this.defineDriver(n)}this._defaultConfig=dt({},ft),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var n=new o((function(e,r){try{var n=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(i);for(var s=ht.concat("_initStorage"),A=0,u=s.length;A<u;A++){var l=s[A];if((!st(ct,l)||t[l])&&"function"!=typeof t[l])return void r(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=o.reject(e);return a(r,arguments[arguments.length-1]),r}},r=0,n=ct.length;r<n;r++){var i=ct[r];t[i]||(t[i]=e(i))}}();var c=function(r){at[n]&&console.info("Redefining LocalForage driver: "+n),at[n]=t,At[n]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(c,r):c(!!t._support):c(!0)}catch(t){r(t)}}));return A(n,e,r),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,r){var n=at[t]?o.resolve(at[t]):o.reject(new Error("Driver not found."));return A(n,e,r),n},t.prototype.getSerializer=function(t){var e=o.resolve(q);return A(e,t),e},t.prototype.ready=function(t){var e=this,r=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return A(r,t,t),r},t.prototype.setDriver=function(t,e,r){var n=this;ot(t)||(t=[t]);var i=this._getSupportedDrivers(t);function s(){n._config.driver=n.driver()}function a(t){return n._extend(t),s(),n._ready=n._initStorage(n._config),n._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return o.resolve()})):o.resolve();return this._driverSet=u.then((function(){var t=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then((function(t){n._driver=t._driver,s(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(t){return function(){var e=0;return function r(){for(;e<t.length;){var i=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(i).then(a).catch(r)}s();var A=new Error("No available storage method found.");return n._driverSet=o.reject(A),n._driverSet}()}}(i)}))})).catch((function(){s();var t=new Error("No available storage method found.");return n._driverSet=o.reject(t),n._driverSet})),A(this._driverSet,e,r),this._driverSet},t.prototype.supports=function(t){return!!At[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ht.length;t<e;t++)pt(this,ht[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),mt=new gt;e.exports=mt},{3:3}]},{},[4])(4)},t=>{"use strict";const e={innerSize:t=>{const e=window.getComputedStyle(t),r=parseInt(e.paddingTop)+parseInt(e.paddingBottom),n=parseInt(e.paddingLeft)+parseInt(e.paddingRight);return{width:t.clientWidth-n,height:t.clientHeight-r}}};t.exports=e},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(14),s=r(233),o=r(344),a=r(492),A=r(555),u=r(569),l=r(571),c=r(572),h=r(574),f=r(575),p=r(578),d=r(583),g=r(584),m=r(585),v=r(591),y=r(579),_=r(317),b=r(599),w=r(600),B=r(346),x=r(601),E={canvas:s,spine:o,trans:a,scene:d,node:A,text:c,richtext:h,image:f,lottie:m,video:p,audio:_,speech:b,gif:y,graph:u,cover:l,filter:v},C={debug:!1,cacheNode:null,parseAttribute(t,e){const{type:r,children:n,...i}=t;for(let t of n)i[t.type]=this.parseAttribute(t,i[t.type]);return e&&Array.isArray(e)&&e.length>0?(e.push(i),e):e?[e,i]:i},fromJson(t,e,r,i){const{type:s,children:o=[],...a}=t;"canvas"==s&&(a.canvasWidth=a.width,a.canvasHeight=a.height),this.debug&&"canvas"==s&&(a.log=!0);for(let t of o)E[t.type]||(a[t.type]=this.parseAttribute(t,a[t.type]));i&&(a.parent=i);const A=new E[s](a);if(n||A.active||o.length){for(let t of o)E[t.type]&&(t.canvasWidth=a.canvasWidth,t.canvasHeight=a.canvasHeight,this.fromJson(t,e,r,A));return this.cacheNode&&e.push(this.cacheNode(A,r)),A}},genNode(t,e,r){const n=[];return{node:this.fromJson({...t,...e},n,r),cache:Promise.all(n)}},fromXml(t,e,n){const{parseXml:i}=r(592),s=i(t);this.debug&&console.log("parser xml -> json",s);const{name:o,author:a,description:A}=s,u={...s.children[0],name:o,author:a,description:A};return this.genNode(u,e,n)},from(t,e,r=null){if("string"==typeof t&&t.includes("<miraml"))return this.fromXml(t,e,r);if("string"==typeof t&&t.trim().startsWith("{")&&(t=JSON.parse(t)),t instanceof Object&&"canvas"===t.type)return this.genNode(t,e,r);throw new Error("invalid value")}};t.exports={InkPaint:i,TYPES:E,Factory:C,FFCreator:s,FFSpine:o,FFNode:A,FFGraphic:u,FFFilter:v,FFRichText:h,FFText:c,FFImage:f,FFVideo:p,FFScene:d,FFAudio:_,FFLottie:m,FFExtras:g,FFGifImage:y,FFCover:l,FFTween:w,FFTransition:a,FFLogger:B,FFCreatorCenter:x}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="undefined"!=typeof window&&void 0!==window.document,i="object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,s="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;e.isBrowser=n,e.isWebWorker=i,e.isNode=s,e.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={settings:!0,utils:!0,ticker:!0,Ticker:!0,CanvasRenderer:!0,WebGLRenderer:!0,Bounds:!0,ProxyObj:!0,DisplayObject:!0,Container:!0,Transform:!0,TransformStatic:!0,Sprite:!0,AnimatedSprite:!0,CanvasSpriteRenderer:!0,CanvasTinter:!0,SpriteRenderer:!0,Text:!0,TextStyle:!0,TextMetrics:!0,Graphics:!0,GraphicsRenderer:!0,Texture:!0,TextureMatrix:!0,BaseTexture:!0,Shader:!0,Spritesheet:!0,WebGLManager:!0,ObjectRenderer:!0,Quad:!0,SpriteMaskFilter:!0,Filter:!0,RenderTexture:!0,BaseRenderTexture:!0,Rectangle:!0,Application:!0,filters:!0,loader:!0,Loader:!0,Resource:!0,gl:!0,Canvas:!0,Context2d:!0,CanvasRenderingContext2D:!0,CanvasGradient:!0,CanvasPattern:!0,Image:!0,ImageData:!0,PNGStream:!0,PDFStream:!0,JPEGStream:!0,DOMMatrix:!0,DOMPoint:!0,registerFont:!0,deregisterAllFonts:!0,parseFont:!0,createCanvas:!0,createImageData:!0,loadImage:!0,TextureCache:!0,BaseTextureCache:!0,addToTextureCache:!0,removeFromTextureCache:!0,removeFromBaseTextureCache:!0,addToBaseTextureCache:!0,destroyAllTextureCache:!0,deleteAllTextureCache:!0,destroyAndCleanAllCache:!0};Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return i.AnimatedSprite}}),Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return i.Application}}),Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return i.BaseRenderTexture}}),Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return i.BaseTexture}}),Object.defineProperty(e,"BaseTextureCache",{enumerable:!0,get:function(){return l.BaseTextureCache}}),Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return i.Bounds}}),Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return a.Canvas}}),Object.defineProperty(e,"CanvasGradient",{enumerable:!0,get:function(){return a.CanvasGradient}}),Object.defineProperty(e,"CanvasPattern",{enumerable:!0,get:function(){return a.CanvasPattern}}),Object.defineProperty(e,"CanvasRenderer",{enumerable:!0,get:function(){return i.CanvasRenderer}}),Object.defineProperty(e,"CanvasRenderingContext2D",{enumerable:!0,get:function(){return a.CanvasRenderingContext2D}}),Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i.CanvasSpriteRenderer}}),Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return i.CanvasTinter}}),Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return i.Container}}),Object.defineProperty(e,"Context2d",{enumerable:!0,get:function(){return a.Context2d}}),Object.defineProperty(e,"DOMMatrix",{enumerable:!0,get:function(){return a.DOMMatrix}}),Object.defineProperty(e,"DOMPoint",{enumerable:!0,get:function(){return a.DOMPoint}}),Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return i.DisplayObject}}),Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return i.Filter}}),Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return i.Graphics}}),Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return i.GraphicsRenderer}}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return a.Image}}),Object.defineProperty(e,"ImageData",{enumerable:!0,get:function(){return a.ImageData}}),Object.defineProperty(e,"JPEGStream",{enumerable:!0,get:function(){return a.JPEGStream}}),Object.defineProperty(e,"Loader",{enumerable:!0,get:function(){return o.Loader}}),Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return i.ObjectRenderer}}),Object.defineProperty(e,"PDFStream",{enumerable:!0,get:function(){return a.PDFStream}}),Object.defineProperty(e,"PNGStream",{enumerable:!0,get:function(){return a.PNGStream}}),Object.defineProperty(e,"ProxyObj",{enumerable:!0,get:function(){return i.ProxyObj}}),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return i.Quad}}),Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return i.Rectangle}}),Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return i.RenderTexture}}),Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return o.Resource}}),Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return i.Shader}}),Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return i.Sprite}}),Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return i.SpriteMaskFilter}}),Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return i.SpriteRenderer}}),Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return i.Spritesheet}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i.Text}}),Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return i.TextMetrics}}),Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return i.TextStyle}}),Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return i.Texture}}),Object.defineProperty(e,"TextureCache",{enumerable:!0,get:function(){return l.TextureCache}}),Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return i.TextureMatrix}}),Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return i.Ticker}}),Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return i.Transform}}),Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return i.TransformStatic}}),Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return i.WebGLManager}}),Object.defineProperty(e,"WebGLRenderer",{enumerable:!0,get:function(){return i.WebGLRenderer}}),Object.defineProperty(e,"addToBaseTextureCache",{enumerable:!0,get:function(){return l.addToBaseTextureCache}}),Object.defineProperty(e,"addToTextureCache",{enumerable:!0,get:function(){return l.addToTextureCache}}),Object.defineProperty(e,"createCanvas",{enumerable:!0,get:function(){return a.createCanvas}}),Object.defineProperty(e,"createImageData",{enumerable:!0,get:function(){return a.createImageData}}),Object.defineProperty(e,"deleteAllTextureCache",{enumerable:!0,get:function(){return l.deleteAllTextureCache}}),Object.defineProperty(e,"deregisterAllFonts",{enumerable:!0,get:function(){return a.deregisterAllFonts}}),Object.defineProperty(e,"destroyAllTextureCache",{enumerable:!0,get:function(){return l.destroyAllTextureCache}}),Object.defineProperty(e,"destroyAndCleanAllCache",{enumerable:!0,get:function(){return l.destroyAndCleanAllCache}}),e.filters=void 0,Object.defineProperty(e,"gl",{enumerable:!0,get:function(){return a.gl}}),Object.defineProperty(e,"loadImage",{enumerable:!0,get:function(){return a.loadImage}}),Object.defineProperty(e,"loader",{enumerable:!0,get:function(){return o.loader}}),Object.defineProperty(e,"parseFont",{enumerable:!0,get:function(){return a.parseFont}}),Object.defineProperty(e,"registerFont",{enumerable:!0,get:function(){return a.registerFont}}),Object.defineProperty(e,"removeFromBaseTextureCache",{enumerable:!0,get:function(){return l.removeFromBaseTextureCache}}),Object.defineProperty(e,"removeFromTextureCache",{enumerable:!0,get:function(){return l.removeFromTextureCache}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return i.settings}}),Object.defineProperty(e,"ticker",{enumerable:!0,get:function(){return i.ticker}}),Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return i.utils}}),r(15);var i=r(16),s=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(188));e.filters=s;var o=r(191),a=r(44),A=r(17);Object.keys(A).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===A[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return A[t]}}))}));var u=r(18);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var l=r(134);function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}i.utils.mixins.performMixins(),r.g.InkPaint=e},(t,e,r)=>{"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!r.g.performance||!r.g.performance.now){var n=Date.now();r.g.performance||(r.g.performance={}),r.g.performance.now=()=>Date.now()-n}for(var i=Date.now(),s=["ms","moz","webkit","o"],o=0;o<s.length&&!r.g.requestAnimationFrame;++o){var a=s[o];r.g.requestAnimationFrame=r.g[a+"RequestAnimationFrame"],r.g.cancelAnimationFrame=r.g[a+"CancelAnimationFrame"]||r.g[a+"CancelRequestAnimationFrame"]}r.g.requestAnimationFrame||(r.g.requestAnimationFrame=t=>{if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+i-e;return r<0&&(r=0),i=e,setTimeout((()=>{i=Date.now(),t(performance.now())}),r)}),r.g.cancelAnimationFrame||(r.g.cancelAnimationFrame=t=>clearTimeout(t))},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={utils:!0,settings:!0,ticker:!0,Ticker:!0,CanvasRenderer:!0,WebGLRenderer:!0,glCore:!0,Bounds:!0,ProxyObj:!0,DisplayObject:!0,Container:!0,Transform:!0,TransformStatic:!0,TransformBase:!0,Sprite:!0,AnimatedSprite:!0,CanvasSpriteRenderer:!0,CanvasTinter:!0,SpriteRenderer:!0,Text:!0,TextStyle:!0,TextMetrics:!0,Graphics:!0,GraphicsData:!0,GraphicsRenderer:!0,CanvasGraphicsRenderer:!0,Texture:!0,TextureMatrix:!0,BaseTexture:!0,RenderTexture:!0,BaseRenderTexture:!0,TextureUvs:!0,Shader:!0,Spritesheet:!0,WebGLManager:!0,ObjectRenderer:!0,RenderTarget:!0,Quad:!0,SpriteMaskFilter:!0,Filter:!0,Application:!0};Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"CanvasRenderer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"ProxyObj",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return A.Ticker}}),Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"WebGLRenderer",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"ticker",{enumerable:!0,get:function(){return A.shared}}),e.utils=void 0;var i=r(17);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var s=r(18);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var o=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=z(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(28));e.utils=o;var a=W(r(34)),A=r(36),u=W(r(39)),l=W(r(140)),c=W(r(102)),h=W(r(95)),f=W(r(158)),p=W(r(94)),d=W(r(93)),g=W(r(96)),m=W(r(98)),v=W(r(97)),y=W(r(159)),_=W(r(160)),b=W(r(162)),w=W(r(163)),B=W(r(164)),x=W(r(168)),E=W(r(169)),C=W(r(170)),T=W(r(173)),I=W(r(174)),F=W(r(176)),S=W(r(184)),U=W(r(135)),M=W(r(129)),O=W(r(132)),P=W(r(130)),R=W(r(131)),L=W(r(136)),D=W(r(149)),Q=W(r(185)),N=W(r(142)),k=W(r(151)),H=W(r(146)),j=W(r(147)),V=W(r(143)),G=W(r(100)),K=W(r(186));function W(t){return t&&t.__esModule?t:{default:t}}function z(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(z=function(t){return t?r:e})(t)}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WRAP_MODES=e.URL_FILE_EXTENSION=e.UPDATE_PRIORITY=e.TRANSFORM_MODE=e.TEXT_GRADIENT=e.SVG_SIZE=e.SHAPES=e.SCALE_MODES=e.RENDERER_TYPE=e.RAD_TO_DEG=e.PRECISION=e.PI_2=e.GC_MODES=e.DRAW_MODES=e.DEG_TO_RAD=e.DATA_URI=e.BLEND_MODES=void 0;var r=2*Math.PI;e.PI_2=r;var n=180/Math.PI;e.RAD_TO_DEG=n;var i=Math.PI/180;e.DEG_TO_RAD=i,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return c.default}});var n=h(r(19)),i=h(r(20)),s=h(r(21)),o=h(r(22)),a=h(r(23)),A=h(r(25)),u=h(r(26)),l=h(r(24)),c=h(r(27));function h(t){return t&&t.__esModule?t:{default:t}}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}clone(){return new r(this.x,this.y)}copy(t){this.set(t.x,t.y)}equals(t){return t.x===this.x&&t.y===this.y}set(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}dot(t){this.x=this.x*t.x,this.x=this.y*t.y}}e.default=r},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=t,this.scope=e}clone(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=t||this.cb,i=e||this.scope;return new r(n,i,this._x,this._y)}set(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))}copy(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}dot(t){this.x=this.x*t.x,this.x=this.y*t.y}}e.default=r},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(19))&&n.__esModule?n:{default:n},s=r(17);class o{constructor(t,e,r,n,i,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===s&&(s=0),this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=s,this.array=null}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,r,n,i,s){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=s,this}toArray(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,e){e=e||new i.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e}applyInverse(t,e){e=e||new i.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*r*n+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*s+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,s=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this}append(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this}setTransform(t,e,r,n,i,s,o,a,A){return this.a=Math.cos(o+A)*i,this.b=Math.sin(o+A)*i,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this}prepend(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,e),A=Math.abs(o+a);return A<1e-5||Math.abs(s.PI_2-A)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t}invert(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,s=t*n-e*r;return this.a=n/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-n*i)/s,this.ty=-(t*this.ty-e*i)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){var t=new o;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copy(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}static get IDENTITY(){return new o}static get TEMP_MATRIX(){return new o}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(21))&&n.__esModule?n:{default:n},s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],o=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],A=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],l=[];function c(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];l.push(e);for(var r=0;r<16;r++)for(var n=c(s[t]*s[r]+a[t]*o[r]),h=c(o[t]*s[r]+A[t]*o[r]),f=c(s[t]*a[r]+a[t]*A[r]),p=c(o[t]*a[r]+A[t]*A[r]),d=0;d<16;d++)if(s[d]===n&&o[d]===h&&a[d]===f&&A[d]===p){e.push(d);break}}for(var g=0;g<16;g++){var m=new i.default;m.set(s[g],o[g],a[g],A[g],0,0),u.push(m)}}();var h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:t=>s[t],uY:t=>o[t],vX:t=>a[t],vY:t=>A[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>l[t][e],sub:(t,e)=>l[t][h.inv(e)],rotate180:t=>4^t,isVertical:t=>2==(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?e>=0?h.S:h.N:2*Math.abs(e)<=Math.abs(t)?t>0?h.E:h.W:e>0?t>0?h.SE:h.SW:t>0?h.NE:h.NW,matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=u[h.inv(e)];i.tx=r,i.ty=n,t.append(i)}},f=h;e.default=f},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(24))&&n.__esModule?n:{default:n},s=r(17);class o{constructor(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=s.SHAPES.CIRC}clone(){return new o(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r}getBounds(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17);class i{constructor(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=n.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new i(0,0,0,0)}clone(){return new i(this.x,this.y,this.width,this.height)}copy(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}contains(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}pad(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e}fit(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0)}enlarge(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n}ceil(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y}toString(){return"Rect:: "+this.x+"_"+this.y+"_"+this.width+"_"+this.height}}e.default=i},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(24))&&n.__esModule?n:{default:n},s=r(17);class o{constructor(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=s.SHAPES.ELIP}clone(){return new o(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1}getBounds(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(19))&&n.__esModule?n:{default:n},s=r(17);class o{constructor(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof i.default){for(var n=[],o=0,a=e.length;o<a;o++)n.push(e[o].x,e[o].y);e=n}this.closed=!0,this.points=e,this.type=s.SHAPES.POLY}clone(){return new o(this.points.slice())}close(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])}contains(t,e){for(var r=!1,n=this.points.length/2,i=0,s=n-1;i<n;s=i++){var o=this.points[2*i],a=this.points[2*i+1],A=this.points[2*s],u=this.points[2*s+1];a>e!=u>e&&t<(e-a)/(u-a)*(A-o)+o&&(r=!r)}return r}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17);class i{constructor(t,e,r,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===s&&(s=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=s,this.type=n.SHAPES.RREC}clone(){return new i(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1}}e.default=i},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return s.default}}),e.correctBlendMode=function(t,e){return h[e?1:0][t]},e.decomposeDataUri=function(t){var e=a.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},Object.defineProperty(e,"earcut",{enumerable:!0,get:function(){return n.default}}),e.getResolutionOfUrl=function(t,e){return void 0!==e?e:1},e.getSvgSize=function(t){var e=a.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r},e.getUrlFileExt=function(t){var e=a.URL_FILE_EXTENSION.exec(t);return e?e[1].toLowerCase():void 0},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)},e.inherit=function(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]},e.mixins=void 0,Object.defineProperty(e,"pluginTarget",{enumerable:!0,get:function(){return o.default}}),e.premultiplyBlendMode=void 0,e.premultiplyRgba=function(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i*e+.5|0)},e.premultiplyTintToRgba=function(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r},e.removeItems=function(t,e,r){var n=t.length;if(!(e>=n||r<=0||e<0)){for(var i=n-(r=e+r>n?n-e:r),s=e;s<i;++s)t[s]=t[s+r];t.length=i}},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.rgb2hsl=function(t,e,r){t/=255,e/=255,r/=255;var n,i,s=Math.max(t,e,r),o=Math.min(t,e,r),a=(s+o)/2;if(s==o)n=i=0;else{var A=s-o;switch(i=a>.5?A/(2-s-o):A/(s+o),s){case t:n=(e-r)/A+(e<r?6:0);break;case e:n=(r-t)/A+2;break;case r:n=(t-e)/A+4}n/=6}return[n*=360,i*=100,a*=100]},e.sign=function(t){return 0===t?0:t<0?-1:1},e.str2rgb=function(t,e){var r,n,i;return void 0===e&&(e=1),4===t.length?(r="0x"+t[1]+t[1],n="0x"+t[2]+t[2],i="0x"+t[3]+t[3]):7===t.length&&(r="0x"+t[1]+t[2],n="0x"+t[3]+t[4],i="0x"+t[5]+t[6]),[Number(r)/e,Number(n)/e,Number(i)/e]},e.uid=function(){return++c},e.uuidvx=function(){return"xxxxxxxx-xxxx-4xxx-yxxx".replace(/[xy]/g,(t=>{var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))};var n=l(r(29)),i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(30));e.mixins=i;var s=l(r(31)),o=l(r(32)),a=r(17),A=l(r(33));function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(u=function(t){return t?r:e})(t)}function l(t){return t&&t.__esModule?t:{default:t}}var c=0,h=(0,A.default)();e.premultiplyBlendMode=h},t=>{"use strict";function e(t,e,s){s=s||2;var o,a,A,c,h,p,d,g=e&&e.length,m=g?e[0]*s:t.length,v=r(t,0,m,s,!0),y=[];if(!v||v.next===v.prev)return y;if(g&&(v=function(t,e,i,s){var o,a,A,c=[];for(o=0,a=e.length;o<a;o++)(A=r(t,e[o]*s,o<a-1?e[o+1]*s:t.length,s,!1))===A.next&&(A.steiner=!0),c.push(f(A));for(c.sort(u),o=0;o<c.length;o++)i=n(i=l(c[o],i),i.next);return i}(t,e,v,s)),t.length>80*s){o=A=t[0],a=c=t[1];for(var _=s;_<m;_+=s)(h=t[_])<o&&(o=h),(p=t[_+1])<a&&(a=p),h>A&&(A=h),p>c&&(c=p);d=0!==(d=Math.max(A-o,c-a))?1/d:0}return i(v,y,s,o,a,d),y}function r(t,e,r,n,i){var s,o;if(i===C(t,e,r,n)>0)for(s=e;s<r;s+=n)o=B(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=B(s,t[s],t[s+1],o);return o&&m(o,o.next)&&(x(o),o=o.next),o}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(x(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,u,l,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=h(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,s,o,a,A,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(A=u;a>0||A>0&&n;)0!==a&&(0===A||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,A--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1)}(i)}(t,u,l,c);for(var p,d,g=t;t.prev!==t.next;)if(p=t.prev,d=t.next,c?o(t,u,l,c):s(t))e.push(p.i/r),e.push(t.i/r),e.push(d.i/r),x(t),t=d.next,g=d.next;else if((t=d)===g){f?1===f?i(t=a(n(t),e,r),e,r,u,l,c,2):2===f&&A(t,e,r,u,l,c):i(n(t),e,r,u,l,c,1);break}}}function s(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(p(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function o(t,e,r,n){var i=t.prev,s=t,o=t.next;if(g(i,s,o)>=0)return!1;for(var a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,A=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,l=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,c=h(a,A,e,r,n),f=h(u,l,e,r,n),d=t.prevZ,m=t.nextZ;d&&d.z>=c&&m&&m.z<=f;){if(d!==t.prev&&d!==t.next&&p(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&g(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,m!==t.prev&&m!==t.next&&p(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&p(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&g(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&p(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(t,e,r){var i=t;do{var s=i.prev,o=i.next.next;!m(s,o)&&v(s,i,i.next,o)&&b(s,o)&&b(o,s)&&(e.push(s.i/r),e.push(i.i/r),e.push(o.i/r),x(i),x(i.next),i=t=o),i=i.next}while(i!==t);return n(i)}function A(t,e,r,s,o,a){var A=t;do{for(var u=A.next.next;u!==A.prev;){if(A.i!==u.i&&d(A,u)){var l=w(A,u);return A=n(A,A.next),l=n(l,l.next),i(A,e,r,s,o,a),void i(l,e,r,s,o,a)}u=u.next}A=A.next}while(A!==t)}function u(t,e){return t.x-e.x}function l(t,e){var r=function(t,e){var r,n=e,i=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>o){if(o=a,a===i){if(s===n.y)return n;if(s===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===o)return r;var A,u=r,l=r.x,h=r.y,f=1/0;n=r;do{i>=n.x&&n.x>=l&&i!==n.x&&p(s<h?i:o,s,l,h,s<h?o:i,s,n.x,n.y)&&(A=Math.abs(s-n.y)/(i-n.x),b(n,t)&&(A<f||A===f&&(n.x>r.x||n.x===r.x&&c(r,n)))&&(r=n,f=A)),n=n.next}while(n!==u);return r}(t,e);if(!r)return e;var i=w(r,t),s=n(r,r.next);return n(i,i.next),e===r?s:e}function c(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function h(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,n,i,s,o,a){return(i-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(r-o)*(e-a)>=0&&(r-o)*(s-a)-(i-o)*(n-a)>=0}function d(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(b(t,e)&&b(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||m(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,n){var i=_(g(t,e,r)),s=_(g(t,e,n)),o=_(g(r,n,t)),a=_(g(r,n,e));return i!==s&&o!==a||!(0!==i||!y(t,r,e))||!(0!==s||!y(t,n,e))||!(0!==o||!y(r,t,n))||!(0!==a||!y(r,e,n))}function y(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function _(t){return t>0?1:t<0?-1:0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var r=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function B(t,e,r,n){var i=new E(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function x(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(C(t,0,s,r));if(i)for(var a=0,A=e.length;a<A;a++){var u=e[a]*r,l=a<A-1?e[a+1]*r:t.length;o-=Math.abs(C(t,u,l,r))}var c=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[h]-t[p])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[p+1]-t[h+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},(t,e)=>{"use strict";function r(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}Object.defineProperty(e,"__esModule",{value:!0}),e.delayMixin=function(t,e){n.push(t,e)},e.mixin=r,e.performMixins=function(){for(var t=0;t<n.length;t+=2)r(n[t],n[t+1]);n.length=0};var n=[]},t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t,e){var n=r?r+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var s=0,o=i.length,a=new Array(o);s<o;s++)a[s]=i[s].fn;return a},s.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var A,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(u=1,A=new Array(c-1);u<c;u++)A[u-1]=arguments[u];l.fn.apply(l.context,A)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!A)for(h=1,A=new Array(c-1);h<c;h++)A[h-1]=arguments[h];l[u].fn.apply(l[u].context,A)}}return!0},s.prototype.on=function(t,e,n){var s=new i(e,n||this),o=r?r+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):(this._events[o]=s,this._eventsCount++),this},s.prototype.once=function(t,e,n){var s=new i(e,n||this,!0),o=r?r+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):(this._events[o]=s,this._eventsCount++),this},s.prototype.removeListener=function(t,e,i,s){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||s&&!a.once||i&&a.context!==i||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var A=0,u=[],l=a.length;A<l;A++)(a[A].fn!==e||s&&!a[A].once||i&&a[A].context!==i)&&u.push(a[A]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,s.EventEmitter=s,t.exports=s},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(17)},(t,e,r)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,((n=r(35))&&n.__esModule?n:{default:n}).default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:!0,MESH_CANVAS_PADDING:0};e.default=i},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return i.default}}),e.shared=void 0;var n,i=(n=r(37))&&n.__esModule?n:{default:n},s=new i.default;e.shared=s,s.autoStart=!0,s.destroy=()=>{}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(34)),i=r(17),s=o(r(38));function o(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(){this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=this._tick.bind(this)}_tick(t){this._requestId=null,this.started&&(this.update(t),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r){return void 0===r&&(r=i.UPDATE_PRIORITY.NORMAL),this._addListener(new s.default(t,e,r))}addOnce(t,e,r){return void 0===r&&(r=i.UPDATE_PRIORITY.NORMAL),this._addListener(new s.default(t,e,r,!0))}_addListener(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this}remove(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}update(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.default.TARGET_FPMS*this.speed;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){var e=Math.min(Math.max(0,t)/1e3,n.default.TARGET_FPMS);this._maxElapsedMS=1/e}}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=r,this.once=n,this.next=null,this.previous=null,this.destroyed=!1}match(t,e){return e=e||null,this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this.destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t){if(void 0===t&&(t=!1),!this.destroyed){this.destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e}}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(40)),i=u(r(137)),s=u(r(138)),o=r(28),a=r(17),A=u(r(34));function u(t){return t&&t.__esModule?t:{default:t}}class l extends n.default{constructor(t,e,r){super("Canvas",t,e,r),this.type=a.RENDERER_TYPE.CANVAS,this.rootContext=this.view.getContext("2d",{alpha:this.transparent}),this.context=this.rootContext,this.refresh=!0,this.maskManager=new i.default(this),this.smoothProperty="imageSmoothingEnabled",this.rootContext.imageSmoothingEnabled||(this.rootContext.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.rootContext.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.rootContext.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.rootContext.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this.blendModes=(0,s.default)(),this._activeBlendMode=null,this.renderingToScreen=!1;var{width:n,height:o,quality:A,anti:u}=this.options;this.resize(n,o),A&&(this.context.quality=A),u&&(this.context.antialias=u)}render(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;this.context=this.rootContext;var o=this.context;if(e||(this._lastObjectRendered=t),!i){var A=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=A}o.save(),o.setTransform(1,0,0,1,0,0),o.globalAlpha=1,this._activeBlendMode=a.BLEND_MODES.NORMAL,o.globalCompositeOperation=this.blendModes[a.BLEND_MODES.NORMAL],(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?o.clearRect(0,0,this.width,this.height):(o.fillStyle=this._backgroundColorString,o.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=o,t.renderCanvas(this),this.context=l,o.restore(),this.resolution=s,this.emit("postrender")}}clear(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)}setBlendMode(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])}destroy(t){this.destroyPlugins(),super.destroy(t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null}resize(t,e){super.resize(t,e),this.smoothProperty&&(this.rootContext[this.smoothProperty]=A.default.SCALE_MODE===a.SCALE_MODES.LINEAR)}invalidateBlendMode(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)}}e.default=l,o.pluginTarget.mixin(l)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(28),i=r(18),s=r(17),o=l(r(31)),a=l(r(41)),A=l(r(34)),u=l(r(93));function l(t){return t&&t.__esModule?t:{default:t}}l(r(130)),new i.Matrix;class c extends o.default{constructor(t,e,r,n){super(),"number"==typeof e&&(e=Object.assign({width:e,height:r||A.default.RENDER_OPTIONS.height},n)),e=Object.assign({},A.default.RENDER_OPTIONS,e),this.options=e,this.type=s.RENDERER_TYPE.UNKNOWN,this.screen=new i.Rectangle(0,0,e.width,e.height),this.view=e.view||a.default.createElement("canvas"),this.resolution=e.resolution||A.default.RESOLUTION,this.transparent=e.transparent,this.autoResize=e.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.clearBeforeRender=e.clearBeforeRender,this.roundPixels=e.roundPixels,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=e.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new u.default,this._lastObjectRendered=this._tempDisplayObjectParent}get width(){return this.view.width}get height(){return this.view.height}resize(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")}destroy(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this._backgroundColorString=(0,n.hex2string)(t),(0,n.hex2rgb)(t,this._backgroundColorRgba)}}e.default=c},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(42),s=(n=r(43))&&n.__esModule?n:{default:n},o={createElement:t=>new s.default(1,1)},a=i.isBrowser?window.document:o;e.default=a},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="undefined"!=typeof window&&void 0!==window.document,i="object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,s="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;e.isBrowser=n,e.isWebWorker=i,e.isNode=s,e.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(44),i=A(r(91)),s=A(r(92)),o=r(28),a=A(r(31));function A(t){return t&&t.__esModule?t:{default:t}}class u extends((0,i.default)(n.Canvas)){constructor(t,e,r){super(t,e,r),this._event=new a.default,this._glResizeExt=null,this._gl=null,this._renderType="2d",this.useTypedArray=!1,this.rgbReverse=!1,this.isPSCanvas=!0,this.id=(0,o.uuidvx)()}getContext(t,e){if(this._renderType=t,"webgl"===t){if(this._gl)return this._gl;var{width:r,height:i}=this,o=(0,n.gl)(r,i,e);return s.default.fixGetUniformLocation(o),s.default.fixTexImage2D(o),this._gl=o,this._glResizeExt=o.getExtension("STACKGL_resize_drawingbuffer"),this._ctx=super.getContext("2d",e),this._gl}return this._ctx=super.getContext("2d",e),super.getContext(t,e)}get height(){return super.height}set height(t){this._glResizeExt&&this._glResizeExt.resize(this.width,t),super.height=t}get width(){return super.width}set width(t){this._glResizeExt&&this._glResizeExt.resize(t,this.height),super.width=t}get clientWidth(){return super.width}get clientHeight(){return super.height}addEventListener(t,e){return this._event.addListener(t,e)}removeEventListener(t,e){return e?this._event.removeListener(t,e):this._event.removeAllListeners(t)}_glBuffer(){var{width:t,height:e,_ctx:r,_gl:n}=this,i=new Uint8Array(t*e*4);return n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,i),Buffer.from(i)}_putImageData(){var t,{width:e,height:r,_ctx:i,_gl:s,useTypedArray:o}=this,a=new Uint8Array(e*r*4);s.readPixels(0,0,e,r,s.RGBA,s.UNSIGNED_BYTE,a),o?t=(0,n.createImageData)(new Uint8ClampedArray(a),e,r):(t=i.getImageData(0,0,e,r),this._fillImageData(t,a,e,r)),i.putImageData(t,0,0)}_reverseColor(){for(var t=[2,1,0,3],{width:e,height:r,_ctx:i}=this,s=i.getImageData(0,0,e,r),o=new Uint8Array(e*r*4),a=0;a<r;a++)for(var A=0;A<e;A++)for(var u=A,l=a,c=0;c<4;c++){var h=4*(l*e+u)+c;o[4*(l*e+u)+t[c]]=s.data[h]}var f=(0,n.createImageData)(new Uint8ClampedArray(o),e,r);i.putImageData(f,0,0)}_fillImageData(t,e,r,n){for(var i=this.rgbReverse?[2,1,0,3]:[0,1,2,3],s=0;s<n;s++)for(var o=0;o<r;o++)for(var a=o,A=n-s-1,u=0;u<4;u++){var l=4*(A*r+a)+i[u],c=4*(s*r+a)+u;t.data[l]=e[c]}return t}toBuffer(){return this._gl?this._glBuffer():(this.rgbReverse&&this._reverseColor(),super.toBuffer(...arguments))}toDataURL(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.toDataURL(...arguments)}createPNGStream(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.createPNGStream(...arguments)}createJPEGStream(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.createJPEGStream(...arguments)}createPDFStream(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.createPDFStream(...arguments)}destroy(){this._event.removeAllListeners(),this._event=null,this._glResizeExt=null,this._gl=null,this._ctx=null}}e.default=u},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return s.Canvas}}),Object.defineProperty(e,"CanvasGradient",{enumerable:!0,get:function(){return s.CanvasGradient}}),Object.defineProperty(e,"CanvasPattern",{enumerable:!0,get:function(){return s.CanvasPattern}}),Object.defineProperty(e,"CanvasRenderingContext2D",{enumerable:!0,get:function(){return s.CanvasRenderingContext2D}}),Object.defineProperty(e,"Context2d",{enumerable:!0,get:function(){return s.Context2d}}),Object.defineProperty(e,"DOMMatrix",{enumerable:!0,get:function(){return s.DOMMatrix}}),Object.defineProperty(e,"DOMPoint",{enumerable:!0,get:function(){return s.DOMPoint}}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return s.Image}}),Object.defineProperty(e,"ImageData",{enumerable:!0,get:function(){return s.ImageData}}),Object.defineProperty(e,"JPEGStream",{enumerable:!0,get:function(){return s.JPEGStream}}),Object.defineProperty(e,"PDFStream",{enumerable:!0,get:function(){return s.PDFStream}}),Object.defineProperty(e,"PNGStream",{enumerable:!0,get:function(){return s.PNGStream}}),Object.defineProperty(e,"createCanvas",{enumerable:!0,get:function(){return s.createCanvas}}),Object.defineProperty(e,"createImageData",{enumerable:!0,get:function(){return s.createImageData}}),Object.defineProperty(e,"deregisterAllFonts",{enumerable:!0,get:function(){return s.deregisterAllFonts}}),Object.defineProperty(e,"gl",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"loadImage",{enumerable:!0,get:function(){return s.loadImage}}),Object.defineProperty(e,"parseFont",{enumerable:!0,get:function(){return s.parseFont}}),Object.defineProperty(e,"registerFont",{enumerable:!0,get:function(){return s.registerFont}});var n,i=(n=r(45))&&n.__esModule?n:{default:n},s=r(89)},(t,e,r)=>{"undefined"!=typeof WebGLRenderingContext?t.exports=r(46):t.exports=r(47)},t=>{t.exports=function(t,e,r){if(e|=0,!((t|=0)>0&&e>0))return null;const n=document.createElement("canvas");if(!n)return null;let i;n.width=t,n.height=e;try{i=n.getContext("webgl",r)}catch(t){try{i=n.getContext("experimental-webgl",r)}catch(t){return null}}const s=i.getExtension,o={destroy:function(){const t=s.call(i,"WEBGL_lose_context");t&&t.loseContext()}},a={resize:function(t,e){n.width=t,n.height=e}},A=i.getSupportedExtensions().slice();return A.push("STACKGL_destroy_context","STACKGL_resize_drawingbuffer"),i.getSupportedExtensions=function(){return A.slice()},i.getExtension=function(t){const e=t.toLowerCase();return"stackgl_resize_drawingbuffer"===e?a:"stackgl_destroy_context"===e?o:s.call(i,t)},i||null}},(t,e,r)=>{const n=r(48),{WebGLContextAttributes:i}=r(49),{WebGLRenderingContext:s,wrapContext:o}=r(50),{WebGLTextureUnit:a}=r(88),{WebGLVertexArrayObjectState:A,WebGLVertexArrayGlobalState:u}=r(78);let l=0;function c(t,e,r){return t&&"object"==typeof t&&e in t?!!t[e]:r}t.exports=function(t,e,r){if(e|=0,!((t|=0)>0&&e>0))return null;const h=new i(c(r,"alpha",!0),c(r,"depth",!0),c(r,"stencil",!1),!1,c(r,"premultipliedAlpha",!0),c(r,"preserveDrawingBuffer",!1),c(r,"preferLowPowerToHighPerformance",!1),c(r,"failIfMajorPerformanceCaveat",!1));let f;h.premultipliedAlpha=h.premultipliedAlpha&&h.alpha;try{f=new s(1,1,h.alpha,h.depth,h.stencil,h.antialias,h.premultipliedAlpha,h.preserveDrawingBuffer,h.preferLowPowerToHighPerformance,h.failIfMajorPerformanceCaveat)}catch(t){}if(!f)return null;f.drawingBufferWidth=t,f.drawingBufferHeight=e,f._=l++,f._contextAttributes=h,f._extensions={},f._programs={},f._shaders={},f._buffers={},f._textures={},f._framebuffers={},f._renderbuffers={},f._activeProgram=null,f._activeFramebuffer=null,f._activeRenderbuffer=null,f._checkStencil=!1,f._stencilState=!0;const p=f.getParameter(f.MAX_COMBINED_TEXTURE_IMAGE_UNITS);f._textureUnits=new Array(p);for(let t=0;t<p;++t)f._textureUnits[t]=new a(t);f._activeTextureUnit=0,f.activeTexture(f.TEXTURE0),f._errorStack=[],f._defaultVertexObjectState=new A(f),f._vertexObjectState=f._defaultVertexObjectState,f._vertexGlobalState=new u(f),f._maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE),f._maxTextureLevel=n.log2(n.nextPow2(f._maxTextureSize)),f._maxCubeMapSize=f.getParameter(f.MAX_CUBE_MAP_TEXTURE_SIZE),f._maxCubeMapLevel=n.log2(n.nextPow2(f._maxCubeMapSize)),f._unpackAlignment=4,f._packAlignment=4,f._allocateDrawingBuffer(t,e);const d=f.createBuffer();return f._attrib0Buffer=d,f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.bindFramebuffer(f.FRAMEBUFFER,null),f.bindRenderbuffer(f.RENDERBUFFER,null),f.viewport(0,0,t,e),f.scissor(0,0,t,e),f.clearDepth(1),f.clearColor(0,0,0,0),f.clearStencil(0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT|f.STENCIL_BUFFER_BIT),o(f)}},(t,e)=>{"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},t=>{t.exports={WebGLContextAttributes:class{constructor(t,e,r,n,i,s,o,a){this.alpha=t,this.depth=e,this.stencil=r,this.antialias=n,this.premultipliedAlpha=i,this.preserveDrawingBuffer=s,this.preferLowPowerToHighPerformance=o,this.failIfMajorPerformanceCaveat=a}}}},(t,e,r)=>{const n=r(48),i=r(51),s=r(58).version,{gl:o,NativeWebGLRenderingContext:a,NativeWebGL:A}=r(59),{getANGLEInstancedArrays:u}=r(64),{getOESElementIndexUint:l}=r(67),{getOESStandardDerivatives:c}=r(68),{getOESTextureFloat:h}=r(69),{getOESTextureFloatLinear:f}=r(70),{getSTACKGLDestroyContext:p}=r(71),{getSTACKGLResizeDrawingBuffer:d}=r(72),{getWebGLDrawBuffers:g}=r(73),{getEXTBlendMinMax:m}=r(74),{getEXTTextureFilterAnisotropic:v}=r(75),{getOESVertexArrayObject:y}=r(76),{bindPublics:_,checkObject:b,checkUniform:w,formatSize:B,isValidString:x,typeSize:E,uniformTypeSize:C,extractImageData:T,vertexCount:I,isTypedArray:F,unpackTypedArray:S,convertPixels:U,checkFormat:M,validCubeTarget:O}=r(65),{WebGLActiveInfo:P}=r(80),{WebGLFramebuffer:R}=r(81),{WebGLBuffer:L}=r(79),{WebGLDrawingBufferWrapper:D}=r(82),{WebGLProgram:Q}=r(83),{WebGLRenderbuffer:N}=r(84),{WebGLShader:k}=r(85),{WebGLShaderPrecisionFormat:H}=r(86),{WebGLTexture:j}=r(87),{WebGLUniformLocation:V}=r(66),G=[o.COLOR_ATTACHMENT0,o.DEPTH_ATTACHMENT,o.STENCIL_ATTACHMENT,o.DEPTH_STENCIL_ATTACHMENT],K=[o.COLOR_ATTACHMENT0],W={angle_instanced_arrays:u,oes_element_index_uint:l,oes_texture_float:h,oes_texture_float_linear:f,oes_standard_derivatives:c,oes_vertex_array_object:y,stackgl_destroy_context:p,stackgl_resize_drawingbuffer:d,webgl_draw_buffers:g,ext_blend_minmax:m,ext_texture_filter_anisotropic:v},z=["resize","destroy"];class X extends a{_checkDimensions(t,e,r,n){if(n<0||e<0||r<0)return this.setError(o.INVALID_VALUE),!1;if(t===o.TEXTURE_2D){if(e>this._maxTextureSize||r>this._maxTextureSize||n>this._maxTextureLevel)return this.setError(o.INVALID_VALUE),!1}else{if(!this._validCubeTarget(t))return this.setError(o.INVALID_ENUM),!1;if(e>this._maxCubeMapSize||r>this._maxCubeMapSize||n>this._maxCubeMapLevel)return this.setError(o.INVALID_VALUE),!1}return!0}_checkLocation(t){return t instanceof V?t._program._ctx===this&&t._linkCount===t._program._linkCount||(this.setError(o.INVALID_OPERATION),!1):(this.setError(o.INVALID_VALUE),!1)}_checkLocationActive(t){return!(!t||!this._checkLocation(t)||t._program!==this._activeProgram&&(this.setError(o.INVALID_OPERATION),1))}_checkOwns(t){return"object"==typeof t&&t._ctx===this}_checkShaderSource(t){const e=t._source,r=i(e);let n=!1;const s=[];for(let t=0;t<r.length;++t){const e=r[t];switch(e.type){case"ident":this._validGLSLIdentifier(e.data)||(n=!0,s.push(e.line+":"+e.column+" invalid identifier - "+e.data));break;case"preprocessor":{const t=i(e.data.match(/^\s*#\s*(.*)$/)[1]);for(let r=0;r<t.length;++r){const i=t[r];"ident"!==i.type&&void 0!==i.type||this._validGLSLIdentifier(i.data)||(n=!0,s.push(e.line+":"+i.column+" invalid identifier - "+i.data))}break}case"keyword":"do"===e.data&&(n=!0,s.push(e.line+":"+e.column+" do not supported"));break;case"builtin":switch(e.data){case"dFdx":case"dFdy":case"fwidth":this._extensions.oes_standard_derivatives||(n=!0,s.push(e.line+":"+e.column+" "+e.data+" not supported"))}}}return n&&(t._compileInfo=s.join("\n")),!n}_checkStencilState(){return this._checkStencil?(this._checkStencil=!1,this._stencilState=!0,this.getParameter(o.STENCIL_WRITEMASK)===this.getParameter(o.STENCIL_BACK_WRITEMASK)&&this.getParameter(o.STENCIL_VALUE_MASK)===this.getParameter(o.STENCIL_BACK_VALUE_MASK)&&this.getParameter(o.STENCIL_REF)===this.getParameter(o.STENCIL_BACK_REF)||(this.setError(o.INVALID_OPERATION),this._stencilState=!1),this._stencilState):this._stencilState}_checkTextureTarget(t){const e=this._getActiveTextureUnit();let r=null;if(t===o.TEXTURE_2D)r=e._bind2D;else{if(t!==o.TEXTURE_CUBE_MAP)return this.setError(o.INVALID_ENUM),!1;r=e._bindCube}return!!r||(this.setError(o.INVALID_OPERATION),!1)}_checkWrapper(t,e){return this._checkValid(t,e)?!!this._checkOwns(t)||(this.setError(o.INVALID_OPERATION),!1):(this.setError(o.INVALID_VALUE),!1)}_checkValid(t,e){return t instanceof e&&0!==t._}_checkVertexAttribState(t){const e=this._activeProgram;if(!e)return this.setError(o.INVALID_OPERATION),!1;const r=this._vertexObjectState._attribs;for(let n=0;n<r.length;++n){const i=r[n];if(i._isPointer){const r=i._pointerBuffer;if(!r)return this.setError(o.INVALID_OPERATION),!1;if(e._attributes.indexOf(n)>=0){let e=0;if(e=i._divisor?i._pointerSize+i._pointerOffset:i._pointerStride*t+i._pointerSize+i._pointerOffset,e>r._size)return this.setError(o.INVALID_OPERATION),!1}}}return!0}_checkVertexIndex(t){return!(t<0||t>=this._vertexObjectState._attribs.length)||(this.setError(o.INVALID_VALUE),!1)}_computePixelSize(t,e){const r=B(e);if(0===r)return this.setError(o.INVALID_ENUM),0;switch(t){case o.UNSIGNED_BYTE:return r;case o.UNSIGNED_SHORT_5_6_5:if(e!==o.RGB){this.setError(o.INVALID_OPERATION);break}return 2;case o.UNSIGNED_SHORT_4_4_4_4:case o.UNSIGNED_SHORT_5_5_5_1:if(e!==o.RGBA){this.setError(o.INVALID_OPERATION);break}return 2;case o.FLOAT:return 1}return this.setError(o.INVALID_ENUM),0}_computeRowStride(t,e){let r=t*e;return r%this._unpackAlignment&&(r+=this._unpackAlignment-r%this._unpackAlignment),r}_fixupLink(t){if(!super.getProgramParameter(t._,o.LINK_STATUS))return t._linkInfoLog=super.getProgramInfoLog(t),!1;const e=this.getProgramParameter(t,o.ACTIVE_ATTRIBUTES),r=new Array(e);t._attributes.length=e;for(let n=0;n<e;++n)r[n]=this.getActiveAttrib(t,n).name,t._attributes[n]=0|this.getAttribLocation(t,r[n]);for(let e=0;e<r.length;++e)if(r[e].length>256)return t._linkInfoLog="attribute "+r[e]+" is too long",!1;for(let n=0;n<e;++n)super.bindAttribLocation(0|t._,t._attributes[n],r[n]);super.linkProgram(0|t._);const n=this.getProgramParameter(t,o.ACTIVE_UNIFORMS);t._uniforms.length=n;for(let e=0;e<n;++e)t._uniforms[e]=this.getActiveUniform(t,e);for(let e=0;e<t._uniforms.length;++e)if(t._uniforms[e].name.length>256)return t._linkInfoLog="uniform "+t._uniforms[e].name+" is too long",!1;return t._linkInfoLog="",!0}_framebufferOk(){const t=this._activeFramebuffer;return!t||this._preCheckFramebufferStatus(t)===o.FRAMEBUFFER_COMPLETE||(this.setError(o.INVALID_FRAMEBUFFER_OPERATION),!1)}_getActiveBuffer(t){return t===o.ARRAY_BUFFER?this._vertexGlobalState._arrayBufferBinding:t===o.ELEMENT_ARRAY_BUFFER?this._vertexObjectState._elementArrayBufferBinding:null}_getActiveTextureUnit(){return this._textureUnits[this._activeTextureUnit]}_getActiveTexture(t){const e=this._getActiveTextureUnit();return t===o.TEXTURE_2D?e._bind2D:t===o.TEXTURE_CUBE_MAP?e._bindCube:null}_getAttachments(){return this._extensions.webgl_draw_buffers?this._extensions.webgl_draw_buffers._ALL_ATTACHMENTS:G}_getColorAttachments(){return this._extensions.webgl_draw_buffers?this._extensions.webgl_draw_buffers._ALL_COLOR_ATTACHMENTS:K}_getParameterDirect(t){return super.getParameter(t)}_getTexImage(t){const e=this._getActiveTextureUnit();return t===o.TEXTURE_2D?e._bind2D:O(t)?e._bindCube:(this.setError(o.INVALID_ENUM),null)}_preCheckFramebufferStatus(t){const e=t._attachments,r=[],n=[],i=e[o.DEPTH_ATTACHMENT],s=e[o.DEPTH_STENCIL_ATTACHMENT],a=e[o.STENCIL_ATTACHMENT];if(s&&(a||i)||a&&i)return o.FRAMEBUFFER_UNSUPPORTED;const A=this._getColorAttachments();let u=0;for(const t in e)e[t]&&-1!==A.indexOf(1*t)&&u++;if(0===u)return o.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT;if(s instanceof j)return o.FRAMEBUFFER_UNSUPPORTED;if(s instanceof N){if(s._format!==o.DEPTH_STENCIL)return o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;r.push(s._width),n.push(s._height)}if(i instanceof j)return o.FRAMEBUFFER_UNSUPPORTED;if(i instanceof N){if(i._format!==o.DEPTH_COMPONENT16)return o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;r.push(i._width),n.push(i._height)}if(a instanceof j)return o.FRAMEBUFFER_UNSUPPORTED;if(a instanceof N){if(a._format!==o.STENCIL_INDEX8)return o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;r.push(a._width),n.push(a._height)}let l=!1;for(let i=0;i<A.length;++i){const s=e[A[i]];if(s instanceof j){if(s._format!==o.RGBA||s._type!==o.UNSIGNED_BYTE&&s._type!==o.FLOAT)return o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;l=!0;const e=t._attachmentLevel[o.COLOR_ATTACHMENT0];r.push(s._levelWidth[e]),n.push(s._levelHeight[e])}else if(s instanceof N){const t=s._format;if(t!==o.RGBA4&&t!==o.RGB565&&t!==o.RGB5_A1)return o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;l=!0,r.push(s._width),n.push(s._height)}}if(!(l||a||i||s))return o.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT;if(r.length<=0||n.length<=0)return o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;for(let t=1;t<r.length;++t)if(r[t-1]!==r[t]||n[t-1]!==n[t])return o.FRAMEBUFFER_INCOMPLETE_DIMENSIONS;return 0===r[0]||0===n[0]?o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:(t._width=r[0],t._height=n[0],o.FRAMEBUFFER_COMPLETE)}_isConstantBlendFunc(t){return t===o.CONSTANT_COLOR||t===o.ONE_MINUS_CONSTANT_COLOR||t===o.CONSTANT_ALPHA||t===o.ONE_MINUS_CONSTANT_ALPHA}_isObject(t,e,r){if(null!=t&&!(t instanceof r))throw new TypeError(e+"("+r.name+")");return!(!this._checkValid(t,r)||!this._checkOwns(t))}_resizeDrawingBuffer(t,e){const r=this._activeFramebuffer,n=this._getActiveTexture(o.TEXTURE_2D),i=this._activeRenderbuffer,s=this._contextAttributes,a=this._drawingBuffer;super.bindFramebuffer(o.FRAMEBUFFER,a._framebuffer);const A=this._getAttachments();for(let t=0;t<A.length;++t)super.framebufferTexture2D(o.FRAMEBUFFER,A[t],o.TEXTURE_2D,0,0);super.bindTexture(o.TEXTURE_2D,a._color);const u=s.alpha?o.RGBA:o.RGB;super.texImage2D(o.TEXTURE_2D,0,u,t,e,0,u,o.UNSIGNED_BYTE,null),super.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),super.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),super.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,a._color,0);let l=0,c=0;s.depth&&s.stencil?(l=o.DEPTH_STENCIL,c=o.DEPTH_STENCIL_ATTACHMENT):s.depth?(l=33191,c=o.DEPTH_ATTACHMENT):s.stencil&&(l=o.STENCIL_INDEX8,c=o.STENCIL_ATTACHMENT),l&&(super.bindRenderbuffer(o.RENDERBUFFER,a._depthStencil),super.renderbufferStorage(o.RENDERBUFFER,l,t,e),super.framebufferRenderbuffer(o.FRAMEBUFFER,c,o.RENDERBUFFER,a._depthStencil)),this.bindFramebuffer(o.FRAMEBUFFER,r),this.bindTexture(o.TEXTURE_2D,n),this.bindRenderbuffer(o.RENDERBUFFER,i)}_restoreError(t){const e=this._errorStack.pop();e===o.NO_ERROR?this.setError(t):this.setError(e)}_saveError(){this._errorStack.push(this.getError())}_switchActiveProgram(t){t&&(t._refCount-=1,t._checkDelete())}_tryDetachFramebuffer(t,e){if(t&&t._linked(e)){const r=this._getAttachments(),n=Object.keys(t._attachments);for(let i=0;i<n.length;++i)t._attachments[r[i]]===e&&this.framebufferTexture2D(o.FRAMEBUFFER,0|r[i],o.TEXTURE_2D,null)}}_updateFramebufferAttachments(t){const e=t._status,r=this._getAttachments();if(t._status=this._preCheckFramebufferStatus(t),t._status===o.FRAMEBUFFER_COMPLETE){for(let e=0;e<r.length;++e){const n=r[e];super.framebufferTexture2D(o.FRAMEBUFFER,n,t._attachmentFace[n],0,t._attachmentLevel[n])}for(let e=0;e<r.length;++e){const n=r[e],i=t._attachments[n];i instanceof j?super.framebufferTexture2D(o.FRAMEBUFFER,n,t._attachmentFace[n],0|i._,t._attachmentLevel[n]):i instanceof N&&super.framebufferRenderbuffer(o.FRAMEBUFFER,n,o.RENDERBUFFER,0|i._)}}else if(e===o.FRAMEBUFFER_COMPLETE)for(let e=0;e<r.length;++e){const n=r[e];super.framebufferTexture2D(o.FRAMEBUFFER,n,t._attachmentFace[n],0,t._attachmentLevel[n])}}_validBlendFunc(t){return t===o.ZERO||t===o.ONE||t===o.SRC_COLOR||t===o.ONE_MINUS_SRC_COLOR||t===o.DST_COLOR||t===o.ONE_MINUS_DST_COLOR||t===o.SRC_ALPHA||t===o.ONE_MINUS_SRC_ALPHA||t===o.DST_ALPHA||t===o.ONE_MINUS_DST_ALPHA||t===o.SRC_ALPHA_SATURATE||t===o.CONSTANT_COLOR||t===o.ONE_MINUS_CONSTANT_COLOR||t===o.CONSTANT_ALPHA||t===o.ONE_MINUS_CONSTANT_ALPHA}_validBlendMode(t){return t===o.FUNC_ADD||t===o.FUNC_SUBTRACT||t===o.FUNC_REVERSE_SUBTRACT||this._extensions.ext_blend_minmax&&(t===this._extensions.ext_blend_minmax.MIN_EXT||t===this._extensions.ext_blend_minmax.MAX_EXT)}_validCubeTarget(t){return t===o.TEXTURE_CUBE_MAP_POSITIVE_X||t===o.TEXTURE_CUBE_MAP_NEGATIVE_X||t===o.TEXTURE_CUBE_MAP_POSITIVE_Y||t===o.TEXTURE_CUBE_MAP_NEGATIVE_Y||t===o.TEXTURE_CUBE_MAP_POSITIVE_Z||t===o.TEXTURE_CUBE_MAP_NEGATIVE_Z}_validFramebufferAttachment(t){switch(t){case o.DEPTH_ATTACHMENT:case o.STENCIL_ATTACHMENT:case o.DEPTH_STENCIL_ATTACHMENT:case o.COLOR_ATTACHMENT0:return!0}if(this._extensions.webgl_draw_buffers){const{webgl_draw_buffers:e}=this._extensions;return t<e.COLOR_ATTACHMENT0_WEBGL+e._maxDrawBuffers}return!1}_validGLSLIdentifier(t){return!(0===t.indexOf("webgl_")||0===t.indexOf("_webgl_")||t.length>256)}_validTextureTarget(t){return t===o.TEXTURE_2D||t===o.TEXTURE_CUBE_MAP}_verifyTextureCompleteness(t,e,r){const n=this._getActiveTextureUnit();let i=null;if(t===o.TEXTURE_2D?i=n._bind2D:this._validCubeTarget(t)&&(i=n._bindCube),this._extensions.oes_texture_float&&!this._extensions.oes_texture_float_linear&&i&&i._type===o.FLOAT&&(e===o.TEXTURE_MAG_FILTER||e===o.TEXTURE_MIN_FILTER)&&(r===o.LINEAR||r===o.LINEAR_MIPMAP_NEAREST||r===o.NEAREST_MIPMAP_LINEAR||r===o.LINEAR_MIPMAP_LINEAR))return i._complete=!1,void this.bindTexture(t,i);i&&!1===i._complete&&(i._complete=!0,this.bindTexture(t,i))}_wrapShader(t,e){return!this._extensions.oes_standard_derivatives&&/#ifdef\s+GL_OES_standard_derivatives/.test(e)&&(e="#undef GL_OES_standard_derivatives\n"+e),this._extensions.webgl_draw_buffers?e:"#define gl_MaxDrawBuffers 1\n"+e}_beginAttrib0Hack(){super.bindBuffer(o.ARRAY_BUFFER,this._attrib0Buffer._),super.bufferData(o.ARRAY_BUFFER,this._vertexGlobalState._attribs[0]._data,o.STREAM_DRAW),super.enableVertexAttribArray(0),super.vertexAttribPointer(0,4,o.FLOAT,!1,0,0),super._vertexAttribDivisor(0,1)}_endAttrib0Hack(){const t=this._vertexObjectState._attribs[0];t._pointerBuffer?super.bindBuffer(o.ARRAY_BUFFER,t._pointerBuffer._):super.bindBuffer(o.ARRAY_BUFFER,0),super.vertexAttribPointer(0,t._inputSize,t._pointerType,t._pointerNormal,t._inputStride,t._pointerOffset),super._vertexAttribDivisor(0,t._divisor),super.disableVertexAttribArray(0),this._vertexGlobalState._arrayBufferBinding?super.bindBuffer(o.ARRAY_BUFFER,this._vertexGlobalState._arrayBufferBinding._):super.bindBuffer(o.ARRAY_BUFFER,0)}activeTexture(t){const e=(t|=0)-o.TEXTURE0;if(e>=0&&e<this._textureUnits.length)return this._activeTextureUnit=e,super.activeTexture(t);this.setError(o.INVALID_ENUM)}attachShader(t,e){if(!b(t)||!b(e))throw new TypeError("attachShader(WebGLProgram, WebGLShader)");if(t&&e){if(t instanceof Q&&e instanceof k&&this._checkOwns(t)&&this._checkOwns(e)&&!t._linked(e)){this._saveError(),super.attachShader(0|t._,0|e._);const r=this.getError();return this._restoreError(r),void(r===o.NO_ERROR&&t._link(e))}this.setError(o.INVALID_OPERATION)}else this.setError(o.INVALID_VALUE)}bindAttribLocation(t,e,r){if(!b(t)||"string"!=typeof r)throw new TypeError("bindAttribLocation(WebGLProgram, GLint, String)");if(!x(r+="")||r.length>256)this.setError(o.INVALID_VALUE);else if(/^_?webgl_a/.test(r))this.setError(o.INVALID_OPERATION);else if(this._checkWrapper(t,Q))return super.bindAttribLocation(0|t._,0|e,r)}bindFramebuffer(t,e){if(!b(e))throw new TypeError("bindFramebuffer(GLenum, WebGLFramebuffer)");if(t!==o.FRAMEBUFFER)return void this.setError(o.INVALID_ENUM);if(e){if(e._pendingDelete)return;if(!this._checkWrapper(e,R))return;super.bindFramebuffer(o.FRAMEBUFFER,0|e._)}else super.bindFramebuffer(o.FRAMEBUFFER,this._drawingBuffer._framebuffer);const r=this._activeFramebuffer;r!==e&&(r&&(r._refCount-=1,r._checkDelete()),e&&(e._refCount+=1)),this._activeFramebuffer=e,e&&this._updateFramebufferAttachments(e)}bindBuffer(t,e){if(t|=0,!b(e))throw new TypeError("bindBuffer(GLenum, WebGLBuffer)");if(t===o.ARRAY_BUFFER||t===o.ELEMENT_ARRAY_BUFFER){if(e){if(e._pendingDelete)return;if(!this._checkWrapper(e,L))return;if(e._binding&&e._binding!==t)return void this.setError(o.INVALID_OPERATION);e._binding=0|t,super.bindBuffer(t,0|e._)}else e=null,super.bindBuffer(t,0);t===o.ARRAY_BUFFER?this._vertexGlobalState.setArrayBuffer(e):this._vertexObjectState.setElementArrayBuffer(e)}else this.setError(o.INVALID_ENUM)}bindRenderbuffer(t,e){if(!b(e))throw new TypeError("bindRenderbuffer(GLenum, WebGLRenderbuffer)");if(t!==o.RENDERBUFFER)return void this.setError(o.INVALID_ENUM);if(e){if(e._pendingDelete)return;if(!this._checkWrapper(e,N))return;super.bindRenderbuffer(0|t,0|e._)}else super.bindRenderbuffer(0|t,0);const r=this._activeRenderbuffer;r!==e&&(r&&(r._refCount-=1,r._checkDelete()),e&&(e._refCount+=1)),this._activeRenderbuffer=e}bindTexture(t,e){if(t|=0,!b(e))throw new TypeError("bindTexture(GLenum, WebGLTexture)");if(!this._validTextureTarget(t))return void this.setError(o.INVALID_ENUM);let r=0;if(e){if(e instanceof j&&e._pendingDelete)return;if(!this._checkWrapper(e,j))return;if(e._binding&&e._binding!==t)return void this.setError(o.INVALID_OPERATION);e._binding=t,e._complete&&(r=0|e._)}else e=null;this._saveError(),super.bindTexture(t,r);const n=this.getError();if(this._restoreError(n),n!==o.NO_ERROR)return;const i=this._getActiveTextureUnit(),s=this._getActiveTexture(t);s!==e&&(s&&(s._refCount-=1,s._checkDelete()),e&&(e._refCount+=1)),t===o.TEXTURE_2D?i._bind2D=e:t===o.TEXTURE_CUBE_MAP&&(i._bindCube=e)}blendColor(t,e,r,n){return super.blendColor(+t,+e,+r,+n)}blendEquation(t){if(t|=0,this._validBlendMode(t))return super.blendEquation(t);this.setError(o.INVALID_ENUM)}blendEquationSeparate(t,e){if(t|=0,e|=0,this._validBlendMode(t)&&this._validBlendMode(e))return super.blendEquationSeparate(t,e);this.setError(o.INVALID_ENUM)}createBuffer(){const t=super.createBuffer();if(t<=0)return null;const e=new L(t,this);return this._buffers[t]=e,e}createFramebuffer(){const t=super.createFramebuffer();if(t<=0)return null;const e=new R(t,this);return this._framebuffers[t]=e,e}createProgram(){const t=super.createProgram();if(t<=0)return null;const e=new Q(t,this);return this._programs[t]=e,e}createRenderbuffer(){const t=super.createRenderbuffer();if(t<=0)return null;const e=new N(t,this);return this._renderbuffers[t]=e,e}createTexture(){const t=super.createTexture();if(t<=0)return null;const e=new j(t,this);return this._textures[t]=e,e}getContextAttributes(){return this._contextAttributes}getExtension(t){const e=t.toLowerCase();if(e in this._extensions)return this._extensions[e];const r=W[e]?W[e](this):null;return r&&(this._extensions[e]=r),r}getSupportedExtensions(){const t=["ANGLE_instanced_arrays","STACKGL_resize_drawingbuffer","STACKGL_destroy_context"],e=super.getSupportedExtensions();return e.indexOf("GL_OES_element_index_uint")>=0&&t.push("OES_element_index_uint"),e.indexOf("GL_OES_standard_derivatives")>=0&&t.push("OES_standard_derivatives"),e.indexOf("GL_OES_texture_float")>=0&&t.push("OES_texture_float"),e.indexOf("GL_OES_texture_float_linear")>=0&&t.push("OES_texture_float_linear"),e.indexOf("EXT_draw_buffers")>=0&&t.push("WEBGL_draw_buffers"),e.indexOf("EXT_blend_minmax")>=0&&t.push("EXT_blend_minmax"),e.indexOf("EXT_texture_filter_anisotropic")>=0&&t.push("EXT_texture_filter_anisotropic"),e.indexOf("GL_OES_vertex_array_object")>=0&&t.push("OES_vertex_array_object"),t}setError(t){A.setError.call(this,0|t)}blendFunc(t,e){t|=0,e|=0,this._validBlendFunc(t)&&this._validBlendFunc(e)?this._isConstantBlendFunc(t)&&this._isConstantBlendFunc(e)?this.setError(o.INVALID_OPERATION):super.blendFunc(t,e):this.setError(o.INVALID_ENUM)}blendFuncSeparate(t,e,r,n){t|=0,e|=0,r|=0,n|=0,this._validBlendFunc(t)&&this._validBlendFunc(e)&&this._validBlendFunc(r)&&this._validBlendFunc(n)?this._isConstantBlendFunc(t)&&this._isConstantBlendFunc(e)||this._isConstantBlendFunc(r)&&this._isConstantBlendFunc(n)?this.setError(o.INVALID_OPERATION):super.blendFuncSeparate(t,e,r,n):this.setError(o.INVALID_ENUM)}bufferData(t,e,r){if(t|=0,(r|=0)!==o.STREAM_DRAW&&r!==o.STATIC_DRAW&&r!==o.DYNAMIC_DRAW)return void this.setError(o.INVALID_ENUM);if(t!==o.ARRAY_BUFFER&&t!==o.ELEMENT_ARRAY_BUFFER)return void this.setError(o.INVALID_ENUM);const n=this._getActiveBuffer(t);if(n)if("object"==typeof e){let i=null;if(F(e))i=S(e);else{if(!(e instanceof ArrayBuffer))return void this.setError(o.INVALID_VALUE);i=new Uint8Array(e)}this._saveError(),super.bufferData(t,i,r);const s=this.getError();if(this._restoreError(s),s!==o.NO_ERROR)return;n._size=i.length,t===o.ELEMENT_ARRAY_BUFFER&&(n._elements=new Uint8Array(i))}else if("number"==typeof e){const i=0|e;if(i<0)return void this.setError(o.INVALID_VALUE);this._saveError(),super.bufferData(t,i,r);const s=this.getError();if(this._restoreError(s),s!==o.NO_ERROR)return;n._size=i,t===o.ELEMENT_ARRAY_BUFFER&&(n._elements=new Uint8Array(i))}else this.setError(o.INVALID_VALUE);else this.setError(o.INVALID_OPERATION)}bufferSubData(t,e,r){if(e|=0,(t|=0)!==o.ARRAY_BUFFER&&t!==o.ELEMENT_ARRAY_BUFFER)return void this.setError(o.INVALID_ENUM);if(null===r)return;if(!r||"object"!=typeof r)return void this.setError(o.INVALID_VALUE);const n=this._getActiveBuffer(t);if(!n)return void this.setError(o.INVALID_OPERATION);if(e<0||e>=n._size)return void this.setError(o.INVALID_VALUE);let i=null;if(F(r))i=S(r);else{if(!(r instanceof ArrayBuffer))return void this.setError(o.INVALID_VALUE);i=new Uint8Array(r)}e+i.length>n._size?this.setError(o.INVALID_VALUE):(t===o.ELEMENT_ARRAY_BUFFER&&n._elements.set(i,e),super.bufferSubData(t,e,i))}checkFramebufferStatus(t){if(t!==o.FRAMEBUFFER)return this.setError(o.INVALID_ENUM),0;const e=this._activeFramebuffer;return e?this._preCheckFramebufferStatus(e):o.FRAMEBUFFER_COMPLETE}clear(t){if(this._framebufferOk())return super.clear(0|t)}clearColor(t,e,r,n){return super.clearColor(+t,+e,+r,+n)}clearDepth(t){return super.clearDepth(+t)}clearStencil(t){return this._checkStencil=!1,super.clearStencil(0|t)}colorMask(t,e,r,n){return super.colorMask(!!t,!!e,!!r,!!n)}compileShader(t){if(!b(t))throw new TypeError("compileShader(WebGLShader)");if(this._checkWrapper(t,k)&&this._checkShaderSource(t)){const e=this.getError();super.compileShader(0|t._);const r=this.getError();t._compileStatus=!!super.getShaderParameter(0|t._,o.COMPILE_STATUS),t._compileInfo=super.getShaderInfoLog(0|t._),this.getError(),this.setError(e||r)}}copyTexImage2D(t,e,r,i,s,a,A,u){t|=0,e|=0,r|=0,i|=0,s|=0,a|=0,A|=0,u|=0;const l=this._getTexImage(t);if(!l)return void this.setError(o.INVALID_OPERATION);if(r!==o.RGBA&&r!==o.RGB&&r!==o.ALPHA&&r!==o.LUMINANCE&&r!==o.LUMINANCE_ALPHA)return void this.setError(o.INVALID_ENUM);if(e<0||a<0||A<0||0!==u)return void this.setError(o.INVALID_VALUE);if(e>0&&(!n.isPow2(a)||!n.isPow2(A)))return void this.setError(o.INVALID_VALUE);this._saveError(),super.copyTexImage2D(t,e,r,i,s,a,A,u);const c=this.getError();this._restoreError(c),c===o.NO_ERROR&&(l._levelWidth[e]=a,l._levelHeight[e]=A,l._format=o.RGBA,l._type=o.UNSIGNED_BYTE)}copyTexSubImage2D(t,e,r,n,i,s,a,A){t|=0,e|=0,r|=0,n|=0,i|=0,s|=0,a|=0,A|=0,this._getTexImage(t)?a<0||A<0||r<0||n<0||e<0?this.setError(o.INVALID_VALUE):super.copyTexSubImage2D(t,e,r,n,i,s,a,A):this.setError(o.INVALID_OPERATION)}cullFace(t){return super.cullFace(0|t)}createShader(t){if((t|=0)!==o.FRAGMENT_SHADER&&t!==o.VERTEX_SHADER)return this.setError(o.INVALID_ENUM),null;const e=super.createShader(t);if(e<0)return null;const r=new k(e,this,t);return this._shaders[e]=r,r}deleteProgram(t){return this._deleteLinkable("deleteProgram",t,Q)}deleteShader(t){return this._deleteLinkable("deleteShader",t,k)}_deleteLinkable(t,e,r){if(!b(e))throw new TypeError(t+"("+r.name+")");if(e instanceof r&&this._checkOwns(e))return e._pendingDelete=!0,void e._checkDelete();this.setError(o.INVALID_OPERATION)}deleteBuffer(t){if(!b(t)||null!==t&&!(t instanceof L))throw new TypeError("deleteBuffer(WebGLBuffer)");t instanceof L&&this._checkOwns(t)?(this._vertexGlobalState._arrayBufferBinding===t&&this.bindBuffer(o.ARRAY_BUFFER,null),this._vertexObjectState._elementArrayBufferBinding===t&&this.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null),this._vertexObjectState===this._defaultVertexObjectState&&this._vertexObjectState.releaseArrayBuffer(t),t._pendingDelete=!0,t._checkDelete()):this.setError(o.INVALID_OPERATION)}deleteFramebuffer(t){if(!b(t))throw new TypeError("deleteFramebuffer(WebGLFramebuffer)");t instanceof R&&this._checkOwns(t)?(this._activeFramebuffer===t&&this.bindFramebuffer(o.FRAMEBUFFER,null),t._pendingDelete=!0,t._checkDelete()):this.setError(o.INVALID_OPERATION)}deleteRenderbuffer(t){if(!b(t))throw new TypeError("deleteRenderbuffer(WebGLRenderbuffer)");if(!(t instanceof N&&this._checkOwns(t)))return void this.setError(o.INVALID_OPERATION);this._activeRenderbuffer===t&&this.bindRenderbuffer(o.RENDERBUFFER,null);const e=this._activeFramebuffer;this._tryDetachFramebuffer(e,t),t._pendingDelete=!0,t._checkDelete()}deleteTexture(t){if(!b(t))throw new TypeError("deleteTexture(WebGLTexture)");if(!(t instanceof j))return;if(!this._checkOwns(t))return void this.setError(o.INVALID_OPERATION);const e=this._activeTextureUnit;for(let e=0;e<this._textureUnits.length;++e){const r=this._textureUnits[e];r._bind2D===t?(this.activeTexture(o.TEXTURE0+e),this.bindTexture(o.TEXTURE_2D,null)):r._bindCube===t&&(this.activeTexture(o.TEXTURE0+e),this.bindTexture(o.TEXTURE_CUBE_MAP,null))}this.activeTexture(o.TEXTURE0+e);const r=this;!function(e){if(e&&e._linked(t)){const n=r._getAttachments();for(let i=0;i<n.length;++i){const s=n[i];e._attachments[s]===t&&r.framebufferTexture2D(o.FRAMEBUFFER,s,o.TEXTURE_2D,null)}}}(this._activeFramebuffer),t._pendingDelete=!0,t._checkDelete()}depthFunc(t){switch(t|=0){case o.NEVER:case o.LESS:case o.EQUAL:case o.LEQUAL:case o.GREATER:case o.NOTEQUAL:case o.GEQUAL:case o.ALWAYS:return super.depthFunc(t);default:this.setError(o.INVALID_ENUM)}}depthMask(t){return super.depthMask(!!t)}depthRange(t,e){if((t=+t)<=(e=+e))return super.depthRange(t,e);this.setError(o.INVALID_OPERATION)}destroy(){super.destroy()}detachShader(t,e){if(!b(t)||!b(e))throw new TypeError("detachShader(WebGLProgram, WebGLShader)");this._checkWrapper(t,Q)&&this._checkWrapper(e,k)&&(t._linked(e)?(super.detachShader(t._,e._),t._unlink(e)):this.setError(o.INVALID_OPERATION))}disable(t){if(t|=0,super.disable(t),t===o.TEXTURE_2D||t===o.TEXTURE_CUBE_MAP){const e=this._getActiveTextureUnit();e._mode===t&&(e._mode=0)}}disableVertexAttribArray(t){(t|=0)<0||t>=this._vertexObjectState._attribs.length?this.setError(o.INVALID_VALUE):(super.disableVertexAttribArray(t),this._vertexObjectState._attribs[t]._isPointer=!1)}drawArrays(t,e,r){if(t|=0,r|=0,(e|=0)<0||r<0)return void this.setError(o.INVALID_VALUE);if(!this._checkStencilState())return;const n=I(t,r);if(n<0)return void this.setError(o.INVALID_ENUM);if(!this._framebufferOk())return;if(0===r)return;let i=e;if(r>0&&(i=r+e-1>>>0),this._checkVertexAttribState(i)){if(this._vertexObjectState._attribs[0]._isPointer||this._extensions.webgl_draw_buffers&&this._extensions.webgl_draw_buffers._buffersState&&this._extensions.webgl_draw_buffers._buffersState.length>0)return super.drawArrays(t,e,n);this._beginAttrib0Hack(),super._drawArraysInstanced(t,e,n,1),this._endAttrib0Hack()}}drawElements(t,e,r,n){if(t|=0,r|=0,n|=0,(e|=0)<0||n<0)return void this.setError(o.INVALID_VALUE);if(!this._checkStencilState())return;const i=this._vertexObjectState._elementArrayBufferBinding;if(!i)return void this.setError(o.INVALID_OPERATION);let s=null,a=n;if(r===o.UNSIGNED_SHORT){if(a%2)return void this.setError(o.INVALID_OPERATION);a>>=1,s=new Uint16Array(i._elements.buffer)}else if(this._extensions.oes_element_index_uint&&r===o.UNSIGNED_INT){if(a%4)return void this.setError(o.INVALID_OPERATION);a>>=2,s=new Uint32Array(i._elements.buffer)}else{if(r!==o.UNSIGNED_BYTE)return void this.setError(o.INVALID_ENUM);s=i._elements}let A=e;switch(t){case o.TRIANGLES:e%3&&(A-=e%3);break;case o.LINES:e%2&&(A-=e%2);break;case o.POINTS:break;case o.LINE_LOOP:case o.LINE_STRIP:if(e<2)return void this.setError(o.INVALID_OPERATION);break;case o.TRIANGLE_FAN:case o.TRIANGLE_STRIP:if(e<3)return void this.setError(o.INVALID_OPERATION);break;default:return void this.setError(o.INVALID_ENUM)}if(!this._framebufferOk())return;if(0===e)return void this._checkVertexAttribState(0);if(e+a>>>0>s.length)return void this.setError(o.INVALID_OPERATION);let u=-1;for(let t=a;t<a+e;++t)u=Math.max(u,s[t]);if(u<0)this._checkVertexAttribState(0);else if(this._checkVertexAttribState(u)&&A>0){if(this._vertexObjectState._attribs[0]._isPointer)return super.drawElements(t,A,r,n);this._beginAttrib0Hack(),super._drawElementsInstanced(t,A,r,n,1),this._endAttrib0Hack()}}enable(t){t|=0,super.enable(t)}enableVertexAttribArray(t){(t|=0)<0||t>=this._vertexObjectState._attribs.length?this.setError(o.INVALID_VALUE):(super.enableVertexAttribArray(t),this._vertexObjectState._attribs[t]._isPointer=!0)}finish(){return super.finish()}flush(){return super.flush()}framebufferRenderbuffer(t,e,r,n){if(t|=0,e|=0,r|=0,!b(n))throw new TypeError("framebufferRenderbuffer(GLenum, GLenum, GLenum, WebGLRenderbuffer)");if(t!==o.FRAMEBUFFER||!this._validFramebufferAttachment(e)||r!==o.RENDERBUFFER)return void this.setError(o.INVALID_ENUM);const i=this._activeFramebuffer;i?n&&!this._checkWrapper(n,N)||(i._setAttachment(n,e),this._updateFramebufferAttachments(i)):this.setError(o.INVALID_OPERATION)}framebufferTexture2D(t,e,r,n,i){if(t|=0,e|=0,r|=0,i|=0,!b(n))throw new TypeError("framebufferTexture2D(GLenum, GLenum, GLenum, WebGLTexture, GLint)");if(t!==o.FRAMEBUFFER||!this._validFramebufferAttachment(e))return void this.setError(o.INVALID_ENUM);if(0!==i)return void this.setError(o.INVALID_VALUE);if(n&&!this._checkWrapper(n,j))return;if(r===o.TEXTURE_2D){if(n&&n._binding!==o.TEXTURE_2D)return void this.setError(o.INVALID_OPERATION)}else{if(!this._validCubeTarget(r))return void this.setError(o.INVALID_ENUM);if(n&&n._binding!==o.TEXTURE_CUBE_MAP)return void this.setError(o.INVALID_OPERATION)}const s=this._activeFramebuffer;s?(s._attachmentLevel[e]=i,s._attachmentFace[e]=r,s._setAttachment(n,e),this._updateFramebufferAttachments(s)):this.setError(o.INVALID_OPERATION)}frontFace(t){return super.frontFace(0|t)}generateMipmap(t){return 0|super.generateMipmap(0|t)}getActiveAttrib(t,e){if(!b(t))throw new TypeError("getActiveAttrib(WebGLProgram)");if(t){if(this._checkWrapper(t,Q)){const r=super.getActiveAttrib(0|t._,0|e);if(r)return new P(r)}}else this.setError(o.INVALID_VALUE);return null}getActiveUniform(t,e){if(!b(t))throw new TypeError("getActiveUniform(WebGLProgram, GLint)");if(t){if(this._checkWrapper(t,Q)){const r=super.getActiveUniform(0|t._,0|e);if(r)return new P(r)}}else this.setError(o.INVALID_VALUE);return null}getAttachedShaders(t){if(!b(t)||"object"==typeof t&&null!==t&&!(t instanceof Q))throw new TypeError("getAttachedShaders(WebGLProgram)");if(t){if(this._checkWrapper(t,Q)){const e=super.getAttachedShaders(0|t._);if(!e)return null;const r=new Array(e.length);for(let t=0;t<e.length;++t)r[t]=this._shaders[e[t]];return r}}else this.setError(o.INVALID_VALUE);return null}getAttribLocation(t,e){if(!b(t))throw new TypeError("getAttribLocation(WebGLProgram, String)");if(!x(e+="")||e.length>256)this.setError(o.INVALID_VALUE);else if(this._checkWrapper(t,Q))return super.getAttribLocation(0|t._,e+"");return-1}getParameter(t){switch(t|=0){case o.ARRAY_BUFFER_BINDING:return this._vertexGlobalState._arrayBufferBinding;case o.ELEMENT_ARRAY_BUFFER_BINDING:return this._vertexObjectState._elementArrayBufferBinding;case o.CURRENT_PROGRAM:return this._activeProgram;case o.FRAMEBUFFER_BINDING:return this._activeFramebuffer;case o.RENDERBUFFER_BINDING:return this._activeRenderbuffer;case o.TEXTURE_BINDING_2D:return this._getActiveTextureUnit()._bind2D;case o.TEXTURE_BINDING_CUBE_MAP:return this._getActiveTextureUnit()._bindCube;case o.VERSION:return"WebGL 1.0 stack-gl "+s;case o.VENDOR:return"stack-gl";case o.RENDERER:return"ANGLE";case o.SHADING_LANGUAGE_VERSION:return"WebGL GLSL ES 1.0 stack-gl";case o.COMPRESSED_TEXTURE_FORMATS:return new Uint32Array(0);case o.MAX_VIEWPORT_DIMS:case o.SCISSOR_BOX:case o.VIEWPORT:return new Int32Array(super.getParameter(t));case o.ALIASED_LINE_WIDTH_RANGE:case o.ALIASED_POINT_SIZE_RANGE:case o.DEPTH_RANGE:case o.BLEND_COLOR:case o.COLOR_CLEAR_VALUE:return new Float32Array(super.getParameter(t));case o.COLOR_WRITEMASK:return super.getParameter(t);case o.DEPTH_CLEAR_VALUE:case o.LINE_WIDTH:case o.POLYGON_OFFSET_FACTOR:case o.POLYGON_OFFSET_UNITS:case o.SAMPLE_COVERAGE_VALUE:return+super.getParameter(t);case o.BLEND:case o.CULL_FACE:case o.DEPTH_TEST:case o.DEPTH_WRITEMASK:case o.DITHER:case o.POLYGON_OFFSET_FILL:case o.SAMPLE_COVERAGE_INVERT:case o.SCISSOR_TEST:case o.STENCIL_TEST:case o.UNPACK_FLIP_Y_WEBGL:case o.UNPACK_PREMULTIPLY_ALPHA_WEBGL:return!!super.getParameter(t);case o.ACTIVE_TEXTURE:case o.ALPHA_BITS:case o.BLEND_DST_ALPHA:case o.BLEND_DST_RGB:case o.BLEND_EQUATION_ALPHA:case o.BLEND_EQUATION_RGB:case o.BLEND_SRC_ALPHA:case o.BLEND_SRC_RGB:case o.BLUE_BITS:case o.CULL_FACE_MODE:case o.DEPTH_BITS:case o.DEPTH_FUNC:case o.FRONT_FACE:case o.GENERATE_MIPMAP_HINT:case o.GREEN_BITS:case o.MAX_COMBINED_TEXTURE_IMAGE_UNITS:case o.MAX_CUBE_MAP_TEXTURE_SIZE:case o.MAX_FRAGMENT_UNIFORM_VECTORS:case o.MAX_RENDERBUFFER_SIZE:case o.MAX_TEXTURE_IMAGE_UNITS:case o.MAX_TEXTURE_SIZE:case o.MAX_VARYING_VECTORS:case o.MAX_VERTEX_ATTRIBS:case o.MAX_VERTEX_TEXTURE_IMAGE_UNITS:case o.MAX_VERTEX_UNIFORM_VECTORS:case o.PACK_ALIGNMENT:case o.RED_BITS:case o.SAMPLE_BUFFERS:case o.SAMPLES:case o.STENCIL_BACK_FAIL:case o.STENCIL_BACK_FUNC:case o.STENCIL_BACK_PASS_DEPTH_FAIL:case o.STENCIL_BACK_PASS_DEPTH_PASS:case o.STENCIL_BACK_REF:case o.STENCIL_BACK_VALUE_MASK:case o.STENCIL_BACK_WRITEMASK:case o.STENCIL_BITS:case o.STENCIL_CLEAR_VALUE:case o.STENCIL_FAIL:case o.STENCIL_FUNC:case o.STENCIL_PASS_DEPTH_FAIL:case o.STENCIL_PASS_DEPTH_PASS:case o.STENCIL_REF:case o.STENCIL_VALUE_MASK:case o.STENCIL_WRITEMASK:case o.SUBPIXEL_BITS:case o.UNPACK_ALIGNMENT:case o.UNPACK_COLORSPACE_CONVERSION_WEBGL:return 0|super.getParameter(t);case o.IMPLEMENTATION_COLOR_READ_FORMAT:case o.IMPLEMENTATION_COLOR_READ_TYPE:return super.getParameter(t);default:if(this._extensions.webgl_draw_buffers){const e=this._extensions.webgl_draw_buffers;switch(t){case e.DRAW_BUFFER0_WEBGL:case e.DRAW_BUFFER1_WEBGL:case e.DRAW_BUFFER2_WEBGL:case e.DRAW_BUFFER3_WEBGL:case e.DRAW_BUFFER4_WEBGL:case e.DRAW_BUFFER5_WEBGL:case e.DRAW_BUFFER6_WEBGL:case e.DRAW_BUFFER7_WEBGL:case e.DRAW_BUFFER8_WEBGL:case e.DRAW_BUFFER9_WEBGL:case e.DRAW_BUFFER10_WEBGL:case e.DRAW_BUFFER11_WEBGL:case e.DRAW_BUFFER12_WEBGL:case e.DRAW_BUFFER13_WEBGL:case e.DRAW_BUFFER14_WEBGL:case e.DRAW_BUFFER15_WEBGL:return 1===e._buffersState.length&&e._buffersState[0]===o.BACK?o.BACK:super.getParameter(t);case e.MAX_DRAW_BUFFERS_WEBGL:case e.MAX_COLOR_ATTACHMENTS_WEBGL:return super.getParameter(t)}}return this._extensions.oes_standard_derivatives&&t===this._extensions.oes_standard_derivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES||this._extensions.ext_texture_filter_anisotropic&&t===this._extensions.ext_texture_filter_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT?super.getParameter(t):this._extensions.oes_vertex_array_object&&t===this._extensions.oes_vertex_array_object.VERTEX_ARRAY_BINDING_OES?this._extensions.oes_vertex_array_object._activeVertexArrayObject:(this.setError(o.INVALID_ENUM),null)}}getShaderPrecisionFormat(t,e){if(e|=0,(t|=0)!==o.FRAGMENT_SHADER&&t!==o.VERTEX_SHADER||e!==o.LOW_FLOAT&&e!==o.MEDIUM_FLOAT&&e!==o.HIGH_FLOAT&&e!==o.LOW_INT&&e!==o.MEDIUM_INT&&e!==o.HIGH_INT)return void this.setError(o.INVALID_ENUM);const r=super.getShaderPrecisionFormat(t,e);return r?new H(r):null}getBufferParameter(t,e){if(e|=0,(t|=0)!==o.ARRAY_BUFFER&&t!==o.ELEMENT_ARRAY_BUFFER)return this.setError(o.INVALID_ENUM),null;switch(e){case o.BUFFER_SIZE:case o.BUFFER_USAGE:return super.getBufferParameter(0|t,0|e);default:return this.setError(o.INVALID_ENUM),null}}getError(){return super.getError()}getFramebufferAttachmentParameter(t,e,r){if(e|=0,r|=0,(t|=0)!==o.FRAMEBUFFER||!this._validFramebufferAttachment(e))return this.setError(o.INVALID_ENUM),null;const n=this._activeFramebuffer;if(!n)return this.setError(o.INVALID_OPERATION),null;const i=n._attachments[e];if(null===i){if(r===o.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE)return o.NONE}else if(i instanceof j)switch(r){case o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:return i;case o.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:return o.TEXTURE;case o.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:return n._attachmentLevel[e];case o.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:{const t=n._attachmentFace[e];return t===o.TEXTURE_2D?0:t}}else if(i instanceof N)switch(r){case o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:return i;case o.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:return o.RENDERBUFFER}return this.setError(o.INVALID_ENUM),null}getProgramParameter(t,e){if(e|=0,!b(t))throw new TypeError("getProgramParameter(WebGLProgram, GLenum)");if(this._checkWrapper(t,Q)){switch(e){case o.DELETE_STATUS:return t._pendingDelete;case o.LINK_STATUS:return t._linkStatus;case o.VALIDATE_STATUS:return!!super.getProgramParameter(t._,e);case o.ATTACHED_SHADERS:case o.ACTIVE_ATTRIBUTES:case o.ACTIVE_UNIFORMS:return super.getProgramParameter(t._,e)}this.setError(o.INVALID_ENUM)}return null}getProgramInfoLog(t){if(!b(t))throw new TypeError("getProgramInfoLog(WebGLProgram)");return this._checkWrapper(t,Q)?t._linkInfoLog:null}getRenderbufferParameter(t,e){if(e|=0,(t|=0)!==o.RENDERBUFFER)return this.setError(o.INVALID_ENUM),null;const r=this._activeRenderbuffer;if(!r)return this.setError(o.INVALID_OPERATION),null;switch(e){case o.RENDERBUFFER_INTERNAL_FORMAT:return r._format;case o.RENDERBUFFER_WIDTH:return r._width;case o.RENDERBUFFER_HEIGHT:return r._height;case o.RENDERBUFFER_SIZE:case o.RENDERBUFFER_RED_SIZE:case o.RENDERBUFFER_GREEN_SIZE:case o.RENDERBUFFER_BLUE_SIZE:case o.RENDERBUFFER_ALPHA_SIZE:case o.RENDERBUFFER_DEPTH_SIZE:case o.RENDERBUFFER_STENCIL_SIZE:return super.getRenderbufferParameter(t,e)}return this.setError(o.INVALID_ENUM),null}getShaderParameter(t,e){if(e|=0,!b(t))throw new TypeError("getShaderParameter(WebGLShader, GLenum)");if(this._checkWrapper(t,k)){switch(e){case o.DELETE_STATUS:return t._pendingDelete;case o.COMPILE_STATUS:return t._compileStatus;case o.SHADER_TYPE:return t._type}this.setError(o.INVALID_ENUM)}return null}getShaderInfoLog(t){if(!b(t))throw new TypeError("getShaderInfoLog(WebGLShader)");return this._checkWrapper(t,k)?t._compileInfo:null}getShaderSource(t){if(!b(t))throw new TypeError("Input to getShaderSource must be an object");return this._checkWrapper(t,k)?t._source:null}getTexParameter(t,e){if(t|=0,e|=0,!this._checkTextureTarget(t))return null;const r=this._getActiveTextureUnit();if(t===o.TEXTURE_2D&&!r._bind2D||t===o.TEXTURE_CUBE_MAP&&!r._bindCube)return this.setError(o.INVALID_OPERATION),null;switch(e){case o.TEXTURE_MAG_FILTER:case o.TEXTURE_MIN_FILTER:case o.TEXTURE_WRAP_S:case o.TEXTURE_WRAP_T:return super.getTexParameter(t,e)}return this._extensions.ext_texture_filter_anisotropic&&e===this._extensions.ext_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT?super.getTexParameter(t,e):(this.setError(o.INVALID_ENUM),null)}getUniform(t,e){if(!b(t)||!b(e))throw new TypeError("getUniform(WebGLProgram, WebGLUniformLocation)");if(!t)return this.setError(o.INVALID_VALUE),null;if(!e)return null;if(this._checkWrapper(t,Q)){if(!w(t,e))return this.setError(o.INVALID_OPERATION),null;const r=super.getUniform(0|t._,0|e._);if(!r)return null;switch(e._activeInfo.type){case o.FLOAT:return r[0];case o.FLOAT_VEC2:return new Float32Array(r.slice(0,2));case o.FLOAT_VEC3:return new Float32Array(r.slice(0,3));case o.FLOAT_VEC4:return new Float32Array(r.slice(0,4));case o.INT:return 0|r[0];case o.INT_VEC2:return new Int32Array(r.slice(0,2));case o.INT_VEC3:return new Int32Array(r.slice(0,3));case o.INT_VEC4:return new Int32Array(r.slice(0,4));case o.BOOL:return!!r[0];case o.BOOL_VEC2:return[!!r[0],!!r[1]];case o.BOOL_VEC3:return[!!r[0],!!r[1],!!r[2]];case o.BOOL_VEC4:return[!!r[0],!!r[1],!!r[2],!!r[3]];case o.FLOAT_MAT2:return new Float32Array(r.slice(0,4));case o.FLOAT_MAT3:return new Float32Array(r.slice(0,9));case o.FLOAT_MAT4:return new Float32Array(r.slice(0,16));case o.SAMPLER_2D:case o.SAMPLER_CUBE:return 0|r[0];default:return null}}return null}getUniformLocation(t,e){if(!b(t))throw new TypeError("getUniformLocation(WebGLProgram, String)");if(x(e+="")){if(this._checkWrapper(t,Q)){const r=super.getUniformLocation(0|t._,e);if(r>=0){let n=e;/\[\d+\]$/.test(e)&&(n=e.replace(/\[\d+\]$/,"[0]"));let i=null;for(let e=0;e<t._uniforms.length;++e){const r=t._uniforms[e];r.name===n&&(i={size:r.size,type:r.type,name:r.name})}if(!i)return null;const s=new V(r,t,i);if(/\[0\]$/.test(e)){const r=e.replace(/\[0\]$/,""),n=[];this._saveError();for(let e=0;this.getError()===o.NO_ERROR;++e){const i=super.getUniformLocation(0|t._,r+"["+e+"]");if(this.getError()!==o.NO_ERROR||i<0)break;n.push(i)}this._restoreError(o.NO_ERROR),s._array=n}else if(/\[(\d+)\]$/.test(e)){const t=+/\[(\d+)\]$/.exec(e)[1];if(t<0||t>=i.size)return null}return s}}return null}this.setError(o.INVALID_VALUE)}getVertexAttrib(t,e){if(e|=0,(t|=0)<0||t>=this._vertexObjectState._attribs.length)return this.setError(o.INVALID_VALUE),null;const r=this._vertexObjectState._attribs[t],n=this._vertexGlobalState._attribs[t]._data,i=this._extensions.angle_instanced_arrays;if(i&&e===i.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)return r._divisor;switch(e){case o.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:return r._pointerBuffer;case o.VERTEX_ATTRIB_ARRAY_ENABLED:return r._isPointer;case o.VERTEX_ATTRIB_ARRAY_SIZE:return r._inputSize;case o.VERTEX_ATTRIB_ARRAY_STRIDE:return r._inputStride;case o.VERTEX_ATTRIB_ARRAY_TYPE:return r._pointerType;case o.VERTEX_ATTRIB_ARRAY_NORMALIZED:return r._pointerNormal;case o.CURRENT_VERTEX_ATTRIB:return new Float32Array(n);default:return this.setError(o.INVALID_ENUM),null}}getVertexAttribOffset(t,e){return e|=0,(t|=0)<0||t>=this._vertexObjectState._attribs.length?(this.setError(o.INVALID_VALUE),null):e===o.VERTEX_ATTRIB_ARRAY_POINTER?this._vertexObjectState._attribs[t]._pointerOffset:(this.setError(o.INVALID_ENUM),null)}hint(t,e){if(e|=0,(t|=0)===o.GENERATE_MIPMAP_HINT||this._extensions.oes_standard_derivatives&&t===this._extensions.oes_standard_derivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES){if(e===o.FASTEST||e===o.NICEST||e===o.DONT_CARE)return super.hint(t,e);this.setError(o.INVALID_ENUM)}else this.setError(o.INVALID_ENUM)}isBuffer(t){return!!this._isObject(t,"isBuffer",L)&&super.isBuffer(0|t._)}isFramebuffer(t){return!!this._isObject(t,"isFramebuffer",R)&&super.isFramebuffer(0|t._)}isProgram(t){return!!this._isObject(t,"isProgram",Q)&&super.isProgram(0|t._)}isRenderbuffer(t){return!!this._isObject(t,"isRenderbuffer",N)&&super.isRenderbuffer(0|t._)}isShader(t){return!!this._isObject(t,"isShader",k)&&super.isShader(0|t._)}isTexture(t){return!!this._isObject(t,"isTexture",j)&&super.isTexture(0|t._)}isEnabled(t){return super.isEnabled(0|t)}lineWidth(t){if(!isNaN(t))return super.lineWidth(+t);this.setError(o.INVALID_VALUE)}linkProgram(t){if(!b(t))throw new TypeError("linkProgram(WebGLProgram)");if(this._checkWrapper(t,Q)){t._linkCount+=1,t._attributes=[];const e=this.getError();super.linkProgram(0|t._);const r=this.getError();r===o.NO_ERROR&&(t._linkStatus=this._fixupLink(t)),this.getError(),this.setError(e||r)}}pixelStorei(t,e){if(e|=0,(t|=0)===o.UNPACK_ALIGNMENT){if(1!==e&&2!==e&&4!==e&&8!==e)return void this.setError(o.INVALID_VALUE);this._unpackAlignment=e}else if(t===o.PACK_ALIGNMENT){if(1!==e&&2!==e&&4!==e&&8!==e)return void this.setError(o.INVALID_VALUE);this._packAlignment=e}else if(t===o.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e!==o.NONE&&e!==o.BROWSER_DEFAULT_WEBGL)return void this.setError(o.INVALID_VALUE);return super.pixelStorei(t,e)}polygonOffset(t,e){return super.polygonOffset(+t,+e)}readPixels(t,e,r,n,i,s,a){if(t|=0,e|=0,r|=0,n|=0,this._extensions.oes_texture_float&&s===o.FLOAT&&i===o.RGBA);else{if(i===o.RGB||i===o.ALPHA||s!==o.UNSIGNED_BYTE)return void this.setError(o.INVALID_OPERATION);if(i!==o.RGBA)return void this.setError(o.INVALID_ENUM);if(r<0||n<0||!(a instanceof Uint8Array))return void this.setError(o.INVALID_VALUE)}if(!this._framebufferOk())return;let A=4*r;A%this._packAlignment!=0&&(A+=this._packAlignment-A%this._packAlignment);const u=A*(n-1)+4*r;if(u<=0)return;if(a.length<u)return void this.setError(o.INVALID_VALUE);let l=this.drawingBufferWidth,c=this.drawingBufferHeight;this._activeFramebuffer&&(l=this._activeFramebuffer._width,c=this._activeFramebuffer._height);const h=S(a);if(t>=l||t+r<=0||e>=c||e+n<=0)for(let t=0;t<h.length;++t)h[t]=0;else if(t<0||t+r>l||e<0||e+n>c){for(let t=0;t<h.length;++t)h[t]=0;let o=t,a=r;t<0&&(a+=t,o=0),o+r>l&&(a=l-o);let u=e,f=n;e<0&&(f+=e,u=0),u+n>c&&(f=c-u);let p=4*a;if(p%this._packAlignment!=0&&(p+=this._packAlignment-p%this._packAlignment),a>0&&f>0){const r=new Uint8Array(p*f);super.readPixels(o,u,a,f,i,s,r);const n=4*(o-t)+(u-e)*A;for(let t=0;t<f;++t)for(let e=0;e<a;++e)for(let i=0;i<4;++i)h[n+t*A+4*e+i]=r[t*p+4*e+i]}}else super.readPixels(t,e,r,n,i,s,h)}renderbufferStorage(t,e,r,n){if(e|=0,r|=0,n|=0,(t|=0)!==o.RENDERBUFFER)return void this.setError(o.INVALID_ENUM);const i=this._activeRenderbuffer;if(!i)return void this.setError(o.INVALID_OPERATION);if(e!==o.RGBA4&&e!==o.RGB565&&e!==o.RGB5_A1&&e!==o.DEPTH_COMPONENT16&&e!==o.STENCIL_INDEX&&e!==o.STENCIL_INDEX8&&e!==o.DEPTH_STENCIL)return void this.setError(o.INVALID_ENUM);this._saveError(),super.renderbufferStorage(t,e,r,n);const s=this.getError();if(this._restoreError(s),s!==o.NO_ERROR)return;i._width=r,i._height=n,i._format=e;const a=this._activeFramebuffer;if(a){let t=!1;const e=this._getAttachments();for(let r=0;r<e.length;++r)if(a._attachments[e[r]]===i){t=!0;break}t&&this._updateFramebufferAttachments(this._activeFramebuffer)}}resize(t,e){if(e|=0,!((t|=0)>0&&e>0))throw new Error("Invalid surface dimensions");t===this.drawingBufferWidth&&e===this.drawingBufferHeight||(this._resizeDrawingBuffer(t,e),this.drawingBufferWidth=t,this.drawingBufferHeight=e)}sampleCoverage(t,e){return super.sampleCoverage(+t,!!e)}scissor(t,e,r,n){return super.scissor(0|t,0|e,0|r,0|n)}shaderSource(t,e){if(!b(t))throw new TypeError("shaderSource(WebGLShader, String)");t&&(e||"string"==typeof e)&&x(e+="")?this._checkWrapper(t,k)&&(super.shaderSource(0|t._,this._wrapShader(t._type,e)),t._source=e):this.setError(o.INVALID_VALUE)}stencilFunc(t,e,r){return this._checkStencil=!0,super.stencilFunc(0|t,0|e,0|r)}stencilFuncSeparate(t,e,r,n){return this._checkStencil=!0,super.stencilFuncSeparate(0|t,0|e,0|r,0|n)}stencilMask(t){return this._checkStencil=!0,super.stencilMask(0|t)}stencilMaskSeparate(t,e){return this._checkStencil=!0,super.stencilMaskSeparate(0|t,0|e)}stencilOp(t,e,r){return this._checkStencil=!0,super.stencilOp(0|t,0|e,0|r)}stencilOpSeparate(t,e,r,n){return this._checkStencil=!0,super.stencilOpSeparate(0|t,0|e,0|r,0|n)}texImage2D(t,e,r,n,i,s,a,A,u){if(6===arguments.length){if(A=i,a=n,null==(u=T(u=s)))throw new TypeError("texImage2D(GLenum, GLint, GLenum, GLint, GLenum, GLenum, ImageData | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement)");n=u.width,i=u.height,u=u.data}if(t|=0,e|=0,r|=0,n|=0,i|=0,s|=0,a|=0,A|=0,"object"!=typeof u&&void 0!==u)throw new TypeError("texImage2D(GLenum, GLint, GLenum, GLint, GLint, GLint, GLenum, GLenum, Uint8Array)");if(!M(a)||!M(r))return void this.setError(o.INVALID_ENUM);if(A===o.FLOAT&&!this._extensions.oes_texture_float)return void this.setError(o.INVALID_ENUM);const l=this._getTexImage(t);if(!l||a!==r)return void this.setError(o.INVALID_OPERATION);const c=this._computePixelSize(A,a);if(0===c)return;if(!this._checkDimensions(t,n,i,e))return;const h=U(u),f=this._computeRowStride(n,c)*i;if(h&&h.length<f)return void this.setError(o.INVALID_OPERATION);if(0!==s||O(t)&&n!==i)return void this.setError(o.INVALID_VALUE);this._saveError(),super.texImage2D(t,e,r,n,i,s,a,A,h);const p=this.getError();if(this._restoreError(p),p!==o.NO_ERROR)return;l._levelWidth[e]=n,l._levelHeight[e]=i,l._format=a,l._type=A;const d=this._activeFramebuffer;if(d){let t=!1;const e=this._getAttachments();for(let r=0;r<e.length;++r)if(d._attachments[e[r]]===l){t=!0;break}t&&this._updateFramebufferAttachments(this._activeFramebuffer)}}texSubImage2D(t,e,r,n,i,s,a,A,u){if(7===arguments.length){if(u=a,A=s,a=i,null==(u=T(u)))throw new TypeError("texSubImage2D(GLenum, GLint, GLint, GLint, GLenum, GLenum, ImageData | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement)");i=u.width,s=u.height,u=u.data}if("object"!=typeof u)throw new TypeError("texSubImage2D(GLenum, GLint, GLint, GLint, GLint, GLint, GLenum, GLenum, Uint8Array)");if(t|=0,e|=0,r|=0,n|=0,i|=0,s|=0,a|=0,A|=0,!this._getTexImage(t))return void this.setError(o.INVALID_OPERATION);if(A===o.FLOAT&&!this._extensions.oes_texture_float)return void this.setError(o.INVALID_ENUM);const l=this._computePixelSize(A,a);if(0===l)return;if(!this._checkDimensions(t,i,s,e))return;if(r<0||n<0)return void this.setError(o.INVALID_VALUE);const c=U(u),h=this._computeRowStride(i,l)*s;!c||c.length<h?this.setError(o.INVALID_OPERATION):super.texSubImage2D(t,e,r,n,i,s,a,A,c)}texParameterf(t,e,r){if(t|=0,e|=0,r=+r,this._checkTextureTarget(t)){switch(this._verifyTextureCompleteness(t,e,r),e){case o.TEXTURE_MIN_FILTER:case o.TEXTURE_MAG_FILTER:case o.TEXTURE_WRAP_S:case o.TEXTURE_WRAP_T:return super.texParameterf(t,e,r)}if(this._extensions.ext_texture_filter_anisotropic&&e===this._extensions.ext_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT)return super.texParameterf(t,e,r);this.setError(o.INVALID_ENUM)}}texParameteri(t,e,r){if(t|=0,e|=0,r|=0,this._checkTextureTarget(t)){switch(this._verifyTextureCompleteness(t,e,r),e){case o.TEXTURE_MIN_FILTER:case o.TEXTURE_MAG_FILTER:case o.TEXTURE_WRAP_S:case o.TEXTURE_WRAP_T:return super.texParameteri(t,e,r)}if(this._extensions.ext_texture_filter_anisotropic&&e===this._extensions.ext_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT)return super.texParameteri(t,e,r);this.setError(o.INVALID_ENUM)}}useProgram(t){if(!b(t))throw new TypeError("useProgram(WebGLProgram)");return t?this._checkWrapper(t,Q)?(this._activeProgram!==t&&(this._switchActiveProgram(this._activeProgram),this._activeProgram=t,t._refCount+=1),super.useProgram(0|t._)):void 0:(this._switchActiveProgram(this._activeProgram),this._activeProgram=null,super.useProgram(0))}validateProgram(t){if(this._checkWrapper(t,Q)){super.validateProgram(0|t._);const e=this.getError();e===o.NO_ERROR&&(t._linkInfoLog=super.getProgramInfoLog(0|t._)),this.getError(),this.setError(e)}}vertexAttribPointer(t,e,r,n,i,s){if(i<0||s<0)return void this.setError(o.INVALID_VALUE);if(t|=0,e|=0,r|=0,n=!!n,s|=0,(i|=0)<0||s<0||t<0||t>=this._vertexObjectState._attribs.length||1!==e&&2!==e&&3!==e&&4!==e)return void this.setError(o.INVALID_VALUE);if(null===this._vertexGlobalState._arrayBufferBinding)return void this.setError(o.INVALID_OPERATION);const a=E(r);0!==a&&r!==o.INT&&r!==o.UNSIGNED_INT?i>255||i<0?this.setError(o.INVALID_VALUE):i%a==0&&s%a==0?(super.vertexAttribPointer(t,e,r,n,i,s),this._vertexObjectState.setVertexAttribPointer(this._vertexGlobalState._arrayBufferBinding,t,e*a,s,i||e*a,r,n,i,e)):this.setError(o.INVALID_OPERATION):this.setError(o.INVALID_ENUM)}viewport(t,e,r,n){return super.viewport(0|t,0|e,0|r,0|n)}_allocateDrawingBuffer(t,e){this._drawingBuffer=new D(super.createFramebuffer(),super.createTexture(),super.createRenderbuffer()),this._resizeDrawingBuffer(t,e)}isContextLost(){return!1}compressedTexImage2D(){}compressedTexSubImage2D(){}_checkUniformValid(t,e,r,n,i){if(!b(t))throw new TypeError(`${r}(WebGLUniformLocation, ...)`);if(!t)return!1;if(this._checkLocationActive(t)){const r=t._activeInfo.type;if(r===o.SAMPLER_2D||r===o.SAMPLER_CUBE){if(1!==n)return void this.setError(o.INVALID_VALUE);if("i"!==i)return void this.setError(o.INVALID_OPERATION);if(e<0||e>=this._textureUnits.length)return this.setError(o.INVALID_VALUE),!1}return!(C(r)>n&&(this.setError(o.INVALID_OPERATION),1))}return!1}_checkUniformValueValid(t,e,r,n,i){if(!b(t)||!b(e))throw new TypeError(`${r}v(WebGLUniformLocation, Array)`);if(!t)return!1;if(!this._checkLocationActive(t))return!1;if("object"!=typeof e||!e||"number"!=typeof e.length)throw new TypeError(`Second argument to ${r} must be array`);return C(t._activeInfo.type)>n?(this.setError(o.INVALID_OPERATION),!1):e.length>=n&&e.length%n==0?!!t._array||e.length===n||(this.setError(o.INVALID_OPERATION),!1):(this.setError(o.INVALID_VALUE),!1)}uniform1f(t,e){this._checkUniformValid(t,e,"uniform1f",1,"f")&&super.uniform1f(0|t._,e)}uniform1fv(t,e){if(this._checkUniformValueValid(t,e,"uniform1fv",1,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&t<e.length;++t){const n=r[t];super.uniform1f(n,e[t])}}else super.uniform1f(0|t._,e[0])}uniform1i(t,e){this._checkUniformValid(t,e,"uniform1i",1,"i")&&super.uniform1i(0|t._,e)}uniform1iv(t,e){if(this._checkUniformValueValid(t,e,"uniform1iv",1,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&t<e.length;++t){const n=r[t];super.uniform1i(n,e[t])}}else this.uniform1i(t,e[0])}uniform2f(t,e,r){this._checkUniformValid(t,e,"uniform2f",2,"f")&&super.uniform2f(0|t._,e,r)}uniform2fv(t,e){if(this._checkUniformValueValid(t,e,"uniform2fv",2,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&2*t<e.length;++t){const n=r[t];super.uniform2f(n,e[2*t],e[2*t+1])}}else super.uniform2f(0|t._,e[0],e[1])}uniform2i(t,e,r){this._checkUniformValid(t,e,"uniform2i",2,"i")&&super.uniform2i(0|t._,e,r)}uniform2iv(t,e){if(this._checkUniformValueValid(t,e,"uniform2iv",2,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&2*t<e.length;++t){const n=r[t];super.uniform2i(n,e[2*t],e[2*t+1])}}else this.uniform2i(t,e[0],e[1])}uniform3f(t,e,r,n){this._checkUniformValid(t,e,"uniform3f",3,"f")&&super.uniform3f(0|t._,e,r,n)}uniform3fv(t,e){if(this._checkUniformValueValid(t,e,"uniform3fv",3,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&3*t<e.length;++t){const n=r[t];super.uniform3f(n,e[3*t],e[3*t+1],e[3*t+2])}}else super.uniform3f(0|t._,e[0],e[1],e[2])}uniform3i(t,e,r,n){this._checkUniformValid(t,e,"uniform3i",3,"i")&&super.uniform3i(0|t._,e,r,n)}uniform3iv(t,e){if(this._checkUniformValueValid(t,e,"uniform3iv",3,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&3*t<e.length;++t){const n=r[t];super.uniform3i(n,e[3*t],e[3*t+1],e[3*t+2])}}else this.uniform3i(t,e[0],e[1],e[2])}uniform4f(t,e,r,n,i){this._checkUniformValid(t,e,"uniform4f",4,"f")&&super.uniform4f(0|t._,e,r,n,i)}uniform4fv(t,e){if(this._checkUniformValueValid(t,e,"uniform4fv",4,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&4*t<e.length;++t){const n=r[t];super.uniform4f(n,e[4*t],e[4*t+1],e[4*t+2],e[4*t+3])}}else super.uniform4f(0|t._,e[0],e[1],e[2],e[3])}uniform4i(t,e,r,n,i){this._checkUniformValid(t,e,"uniform4i",4,"i")&&super.uniform4i(0|t._,e,r,n,i)}uniform4iv(t,e){if(this._checkUniformValueValid(t,e,"uniform4iv",4,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&4*t<e.length;++t){const n=r[t];super.uniform4i(n,e[4*t],e[4*t+1],e[4*t+2],e[4*t+3])}}else this.uniform4i(t,e[0],e[1],e[2],e[3])}_checkUniformMatrix(t,e,r,n,i){if(!b(t)||"object"!=typeof r)throw new TypeError(n+"(WebGLUniformLocation, Boolean, Array)");return e||"object"!=typeof r||null===r||!r.length||r.length%i*i!=0?(this.setError(o.INVALID_VALUE),!1):!(!t||!this._checkLocationActive(t)||r.length!==i*i&&!t._array&&(this.setError(o.INVALID_VALUE),1))}uniformMatrix2fv(t,e,r){if(!this._checkUniformMatrix(t,e,r,"uniformMatrix2fv",2))return;const n=new Float32Array(r);super.uniformMatrix2fv(0|t._,!!e,n)}uniformMatrix3fv(t,e,r){if(!this._checkUniformMatrix(t,e,r,"uniformMatrix3fv",3))return;const n=new Float32Array(r);super.uniformMatrix3fv(0|t._,!!e,n)}uniformMatrix4fv(t,e,r){if(!this._checkUniformMatrix(t,e,r,"uniformMatrix4fv",4))return;const n=new Float32Array(r);super.uniformMatrix4fv(0|t._,!!e,n)}vertexAttrib1f(t,e){if(t|=0,!this._checkVertexIndex(t))return;const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[1]=r[2]=0,r[0]=e,super.vertexAttrib1f(0|t,+e)}vertexAttrib2f(t,e,r){if(t|=0,!this._checkVertexIndex(t))return;const n=this._vertexGlobalState._attribs[t]._data;return n[3]=1,n[2]=0,n[1]=r,n[0]=e,super.vertexAttrib2f(0|t,+e,+r)}vertexAttrib3f(t,e,r,n){if(t|=0,!this._checkVertexIndex(t))return;const i=this._vertexGlobalState._attribs[t]._data;return i[3]=1,i[2]=n,i[1]=r,i[0]=e,super.vertexAttrib3f(0|t,+e,+r,+n)}vertexAttrib4f(t,e,r,n,i){if(t|=0,!this._checkVertexIndex(t))return;const s=this._vertexGlobalState._attribs[t]._data;return s[3]=i,s[2]=n,s[1]=r,s[0]=e,super.vertexAttrib4f(0|t,+e,+r,+n,+i)}vertexAttrib1fv(t,e){if("object"!=typeof e||null===e||e.length<1)return void this.setError(o.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[2]=0,r[1]=0,r[0]=e[0],super.vertexAttrib1f(0|t,+e[0])}vertexAttrib2fv(t,e){if("object"!=typeof e||null===e||e.length<2)return void this.setError(o.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[2]=0,r[1]=e[1],r[0]=e[0],super.vertexAttrib2f(0|t,+e[0],+e[1])}vertexAttrib3fv(t,e){if("object"!=typeof e||null===e||e.length<3)return void this.setError(o.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[2]=e[2],r[1]=e[1],r[0]=e[0],super.vertexAttrib3f(0|t,+e[0],+e[1],+e[2])}vertexAttrib4fv(t,e){if("object"!=typeof e||null===e||e.length<4)return void this.setError(o.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=e[3],r[2]=e[2],r[1]=e[1],r[0]=e[0],super.vertexAttrib4f(0|t,+e[0],+e[1],+e[2],+e[3])}}t.exports={WebGLRenderingContext:X,wrapContext:function(t){const e=new X;return _(Object.keys(t),e,t,z),_(Object.keys(t.constructor.prototype),e,t,z),_(Object.getOwnPropertyNames(t),e,t,z),_(Object.getOwnPropertyNames(t.constructor.prototype),e,t,z),Object.defineProperties(e,{drawingBufferWidth:{get:()=>t.drawingBufferWidth,set(e){t.drawingBufferWidth=e}},drawingBufferHeight:{get:()=>t.drawingBufferHeight,set(e){t.drawingBufferHeight=e}}}),e}}},(t,e,r)=>{var n=r(52);t.exports=function(t,e){var r=n(e),i=[];return(i=i.concat(r(t))).concat(r(null))}},(t,e,r)=>{t.exports=function(t){var e,r,c,h=0,f=0,p=A,d=[],g=[],m=1,v=0,y=0,_=!1,b=!1,w="",B=s,x=n;"300 es"===(t=t||{}).version&&(B=a,x=o);var E={},C={};for(h=0;h<B.length;h++)E[B[h]]=!0;for(h=0;h<x.length;h++)C[x[h]]=!0;return function(t){return g=[],null!==t?function(t){var r;for(h=0,t.toString&&(t=t.toString()),w+=t.replace(/\r\n/g,"\n"),c=w.length;e=w[h],h<c;){switch(r=h,p){case 0:h=U();break;case 1:case 2:h=S();break;case 3:h=M();break;case 4:h=R();break;case 11:h=P();break;case 5:h=L();break;case u:h=D();break;case 9:h=F();break;case A:h=I()}r!==h&&("\n"===w[r]?(v=0,++m):++v)}return f+=h,w=w.slice(h),g}(t):(d.length&&T(d.join("")),p=10,T("(eof)"),g)};function T(t){t.length&&g.push({type:l[p],data:t,position:y,line:m,column:v})}function I(){return d=d.length?[]:d,"/"===r&&"*"===e?(y=f+h-1,p=0,r=e,h+1):"/"===r&&"/"===e?(y=f+h-1,p=1,r=e,h+1):"#"===e?(p=2,y=f+h,h):/\s/.test(e)?(p=9,y=f+h,h):(_=/\d/.test(e),b=/[^\w_]/.test(e),y=f+h,p=_?4:b?3:u,h)}function F(){return/[^\s]/g.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function S(){return"\r"!==e&&"\n"!==e||"\\"===r?(d.push(e),r=e,h+1):(T(d.join("")),p=A,h)}function U(){return"/"===e&&"*"===r?(d.push(e),T(d.join("")),p=A,h+1):(d.push(e),r=e,h+1)}function M(){if("."===r&&/\d/.test(e))return p=5,h;if("/"===r&&"*"===e)return p=0,h;if("/"===r&&"/"===e)return p=1,h;if("."===e&&d.length){for(;O(d););return p=5,h}if(";"===e||")"===e||"("===e){if(d.length)for(;O(d););return T(e),p=A,h+1}var t=2===d.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;O(d););return p=A,h}return d.push(e),r=e,h+1}function O(t){for(var e,r,n=0;;){if(e=i.indexOf(t.slice(0,t.length+n).join("")),r=i[e],-1===e){if(n--+t.length>0)continue;r=t.slice(0,1).join("")}return T(r),y+=r.length,(d=d.slice(r.length)).length}}function P(){return/[^a-fA-F0-9]/.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function R(){return"."===e||/[eE]/.test(e)?(d.push(e),p=5,r=e,h+1):"x"===e&&1===d.length&&"0"===d[0]?(p=11,d.push(e),r=e,h+1):/[^\d]/.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function L(){return"f"===e&&(d.push(e),r=e,h+=1),/[eE]/.test(e)?(d.push(e),r=e,h+1):("-"!==e&&"+"!==e||!/[eE]/.test(r))&&/[^\d]/.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function D(){if(/[^\d\w_]/.test(e)){var t=d.join("");return p=C[t]?8:E[t]?7:6,T(d.join("")),p=A,h}return d.push(e),r=e,h+1}};var n=r(53),i=r(54),s=r(55),o=r(56),a=r(57),A=999,u=9999,l=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},t=>{t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},t=>{t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},t=>{t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},(t,e,r)=>{var n=r(53);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},(t,e,r)=>{var n=r(55);n=n.slice().filter((function(t){return!/^(gl\_|texture)/.test(t)})),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},t=>{"use strict";t.exports=JSON.parse('{"name":"gl","version":"4.9.2","description":"Creates a WebGL context without a window","main":"index.js","directories":{"test":"test"},"browser":"browser_index.js","engines":{"node":">=12.0.0"},"scripts":{"test":"standard | snazzy && tape test/*.js | faucet","rebuild":"node-gyp rebuild --verbose","prebuild":"prebuild --all --strip","install":"prebuild-install || node-gyp rebuild"},"dependencies":{"bindings":"^1.5.0","bit-twiddle":"^1.0.2","glsl-tokenizer":"^2.0.2","nan":"^2.15.0","node-abi":"^2.30.1","node-gyp":"^7.1.2","prebuild-install":"^5.3.6"},"devDependencies":{"angle-normals":"^1.0.0","bunny":"^1.0.1","faucet":"0.0.1","gl-conformance":"^2.0.9","prebuild":"^10.0.1","snazzy":"^8.0.0","standard":"^14.3.4","tape":"^5.3.1"},"repository":{"type":"git","url":"git://github.com/stackgl/headless-gl.git"},"keywords":["webgl","opengl","gl","headless","server","gpgpu"],"author":"Mikola Lysenko","license":"BSD-2-Clause","gypfile":true}')},(t,e,r)=>{const n=r(60)("webgl"),{WebGLRenderingContext:i}=n;process.on("exit",n.cleanup);const s=i.prototype;delete s["1.0.0"],delete i["1.0.0"],t.exports={gl:s,NativeWebGL:n,NativeWebGLRenderingContext:i}},(t,e,r)=>{var n=r(61),i=r(62),s=r(63),o=i.join,a=i.dirname,A=n.accessSync&&function(t){try{n.accessSync(t)}catch(t){return!1}return!0}||n.existsSync||i.existsSync,u={arrow:process.env.NODE_BINDINGS_ARROW||"  ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};t.exports=e=function(t){"string"==typeof t?t={bindings:t}:t||(t={}),Object.keys(u).map((function(e){e in t||(t[e]=u[e])})),t.module_root||(t.module_root=e.getRoot(e.getFileName())),".node"!=i.extname(t.bindings)&&(t.bindings+=".node");for(var r,n,s,a=require,A=[],l=0,c=t.try.length;l<c;l++){r=o.apply(null,t.try[l].map((function(e){return t[e]||e}))),A.push(r);try{return n=t.path?a.resolve(r):a(r),t.path||(n.path=r),n}catch(t){if("MODULE_NOT_FOUND"!==t.code&&"QUALIFIED_PATH_RESOLUTION_FAILED"!==t.code&&!/not find/i.test(t.message))throw t}}throw(s=new Error("Could not locate the bindings file. Tried:\n"+A.map((function(e){return t.arrow+e})).join("\n"))).tries=A,s},e.getFileName=function(t){var e,r=Error.prepareStackTrace,n=Error.stackTraceLimit;return Error.stackTraceLimit=10,Error.prepareStackTrace=function(r,n){for(var i=0,s=n.length;i<s;i++)if("/index.js"!==(e=n[i].getFileName())){if(!t)return;if(e!==t)return}},Error.captureStackTrace({}),Error.prepareStackTrace=r,Error.stackTraceLimit=n,0===e.indexOf("file://")&&(e=s(e)),e},e.getRoot=function(t){for(var e,r=a(t);;){if("."===r&&(r=process.cwd()),A(o(r,"package.json"))||A(o(r,"node_modules")))return r;if(e===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');e=r,r=o(r,"..")}}},()=>{},t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,n="",i=0,s=-1,o=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(s===a-1||1===o);else if(s!==a-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var A=n.lastIndexOf("/");if(A!==n.length-1){-1===A?(n="",i=0):i=(n=n.slice(0,A)).length-1-n.lastIndexOf("/"),s=a,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,s=a,o=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(s+1,a):n=t.slice(s+1,a),i=a-s-1;s=a,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var n={resolve:function(){for(var t,n="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o;s>=0?o=arguments[s]:(void 0===t&&(t=process.cwd()),o=t),e(o),0!==o.length&&(n=o+"/"+n,i=47===o.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(t){if(e(t),0===t.length)return".";var n=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t="."),t.length>0&&i&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=n.resolve(t))===(r=n.resolve(r)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var s=t.length,o=s-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var A=r.length-a,u=o<A?o:A,l=-1,c=0;c<=u;++c){if(c===u){if(A>u){if(47===r.charCodeAt(a+c))return r.slice(a+c+1);if(0===c)return r.slice(a+c)}else o>u&&(47===t.charCodeAt(i+c)?l=c:0===c&&(l=0));break}var h=t.charCodeAt(i+c);if(h!==r.charCodeAt(a+c))break;47===h&&(l=c)}var f="";for(c=i+l+1;c<=s;++c)c!==s&&47!==t.charCodeAt(c)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(a+l):(a+=l,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),n=47===r,i=-1,s=!0,o=t.length-1;o>=1;--o)if(47===(r=t.charCodeAt(o))){if(!s){i=o;break}}else s=!1;return-1===i?n?"/":".":n&&1===i?"//":t.slice(0,i)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var n,i=0,s=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var a=r.length-1,A=-1;for(n=t.length-1;n>=0;--n){var u=t.charCodeAt(n);if(47===u){if(!o){i=n+1;break}}else-1===A&&(o=!1,A=n+1),a>=0&&(u===r.charCodeAt(a)?-1==--a&&(s=n):(a=-1,s=A))}return i===s?s=A:-1===s&&(s=t.length),t.slice(i,s)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!o){i=n+1;break}}else-1===s&&(o=!1,s=n+1);return-1===s?"":t.slice(i,s)},extname:function(t){e(t);for(var r=-1,n=0,i=-1,s=!0,o=0,a=t.length-1;a>=0;--a){var A=t.charCodeAt(a);if(47!==A)-1===i&&(s=!1,i=a+1),46===A?-1===r?r=a:1!==o&&(o=1):-1!==r&&(o=-1);else if(!s){n=a+1;break}}return-1===r||-1===i||0===o||1===o&&r===i-1&&r===n+1?"":t.slice(r,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n,i=t.charCodeAt(0),s=47===i;s?(r.root="/",n=1):n=0;for(var o=-1,a=0,A=-1,u=!0,l=t.length-1,c=0;l>=n;--l)if(47!==(i=t.charCodeAt(l)))-1===A&&(u=!1,A=l+1),46===i?-1===o?o=l:1!==c&&(c=1):-1!==o&&(c=-1);else if(!u){a=l+1;break}return-1===o||-1===A||0===c||1===c&&o===A-1&&o===a+1?-1!==A&&(r.base=r.name=0===a&&s?t.slice(1,A):t.slice(a,A)):(0===a&&s?(r.name=t.slice(1,o),r.base=t.slice(1,A)):(r.name=t.slice(a,o),r.base=t.slice(a,A)),r.ext=t.slice(o,A)),a>0?r.dir=t.slice(0,a-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,t.exports=n},(t,e,r)=>{var n=r(62).sep||"/";t.exports=function(t){if("string"!=typeof t||t.length<=7||"file://"!=t.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");var e=decodeURI(t.substring(7)),r=e.indexOf("/"),i=e.substring(0,r),s=e.substring(r+1);return"localhost"==i&&(i=""),i&&(i=n+n+i),s=s.replace(/^(.+)\|/,"$1:"),"\\"==n&&(s=s.replace(/\//g,"\\")),/^.+\:/.test(s)||(s=n+s),i+s}},(t,e,r)=>{const{gl:n}=r(59),{vertexCount:i}=r(65);class s{constructor(t){this.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070,this.ctx=t,this._drawArraysInstanced=n._drawArraysInstanced.bind(t),this._drawElementsInstanced=n._drawElementsInstanced.bind(t),this._vertexAttribDivisor=n._vertexAttribDivisor.bind(t)}drawArraysInstancedANGLE(t,e,r,s){const{ctx:o}=this;if(t|=0,r|=0,s|=0,(e|=0)<0||r<0||s<0)return void o.setError(n.INVALID_VALUE);if(!o._checkStencilState())return;const a=i(t,r);if(a<0)return void o.setError(n.INVALID_ENUM);if(!o._framebufferOk())return;if(0===r||0===s)return;let A=e;return r>0&&(A=r+e-1>>>0),this.checkInstancedVertexAttribState(A,s)?this._drawArraysInstanced(t,e,a,s):void 0}drawElementsInstancedANGLE(t,e,r,i,s){const{ctx:o}=this;if(t|=0,r|=0,i|=0,s|=0,(e|=0)<0||i<0||s<0)return void o.setError(n.INVALID_VALUE);if(!o._checkStencilState())return;const a=o._vertexObjectState._elementArrayBufferBinding;if(!a)return void o.setError(n.INVALID_OPERATION);let A=null,u=i;if(r===n.UNSIGNED_SHORT){if(u%2)return void o.setError(n.INVALID_OPERATION);u>>=1,A=new Uint16Array(a._elements.buffer)}else if(o._extensions.oes_element_index_uint&&r===n.UNSIGNED_INT){if(u%4)return void o.setError(n.INVALID_OPERATION);u>>=2,A=new Uint32Array(a._elements.buffer)}else{if(r!==n.UNSIGNED_BYTE)return void o.setError(n.INVALID_ENUM);A=a._elements}let l=e;switch(t){case n.TRIANGLES:e%3&&(l-=e%3);break;case n.LINES:e%2&&(l-=e%2);break;case n.POINTS:break;case n.LINE_LOOP:case n.LINE_STRIP:if(e<2)return void o.setError(n.INVALID_OPERATION);break;case n.TRIANGLE_FAN:case n.TRIANGLE_STRIP:if(e<3)return void o.setError(n.INVALID_OPERATION);break;default:return void o.setError(n.INVALID_ENUM)}if(!o._framebufferOk())return;if(0===e||0===s)return void this.checkInstancedVertexAttribState(0,0);if(e+u>>>0>A.length)return void o.setError(n.INVALID_OPERATION);let c=-1;for(let t=u;t<u+e;++t)c=Math.max(c,A[t]);c<0?this.checkInstancedVertexAttribState(0,0):this.checkInstancedVertexAttribState(c,s)&&l>0&&this._drawElementsInstanced(t,l,r,i,s)}vertexAttribDivisorANGLE(t,e){const{ctx:r}=this;t|=0,(e|=0)<0||t<0||t>=r._vertexObjectState._attribs.length?r.setError(n.INVALID_VALUE):(r._vertexObjectState._attribs[t]._divisor=e,this._vertexAttribDivisor(t,e))}checkInstancedVertexAttribState(t,e){const{ctx:r}=this,i=r._activeProgram;if(!i)return r.setError(n.INVALID_OPERATION),!1;const s=r._vertexObjectState._attribs;let o=!1;for(let a=0;a<s.length;++a){const A=s[a];if(A._isPointer){const s=A._pointerBuffer;if(i._attributes.indexOf(a)>=0){if(!s)return r.setError(n.INVALID_OPERATION),!1;let i=0;if(0===A._divisor?(o=!0,i=A._pointerStride*t+A._pointerSize+A._pointerOffset):i=A._pointerStride*(Math.ceil(e/A._divisor)-1)+A._pointerSize+A._pointerOffset,i>s._size)return r.setError(n.INVALID_OPERATION),!1}}}return!!o||(r.setError(n.INVALID_OPERATION),!1)}}t.exports={ANGLEInstancedArrays:s,getANGLEInstancedArrays:function(t){return new s(t)}}},(t,e,r)=>{const{gl:n}=r(59),{WebGLUniformLocation:i}=r(66);function s(t){return new Uint8Array(t.buffer).subarray(t.byteOffset,t.byteLength+t.byteOffset)}t.exports={bindPublics:function(t,e,r,n){for(let i=0;i<t.length;i++){const s=t[i],o=r[s];if("function"==typeof o)-1===n.indexOf(s)&&(e[s]=o.bind(r));else{if("_"===s[0]||"0"===s[0]||"1"===s[0])continue;e[s]=o}}},checkObject:function(t){return"object"==typeof t||void 0===t},isTypedArray:function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Uint32Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array},isValidString:function(t){const e=t.replace(/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,"");return!/["$`@\\'\0]/.test(e)},vertexCount:function(t,e){switch(t){case n.TRIANGLES:return e-e%3;case n.LINES:return e-e%2;case n.LINE_LOOP:case n.POINTS:return e;case n.TRIANGLE_FAN:case n.LINE_STRIP:return e<2?0:e;case n.TRIANGLE_STRIP:return e<3?0:e;default:return-1}},typeSize:function(t){switch(t){case n.UNSIGNED_BYTE:case n.BYTE:return 1;case n.UNSIGNED_SHORT:case n.SHORT:return 2;case n.UNSIGNED_INT:case n.INT:case n.FLOAT:return 4}return 0},uniformTypeSize:function(t){switch(t){case n.BOOL_VEC4:case n.INT_VEC4:case n.FLOAT_VEC4:return 4;case n.BOOL_VEC3:case n.INT_VEC3:case n.FLOAT_VEC3:return 3;case n.BOOL_VEC2:case n.INT_VEC2:case n.FLOAT_VEC2:return 2;case n.BOOL:case n.INT:case n.FLOAT:case n.SAMPLER_2D:case n.SAMPLER_CUBE:return 1;default:return 0}},unpackTypedArray:s,extractImageData:function(t){if("object"==typeof t&&void 0!==t.width&&void 0!==t.height){if(void 0!==t.data)return t;let e=null;if("function"==typeof t.getContext)e=t.getContext("2d");else if(void 0!==t.src&&"object"==typeof document&&"function"==typeof document.createElement){const r=document.createElement("canvas");"object"==typeof r&&"function"==typeof r.getContext&&(e=r.getContext("2d"),null!==e&&e.drawImage(t,0,0))}if(null!==e)return e.getImageData(0,0,t.width,t.height)}return null},formatSize:function(t){switch(t){case n.ALPHA:case n.LUMINANCE:return 1;case n.LUMINANCE_ALPHA:return 2;case n.RGB:return 3;case n.RGBA:return 4}return 0},checkFormat:function(t){return t===n.ALPHA||t===n.LUMINANCE_ALPHA||t===n.LUMINANCE||t===n.RGB||t===n.RGBA},checkUniform:function(t,e){return e instanceof i&&e._program===t&&e._linkCount===t._linkCount},convertPixels:function(t){if("object"==typeof t&&null!==t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint8ClampedArray||t instanceof Float32Array)return s(t);if(t instanceof Buffer)return new Uint8Array(t)}return null},validCubeTarget:function(t){return t===n.TEXTURE_CUBE_MAP_POSITIVE_X||t===n.TEXTURE_CUBE_MAP_NEGATIVE_X||t===n.TEXTURE_CUBE_MAP_POSITIVE_Y||t===n.TEXTURE_CUBE_MAP_NEGATIVE_Y||t===n.TEXTURE_CUBE_MAP_POSITIVE_Z||t===n.TEXTURE_CUBE_MAP_NEGATIVE_Z}}},t=>{t.exports={WebGLUniformLocation:class{constructor(t,e,r){this._=t,this._program=e,this._linkCount=e._linkCount,this._activeInfo=r,this._array=null}}}},t=>{class e{}t.exports={getOESElementIndexUint:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_element_index_uint")>=0&&(r=new e),r},OESElementIndexUint:e}},t=>{class e{constructor(){this.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723}}t.exports={getOESStandardDerivatives:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_standard_derivatives")>=0&&(r=new e),r},OESStandardDerivatives:e}},t=>{class e{}t.exports={getOESTextureFloat:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_texture_float")>=0&&(r=new e),r},OESTextureFloat:e}},t=>{class e{}t.exports={getOESTextureFloatLinear:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_texture_float_linear")>=0&&(r=new e),r},OESTextureFloatLinear:e}},t=>{class e{constructor(t){this.destroy=t.destroy.bind(t)}}t.exports={getSTACKGLDestroyContext:function(t){return new e(t)},STACKGLDestroyContext:e}},t=>{class e{constructor(t){this.resize=t.resize.bind(t)}}t.exports={getSTACKGLResizeDrawingBuffer:function(t){return new e(t)},STACKGLResizeDrawingBuffer:e}},(t,e,r)=>{const{gl:n}=r(59);class i{constructor(t){this.ctx=t;const e=t.getSupportedExtensions();if(e&&e.indexOf("WEBGL_draw_buffers")>=0){Object.assign(this,t.extWEBGL_draw_buffers()),this._buffersState=[t.BACK],this._maxDrawBuffers=t._getParameterDirect(this.MAX_DRAW_BUFFERS_WEBGL),this._ALL_ATTACHMENTS=[],this._ALL_COLOR_ATTACHMENTS=[];const e=[this.COLOR_ATTACHMENT0_WEBGL,this.COLOR_ATTACHMENT1_WEBGL,this.COLOR_ATTACHMENT2_WEBGL,this.COLOR_ATTACHMENT3_WEBGL,this.COLOR_ATTACHMENT4_WEBGL,this.COLOR_ATTACHMENT5_WEBGL,this.COLOR_ATTACHMENT6_WEBGL,this.COLOR_ATTACHMENT7_WEBGL,this.COLOR_ATTACHMENT8_WEBGL,this.COLOR_ATTACHMENT9_WEBGL,this.COLOR_ATTACHMENT10_WEBGL,this.COLOR_ATTACHMENT11_WEBGL,this.COLOR_ATTACHMENT12_WEBGL,this.COLOR_ATTACHMENT13_WEBGL,this.COLOR_ATTACHMENT14_WEBGL,this.COLOR_ATTACHMENT15_WEBGL];for(;this._ALL_ATTACHMENTS.length<this._maxDrawBuffers;){const t=e.shift();this._ALL_ATTACHMENTS.push(t),this._ALL_COLOR_ATTACHMENTS.push(t)}this._ALL_ATTACHMENTS.push(n.DEPTH_ATTACHMENT,n.STENCIL_ATTACHMENT,n.DEPTH_STENCIL_ATTACHMENT)}}drawBuffersWEBGL(t){const{ctx:e}=this;if(t.length<1)e.setError(n.INVALID_OPERATION);else{if(1===t.length&&t[0]===n.BACK)return this._buffersState=t,void e.drawBuffersWEBGL([this.COLOR_ATTACHMENT0_WEBGL]);if(!e._activeFramebuffer){if(t.length>1)return void e.setError(n.INVALID_OPERATION);for(let r=0;r<t.length;r++)if(t[r]>n.NONE)return void e.setError(n.INVALID_OPERATION)}this._buffersState=t,e.drawBuffersWEBGL(t)}}}t.exports={getWebGLDrawBuffers:function(t){const e=t.getSupportedExtensions();return e&&e.indexOf("WEBGL_draw_buffers")>=0?new i(t):null},WebGLDrawBuffers:i}},t=>{class e{constructor(){this.MIN_EXT=32775,this.MAX_EXT=32776}}t.exports={getEXTBlendMinMax:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("EXT_blend_minmax")>=0&&(r=new e),r},EXTBlendMinMax:e}},t=>{class e{constructor(){this.TEXTURE_MAX_ANISOTROPY_EXT=34046,this.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047}}t.exports={getEXTTextureFilterAnisotropic:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("EXT_texture_filter_anisotropic")>=0&&(r=new e),r},EXTTextureFilterAnisotropic:e}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59),{checkObject:s}=r(65),{WebGLVertexArrayObjectState:o}=r(78);class a extends n{constructor(t,e,r){super(t),this._ctx=e,this._ext=r,this._vertexState=new o(e)}_performDelete(){this._vertexState.cleanUp(),delete this._vertexState,delete this._ext._vaos[this._],i.deleteVertexArrayOES.call(this._ctx,0|this._)}}class A{constructor(t){this.VERTEX_ARRAY_BINDING_OES=34229,this._ctx=t,this._vaos={},this._activeVertexArrayObject=null}createVertexArrayOES(){const{_ctx:t}=this,e=i.createVertexArrayOES.call(t);if(e<=0)return null;const r=new a(e,t,this);return this._vaos[e]=r,r}deleteVertexArrayOES(t){const{_ctx:e}=this;if(!s(t))throw new TypeError("deleteVertexArrayOES(WebGLVertexArrayObjectOES)");t instanceof a&&e._checkOwns(t)?t._pendingDelete||(this._activeVertexArrayObject===t&&this.bindVertexArrayOES(null),t._pendingDelete=!0,t._checkDelete()):e.setError(i.INVALID_OPERATION)}bindVertexArrayOES(t){const{_ctx:e,_activeVertexArrayObject:r}=this;if(!s(t))throw new TypeError("bindVertexArrayOES(WebGLVertexArrayObjectOES)");if(t){if(t instanceof a&&t._pendingDelete)return void e.setError(i.INVALID_OPERATION);if(!e._checkWrapper(t,a))return;i.bindVertexArrayOES.call(e,t._)}else t=null,i.bindVertexArrayOES.call(e,null);r!==t&&(r&&(r._refCount-=1,r._checkDelete()),t&&(t._refCount+=1)),e._vertexObjectState=null===t?e._defaultVertexObjectState:t._vertexState,this._activeVertexArrayObject=t}isVertexArrayOES(t){const{_ctx:e}=this;return!!e._isObject(t,"isVertexArrayOES",a)&&i.isVertexArrayOES.call(e,0|t._)}}t.exports={WebGLVertexArrayObjectOES:a,OESVertexArrayObject:A,getOESVertexArrayObject:function(t){const e=t.getSupportedExtensions();return e&&e.indexOf("OES_vertex_array_object")>=0?new A(t):null}}},t=>{t.exports={Linkable:class{constructor(t){this._=t,this._references=[],this._refCount=0,this._pendingDelete=!1,this._binding=0}_link(t){return this._references.push(t),t._refCount+=1,!0}_unlink(t){let e=this._references.indexOf(t);if(e<0)return!1;for(;e>=0;)this._references[e]=this._references[this._references.length-1],this._references.pop(),t._refCount-=1,t._checkDelete(),e=this._references.indexOf(t);return!0}_linked(t){return this._references.indexOf(t)>=0}_checkDelete(){if(this._refCount<=0&&this._pendingDelete&&0!==this._){for(;this._references.length>0;)this._unlink(this._references[0]);this._performDelete(),this._=0}}_performDelete(){}}}},(t,e,r)=>{const{gl:n}=r(59),{WebGLBuffer:i}=r(79);class s{constructor(t,e){this._ctx=t,this._idx=e,this._clear()}_clear(){this._isPointer=!1,this._pointerBuffer=null,this._pointerOffset=0,this._pointerSize=0,this._pointerStride=0,this._pointerType=n.FLOAT,this._pointerNormal=!1,this._divisor=0,this._inputSize=4,this._inputStride=0}}class o{constructor(t){this._idx=t,this._data=new Float32Array([0,0,0,1])}}t.exports={WebGLVertexArrayObjectAttribute:s,WebGLVertexArrayGlobalAttribute:o,WebGLVertexArrayObjectState:class{constructor(t){const e=t.getParameter(t.MAX_VERTEX_ATTRIBS);this._attribs=new Array(e);for(let r=0;r<e;++r)this._attribs[r]=new s(t,r);this._elementArrayBufferBinding=null}setElementArrayBuffer(t){if(null!==t&&!(t instanceof i))throw new TypeError("setElementArrayBuffer(WebGLBuffer?)");const e=this._elementArrayBufferBinding;e!==t&&(e&&(e._refCount-=1,e._checkDelete()),t&&(t._refCount+=1),this._elementArrayBufferBinding=t)}cleanUp(){const t=this._elementArrayBufferBinding;t&&(t._refCount-=1,t._checkDelete(),this._elementArrayBufferBinding=null);for(let t=0;t<this._attribs.length;++t){const e=this._attribs[t];e._pointerBuffer&&(e._pointerBuffer._refCount-=1,e._pointerBuffer._checkDelete()),e._clear()}}releaseArrayBuffer(t){if(t)for(let e=0;e<this._attribs.length;++e){const r=this._attribs[e];r._pointerBuffer===t&&(r._pointerBuffer._refCount-=1,r._pointerBuffer._checkDelete(),r._clear())}}setVertexAttribPointer(t,e,r,n,i,s,o,a,A){const u=this._attribs[e];t!==u._pointerBuffer&&(u._pointerBuffer&&(u._pointerBuffer._refCount-=1,u._pointerBuffer._checkDelete()),t&&(t._refCount+=1),u._pointerBuffer=t),u._pointerSize=r,u._pointerOffset=n,u._pointerStride=i,u._pointerType=s,u._pointerNormal=o,u._inputStride=a,u._inputSize=A}},WebGLVertexArrayGlobalState:class{constructor(t){const e=t.getParameter(t.MAX_VERTEX_ATTRIBS);this._attribs=new Array(e);for(let t=0;t<e;++t)this._attribs[t]=new o(t);this._arrayBufferBinding=null}setArrayBuffer(t){if(null!==t&&!(t instanceof i))throw new TypeError("setArrayBuffer(WebGLBuffer?)");const e=this._arrayBufferBinding;e!==t&&(e&&(e._refCount-=1,e._checkDelete()),t&&(t._refCount+=1),this._arrayBufferBinding=t)}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLBuffer:class extends n{constructor(t,e){super(t),this._ctx=e,this._size=0,this._elements=new Uint8Array(0)}_performDelete(){const t=this._ctx;delete t._buffers[0|this._],i.deleteBuffer.call(t,0|this._)}}}},t=>{t.exports={WebGLActiveInfo:class{constructor(t){this.size=t.size,this.type=t.type,this.name=t.name}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLFramebuffer:class extends n{constructor(t,e){if(super(t),this._ctx=e,this._binding=0,this._width=0,this._height=0,this._status=null,this._attachments={},this._attachments[i.COLOR_ATTACHMENT0]=null,this._attachments[i.DEPTH_ATTACHMENT]=null,this._attachments[i.STENCIL_ATTACHMENT]=null,this._attachments[i.DEPTH_STENCIL_ATTACHMENT]=null,this._attachmentLevel={},this._attachmentLevel[i.COLOR_ATTACHMENT0]=0,this._attachmentLevel[i.DEPTH_ATTACHMENT]=0,this._attachmentLevel[i.STENCIL_ATTACHMENT]=0,this._attachmentLevel[i.DEPTH_STENCIL_ATTACHMENT]=0,this._attachmentFace={},this._attachmentFace[i.COLOR_ATTACHMENT0]=0,this._attachmentFace[i.DEPTH_ATTACHMENT]=0,this._attachmentFace[i.STENCIL_ATTACHMENT]=0,this._attachmentFace[i.DEPTH_STENCIL_ATTACHMENT]=0,e._extensions.webgl_draw_buffers){const{webgl_draw_buffers:t}=e._extensions;this._attachments[t.COLOR_ATTACHMENT1_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT2_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT3_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT4_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT5_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT6_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT7_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT8_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT9_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT10_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT11_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT12_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT13_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT14_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT15_WEBGL]=null,this._attachments[i.NONE]=null,this._attachments[i.BACK]=null,this._attachmentLevel[t.COLOR_ATTACHMENT1_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT2_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT3_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT4_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT5_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT6_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT7_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT8_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT9_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT10_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT11_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT12_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT13_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT14_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT15_WEBGL]=0,this._attachmentLevel[i.NONE]=null,this._attachmentLevel[i.BACK]=null,this._attachmentFace[t.COLOR_ATTACHMENT1_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT2_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT3_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT4_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT5_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT6_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT7_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT8_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT9_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT10_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT11_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT12_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT13_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT14_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT15_WEBGL]=0,this._attachmentFace[i.NONE]=null,this._attachmentFace[i.BACK]=null}}_clearAttachment(t){const e=this._attachments[t];e&&(this._attachments[t]=null,this._unlink(e))}_setAttachment(t,e){this._attachments[e]!==t&&(this._clearAttachment(e),t&&(this._attachments[e]=t,this._link(t)))}_performDelete(){const t=this._ctx;delete t._framebuffers[0|this._],i.deleteFramebuffer.call(t,0|this._)}}}},t=>{t.exports={WebGLDrawingBufferWrapper:class{constructor(t,e,r){this._framebuffer=t,this._color=e,this._depthStencil=r}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLProgram:class extends n{constructor(t,e){super(t),this._ctx=e,this._linkCount=0,this._linkStatus=!1,this._linkInfoLog="not linked",this._attributes=[],this._uniforms=[]}_performDelete(){const t=this._ctx;delete t._programs[0|this._],i.deleteProgram.call(t,0|this._)}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLRenderbuffer:class extends n{constructor(t,e){super(t),this._ctx=e,this._binding=0,this._width=0,this._height=0,this._format=0}_performDelete(){const t=this._ctx;delete t._renderbuffers[0|this._],i.deleteRenderbuffer.call(t,0|this._)}}}},(t,e,r)=>{const{gl:n}=r(59),{Linkable:i}=r(77);t.exports={WebGLShader:class extends i{constructor(t,e,r){super(t),this._type=r,this._ctx=e,this._source="",this._compileStatus=!1,this._compileInfo=""}_performDelete(){const t=this._ctx;delete t._shaders[0|this._],n.deleteShader.call(t,0|this._)}}}},t=>{t.exports={WebGLShaderPrecisionFormat:class{constructor(t){this.rangeMin=t.rangeMin,this.rangeMax=t.rangeMax,this.precision=t.precision}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLTexture:class extends n{constructor(t,e){super(t),this._ctx=e,this._binding=0,this._levelWidth=new Int32Array(32),this._levelHeight=new Int32Array(32),this._format=0,this._type=0,this._complete=!0}_performDelete(){const t=this._ctx;delete t._textures[0|this._],i.deleteTexture.call(t,0|this._)}}}},t=>{t.exports={WebGLTextureUnit:class{constructor(t,e){this._ctx=t,this._idx=e,this._mode=0,this._bind2D=null,this._bindCube=null}}}},(t,e,r)=>{const n=r(90);e.parseFont=n,e.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})},e.createImageData=function(t,e,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,r)}},e.loadImage=function(t,e){return new Promise((function(r,n){const i=Object.assign(document.createElement("img"),e);function s(){i.onload=null,i.onerror=null}i.onload=function(){s(),r(i)},i.onerror=function(){s(),n(new Error('Failed to load the image "'+t+'"'))},i.src=t}))}},t=>{"use strict";const e="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",r=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),n=new RegExp("(italic|oblique) +","i"),i=new RegExp("(small-caps) +","i"),s=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),o=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${e})( *, *(?:${e}))*)`),a={};t.exports=t=>{if(a[t])return a[t];const e=o.exec(t);if(!e)return;const A={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")};let u,l,c,h;const f=t.substring(0,e.index);switch((u=r.exec(f))&&(A.weight=u[1]),(l=n.exec(f))&&(A.style=l[1]),(c=i.exec(f))&&(A.variant=c[1]),(h=s.exec(f))&&(A.stretch=h[1]),A.unit){case"pt":A.size/=.75;break;case"pc":A.size*=16;break;case"in":A.size*=96;break;case"cm":A.size*=96/2.54;break;case"mm":A.size*=96/25.4;break;case"%":break;case"em":case"rem":A.size*=16/.75;break;case"q":A.size*=96/25.4/4}return a[t]=A}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t||r};class r{}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={fixGetUniformLocation(t){var e=t.getUniformLocation;t.getUniformLocation=function(t,r){if(t._uniforms&&!/\[\d+\]$/.test(r))for(var n=new RegExp(r+"\\[\\d+\\]$"),i=0;i<t._uniforms.length;i++){var s=t._uniforms[i].name;n.test(s)&&(r=s)}return e.call(this,t,r)}},fixTexImage2D(t){t.texImage2D}};e.default=r},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(28),s=(n=r(94))&&n.__esModule?n:{default:n};function o(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}class a extends s.default{constructor(){super(),this.children=[],this.sortableChildren=!1,this.sortDirty=!1}onChildrenChange(){}addChild(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t}swapChildren(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}}getChildIndex(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,i.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]}removeChild(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,i.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t}removeChildAt(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e}removeChildren(t,e){void 0===t&&(t=0);var r,n=t,i="number"==typeof e?e:this.children.length,s=i-n;if(s>0&&s<=i){r=this.children.splice(n,s);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<r.length;++a)r[a].emit("removed",this);return r}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}removeAllChildren(){for(var t=this.children.length-1;t>=0;t--)this.removeChild(this.children[t])}sortChildren(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(o),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID}_calculateBounds(){}renderWebGL(t){var e,r;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.hasFilters())this._renderAdvancedWebGL(t);else for(this._renderWebGL(t),e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}_renderAdvancedWebGL(t){t.flush();var e=this.filters,r=this._mask;if(e&&e.length>0){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,s=this.children.length;i<s;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()}_renderWebGL(t){}_renderCanvas(t){}renderCanvas(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}}destroy(t){if(!this.destroyed){super.destroy(),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(e)for(var n=0;n<r.length;++n)r[n].destroy(t)}}destroyChildren(t){for(var e=this.removeChildren(0,this.children.length),r=0;r<e.length;++r)e[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=m(r(31)),i=r(17),s=m(r(95)),o=m(r(34)),a=m(r(96)),A=r(28),u=r(18),l=m(r(98)),c=m(r(99)),h=m(r(119)),f=m(r(125)),p=m(r(126)),d=m(r(127)),g=m(r(128));function m(t){return t&&t.__esModule?t:{default:t}}class v extends n.default{constructor(){super();var t=o.default.TRANSFORM_MODE===i.TRANSFORM_MODE.STATIC?l.default:a.default;this.tempDisplayObjectParent=null,this.transform=new t,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.filterArea=null,this.filters=[],this._enabledFilters=null,this._bounds=new s.default,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._blur=0,this._chroma=null,this._motion=null,this._fxaa=!1,this.maskEnabled=!0,this.destroyed=!1,this.id=(0,A.uuidvx)()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new v),this.tempDisplayObjectParent}updateTransform(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.maskEnabled&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new u.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n}toGlobal(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}getGlobalPosition(t,e){return void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}toLocal(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)}copyFromProxy(t){var e=e=>{null!==t[e]&&(this[e]=t[e])};e("x"),e("y"),e("text"),e("style"),e("width"),e("height"),e("alpha"),e("rotation"),e("blendMode"),this.scale.copy(t.scale),this.anchor.copy(t.anchor)}substitute(t){this.copyFromProxy(t);var{parent:e}=t;if(e){var r=e.getChildIndex(t);e.removeChild(t),e.addChildAt(this,r)}t.destroy(),t=null}renderWebGL(t){}renderCanvas(t){}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}setTransform(t,e,r,n,i,s,o,a,A){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===A&&(A=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=A,this}attr(t){for(var e in t){var r=t[e];switch(e){case"scale":this.scale.x=r,this.scale.y=r;break;case"skew":this.skew.x=r,this.skew.y=r;break;case"rotate":this.rotation=r;break;default:this[e]=r}}}getAttr(t){var e;switch(t){case"scale":e=this.scale.x;break;case"rotate":e=this.rotation;break;default:e=this[t]}return e}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copy(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copy(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copy(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copy(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get worldVisible(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}hasFilters(){return!(!this.filters||!this.filters.length)}addFilter(t){try{var e=new g.default(t);return this.filters.push(e),e}catch(t){return void console.error(t)}}removeFilter(t){this.filters=this.filters.filter((e=>e!=t))}setMotion(t,e){var r=this.filters.find((t=>t instanceof p.default));if(t)return r?(r.maskSprite=t,r.map=t._texture,r.setScale(e,e)):(r=new p.default(t,e),this.filters.push(r)),r;r&&(this.filters=this.filters.filter((t=>t!=r)))}get colorMatrix(){return{matrix:this._colorMatrix,alpha:this._colorMatrixAlpha}}setColorMatrix(t,e){void 0===e&&(e=1),this._colorMatrix=t,this._colorMatrixAlpha=e;var r=this.filters.find((t=>t instanceof d.default));if(Array.isArray(t)&&t.length)return r?r.init():(r=new d.default,this.filters.push(r)),r.alpha=e,t.map((t=>{var{key:e,value:n}=t;"function"==typeof r[e]&&(void 0===n||Array.isArray(n)||(n=[n]),n||(n=[]),n.push(!0),r[e].call(r,...n))})),r;r&&(this.filters=this.filters.filter((t=>t!=r)))}set chroma(t){if(t&&"object"==typeof t){var{color:e,similarity:r=.3,smoothness:n=.1,saturation:i=.1,shadowness:s=.5}=t,o=(0,A.str2rgb)(e,255);isNaN(o[0])||isNaN(o[1])||isNaN(o[2])?this._chroma=null:this._chroma={color:e,rgbColor:o,similarity:r,smoothness:n,saturation:i,shadowness:s}}else this._chroma=null;var a=this.filters.find((t=>t instanceof f.default));if(this._chroma){var{rgbColor:u,similarity:l,smoothness:c,saturation:h,shadowness:p}=this._chroma;a?(a.color=u,a.similarity=l,a.smoothness=c,a.saturation=h,a.shadowness=p):(a=new f.default(u,l,c,h,p),this.filters.push(a))}else a&&(this.filters=this.filters.filter((t=>t!=a)))}get chroma(){return this._chroma}set blur(t){void 0===t&&(t=0),this._blur=t;var e=this.filters.find((t=>t instanceof h.default));if(t<=0)e&&(this.filters=this.filters.filter((t=>t!=e)));else{if(e)return e.blur=t;e=new h.default(t),this.filters.push(e)}}set fxaa(t){this._fxaa=t;var e=this.filters.find((t=>t instanceof c.default));!1===t?e&&(this.filters=this.filters.filter((t=>t!=e))):e||(e=new c.default,this.filters.push(e))}get fxaa(){return this._fxaa}get blur(){return this._blur}destroy(){this.destroyed||(this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.blur=0,this.fxaa=!1,this.filters=null,this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this.destroyed=!0)}}e.default=v,v.prototype.displayObjectUpdateTransform=v.prototype.updateTransform},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(18);e.default=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addQuad(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,s=t[0],o=t[1];e=s<e?s:e,r=o<r?o:r,n=s>n?s:n,i=o>i?o:i,e=(s=t[2])<e?s:e,r=(o=t[3])<r?o:r,n=s>n?s:n,i=o>i?o:i,e=(s=t[4])<e?s:e,r=(o=t[5])<r?o:r,n=s>n?s:n,i=o>i?o:i,e=(s=t[6])<e?s:e,r=(o=t[7])<r?o:r,n=s>n?s:n,i=o>i?o:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(t,e,r,n,i){var s=t.worldTransform,o=s.a,a=s.b,A=s.c,u=s.d,l=s.tx,c=s.ty,h=this.minX,f=this.minY,p=this.maxX,d=this.maxY,g=o*e+A*r+l,m=a*e+u*r+c;h=g<h?g:h,f=m<f?m:f,p=g>p?g:p,d=m>d?m:d,h=(g=o*n+A*r+l)<h?g:h,f=(m=a*n+u*r+c)<f?m:f,p=g>p?g:p,d=m>d?m:d,h=(g=o*e+A*i+l)<h?g:h,f=(m=a*e+u*i+c)<f?m:f,p=g>p?g:p,d=m>d?m:d,h=(g=o*n+A*i+l)<h?g:h,f=(m=a*n+u*i+c)<f?m:f,p=g>p?g:p,d=m>d?m:d,this.minX=h,this.minY=f,this.maxX=p,this.maxY=d}addVertices(t,e,r,n){for(var i=t.worldTransform,s=i.a,o=i.b,a=i.c,A=i.d,u=i.tx,l=i.ty,c=this.minX,h=this.minY,f=this.maxX,p=this.maxY,d=r;d<n;d+=2){var g=e[d],m=e[d+1],v=s*g+a*m+u,y=A*m+o*g+l;c=v<c?v:c,h=y<h?y:h,f=v>f?v:f,p=y>p?y:p}this.minX=c,this.minY=h,this.maxX=f,this.maxY=p}addBounds(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i}addBoundsMask(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=s){var o=this.minX,a=this.minY,A=this.maxX,u=this.maxY;this.minX=r<o?r:o,this.minY=n<a?n:a,this.maxX=i>A?i:A,this.maxY=s>u?s:u}}addBoundsArea(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=s){var o=this.minX,a=this.minY,A=this.maxX,u=this.maxY;this.minX=r<o?r:o,this.minY=n<a?n:a,this.maxX=i>A?i:A,this.maxY=s>u?s:u}}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),s=(n=r(97))&&n.__esModule?n:{default:n};class o extends s.default{constructor(){super(),this.position=new i.Point(0,0),this.scale=new i.Point(1,1),this.skew=new i.ObservablePoint(this.updateSkew,this,0,0),this.pivot=new i.Point(0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}updateSkew(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)}updateLocalTransform(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)}updateTransform(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++}setFromMatrix(t){t.decompose(this)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.updateSkew()}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(18);class i{constructor(){this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}updateLocalTransform(){}updateTransform(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++}}e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),s=(n=r(97))&&n.__esModule?n:{default:n};class o extends s.default{constructor(){super(),this.position=new i.ObservablePoint(this.onChange,this,0,0),this.scale=new i.ObservablePoint(this.onChange,this,1,1),this.pivot=new i.ObservablePoint(this.onChange,this,0,0),this.skew=new i.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++}updateLocalTransform(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class s extends n.default{constructor(){super("\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(101)),i=r(28),s=r(17),o=a(r(34));function a(t){return t&&t.__esModule?t:{default:t}}var A={};class u{constructor(t,e,r){for(var a in this.vertexSrc=t||u.defaultVertexSrc,this.fragmentSrc=e||u.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=r||(0,n.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[a]=this.uniformData[a].value,this.uniformData[a].type&&(this.uniformData[a].type=this.uniformData[a].type.toLowerCase());this.glShaders={},A[this.vertexSrc+this.fragmentSrc]||(A[this.vertexSrc+this.fragmentSrc]=(0,i.uid)()),this.glShaderKey=A[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=o.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t}static get defaultVertexSrc(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}static get defaultFragmentSrc(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}e.default=u},(t,e,r)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=s(t),i=s(e);return Object.assign(n,i)};var i=((n=r(102))&&n.__esModule?n:{default:n}).default.shader.defaultValue;function s(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},s=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<s.length;o++){var a=s[o].trim();if(a.indexOf("uniform")>-1){var A=a.split(" "),u=A[1],l=A[2],c=1;l.indexOf("[")>-1&&(e=l.split(/\[|]/),l=e[0],c*=Number(e[1])),l.match(r)||(n[l]={value:i(u,c),name:l,type:u})}}return n}},(t,e,r)=>{var n={createContext:r(103),setVertexAttribArrays:r(104),GLBuffer:r(105),GLFramebuffer:r(106),GLShader:r(108),GLTexture:r(107),VertexArrayObject:r(117),shader:r(118)};t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},t=>{t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},t=>{t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,s=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<s.length;n++)s[n]!==i[n]&&(s[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var o=e[n];t.enableVertexAttribArray(o.attribute.location)}}},t=>{var e=new ArrayBuffer(0),r=function(t,r,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=r||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=e,n&&this.upload(n),this._updateID=0};r.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},(t,e,r)=>{var n=r(107),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,s){var o=n.fromData(t,null,e,r);o.enableNearestScaling(),o.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(o),a.unbind(),a},i.createFloat32=function(t,e,r,s){var o=new n.fromData(t,s,e,r);o.enableNearestScaling(),o.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(o),a.unbind(),a},t.exports=i},t=>{var e=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};e.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var r=!1;e.prototype.uploadData=function(t,e,n){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!r){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},e.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},e.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},e.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},e.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},e.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},e.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},e.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},e.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},e.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},e.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},e.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},e.fromSource=function(t,r,n){var i=new e(t);return i.premultiplyAlpha=n||!1,i.upload(r),i},e.fromData=function(t,r,n,i){var s=new e(t);return s.uploadData(r,n,i),s},t.exports=e},(t,e,r)=>{var n=r(109),i=r(110),s=r(113),o=r(115),a=r(116),A=function(t,e,r,A,u){this.gl=t,A&&(e=o(e,A),r=o(r,A)),this.program=n(t,e,r,u),this.attributes=i(t,this.program),this.uniformData=s(t,this.program),this.uniforms=a(t,this.uniformData)};A.prototype.bind=function(){return this.gl.useProgram(this.program),this},A.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=A},t=>{var e=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,r,n,i){var s=e(t,t.VERTEX_SHADER,r),o=e(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,s),t.attachShader(a,o),i)for(var A in i)t.bindAttribLocation(a,i[A],A);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(s),t.deleteShader(o),a}},(t,e,r)=>{var n=r(111),i=r(112),s=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var A=t.getActiveAttrib(e,a),u=n(t,A.type);r[A.name]={type:u,size:i(u),location:t.getAttribLocation(e,A.name),pointer:s}}return r}},t=>{var e=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,n){if(!e){var i=Object.keys(r);e={};for(var s=0;s<i.length;++s){var o=i[s];e[t[o]]=r[o]}}return e[n]}},t=>{var e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return e[t]}},(t,e,r)=>{var n=r(111),i=r(114);t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<s;o++){var a=t.getActiveUniform(e,o),A=a.name.replace(/\[.*?\]/,""),u=n(t,a.type);r[A]={type:u,size:a.size,location:t.getUniformLocation(e,A),value:i(u,a.size)}}return r}},t=>{var e=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,r){switch(t){case"float":case"int":case"sampler2D":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"bool":return!1;case"bvec2":return e(2*r);case"bvec3":return e(3*r);case"bvec4":return e(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},t=>{t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},t=>{var e=function(t){return function(){return this.data[t].value}},r={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},n={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function i(t,e){return function(i){this.data[t].value=i;var s=this.data[t].location;1===e.size?r[e.type](this.gl,s,i):n[e.type](this.gl,s,i)}}function s(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,r){var n={data:{}};n.gl=t;for(var o=Object.keys(r),a=0;a<o.length;a++){var A=o[a],u=A.split("."),l=u[u.length-1],c=s(u,n),h=r[A];c.data[l]=h,c.gl=t,Object.defineProperty(c,l,{get:e(l),set:i(l,h)})}return n}},(t,e,r)=>{var n=r(104);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,s){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:s||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},(t,e,r)=>{t.exports={compileProgram:r(109),defaultValue:r(114),extractAttributes:r(110),extractUniforms:r(113),generateUniformAccessObject:r(116),setPrecision:r(115),mapSize:r(112),mapType:r(111)}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(34)),i=a(r(100)),s=a(r(120)),o=a(r(124));function a(t){return t&&t.__esModule?t:{default:t}}class A extends i.default{constructor(t,e,r,i){super(),this.blurXFilter=new s.default(t,e,r,i),this.blurYFilter=new o.default(t,e,r,i),this.padding=0,this.resolution=r||n.default.RESOLUTION,this.quality=e||4,this.blur=t||8}apply(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blendMode(){return this.blurYFilter._blendMode}set blendMode(t){this.blurYFilter._blendMode=t}}e.default=A},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=A(r(34)),i=A(r(100)),s=A(r(121)),o=A(r(122)),a=A(r(123));function A(t){return t&&t.__esModule?t:{default:t}}class u extends i.default{constructor(t,e,r,i){i=i||5,super((0,s.default)(i,!0),(0,o.default)(i)),this.resolution=r||n.default.RESOLUTION,this._quality=0,this.quality=e||4,this.strength=t||8,this.firstRun=!0}apply(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,A=(0,a.default)(i);this.vertexSrc=(0,s.default)(A,!0),this.fragmentSrc=(0,o.default)(A),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var u=t.getRenderTarget(!0),l=e,c=u,h=0;h<this.passes-1;h++){t.applyFilter(this,l,c,!0);var f=c;c=l,l=f}t.applyFilter(this,l,r,n),t.returnRenderTarget(u)}}get blur(){return this.strength}set blur(t){this.padding=2*Math.abs(t),this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}e.default=u},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=Math.ceil(t/2),s=r,o="";n=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var A=n.replace("%index%",a);o+=A=A.replace("%sampleIndex%",a-(i-1)+".0"),o+="\n"}return(s=s.replace("%blur%",o)).replace("%size%",t)};var r=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,i=r[t],s=i.length,o=n,a="",A=0;A<t;A++){var u="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",A);e=A,A>=s&&(e=t-A-1),a+=u=u.replace("%value%",i[e]),a+="\n"}return(o=o.replace("%blur%",a)).replace("%size%",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(34)),i=A(r(100)),s=A(r(121)),o=A(r(122)),a=A(r(123));function A(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(u=function(t){return t?r:e})(t)}class l extends i.default{constructor(t,e,r,i){i=i||5,super((0,s.default)(i,!1),(0,o.default)(i)),this.resolution=r||n.RESOLUTION,this._quality=0,this.quality=e||4,this.strength=t||8,this.firstRun=!0}apply(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,A=(0,a.default)(i);this.vertexSrc=(0,s.default)(A,!1),this.fragmentSrc=(0,o.default)(A),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var u=t.getRenderTarget(!0),l=e,c=u,h=0;h<this.passes-1;h++){t.applyFilter(this,l,c,!0);var f=c;c=l,l=f}t.applyFilter(this,l,r,n),t.returnRenderTarget(u)}}get blur(){return this.strength}set blur(t){this.padding=2*Math.abs(t),this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}e.default=l},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(100))&&n.__esModule?n:{default:n};r(62),r(28);class s extends i.default{constructor(t,e,r,n,i){void 0===e&&(e=.3),void 0===r&&(r=.1),void 0===n&&(n=.1),void 0===i&&(i=.5),super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec3 uColor;\nuniform float uSimilarity;\nuniform float uSmoothness;\nuniform float uSaturation;\nuniform float uShadowness;\n\nvec2 RGBtoUV(vec3 rgb) {\n  return vec2(\n    rgb.r * -0.169 + rgb.g * -0.331 + rgb.b *  0.5    + 0.5,\n    rgb.r *  0.5   + rgb.g * -0.419 + rgb.b * -0.081  + 0.5\n  );\n}\n\nvec4 ProcessChromaKey(vec2 uv) {\n  vec4 rgba = texture2D(uSampler, uv);\n  float chromaDist = distance(RGBtoUV(rgba.rgb), RGBtoUV(uColor));\n\n  float diff = chromaDist - uSimilarity;\n  float alpha = pow(clamp(diff / uSmoothness, 0., 1.), 1.5);\n  rgba *= alpha;\n\n  float sat = pow(clamp(diff / uSaturation, 0., 1.), 1.5);\n  float luma = clamp(rgba.r * 0.2126 + rgba.g * 0.7152 + rgba.b * 0.0722, 0., 1.) * uShadowness;\n  rgba.rgb = mix(vec3(luma, luma, luma), rgba.rgb, sat);\n\n  return rgba;\n}\n\nvoid main(void) {\n  gl_FragColor = ProcessChromaKey(vTextureCoord);\n}\n"),this.color=t,this.similarity=Math.max(e,.001),this.smoothness=Math.max(r,.001),this.saturation=Math.max(n,.001),this.shadowness=Math.max(i,.001),this.glShaderKey="chroma"}get color(){return this.uniforms.uColor}set color(t){this.uniforms.uColor=t}get similarity(){return this.uniforms.uSimilarity}set similarity(t){this.uniforms.uSimilarity=t}get smoothness(){return this.uniforms.uSmoothness}set smoothness(t){this.uniforms.uSmoothness=t}get saturation(){return this.uniforms.uSaturation}set saturation(t){this.uniforms.uSaturation=t}get shadowness(){return this.uniforms.uShadowness}set shadowness(t){this.uniforms.uShadowness=t}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(100)),i=o(r(21)),s=o(r(19));function o(t){return t&&t.__esModule?t:{default:t}}r(62);class a extends n.default{constructor(t,e){var r=new i.default;t.renderable=!1,super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"),this.maskSprite=t,this.maskMatrix=r,this.uniforms.mapSampler=t._texture,this.uniforms.filterMatrix=r,this.uniforms.scale={x:1,y:1},null==e&&(e=20),this.setScale(e,e)}setScale(t,e){this.scale=new s.default(t,e)}apply(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,super.apply(t,e,r)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class s extends n.default{constructor(){super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"),this.init()}init(){this.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1}_loadMatrix(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t}_colorMatrix(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}greyscale(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}blackAndWhite(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)}hue(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,s=(0,Math.sqrt)(i),o=[r+(1-r)*i,i*(1-r)-s*n,i*(1-r)+s*n,0,0,i*(1-r)+s*n,r+i*(1-r),i*(1-r)-s*n,0,0,i*(1-r)-s*n,i*(1-r)+s*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,e)}contrast(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)}saturate(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)}desaturate(){this.saturate(-1)}negative(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)}sepia(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)}technicolor(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)}polaroid(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)}toBGR(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)}kodachrome(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)}browni(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)}vintage(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)}colorTone(t,e,r,n,i){var s=((r=r||16770432)>>16&255)/255,o=(r>>8&255)/255,a=(255&r)/255,A=((n=n||3375104)>>16&255)/255,u=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,s,o,a,t=t||.2,0,A,u,l,e=e||.15,0,s-A,o-u,a-l,0,0];this._loadMatrix(c,i)}night(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}predator(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)}lsd(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}e.default=s,s.prototype.grayscale=s.prototype.greyscale},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(100)),i=(r(62),o(r(21))),s=o(r(129));function o(t){return t&&t.__esModule?t:{default:t}}class a extends n.default{constructor(t){var{key:e,vert:r,frag:n,render:s,vars:o}=t||{};if(s||(s="vec4 render(sampler2D tex, vec2 uv, vec4 bg, vec4 mask, float alpha) { return bg; }"),r||(r="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}"),!n){var a=[];if(o)for(var[A,u]of Object.entries(o))if(A){var l=Array.isArray(u)?"vec"+u.length:"float";a.push("uniform "+l+" "+A+";")}n=(n="varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord; // for mask\n\nuniform sampler2D uSampler;\nuniform sampler2D uMask;\n\nuniform vec2 uMaskAnchor;\nuniform vec2 uMaskSize;\nuniform float uMaskRotation;\n\nuniform vec4 maskClamp;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 uFrameSize;\n\nuniform bool useMask;\nuniform bool useBinaryMask;\nuniform bool useReverseMask;\n\nuniform float uStart;\nuniform float uDuration;\n\n${uniforms}\n\n${render}\n\nvoid main(void) {\n  vec4 bg = texture2D(uSampler, vTextureCoord);\n  vec4 mask = vec4(1.0);\n  float alpha = 1.0;\n  if (useMask) {\n    float clip = step(3.5,\n      step(maskClamp.x, vFilterCoord.x) +\n      step(maskClamp.y, vFilterCoord.y) +\n      step(vFilterCoord.x, maskClamp.z) +\n      step(vFilterCoord.y, maskClamp.w));\n    mask = texture2D(uMask, vFilterCoord);\n    alpha = clamp(dot(mask.rgb, vec3(1.0, 1.0, 1.0)) * clip, 0.0, 1.0);\n    if (useBinaryMask) alpha = step(0.01, alpha);\n    if (useReverseMask) alpha = 1.0 - alpha;\n  }\n  vec4 color = render(uSampler, vTextureCoord, bg, mask, alpha);\n  color = mix(bg, color, alpha);\n  gl_FragColor = color;\n}\n").replace("${uniforms}",a.join("\n")).replace("${render}",s)}super(r,n),e&&(this.glShaderKey=e),this.vars=o,this._maskMatrix=new i.default}apply(t,e,r,n){this.uniforms.uFrameSize&&(this.uniforms.uFrameSize[0]=e.sourceFrame.width,this.uniforms.uFrameSize[1]=e.sourceFrame.height),void 0!==this.uniforms.filterMatrix&&this._mask&&(this.uniforms.filterMatrix=t.calculateSpriteMatrix(this._maskMatrix,this._mask)),this._mask&&(this.uniforms.uMaskAnchor=[this._mask.x,this._mask.y],this.uniforms.uMaskSize=[this._mask.width,this._mask.height],this.uniforms.uMaskRotation=this._mask.rotation,this.uniforms.useBinaryMask=!!this._mask.binaryMask,this.uniforms.useReverseMask=!!this._mask.reverseMask),super.apply(t,e,r,n)}set vars(t){if(this._vars=t,t)for(var[e,r]of Object.entries(t))e&&(this.uniforms[e]=r)}get vars(){return this._vars}get mask(){return this._mask}set mask(t){if(this._mask=t,void 0!==this.uniforms.uMask)if(t){var e=t.texture;e.transform||(e.transform=new s.default(e,0)),e.transform.update(),this.uniforms.uMask=e,this.uniforms.useMask=!0,this.uniforms.maskClamp=e.transform.uClampFrame}else this.uniforms.useMask=!1}setTime(t,e){this.uniforms.uStart=t,this.uniforms.uDuration=e}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(21))&&n.__esModule?n:{default:n},s=new i.default;e.default=class{constructor(t,e){this._texture=t,this.mapCoord=new i.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e}get texture(){return this._texture}set texture(t){this._texture=t,this._lastTextureID=-1}multiplyUvs(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],s=t[n+1];e[n]=i*r.a+s*r.c+r.tx,e[n+1]=i*r.b+s*r.d+r.ty}return e}update(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(s.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(s));var o=e.baseTexture,a=this.uClampFrame,A=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+A+u)/o.width,a[1]=(e._frame.y+A+u)/o.height,a[2]=(e._frame.x+e._frame.width-A+u)/o.width,a[3]=(e._frame.y+e._frame.height-A+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,!0}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(131)),i=s(r(135));function s(t){return t&&t.__esModule?t:{default:t}}class o extends i.default{constructor(t,e){var r=null;if(!(t instanceof n.default)){var i=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+i+", "+s+") instead of the ctor directly."),r=arguments[0],e=null,t=new n.default(i,s,o,a)}super(t,e),this.legacyRenderer=r,this.valid=!0,this._updateUvs()}resize(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()}static create(t,e,r,i){return new o(new n.default(t,e,r,i))}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(132)),i=s(r(34));function s(t){return t&&t.__esModule?t:{default:t}}class o extends n.default{constructor(t,e,r,n){void 0===t&&(t=100),void 0===e&&(e=100),super(null,r),this.resolution=n||i.default.RESOLUTION,this.width=Math.ceil(t),this.height=Math.ceil(e),this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.scaleMode=void 0!==r?r:i.default.SCALE_MODE,this.hasLoaded=!0,this._glRenderTargets={},this._canvasRenderTarget=null,this.valid=!1}resize(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))}destroy(){super.destroy(!0),this.renderer=null}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(133)),i=u(r(34)),s=u(r(48)),o=u(r(31)),a=r(28),A=r(134);function u(t){return t&&t.__esModule?t:{default:t}}r(89);class l extends o.default{constructor(t,e,r){super(),this.uid=(0,a.uid)(),this.touched=0,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.resolution=r||i.default.RESOLUTION,this.scaleMode=void 0!==e?e:i.default.SCALE_MODE,this.hasLoaded=!1,this.isLoading=!1,this.image=null,this.source=null,this.imageType=null,this.sourceScale=1,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.cutout=!1,this.cutoutColors=null,this.mipmap=i.default.MIPMAP_TEXTURES,this.wrapMode=i.default.WRAP_MODE,this._glTextures={},this._enabled=0,this._virtalBoundId=-1,this.destroyed=!1,this.textureCacheIds=[],this.loadSource(t)}updateSource(t){this.image||(this.image=new n.default),this.resetImage(this.image),this.loadSource(this.image),this.image.src=t,this.imageUrl=t,this.resolution=(0,a.getResolutionOfUrl)(t)}loadSource(t){if(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&this.removeHandler(this.source);var r=!this.source;this.source=t;var{src:n,width:i,height:s,complete:o,getContext:a,network:A}=t;(n&&o||A&&o||a)&&i&&s?(this._updateImageType(),this._sourceLoaded(),r&&this.emit("loaded",this)):a||(this.isLoading=!0,t.onload=()=>{this._updateImageType(),this.removeHandler(t),this.isLoading&&(this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this))},t.onerror=()=>{this.removeHandler(t),this.isLoading&&(this.isLoading=!1,this.emit("error",this))},o&&n&&(this.removeHandler(t),this.isLoading=!1,i&&s?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)))}}removeHandler(t){t.onload=null,t.onerror=null}resetImage(t){t.src="",t.width=0,t.height=0}adaptedNodeCanvas(){var{source:t,cutout:e,cutoutColors:r}=this;t&&t instanceof n.default&&t.isPsImage&&(this.source=n.default.convertToImageData(t))}update(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)}_updateDimensions(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=s.default.isPow2(this.realWidth)&&s.default.isPow2(this.realHeight)}_updateImageType(){if(this.imageUrl){var t,e=(0,a.decomposeDataUri)(this.imageUrl);if(e&&"image"===e.mediaType){var r=e.subType.split("+")[0];t=(0,a.getUrlFileExt)("."+r)}else t=(0,a.getUrlFileExt)(this.imageUrl);this.imageType=t||"png"}}_sourceLoaded(){this.hasLoaded=!0,this.update()}destroy(){this.imageUrl&&(delete A.TextureCache[this.imageUrl],this.imageUrl=null,this.source.src="",this.removeHandler(this.source)),this.image&&(this.image.src="",this.image=null),this.source=null,this.dispose(),(0,A.removeFromBaseTextureCache)(this),this.textureCacheIds=null,this.destroyed=!0,this.cutout=!1,this.cutoutColors=null}dispose(){this.emit("dispose",this)}static fromImage(t,e,r,i){var s=A.BaseTextureCache[t];if(!s){var o=new n.default;(s=new l(o,r)).imageUrl=t,i&&(s.sourceScale=i),s.resolution=(0,a.getResolutionOfUrl)(t),o.src=t,(0,A.addToBaseTextureCache)(s,t)}return s}static fromCanvas(t,e,r){void 0===r&&(r="canvas"),t.__paintId||(t.__paintId=r+"_"+(0,a.uid)());var n=A.BaseTextureCache[t.__paintId];return n||(n=new l(t,e),(0,A.addToBaseTextureCache)(n,t.__paintId)),n}static from(t,e,r){if("string"==typeof t)return l.fromImage(t,void 0,e,r);if(t instanceof HTMLImageElement){var n=t.src,i=A.BaseTextureCache[n];return i||((i=new l(t,e)).imageUrl=n,r&&(i.sourceScale=r),i.resolution=(0,a.getResolutionOfUrl)(n),(0,A.addToBaseTextureCache)(i,n)),i}return t instanceof HTMLCanvasElement?l.fromCanvas(t,e):t}}e.default=l},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=A(r(91)),s=r(44),o=A(r(31)),a=r(42);function A(t){return t&&t.__esModule?t:{default:t}}class u extends((0,i.default)(s.Image)){constructor(){super(...arguments),this.isPsImage=!0}addEventListener(t,e){this._eventemitter||(this._eventemitter=new o.default),this._eventemitter.once(t,e)}static convertToImageData(t,e){void 0===e&&(e=!1);var{width:r,height:i}=t;n||(n=(0,s.createCanvas)(r,i)),n.width=r,n.height=i;var o=n.getContext("2d");return e&&(o.scale(1,-1),o.translate(0,-i)),o.clearRect(r,i),o.drawImage(t,0,0),o.getImageData(0,0,r,i)}static convertToCanvas(t,e,r){var n=(0,s.createCanvas)(e,r);return n.getContext("2d").putImageData(t,0,0),n}}var l=a.isBrowser?window.Image:u;e.default=l},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureCache=e.BaseTextureCache=void 0,e.addToBaseTextureCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),i[e]=t)},e.addToTextureCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n[e]=t)},e.deleteAllTextureCache=o,e.destroyAllTextureCache=s,e.destroyAndCleanAllCache=function(){s(),o()},e.destroyBaseTextureCache=function(t){i[t]&&(i[t].destroy(),delete i[t])},e.destroyTextureCache=function(t){n[t]&&(n[t].destroy(),delete n[t])},e.removeFromBaseTextureCache=function(t){if("string"==typeof t){var e=i[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete i[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete i[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e.removeFromTextureCache=function(t){if("string"==typeof t){var e=n[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)n[t.textureCacheIds[i]]===t&&delete n[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null};var n=Object.create(null);e.TextureCache=n;var i=Object.create(null);function s(){var t;for(t in n)n[t].destroy();for(t in i)i[t].destroy()}function o(){var t;for(t in n)delete n[t];for(t in i)delete i[t]}e.BaseTextureCache=i,r.g.InkPaintCache={TextureCache:n,BaseTextureCache:i}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(132)),i=l(r(34)),s=l(r(136)),o=l(r(31)),a=r(18),A=r(28),u=r(134);function l(t){return t&&t.__esModule?t:{default:t}}class c extends o.default{constructor(t,e,r,n,i,s){if(super(),e?this.hasDefaultFrame=!0:(this.hasDefaultFrame=!1,e=new a.Rectangle(0,0,1,1)),this._uvs=null,this._cache=[],this.valid=!1,this.destroyed=!1,this.requiresUpdate=!1,this.cutout=!1,this.cutoutColors=null,this.trim=n,this.orig=r||e,this._frame=e,this._rotate=Number(i||0),this._updateID=0,this.transform=null,this.textureCacheIds=[],!0===i)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs.");this.id=(0,A.uuidvx)(),this.initBaseTexture(t,e),this.defaultAnchor=s?new a.Point(s.x,s.y):new a.Point(0,0)}initBaseTexture(t,e){if(t instanceof c&&(t=t.baseTexture),this.baseTexture=t,this.addToCache(t.imageUrl),t.hasLoaded){if(this.hasDefaultFrame)this.frame=e;else{var{width:r,height:n}=t;this.frame=new a.Rectangle(0,0,r,n),t.on("update",this.onBaseTextureUpdated,this)}t.adaptedNodeCanvas()}else t.once("loaded",this.onBaseTextureLoaded,this);t.on("error",this.onBaseTextureError,this)}update(){this.baseTexture.update()}addToCache(t){t&&this._cache.indexOf(t)<0&&this._cache.push(t)}updateSource(t,e){void 0===e&&(e=!1),this.baseTexture.imageUrl!==t&&(e?(this.addToCache(t),this.baseTexture=n.default.fromImage(t),this.baseTexture.adaptedNodeCanvas()):this.baseTexture.updateSource(t))}getImageUrl(){return this.baseTexture.imageUrl}onBaseTextureLoaded(t){if(this._updateID++,this.hasDefaultFrame)this.frame=this._frame;else{var{width:e,height:r}=t;this.frame=new a.Rectangle(0,0,e,r)}t.adaptedNodeCanvas(),this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)}onBaseTextureError(t){this.emit("error",t)}onBaseTextureUpdated(t){this._updateID++,this.hasDefaultFrame||(this._frame.width=t.width,this._frame.height=t.height),t.adaptedNodeCanvas(),this.emit("update",this)}destroy(t){if(!this.destroyed){if(this.baseTexture){if(t){var{imageUrl:e}=this.baseTexture;u.TextureCache[e]&&(0,u.removeFromTextureCache)(e);for(var r=0;r<this._cache.length;r++){var n=this._cache[r];(0,u.destroyBaseTextureCache)(n)}this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture.off("error",this.onBaseTextureError,this),this.baseTexture=null}this._cache.length=0,this._cache=null,this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.cutout=!1,this.cutoutColors=null,this.destroyed=!0,(0,u.removeFromTextureCache)(this),this.textureCacheIds=null}}clone(){return new c(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)}_updateUvs(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}get frame(){return this._frame}set frame(t){this._frame=t,this.hasDefaultFrame=!0;var{x:e,y:r,width:n,height:i}=t,s=e+n>this.baseTexture.width,o=r+i>this.baseTexture.height;if(s||o){var a=s&&o?"and":"or",A="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,u="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+A+" "+a+" "+u)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this._updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}static newEmpty(){return new c(new n.default)}static fromImage(t,e,r,i){var s=u.TextureCache[t];return s||(s=e instanceof a.Rectangle?new c(n.default.fromImage(t),e,r,i):new c(n.default.fromImage(t,e,r,i)),(0,u.addToTextureCache)(s,t),s)}static fromFrame(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in cache');return e}static fromCanvas(t,e,r){return void 0===r&&(r="canvas"),new c(n.default.fromCanvas(t,e,r))}static from(t){return"string"==typeof t?u.TextureCache[t]||c.fromImage(t):t instanceof c?t:t instanceof HTMLImageElement?new c(n.default.from(t)):t instanceof HTMLCanvasElement?c.fromCanvas(t,i.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof n.default?new c(t):t}static fromLoader(t,e,r){var i=new n.default(t,void 0,(0,A.getResolutionOfUrl)(e)),s=new c(i);return i.imageUrl=e,r||(r=e),(0,u.addToBaseTextureCache)(s.baseTexture,r),(0,u.addToTextureCache)(s,r),r!==e&&((0,u.addToBaseTextureCache)(s.baseTexture,e),(0,u.addToTextureCache)(s,e)),s}}function h(t){t.destroy=()=>{},t.on=()=>{},t.once=()=>{},t.emit=()=>{}}e.default=c,c.EMPTY=new c(new n.default),h(c.EMPTY),h(c.EMPTY.baseTexture)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(22))&&n.__esModule?n:{default:n};e.default=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}set(t,e,r){var n=e.width,s=e.height;if(r){var o=t.width/2/n,a=t.height/2/s,A=t.x/n+o,u=t.y/s+a;r=i.default.add(r,i.default.NW),this.x0=A+o*i.default.uX(r),this.y0=u+a*i.default.uY(r),r=i.default.add(r,2),this.x1=A+o*i.default.uX(r),this.y1=u+a*i.default.uY(r),r=i.default.add(r,2),this.x2=A+o*i.default.uX(r),this.y2=u+a*i.default.uY(r),r=i.default.add(r,2),this.x3=A+o*i.default.uX(r),this.y3=u+a*i.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/s,this.x1=(t.x+t.width)/n,this.y1=t.y/s,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/s,this.x3=t.x/n,this.y3=(t.y+t.height)/s;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17);e.default=class{constructor(t){this.renderer=t}pushMask(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r}renderGraphicsShape(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var s=t.graphicsData[i],o=s.shape;if(s.type===n.SHAPES.POLY){var a=o.points,A=s.holes,u=void 0,l=void 0;e.moveTo(a[0],a[1]);for(var c=2;c<a.length;c+=2)e.lineTo(a[c],a[c+1]);if(a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath(),A.length>0){u=0;for(var h=0;h<a.length;h+=2)u+=a[h]*a[h+3]-a[h+1]*a[h+2];for(var f=0;f<A.length;f++){a=A[f].points,l=0;for(var p=0;p<a.length;p+=2)l+=a[p]*a[p+3]-a[p+1]*a[p+2];if(e.moveTo(a[0],a[1]),l*u<0)for(var d=2;d<a.length;d+=2)e.lineTo(a[d],a[d+1]);else for(var g=a.length-2;g>=2;g-=2)e.lineTo(a[g],a[g+1])}}}else if(s.type===n.SHAPES.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(s.type===n.SHAPES.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(s.type===n.SHAPES.ELIP){var m=2*o.width,v=2*o.height,y=o.x-m/2,_=o.y-v/2,b=.5522848,w=m/2*b,B=v/2*b,x=y+m,E=_+v,C=y+m/2,T=_+v/2;e.moveTo(y,T),e.bezierCurveTo(y,T-B,C-w,_,C,_),e.bezierCurveTo(C+w,_,x,T-B,x,T),e.bezierCurveTo(x,T+B,C+w,E,C,E),e.bezierCurveTo(C-w,E,y,T+B,y,T),e.closePath()}else if(s.type===n.SHAPES.RREC){var I=o.x,F=o.y,S=o.width,U=o.height,M=o.radius,O=Math.min(S,U)/2|0;M=M>O?O:M,e.moveTo(I,F+M),e.lineTo(I,F+U-M),e.quadraticCurveTo(I,F+U,I+M,F+U),e.lineTo(I+S-M,F+U),e.quadraticCurveTo(I+S,F+U,I+S,F+U-M),e.lineTo(I+S,F+M),e.quadraticCurveTo(I+S,F,I+S-M,F),e.lineTo(I+M,F),e.quadraticCurveTo(I,F,I,F+M),e.closePath()}}}}popMask(t){t.context.restore(),t.invalidateBlendMode()}destroy(){}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return void 0===t&&(t=[]),(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var n,i=r(17),s=(n=r(139))&&n.__esModule?n:{default:n}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!0}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=v(r(40)),i=v(r(141)),s=v(r(144)),o=v(r(145)),a=v(r(146)),A=v(r(151)),u=v(r(152)),l=v(r(132)),c=v(r(153)),h=v(r(154)),f=v(r(156)),p=v(r(157)),d=r(28),g=v(r(102)),m=r(17);function v(t){return t&&t.__esModule?t:{default:t}}var y=0;class _ extends n.default{constructor(t,e,r){super("WebGL",t,e,r),this.legacy=this.options.legacy,this.legacy&&(g.default.VertexArrayObject.FORCE_NATIVE=!0),this.type=m.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._contextOptions={alpha:this.transparent,antialias:this.options.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:this.options.preserveDrawingBuffer,powerPreference:this.options.powerPreference},this._backgroundColorRgba[3]=this.transparent?0:1,this.maskManager=new i.default(this),this.stencilManager=new s.default(this),this.emptyRenderer=new A.default(this),this.currentRenderer=this.emptyRenderer,this.textureManager=null,this.filterManager=null,this.initPlugins(),this.options.context&&(0,p.default)(this.options.context),this.gl=this.options.context||g.default.createContext(this.view,this._contextOptions),this.CONTEXT_UID=y++,this.state=new h.default(this.gl),this.renderingToScreen=!0,this.boundTextures=null,this._activeShader=null,this._activeVao=null,this._activeRenderTarget=null,this._initContext(),this.drawModes=(0,f.default)(this.gl),this._nextTextureLocation=0,this.setBlendMode(0)}_initContext(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new u.default(this),this.filterManager=new o.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new g.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var s=new l.default;s._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=s,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)}render(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var s=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}resize(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))}setBlendMode(t){this.state.setBlendMode(t)}deleteTexture(t){this.gl.deleteTexture(t)}clear(t){this._activeRenderTarget.clear(t)}setTransform(t){this._activeRenderTarget.transform=t}clearRenderTexture(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this}bindRenderTexture(t,e){var r;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this}bindRenderTarget(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this}bindShader(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this}bindTexture(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,s=t._glTextures[this.CONTEXT_UID];return s?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,s.texture)):this.textureManager.updateTexture(t,e),e}unbindTexture(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===this.emptyTextures[r]&&(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture))}for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this}createVao(){return new g.default.VertexArrayObject(this.gl,this.state.attribState)}bindVao(t){return this._activeVao===t||(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t),this}reset(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this}handleContextLost(t){t.preventDefault()}handleContextRestored(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()}destroy(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),super.destroy(t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null}}e.default=_,d.pluginTarget.mixin(_)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(142)),i=s(r(143));function s(t){return t&&t.__esModule?t:{default:t}}class o extends n.default{constructor(t){super(t),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!0,this.alphaMaskPool=[],this.alphaMaskIndex=0}pushMask(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)}popMask(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)}pushSpriteMask(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var n=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=n,this.alphaMaskIndex++}popSpriteMask(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--}pushStencilMask(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)}popStencilMask(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()}pushScissorMask(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0}popScissorMask(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)}}e.default=o},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}onContextChange(){}destroy(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(100)),i=r(18),s=(r(62),o(r(129)));function o(t){return t&&t.__esModule?t:{default:t}}class a extends n.default{constructor(t){var e=new i.Matrix;super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nuniform bool useBinaryMask;\nuniform bool useReverseMask;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 mask = texture2D(mask, vMaskCoord);\n    float a = clamp(dot(mask.rgb, vec3(1.0, 1.0, 1.0)) * alpha * clip, 0.0, 1.0);\n    if (useBinaryMask) a = step(0.01, alpha);\n    if (useReverseMask) a = 1.0 - a;\n    original *= a;\n    gl_FragColor = original;\n}\n"),t.renderable=!1,this.maskSprite=t,this.maskMatrix=e}apply(t,e,r,n){var i=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new s.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.useBinaryMask=!!i.binaryMask,this.uniforms.useReverseMask=!!i.reverseMask,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,r,n))}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(142))&&n.__esModule?n:{default:n};class s extends i.default{constructor(t){super(t),this.stencilMaskStack=null}setMaskStack(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)}pushStencil(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()}popStencil(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())}_useCurrent(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}_getBitwiseMask(){return(1<<this.stencilMaskStack.length)-1}destroy(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(r(142)),i=c(r(146)),s=c(r(147)),o=r(18),a=c(r(149)),A=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(150)),u=c(r(48));function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}function c(t){return t&&t.__esModule?t:{default:t}}class h{constructor(){this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.filters=[]}clear(){this.filters=null,this.target=null,this.renderTarget=null}}class f extends n.default{constructor(t){super(t),this.gl=this.renderer.gl,this.quad=new s.default(this.gl,t.state.attribState),this.shaderCache={},this.pool={},this.filterData=null,this.managedFilters=[],this.renderer.on("prerender",this.onPrerender,this),this._screenWidth=t.view.width,this._screenHeight=t.view.height}pushFilter(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new h;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var s=n.stack[++n.index],o=n.stack[0].destinationFrame;s||(s=n.stack[n.index]=new h);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,A=e[0].resolution,u=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=s.sourceFrame,f=s.destinationFrame;c.x=(l.x*A|0)/A,c.y=(l.y*A|0)/A,c.width=(l.width*A|0)/A,c.height=(l.height*A|0)/A,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(o),c.pad(u)),f.width=c.width,f.height=c.height;var p=this.getPotRenderTarget(r.gl,c.width,c.height,A);s.target=t,s.filters=e,s.resolution=A,s.renderTarget=p,p.setFrame(f,c),r.bindRenderTarget(p),p.clear()}popFilter(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);s.setFrame(r.destinationFrame,r.sourceFrame),s.clear();var o=0;for(o=0;o<n.length-1;++o){n[o].apply(this,i,s,!0,r);var a=i;i=s,s=a}n[o].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(s)}r.clear(),t.index--,0===t.index&&(this.filterData=null)}applyFilter(t,e,r,n){var i=this.renderer,s=i.gl,o=t.glShaders[i.CONTEXT_UID];o||(t.glShaderKey?(o=this.shaderCache[t.glShaderKey])||(o=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=o,this.managedFilters.push(t)):(o=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(o)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(s.disable(s.SCISSOR_TEST),i.clear(),s.enable(s.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(o);var A=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=A,this.syncUniforms(o,t),i.state.setBlendMode(t.blendMode),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),s.bindTexture(s.TEXTURE_2D,A._glTextures[this.renderer.CONTEXT_UID].texture)}syncUniforms(t,e){var r,n=e.uniformData,i=e.uniforms,s=1;if(t.uniforms.filterArea){r=this.filterData.stack[this.filterData.index];var o=t.uniforms.filterArea;o[0]=r.renderTarget.size.width,o[1]=r.renderTarget.size.height,o[2]=r.sourceFrame.x,o[3]=r.sourceFrame.y,t.uniforms.filterArea=o}if(t.uniforms.filterClamp){r=r||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(r.sourceFrame.width-1)/r.renderTarget.size.width,a[3]=(r.sourceFrame.height-1)/r.renderTarget.size.height,t.uniforms.filterClamp=a}for(var A in n)if(t.uniforms.data[A]){var u=n[A].type;if("sampler2d"===u&&0!==i[A]){if(i[A].baseTexture)t.uniforms[A]=this.renderer.bindTexture(i[A].baseTexture,s);else{t.uniforms[A]=s;var l=this.renderer.gl;this.renderer.boundTextures[s]=this.renderer.emptyTextures[s],l.activeTexture(l.TEXTURE0+s),i[A].texture.bind()}s++}else if("mat3"===u)void 0!==i[A].a?t.uniforms[A]=i[A].toArray(!0):t.uniforms[A]=i[A];else if("vec2"===u)if(void 0!==i[A].x){var c=t.uniforms[A]||new Float32Array(2);c[0]=i[A].x,c[1]=i[A].y,t.uniforms[A]=c}else t.uniforms[A]=i[A];else"float"===u?t.uniforms.data[A].value!==n[A]&&(t.uniforms[A]=i[A]):t.uniforms[A]=i[A]}}getRenderTarget(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n}returnRenderTarget(t){this.freePotRenderTarget(t)}calculateScreenSpaceMatrix(t){var e=this.filterData.stack[this.filterData.index];return A.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)}calculateNormalizedScreenSpaceMatrix(t){var e=this.filterData.stack[this.filterData.index];return A.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)}calculateSpriteMatrix(t,e){var r=this.filterData.stack[this.filterData.index];return A.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)}destroy(t){void 0===t&&(t=!1);var e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()}getPotRenderTarget(t,e,r,n){var s="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(s=(65535&(e=u.default.nextPow2(e)))<<16|65535&(r=u.default.nextPow2(r))),this.pool[s]||(this.pool[s]=[]);var o=this.pool[s].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o.filterPoolKey=s,o}emptyPool(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}}freePotRenderTarget(t){this.pool[t.filterPoolKey].push(t)}onPrerender(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}}}e.default=f},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),s=r(17),o=(n=r(34))&&n.__esModule?n:{default:n},a=r(102);e.default=class{constructor(t,e,r,n,A,u){this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=A||o.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==n?n:o.default.SCALE_MODE,this.root=u||!1,this.root?(this.frameBuffer=new a.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=a.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===s.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}clear(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])}attachStencilBuffer(){this.root||this.frameBuffer.enableStencil()}setFrame(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame}activate(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)}calculateProjection(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)}resize(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}}destroy(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(102)),i=s(r(148));function s(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(t,e){this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t,e)}initVao(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)}map(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this}upload(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this}destroy(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)}}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(102),s=(n=r(34))&&n.__esModule?n:{default:n};function o(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}class a extends i.GLShader{constructor(t,e,r,n,i){super(t,o(e,i||s.default.PRECISION_VERTEX),o(r,i||s.default.PRECISION_FRAGMENT),void 0,n)}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,s=r.height/e.height;return n.scale(i,s),n},e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateSpriteMatrix=function(t,e,r,i){var s=i._texture.orig,o=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(i.anchor.x,i.anchor.y),o};var n=r(18)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(142))&&n.__esModule?n:{default:n};class s extends i.default{start(){}stop(){this.flush()}flush(){}render(t){}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(102),s=r(17),o=(n=r(146))&&n.__esModule?n:{default:n},a=r(28);e.default=class{constructor(t){this.renderer=t,this.gl=t.gl,this._managedTextures=[]}bindTexture(){}getTexture(){}updateTexture(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var A=0;A<a.length;++A)if(a[A]===t){e=A;break}}a[e]=t,r.activeTexture(r.TEXTURE0+e);var u=t._glTextures[this.renderer.CONTEXT_UID];if(u)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):u.upload(t.source);else{if(n){var l=new o.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,u=l.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(u=new i.GLTexture(this.gl,null,null,null,null)).bind(e),u.premultiplyAlpha=!0,u.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=u,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&u.enableMipmap(),t.wrapMode===s.WRAP_MODES.CLAMP?u.enableWrapClamp():t.wrapMode===s.WRAP_MODES.REPEAT?u.enableWrapRepeat():u.enableWrapMirrorRepeat()):u.enableWrapClamp(),t.scaleMode===s.SCALE_MODES.NEAREST?u.enableNearestScaling():u.enableLinearScaling()}return u}destroyTexture(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer,n=r.CONTEXT_UID,i=t._glTextures,s=t._glRenderTargets;if(i[n]&&(r.unbindTexture(t),i[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete i[n],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,a.removeItems)(this._managedTextures,o,1)}s&&s[n]&&(r._activeRenderTarget===s[n]&&r.bindRenderTarget(r.rootRenderTarget),s[n].destroy(),delete s[n])}}removeAll(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}}destroy(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(17),s=(n=r(34))&&n.__esModule?n:{default:n};e.default=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}update(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))}run(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var s=0,o=0;o<e.length;o++)null!==e[o]&&(e[s++]=e[o]);e.length=s}}unload(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(155))&&n.__esModule?n:{default:n};e.default=class{constructor(t){this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}push(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]}pop(){var t=this.stack[--this.stackIndex];this.setState(t)}setState(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])}setBlend(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))}setBlendMode(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}}setDepthTest(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))}setCullFace(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))}setFrontFace(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))}resetAttributes(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)}resetToDefault(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return void 0===e&&(e=[]),e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e};var n=r(17)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return void 0===e&&(e={}),e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(17)},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),s=(n=r(31))&&n.__esModule?n:{default:n};class o extends s.default{constructor(){super(),this.width=null,this.height=null,this.alpha=1,this.worldAlpha=1,this.rotation=0,this.x=0,this.y=0,this.scale=new i.Point(1,1),this.anchor=new i.Point,this.transform={},this.blendMode=null,this.text=null,this.style=null,this.parent=null,this.isProxy=!0}attr(t){}replaceFromParent(t){var{parent:e}=this;if(e){var r=e.getChildIndex(this);e.removeChild(this),e.addChildAt(t,r)}}updateStyle(t){for(var e in this.style||(this.style={}),t){var r=this.camelCase(e);"color"===r&&(r="fill"),this.style[r]=t[e]}}camelCase(t){return t.replace(/([\:\-\_]+(.))/g,(function(t,e,r,n){return n?r.toUpperCase():r})).replace(/^moz([A-Z])/,"Moz$1")}destroy(){this.width=null,this.height=null,this.alpha=null,this.x=null,this.y=null,this.scale=null,this.pivot=null,this.anchor=null,this.text=null,this.style=null,this.transform=null,this.parent=null,this.removeAllListeners()}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(18),i=r(28),s=r(17),o=u(r(135)),a=u(r(93)),A=r(134);function u(t){return t&&t.__esModule?t:{default:t}}var l=new n.Point;class c extends a.default{constructor(t){super(),this._anchor=new n.ObservablePoint(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=s.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.default.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.pluginName="sprite",this.log=!1}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,i.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,i.sign)(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,A=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,h=0,f=0,p=0,d=0;u?(h=(f=u.x-c._x*l.width)+u.width,p=(d=u.y-c._y*l.height)+u.height):(h=(f=-c._x*l.width)+l.width,p=(d=-c._y*l.height)+l.height),A[0]=r*f+i*d+o,A[1]=s*d+n*f+a,A[2]=r*h+i*d+o,A[3]=s*d+n*h+a,A[4]=r*h+i*p+o,A[5]=s*p+n*h+a,A[6]=r*f+i*p+o,A[7]=s*p+n*f+a}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,A=i.d,u=i.tx,l=i.ty,c=-n._x*r.width,h=c+r.width,f=-n._y*r.height,p=f+r.height;e[0]=s*c+a*f+u,e[1]=A*f+o*c+l,e[2]=s*h+a*f+u,e[3]=A*f+o*h+l,e[4]=s*h+a*p+u,e[5]=A*p+o*h+l,e[6]=s*c+a*p+u,e[7]=A*p+o*c+l}_renderWebGL(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_renderCanvas(t){t.plugins[this.pluginName].render(this)}_calculateBounds(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}updateBaseTexture(t,e){void 0===e&&(e=!1),this.texture&&this.texture.updateSource(t,e)}getLocalBounds(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return l.x>=n&&l.x<n+e&&(i=-r*this.anchor.y,l.y>=i&&l.y<i+r)}destroy(t){if(!this.destroyed){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null,this.shader=null}}static from(t){return new c(o.default.from(t))}static fromFrame(t){var e=A.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist');return new c(e)}static fromImage(t,e,r){return new c(o.default.fromImage(t,e,r))}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){var e=(0,i.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){var e=(0,i.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copy(t)}get tint(){return this._tint}set tint(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t||o.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}e.default=c},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=A(r(159)),i=r(36),s=A(r(161)),o=A(r(135)),a=r(17);function A(t){return t&&t.__esModule?t:{default:t}}class u extends n.default{constructor(t,e){super(t[0]instanceof o.default?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this._autoUpdate=!1!==e,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}stop(){this.playing&&(this.playing=!1,this._autoUpdate&&i.shared.remove(this.update,this))}play(){this.playing||(this.playing=!0,this._autoUpdate&&i.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH))}gotoAndStop(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}gotoAndPlay(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()}update(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=s.default.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)}destroy(t){this.stop(),super.destroy(t)}static fromFrames(t){for(var e=[],r=0;r<t.length;++r)e.push(o.default.fromFrame(t[r]));return new u(e)}static fromImages(t){for(var e=[],r=0;r<t.length;++r)e.push(o.default.fromImage(t[r]));return new u(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof o.default)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}get currentFrame(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}e.default=u},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={sign:t=>0===(t=Number(t))||isNaN(t)?t:t>0?1:-1};e.default=r},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(39)),i=r(17),s=r(18),o=a(r(133));function a(t){return t&&t.__esModule?t:{default:t}}a(r(163));var A=new s.Matrix;class u{constructor(t){this.renderer=t}render(t){var e=t._texture,r=this.renderer,n=e._frame.width,o=e._frame.height,a=t.transform.worldTransform,u=0,l=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var c=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==c&&(r.context[r.smoothProperty]=c),u=(.5-t.anchor.x)*e.orig.width,l=(.5-t.anchor.y)*e.orig.height,e.rotate&&(a.copy(A),a=A,s.GroupD8.matrixAppendRotationInv(a,e.rotate,u,l),u=0,l=0),u-=n/2,l-=o/2,r.roundPixels?(r.context.setTransform(a.a,a.b,a.c,a.d,a.tx*r.resolution|0,a.ty*r.resolution|0),u|=0,l|=0):r.context.setTransform(a.a,a.b,a.c,a.d,a.tx*r.resolution,a.ty*r.resolution);var h,f,p,d,g=e.baseTexture.resolution;this.adaptedNodeCanvas(e.baseTexture),h=e._frame.x,f=e._frame.y,e.trim?(p=e.trim.width,d=e.trim.height):(p=n,d=o),r.context.drawImage(e.baseTexture.source,h*g,f*g,n*g,o*g,u*r.resolution,l*r.resolution,p*r.resolution,d*r.resolution)}}adaptedNodeCanvas(t){if(t.source&&!t.source.isPSCanvas&&this.isImageData(t.source)){var{source:e,width:r,height:n}=t;t.source=o.default.convertToCanvas(e,r,n)}}isImageData(t){return!!t&&!!(t.width&&t.height&&t.data&&t.data.length)}destroy(){this.renderer=null}}e.default=u,n.default.registerPlugin("sprite",u)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(133)),i=r(28);function s(t){return t&&t.__esModule?t:{default:t}}var o={getTintedTexture:(t,e)=>{var r=t._texture,i="#"+("00000"+(0|(e=o.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var s,a=r.tintCache[i];if(a){if(a.tintId===r._updateID)return r.tintCache[i];s=r.tintCache[i]}else s=o.canvas;if(o.tintMethod(r,e,s),s.tintId=r._updateID,o.convertTintToImage){var A=new n.default;A.src=s.toDataURL(),r.tintCache[i]=A}else r.tintCache[i]=s,o.canvas=null;return s},tintWithMultiply:(t,e,r)=>{var n=r.getContext("2d"),i=t._frame.clone(),s=t.baseTexture.resolution;i.x*=s,i.y*=s,i.width*=s,i.height*=s,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),s=t.baseTexture.resolution;i.x*=s,i.y*=s,i.width*=s,i.height*=s,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:(t,e,r)=>{var n=r.getContext("2d"),s=t._frame.clone(),o=t.baseTexture.resolution;s.x*=o,s.y*=o,s.width*=o,s.height*=o,r.width=Math.ceil(s.width),r.height=Math.ceil(s.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),n.restore();for(var a=(0,i.hex2rgb)(e),A=a[0],u=a[1],l=a[2],c=n.getImageData(0,0,s.width,s.height),h=c.data,f=0;f<h.length;f+=4)h[f+0]*=A,h[f+1]*=u,h[f+2]*=l;n.putImageData(c,0,0)},roundColor:t=>{var e=o.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,s(r(139)).default)(),tintMethod:0};o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel;var a=o;e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=f(r(151)),i=f(r(140)),s=f(r(148)),o=f(r(165)),a=f(r(166)),A=f(r(167)),u=f(r(34)),l=r(28),c=f(r(102)),h=f(r(48));function f(t){return t&&t.__esModule?t:{default:t}}var p=0,d=0;class g extends n.default{constructor(t){super(t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=u.default.SPRITE_BATCH_SIZE,this.buffers=[];for(var e=1;e<=h.default.nextPow2(this.size);e*=2)this.buffers.push(new A.default(4*e*this.vertByteSize));this.indices=(0,s.default)(this.size),this.shader=null,this.currentIndex=0,this.groups=[];for(var r=0;r<this.size;r++)this.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};this.sprites=[],this.vertexBuffers=[],this.vaos=[],this.vaoMax=2,this.vertexCount=0,this.renderer.on("prerender",this.onPrerender,this)}onContextChange(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,o.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)}onPrerender(){this.vertexCount=0}render(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)}flush(){if(0!==this.currentIndex){var t,e,r,n,i,s=this.renderer.gl,o=this.MAX_TEXTURES,a=h.default.nextPow2(this.currentIndex),A=h.default.log2(a),f=this.buffers[A],g=this.sprites,m=this.groups,v=f.float32View,y=f.uint32View,_=this.boundTextures,b=this.renderer.boundTextures,w=this.renderer.textureGC.count,B=0,x=1,E=0,C=m[0],T=l.premultiplyBlendMode[g[0]._texture.baseTexture.premultipliedAlpha?1:0][g[0].blendMode];for(C.textureCount=0,C.start=0,C.blend=T,p++,i=0;i<o;++i){var I=b[i];I._enabled!==p?(_[i]=I,I._virtalBoundId=i,I._enabled=p):_[i]=this.renderer.emptyTextures[i]}for(p++,i=0;i<this.currentIndex;++i){var F=g[i];g[i]=null,t=F._texture.baseTexture;var S=l.premultiplyBlendMode[Number(t.premultipliedAlpha)][F.blendMode];if(T!==S&&(T=S,e=null,E=o,p++),e!==t&&(e=t,t._enabled!==p)){if(E===o&&(p++,C.size=i-C.start,E=0,(C=m[x++]).blend=T,C.textureCount=0,C.start=i),t.touched=w,-1===t._virtalBoundId)for(var U=0;U<o;++U){var M=(U+d)%o,O=_[M];if(O._enabled!==p){d++,O._virtalBoundId=-1,t._virtalBoundId=M,_[M]=t;break}}t._enabled=p,C.textureCount++,C.ids[E]=t._virtalBoundId,C.textures[E++]=t}if(r=F.vertexData,n=F._texture._uvs.uvsUint32,this.renderer.roundPixels){var P=this.renderer.resolution;v[B]=(r[0]*P|0)/P,v[B+1]=(r[1]*P|0)/P,v[B+5]=(r[2]*P|0)/P,v[B+6]=(r[3]*P|0)/P,v[B+10]=(r[4]*P|0)/P,v[B+11]=(r[5]*P|0)/P,v[B+15]=(r[6]*P|0)/P,v[B+16]=(r[7]*P|0)/P}else v[B]=r[0],v[B+1]=r[1],v[B+5]=r[2],v[B+6]=r[3],v[B+10]=r[4],v[B+11]=r[5],v[B+15]=r[6],v[B+16]=r[7];y[B+2]=n[0],y[B+7]=n[1],y[B+12]=n[2],y[B+17]=n[3];var R=Math.min(F.worldAlpha,1),L=R<1&&t.premultipliedAlpha?(0,l.premultiplyTint)(F._tintRGB,R):F._tintRGB+(255*R<<24);y[B+3]=y[B+8]=y[B+13]=y[B+18]=L,v[B+4]=v[B+9]=v[B+14]=v[B+19]=t._virtalBoundId,B+=20}if(C.size=i-C.start,u.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(f.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var D=this.shader.attributes,Q=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(s,null,s.STREAM_DRAW),N=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(Q,D.aVertexPosition,s.FLOAT,!1,this.vertByteSize,0).addAttribute(Q,D.aTextureCoord,s.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(Q,D.aColor,s.UNSIGNED_BYTE,!0,this.vertByteSize,12);D.aTextureId&&N.addAttribute(Q,D.aTextureId,s.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=N}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(f.vertices,0,!1),this.vertexCount++}for(i=0;i<o;++i)b[i]._virtalBoundId=-1;for(i=0;i<x;++i){for(var k=m[i],H=k.textureCount,j=0;j<H;j++)e=k.textures[j],b[k.ids[j]]!==e&&this.renderer.bindTexture(e,k.ids[j],!0),e._virtalBoundId=-1;this.renderer.state.setBlendMode(k.blend),s.drawElements(s.TRIANGLES,6*k.size,s.UNSIGNED_SHORT,6*k.start*2)}this.currentIndex=0}}start(){this.renderer.bindShader(this.shader),u.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())}stop(){this.flush()}destroy(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var e=0;e<this.buffers.length;++e)this.buffers[e].destroy()}}e.default=g,i.default.registerPlugin("sprite",g)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"}(e));for(var n=new i.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),o=[],a=0;a<e;a++)o[a]=a;return n.bind(),n.uniforms.uSamplers=o,n};var n,i=(n=r(149))&&n.__esModule?n:{default:n};r(62);var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var i=e.createShader(e.FRAGMENT_SHADER);;){var s=r.replace(/%forloop%/gi,n(t));if(e.shaderSource(i,s),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t};var r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function n(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}destroy(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=p(r(159)),i=p(r(135)),s=r(28),o=r(18),a=r(17),A=p(r(34)),u=p(r(169)),l=p(r(170)),c=p(r(171)),h=p(r(41)),f=r(134);function p(t){return t&&t.__esModule?t:{default:t}}p(r(172));var d={texture:!0,children:!1,baseTexture:!0};class g extends n.default{constructor(t,e,r){(r=r||h.default.createElement("canvas")).width=3,r.height=3;var n=i.default.fromCanvas(r,A.default.SCALE_MODE,"text");n.orig=new o.Rectangle,n.trim=new o.Rectangle,super(n),(0,f.addToTextureCache)(this._texture,this._texture.baseTexture.textureCacheIds[0]),this.canvas=r,this.context=this.canvas.getContext("2d"),this.resolution=A.default.RESOLUTION,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}updateText(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,i=this.context,s=l.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,A=s.lines,u=s.lineHeight,c=s.lineWidths,h=s.maxLineWidth,f=s.fontProperties;this.lineHeight=s.lineHeight,this.charWidth=f.fontSize+this._style.letterSpacing,this.canvas.width=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBackground(e),this.drawSelection(),i.font=this._font,i.strokeStyle=e.stroke,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;var p=(u-f.fontSize)/2;if(e.dropShadow){i.fillStyle=e.dropShadowColor,i.globalAlpha=e.dropShadowAlpha,i.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(i.shadowColor=e.dropShadowColor);for(var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,g=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,m=0;m<A.length;m++)r=e.strokeThickness/2,n=p+e.strokeThickness/2+m*u+f.ascent,"right"===e.align?r+=h-c[m]:"center"===e.align&&(r+=(h-c[m])/2),e.fill&&(this.drawLetterSpacing(A[m],r+d+e.padding,n+g+e.padding),e.stroke&&e.strokeThickness&&(i.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(A[m],r+d+e.padding,n+g+e.padding,!0),i.strokeStyle=e.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(e,A);for(var v=[],y=0;y<A.length;y++)if(r=e.strokeThickness/2,n=p+e.strokeThickness/2+y*u+f.ascent,"right"===e.align?r+=h-c[y]:"center"===e.align&&(r+=(h-c[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(A[y],r+e.padding,n+e.padding,!0),e.fill){var _=v[v.length-1],b=_?_[_.length-1].ci:-1;v.push(this.drawLetterSpacing(A[y],r+e.padding,n+e.padding,!1,b+1))}this.chars=v,this.updateTexture()}}drawBackground(t){var e=t.background||t.backgroundColor;if(e){var{context:r,canvas:n,text:i}=this;String(i).trim()?(r.fillStyle=e,r.fillRect(0,0,n.width,n.height)):r.clearRect(0,0,n.width,n.height)}}drawSelection(){if(this.selectionStart&&this.selectionEnd){var t=this.lineHeight,[e,r]=this.selectionStart.lineIdx<this.selectionEnd.lineIdx||this.selectionStart.lineIdx==this.selectionEnd.lineIdx&&this.selectionStart.charIdx<=this.selectionEnd.charIdx?[this.selectionStart,this.selectionEnd]:[this.selectionEnd,this.selectionStart];this.selection={start:e,end:r};for(var n=e.lineIdx;n<=r.lineIdx;n++){var i,s,o=n===e.lineIdx?e.x:(null==(i=this.chars[n][0])?void 0:i.left)||0,a=n===r.lineIdx?r.x:(null==(s=this.chars[n][this.chars[n].length-1])?void 0:s.right)||0;this.context.fillStyle=this._style.selectionBgColor,this.context.fillRect(o,n*t,a-o,t)}}else this.selection=null}drawLetterSpacing(t,e,r,n,i){void 0===n&&(n=!1),void 0===i&&(i=0);for(var s=this._style.letterSpacing,o=Array.from(t),a=e,A=0,u="",l=this.context.measureText(t).width,c=0,h=[];A<o.length;){u=o[A++],e=a,n?this.context.strokeText(u,e,r):this.context.fillText(u,e,r),a+=l-(c=this.context.measureText(o.slice(A).join("")).width)+s,l=c;var f=a-.5*s;h.push({char:u,ci:i,top:r,left:e,right:f,cx:.5*(e+f)}),i++}return h}updateStyle(t){for(var e in t){var r=this.camelCase(e);"color"===r&&(r="fill"),this.style[r]=t[e]}}selectStart(t){this.selectionStart=this.indexOf(t),this.selectionEnd=null}selectEnd(t){this.selectionEnd=this.indexOf(t),this.cursorPoint={x:this.selectionEnd.x,y:this.selectionEnd.y+1},this.updateText(!1)}selectMove(t,e,r,n){if(this.selectionEnd){if(0!==t){var i;if(!r&&this.selection&&this.selection.start.ci<this.selection.end.ci){var s=this.selection[t>0?"end":"start"];i={x:s.x,y:s.y+1}}else if(!n&&t<0&&this.selectionEnd.charIdx<=0){if(this.selectionEnd.lineIdx>0){var o=this.chars[this.selectionEnd.lineIdx-1],a=o[o.length-1];i={x:a.left,y:a.top+1}}}else if(!n&&t>0&&this.selectionEnd.charIdx>=this.textLine(this.selectionEnd.lineIdx).length){if(this.selectionEnd.lineIdx+1<this.chars.length){var A=this.chars[this.selectionEnd.lineIdx],u="\n"!==A[A.length-1].char?"right":"left",l=this.chars[this.selectionEnd.lineIdx+1][0];i={x:l[u],y:l.top+1}}}else{var c=this.selectionEnd.charIdx+(t>0?1:-1),h=this.textLine(this.selectionEnd.lineIdx);n&&(c=t>0?h.length:0);var f=c>=h.length?"right":"left",p=h[Math.min(c,h.length-1)];i={x:p[f],y:p.top+1}}i&&(this.cursorPoint=i,this.selectionEnd=this.indexOf(i))}else{var d=this.selectionEnd.lineIdx+(e>0?1:-1),g=this.cursorPoint.x;n&&(d=e>0?this.chars.length:0,g=e>0?this.width:0),this.selectionEnd=this.indexOf({x:g,y:this.lineHeight*d+1})}r||(this.selectionStart=this.selectionEnd),this.updateText(!1)}}textLine(t){return this.chars[t].filter((t=>"\n"!=t.char))}indexOf(t){var e=Math.max(0,Math.min(this.chars.length-1,Math.floor(t.y/this.lineHeight))),r=0,n=this.chars[e][0]?this.chars[e][0].ci:0,i=this.chars[e][0]?this.chars[e][0].left:0;for(var s of this.chars[e])if("\n"!==s.char){if(t.x<s.cx)break;r++,i=s.right,n=s.ci+1}var o=this.lineHeight;return{lineIdx:e,charIdx:r,ci:n,x:i,y:e*o,height:o}}cursor(t){var e=t;void 0===t&&(e=this.selectionEnd.ci);var r=this.charOf(e),n="left";if(!r){var i=this.chars[this.chars.length-1];r=i[i.length-1],n="right"}if(this.selectionEnd=this.indexOf({x:r[n],y:r.top+1}),void 0===t)return this.selectionEnd;this.selectionStart=this.selectionEnd}input(t){var{text:e,cursorIndex:r}=this.delete(!1),n=Array.from(e);return n.splice(r,0,t),{text:n.join(""),cursorIndex:r+Array.from(t).length}}delete(t){void 0===t&&(t=!0);var e=Array.from(this.text),r=this.selection.start.ci-1,n=1,i=this.selectionEnd;if(this.selection&&this.selection.start.ci<this.selection.end.ci)r=this.selection.start.ci,n=this.selection.end.ci-this.selection.start.ci,i=this.selection.end,this.selectionStart=this.selectionEnd=i;else if(!t||!i||i.ci<1)return{text:this.text,cursorIndex:i?i.ci:e.length+1};e.splice(r,n);var s=this.chars[i.lineIdx],o=i.charIdx<s.length?"left":"right",a=s[Math.min(i.charIdx,s.length-1)];"right"===o&&this.chars[i.lineIdx+1]&&this.chars[i.lineIdx+1][0]&&(a=this.chars[i.lineIdx+1][0],o="left");var A=a.ci+("right"===o?1:0)-n;return{text:e.join(""),cursorIndex:A}}charOf(t){for(var e of this.chars)for(var r of e)if(r.ci===t)return r}selectionText(){return this.selection&&this.selection.start.ci<this.selection.end.ci?Array.from(this.text).slice(this.selection.start.ci,this.selection.end.ci).join(""):""}camelCase(t){return t.replace(/([\:\-\_]+(.))/g,(function(t,e,r,n){return n?r.toUpperCase():r})).replace(/^moz([A-Z])/,"Moz$1")}updateTexture(){var t=this.canvas;if(this._style.trim){var e=(0,c.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;s.hasLoaded=!0,s.resolution=this.resolution,s.realWidth=t.width,s.realHeight=t.height,s.width=t.width/this.resolution,s.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),s.emit("update",s),s.adaptedNodeCanvas(),this.dirty=!1}renderWebGL(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),super.renderWebGL(t)}_renderCanvas(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}_generateFillStyle(t,e){if(t.fillImage)return this.context.createPattern(t.fillImage,"repeat");if(!Array.isArray(t.fill))return t.fill;var r,n,i,s,o=this.canvas.width/this.resolution,A=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,h=1;h<c;++h)l.push(h/c);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===a.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(o/2,0,o/2,A),n=(u.length+1)*e.length,i=0;for(var f=0;f<e.length;f++){i+=1;for(var p=0;p<u.length;p++)s="number"==typeof l[p]?l[p]/e.length+f/e.length:i/n,r.addColorStop(s,u[p]),i++}}else{r=this.context.createLinearGradient(0,A/2,o,A/2),n=u.length+1,i=1;for(var d=0;d<u.length;d++)s="number"==typeof l[d]?l[d]:i/n,r.addColorStop(s,u[d]),i++}return r}destroy(t){this.destroyed||("boolean"==typeof t&&(t={children:t}),t=Object.assign({},d,t),super.destroy(t),this.context=null,this.canvas=null,this._style=null)}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get font(){return this._font}get style(){return this._style}set style(t){(t=t||{})instanceof u.default?this._style=t:this._style=new u.default(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}e.default=g},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17),i=r(28),s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:["Helvetica","Arial","sans-serif"],fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},o=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];class a{constructor(t){this.styleID=0,this.reset(),l(this,t,t)}clone(){var t={};return l(t,this,s),new a(t)}reset(){l(this,s,s)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){var e=u(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){var e=u(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){var e=u(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&o.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")}}function A(t){return"number"==typeof t?(0,i.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function u(t){if(!Array.isArray(t))return A(t);for(var e=0;e<t.length;++e)t[e]=A(t[e]);return t}function l(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(41))&&n.__esModule?n:{default:n};class s{constructor(t,e,r,n,i,s,o,a,A){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=A}static measureText(t,e,r,n){void 0===n&&(n=s._canvas),r=null==r?e.wordWrap:r;var i,o=e.toFontString(),a=s.measureFont(o),A=n.getContext("2d");A.font=o,i=r?s.wordWrap(t,e,n):t.split(/(?:\r\n|\r|\n)/).map((t=>t+"\n"));var u=0;i[i.length-1].endsWith("\n")&&(u=-1);var l=Array.from(t).length;i.map((t=>u+=Array.from(t).length)),l!==u&&console.error("text parse err!!!",{before:l,after:u},i);for(var c=new Array(i.length),h=0,f=0;f<i.length;f++){var p=i[f];p.endsWith("\n")&&(p=p.substring(0,p.length-1));var d=A.measureText(p).width+(Array.from(p).length-1)*e.letterSpacing;c[f]=d,h=Math.max(h,d)}var g=h+e.strokeThickness;e.dropShadow&&(g+=e.dropShadowDistance);var m=e.lineHeight||a.fontSize+e.strokeThickness,v=Math.max(m,a.fontSize+e.strokeThickness)+(i.length-1)*(m+e.leading);return e.dropShadow&&(v+=e.dropShadowDistance),new s(t,e,g,v,i,c,m+e.leading,h,a)}static wordWrap(t,e,r){void 0===r&&(r=s._canvas);for(var n=r.getContext("2d"),i=0,o="",a=[],A={},{letterSpacing:u,whiteSpace:l}=e,c=s.collapseSpaces(l),h=s.collapseNewlines(l),f=!c,p=e.wordWrapWidth+u,d=s.tokenize(t),g=0;g<d.length;g++){var m=d[g];if(s.isNewline(m)){if(!h){a.push(s.addLine(o,"T0")),f=!c,o="",i=0;continue}m=" "}if(c){var v=s.isBreakingSpace(m),y=s.isBreakingSpace(o[o.length-1]);if(v&&y)continue}var _=s.getFromCache(m,u,A,n);if(_>p)if(""!==o&&(a.push(s.addLine(o,"T1",!1)),o="",i=0),s.canBreakWords(m,e.breakWords))for(var b=Array.from(m),w=0;w<b.length;w++){for(var B=b[w],x=1;b[w+x];){var E=b[w+x],C=B[B.length-1];if(s.canBreakChars(C,E,m,w,e.breakWords))break;B+=E,x++,w++}var T=s.getFromCache(B,u,A,n);T+i>p&&(a.push(s.addLine(o,"T2",!1)),f=!1,o="",i=0),o+=B,i+=T}else{o.length>0&&(a.push(s.addLine(o,"T3",!1)),o="",i=0);var I=g===d.length-1;a.push(s.addLine(m,"T4",I)),f=!1,o="",i=0}else{if(_+i>p){for(f=!1;s.isBreakingSpace(m);)o+=m,m=d[++g];a.push(s.addLine(o,"T5",!1)),o="",i=0}(o.length>0||!s.isBreakingSpace(m)||f)&&(o+=m,i+=_)}}a.push(s.addLine(o,"T6"));for(var F=0;F<a.length-1;F++)a[F].endsWith("\n")||"\n"!==a[F+1]||(a[F]+=a[F+1],a[F+1]="");return a.filter((t=>t.length>0))}static addLine(t,e,r){return void 0===r&&(r=!0),r?t+"\n":t}static getFromCache(t,e,r,n){var i=r[t];if(void 0===i){var s=t.length*e;i=n.measureText(t).width+s,r[t]=i}return i}static collapseSpaces(t){return"normal"===t||"pre-line"===t}static collapseNewlines(t){return"normal"===t}static trimRight(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!s.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&s._newlines.indexOf(t.charCodeAt(0))>=0}static isBreakingSpace(t){return"string"==typeof t&&s._breakingSpaces.indexOf(t.charCodeAt(0))>=0}static tokenize(t){var e=[],r="";if("string"!=typeof t)return e;for(var n=0;n<t.length;n++){var i=t[n];s.isBreakingSpace(i)||s.isNewline(i)?(""!==r&&(e.push(r),r=""),e.push(i)):r+=i}return""!==r&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static measureFont(t){if(s._fonts[t])return s._fonts[t];var e={},r=s._canvas,n=s._context;n.font=t;var i=s.METRICS_STRING+s.BASELINE_SYMBOL,o=Math.ceil(n.measureText(i).width),a=Math.ceil(n.measureText(s.BASELINE_SYMBOL).width),A=2*a;a=a*s.BASELINE_MULTIPLIER|0,r.width=o,r.height=A,n.fillStyle="#f00",n.fillRect(0,0,o,A),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,a);var u=n.getImageData(0,0,o,A).data,l=u.length,c=4*o,h=0,f=0,p=!1;for(h=0;h<a;++h){for(var d=0;d<c;d+=4)if(255!==u[f+d]){p=!0;break}if(p)break;f+=c}for(e.ascent=a-h,f=l-c,p=!1,h=A;h>a;--h){for(var g=0;g<c;g+=4)if(255!==u[f+g]){p=!0;break}if(p)break;f-=c}return e.descent=h-a,e.fontSize=e.ascent+e.descent,s._fonts[t]=e,e}static clearMetrics(t){void 0===t&&(t=""),t?delete s._fonts[t]:s._fonts={}}}e.default=s;var o=i.default.createElement("canvas");o.width=o.height=10,s._canvas=o,s._context=o.getContext("2d"),s._fonts={},s.METRICS_STRING="|q",s.BASELINE_SYMBOL="M",s.BASELINE_MULTIPLIER=1.4,s._newlines=[10,13],s._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,r,n,i=t.width,s=t.height,o=t.getContext("2d"),a=o.getImageData(0,0,i,s).data,A=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<A;e+=4)0!==a[e+3]&&(r=e/4%i,n=~~(e/4/i),null===u.top&&(u.top=n),(null===u.left||r<u.left)&&(u.left=r),(null===u.right||u.right<r)&&(u.right=r+1),(null===u.bottom||u.bottom<n)&&(u.bottom=n));return null!==u.top&&(i=u.right-u.left,s=u.bottom-u.top+1,l=o.getImageData(u.left,u.top,i,s)),{height:s,width:i,data:l}}},function(t,e,r){var n;t=r.nmd(t),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",A=32,u=128,l=1/0,c=9007199254740991,h=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",A],["partialRight",64],["rearg",256]],d="[object Arguments]",g="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",_="[object Function]",b="[object GeneratorFunction]",w="[object Map]",B="[object Number]",x="[object Object]",E="[object Promise]",C="[object RegExp]",T="[object Set]",I="[object String]",F="[object Symbol]",S="[object WeakMap]",U="[object ArrayBuffer]",M="[object DataView]",O="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",Q="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",H="[object Uint32Array]",j=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,z=RegExp(K.source),X=RegExp(W.source),Y=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),nt=/^\s+/,it=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,At=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",wt="a-z\\xdf-\\xf6\\xf8-\\xff",Bt="A-Z\\xc0-\\xd6\\xd8-\\xde",xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="["+xt+"]",Ct="["+bt+"]",Tt="\\d+",It="["+wt+"]",Ft="[^\\ud800-\\udfff"+xt+Tt+"\\u2700-\\u27bf"+wt+Bt+"]",St="\\ud83c[\\udffb-\\udfff]",Ut="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt="["+Bt+"]",Rt="(?:"+It+"|"+Ft+")",Lt="(?:"+Pt+"|"+Ft+")",Dt="(?:['](?:d|ll|m|re|s|t|ve))?",Qt="(?:['](?:D|LL|M|RE|S|T|VE))?",Nt="(?:"+Ct+"|"+St+")?",kt="[\\ufe0e\\ufe0f]?",Ht=kt+Nt+"(?:\\u200d(?:"+[Ut,Mt,Ot].join("|")+")"+kt+Nt+")*",jt="(?:"+["[\\u2700-\\u27bf]",Mt,Ot].join("|")+")"+Ht,Vt="(?:"+[Ut+Ct+"?",Ct,Mt,Ot,"[\\ud800-\\udfff]"].join("|")+")",Gt=RegExp("[']","g"),Kt=RegExp(Ct,"g"),Wt=RegExp(St+"(?="+St+")|"+Vt+Ht,"g"),zt=RegExp([Pt+"?"+It+"+"+Dt+"(?="+[Et,Pt,"$"].join("|")+")",Lt+"+"+Qt+"(?="+[Et,Pt+Rt,"$"].join("|")+")",Pt+"?"+Rt+"+"+Dt,Pt+"+"+Qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt,jt].join("|"),"g"),Xt=RegExp("[\\u200d\\ud800-\\udfff"+bt+"\\ufe0e\\ufe0f]"),Yt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$t=-1,Jt={};Jt[O]=Jt[P]=Jt[R]=Jt[L]=Jt[D]=Jt[Q]=Jt[N]=Jt[k]=Jt[H]=!0,Jt[d]=Jt[g]=Jt[U]=Jt[m]=Jt[M]=Jt[v]=Jt[y]=Jt[_]=Jt[w]=Jt[B]=Jt[x]=Jt[C]=Jt[T]=Jt[I]=Jt[S]=!1;var Zt={};Zt[d]=Zt[g]=Zt[U]=Zt[M]=Zt[m]=Zt[v]=Zt[O]=Zt[P]=Zt[R]=Zt[L]=Zt[D]=Zt[w]=Zt[B]=Zt[x]=Zt[C]=Zt[T]=Zt[I]=Zt[F]=Zt[Q]=Zt[N]=Zt[k]=Zt[H]=!0,Zt[y]=Zt[_]=Zt[S]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,re=parseInt,ne="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ie="object"==typeof self&&self&&self.Object===Object&&self,se=ne||ie||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&t&&!t.nodeType&&t,Ae=ae&&ae.exports===oe,ue=Ae&&ne.process,le=function(){try{return ae&&ae.require&&ae.require("util").types||ue&&ue.binding&&ue.binding("util")}catch(t){}}(),ce=le&&le.isArrayBuffer,he=le&&le.isDate,fe=le&&le.isMap,pe=le&&le.isRegExp,de=le&&le.isSet,ge=le&&le.isTypedArray;function me(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function ve(t,e,r,n){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}function ye(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function _e(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function be(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function we(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Be(t,e){return!(null==t||!t.length)&&Oe(t,e,0)>-1}function xe(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ee(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Ce(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Te(t,e,r,n){var i=-1,s=null==t?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}function Ie(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Fe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Se=De("length");function Ue(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Me(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Oe(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Me(t,Re,r)}function Pe(t,e,r,n){for(var i=r-1,s=t.length;++i<s;)if(n(t[i],e))return i;return-1}function Re(t){return t!=t}function Le(t,e){var r=null==t?0:t.length;return r?ke(t,e)/r:h}function De(t){return function(e){return null==e?i:e[t]}}function Qe(t){return function(e){return null==t?i:t[e]}}function Ne(t,e,r,n,i){return i(t,(function(t,i,s){r=n?(n=!1,t):e(r,t,i,s)})),r}function ke(t,e){for(var r,n=-1,s=t.length;++n<s;){var o=e(t[n]);o!==i&&(r=r===i?o:r+o)}return r}function He(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function je(t){return t?t.slice(0,or(t)+1).replace(nt,""):t}function Ve(t){return function(e){return t(e)}}function Ge(t,e){return Ee(e,(function(e){return t[e]}))}function Ke(t,e){return t.has(e)}function We(t,e){for(var r=-1,n=t.length;++r<n&&Oe(e,t[r],0)>-1;);return r}function ze(t,e){for(var r=t.length;r--&&Oe(e,t[r],0)>-1;);return r}function Xe(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var Ye=Qe({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),qe=Qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $e(t){return"\\"+te[t]}function Je(t){return Xt.test(t)}function Ze(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function tr(t,e){return function(r){return t(e(r))}}function er(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r];o!==e&&o!==a||(t[r]=a,s[i++]=r)}return s}function rr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function nr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function ir(t){return Je(t)?function(t){for(var e=Wt.lastIndex=0;Wt.test(t);)++e;return e}(t):Se(t)}function sr(t){return Je(t)?function(t){return t.match(Wt)||[]}(t):function(t){return t.split("")}(t)}function or(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var ar=Qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ar=function t(e){var r,n=(e=null==e?se:Ar.defaults(se.Object(),e,Ar.pick(se,qt))).Array,it=e.Date,bt=e.Error,wt=e.Function,Bt=e.Math,xt=e.Object,Et=e.RegExp,Ct=e.String,Tt=e.TypeError,It=n.prototype,Ft=wt.prototype,St=xt.prototype,Ut=e["__core-js_shared__"],Mt=Ft.toString,Ot=St.hasOwnProperty,Pt=0,Rt=(r=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Lt=St.toString,Dt=Mt.call(xt),Qt=se._,Nt=Et("^"+Mt.call(Ot).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=Ae?e.Buffer:i,Ht=e.Symbol,jt=e.Uint8Array,Vt=kt?kt.allocUnsafe:i,Wt=tr(xt.getPrototypeOf,xt),Xt=xt.create,te=St.propertyIsEnumerable,ne=It.splice,ie=Ht?Ht.isConcatSpreadable:i,oe=Ht?Ht.iterator:i,ae=Ht?Ht.toStringTag:i,ue=function(){try{var t=us(xt,"defineProperty");return t({},"",{}),t}catch(t){}}(),le=e.clearTimeout!==se.clearTimeout&&e.clearTimeout,Se=it&&it.now!==se.Date.now&&it.now,Qe=e.setTimeout!==se.setTimeout&&e.setTimeout,ur=Bt.ceil,lr=Bt.floor,cr=xt.getOwnPropertySymbols,hr=kt?kt.isBuffer:i,fr=e.isFinite,pr=It.join,dr=tr(xt.keys,xt),gr=Bt.max,mr=Bt.min,vr=it.now,yr=e.parseInt,_r=Bt.random,br=It.reverse,wr=us(e,"DataView"),Br=us(e,"Map"),xr=us(e,"Promise"),Er=us(e,"Set"),Cr=us(e,"WeakMap"),Tr=us(xt,"create"),Ir=Cr&&new Cr,Fr={},Sr=Qs(wr),Ur=Qs(Br),Mr=Qs(xr),Or=Qs(Er),Pr=Qs(Cr),Rr=Ht?Ht.prototype:i,Lr=Rr?Rr.valueOf:i,Dr=Rr?Rr.toString:i;function Qr(t){if(ra(t)&&!Ko(t)&&!(t instanceof jr)){if(t instanceof Hr)return t;if(Ot.call(t,"__wrapped__"))return Ns(t)}return new Hr(t)}var Nr=function(){function t(){}return function(e){if(!ea(e))return{};if(Xt)return Xt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function kr(){}function Hr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function jr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Kr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Kr;++e<r;)this.add(t[e])}function zr(t){var e=this.__data__=new Gr(t);this.size=e.size}function Xr(t,e){var r=Ko(t),n=!r&&Go(t),i=!r&&!n&&Yo(t),s=!r&&!n&&!i&&la(t),o=r||n||i||s,a=o?He(t.length,Ct):[],A=a.length;for(var u in t)!e&&!Ot.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gs(u,A))||a.push(u);return a}function Yr(t){var e=t.length;return e?t[Wn(0,e-1)]:i}function qr(t,e){return Os(Ti(t),on(e,0,t.length))}function $r(t){return Os(Ti(t))}function Jr(t,e,r){(r!==i&&!Ho(t[e],r)||r===i&&!(e in t))&&nn(t,e,r)}function Zr(t,e,r){var n=t[e];Ot.call(t,e)&&Ho(n,r)&&(r!==i||e in t)||nn(t,e,r)}function tn(t,e){for(var r=t.length;r--;)if(Ho(t[r][0],e))return r;return-1}function en(t,e,r,n){return cn(t,(function(t,i,s){e(n,t,r(t),s)})),n}function rn(t,e){return t&&Ii(e,Ma(e),t)}function nn(t,e,r){"__proto__"==e&&ue?ue(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function sn(t,e){for(var r=-1,s=e.length,o=n(s),a=null==t;++r<s;)o[r]=a?i:Ta(t,e[r]);return o}function on(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function an(t,e,r,n,s,o){var a,A=1&e,u=2&e,l=4&e;if(r&&(a=s?r(t,n,s,o):r(t)),a!==i)return a;if(!ea(t))return t;var c=Ko(t);if(c){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ot.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!A)return Ti(t,a)}else{var h=hs(t),f=h==_||h==b;if(Yo(t))return bi(t,A);if(h==x||h==d||f&&!s){if(a=u||f?{}:ps(t),!A)return u?function(t,e){return Ii(t,cs(t),e)}(t,function(t,e){return t&&Ii(e,Oa(e),t)}(a,t)):function(t,e){return Ii(t,ls(t),e)}(t,rn(a,t))}else{if(!Zt[h])return s?t:{};a=function(t,e,r){var n,i=t.constructor;switch(e){case U:return wi(t);case m:case v:return new i(+t);case M:return function(t,e){var r=e?wi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case O:case P:case R:case L:case D:case Q:case N:case k:case H:return Bi(t,r);case w:return new i;case B:case I:return new i(t);case C:return function(t){var e=new t.constructor(t.source,ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case T:return new i;case F:return n=t,Lr?xt(Lr.call(n)):{}}}(t,h,A)}}o||(o=new zr);var p=o.get(t);if(p)return p;o.set(t,a),aa(t)?t.forEach((function(n){a.add(an(n,e,r,n,t,o))})):na(t)&&t.forEach((function(n,i){a.set(i,an(n,e,r,i,t,o))}));var g=c?i:(l?u?rs:es:u?Oa:Ma)(t);return ye(g||t,(function(n,i){g&&(n=t[i=n]),Zr(a,i,an(n,e,r,i,t,o))})),a}function An(t,e,r){var n=r.length;if(null==t)return!n;for(t=xt(t);n--;){var s=r[n],o=e[s],a=t[s];if(a===i&&!(s in t)||!o(a))return!1}return!0}function un(t,e,r){if("function"!=typeof t)throw new Tt(s);return Fs((function(){t.apply(i,r)}),e)}function ln(t,e,r,n){var i=-1,s=Be,o=!0,a=t.length,A=[],u=e.length;if(!a)return A;r&&(e=Ee(e,Ve(r))),n?(s=xe,o=!1):e.length>=200&&(s=Ke,o=!1,e=new Wr(e));t:for(;++i<a;){var l=t[i],c=null==r?l:r(l);if(l=n||0!==l?l:0,o&&c==c){for(var h=u;h--;)if(e[h]===c)continue t;A.push(l)}else s(e,c,n)||A.push(l)}return A}Qr.templateSettings={escape:Y,evaluate:q,interpolate:$,variable:"",imports:{_:Qr}},Qr.prototype=kr.prototype,Qr.prototype.constructor=Qr,Hr.prototype=Nr(kr.prototype),Hr.prototype.constructor=Hr,jr.prototype=Nr(kr.prototype),jr.prototype.constructor=jr,Vr.prototype.clear=function(){this.__data__=Tr?Tr(null):{},this.size=0},Vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vr.prototype.get=function(t){var e=this.__data__;if(Tr){var r=e[t];return r===o?i:r}return Ot.call(e,t)?e[t]:i},Vr.prototype.has=function(t){var e=this.__data__;return Tr?e[t]!==i:Ot.call(e,t)},Vr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Tr&&e===i?o:e,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(t){var e=this.__data__,r=tn(e,t);return!(r<0||(r==e.length-1?e.pop():ne.call(e,r,1),--this.size,0))},Gr.prototype.get=function(t){var e=this.__data__,r=tn(e,t);return r<0?i:e[r][1]},Gr.prototype.has=function(t){return tn(this.__data__,t)>-1},Gr.prototype.set=function(t,e){var r=this.__data__,n=tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Kr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Br||Gr),string:new Vr}},Kr.prototype.delete=function(t){var e=as(this,t).delete(t);return this.size-=e?1:0,e},Kr.prototype.get=function(t){return as(this,t).get(t)},Kr.prototype.has=function(t){return as(this,t).has(t)},Kr.prototype.set=function(t,e){var r=as(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Wr.prototype.add=Wr.prototype.push=function(t){return this.__data__.set(t,o),this},Wr.prototype.has=function(t){return this.__data__.has(t)},zr.prototype.clear=function(){this.__data__=new Gr,this.size=0},zr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},zr.prototype.get=function(t){return this.__data__.get(t)},zr.prototype.has=function(t){return this.__data__.has(t)},zr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!Br||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Kr(n)}return r.set(t,e),this.size=r.size,this};var cn=Ui(yn),hn=Ui(_n,!0);function fn(t,e){var r=!0;return cn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function pn(t,e,r){for(var n=-1,s=t.length;++n<s;){var o=t[n],a=e(o);if(null!=a&&(A===i?a==a&&!ua(a):r(a,A)))var A=a,u=o}return u}function dn(t,e){var r=[];return cn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function gn(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=ds),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?gn(a,e-1,r,n,i):Ce(i,a):n||(i[i.length]=a)}return i}var mn=Mi(),vn=Mi(!0);function yn(t,e){return t&&mn(t,e,Ma)}function _n(t,e){return t&&vn(t,e,Ma)}function bn(t,e){return we(e,(function(e){return Jo(t[e])}))}function wn(t,e){for(var r=0,n=(e=mi(e,t)).length;null!=t&&r<n;)t=t[Ds(e[r++])];return r&&r==n?t:i}function Bn(t,e,r){var n=e(t);return Ko(t)?n:Ce(n,r(t))}function xn(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in xt(t)?function(t){var e=Ot.call(t,ae),r=t[ae];try{t[ae]=i;var n=!0}catch(t){}var s=Lt.call(t);return n&&(e?t[ae]=r:delete t[ae]),s}(t):function(t){return Lt.call(t)}(t)}function En(t,e){return t>e}function Cn(t,e){return null!=t&&Ot.call(t,e)}function Tn(t,e){return null!=t&&e in xt(t)}function In(t,e,r){for(var s=r?xe:Be,o=t[0].length,a=t.length,A=a,u=n(a),l=1/0,c=[];A--;){var h=t[A];A&&e&&(h=Ee(h,Ve(e))),l=mr(h.length,l),u[A]=!r&&(e||o>=120&&h.length>=120)?new Wr(A&&h):i}h=t[0];var f=-1,p=u[0];t:for(;++f<o&&c.length<l;){var d=h[f],g=e?e(d):d;if(d=r||0!==d?d:0,!(p?Ke(p,g):s(c,g,r))){for(A=a;--A;){var m=u[A];if(!(m?Ke(m,g):s(t[A],g,r)))continue t}p&&p.push(g),c.push(d)}}return c}function Fn(t,e,r){var n=null==(t=Es(t,e=mi(e,t)))?t:t[Ds(qs(e))];return null==n?i:me(n,t,r)}function Sn(t){return ra(t)&&xn(t)==d}function Un(t,e,r,n,s){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,n,s,o){var a=Ko(t),A=Ko(e),u=a?g:hs(t),l=A?g:hs(e),c=(u=u==d?x:u)==x,h=(l=l==d?x:l)==x,f=u==l;if(f&&Yo(t)){if(!Yo(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new zr),a||la(t)?Zi(t,e,r,n,s,o):function(t,e,r,n,i,s,o){switch(r){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case U:return!(t.byteLength!=e.byteLength||!s(new jt(t),new jt(e)));case m:case v:case B:return Ho(+t,+e);case y:return t.name==e.name&&t.message==e.message;case C:case I:return t==e+"";case w:var a=Ze;case T:var A=1&n;if(a||(a=rr),t.size!=e.size&&!A)return!1;var u=o.get(t);if(u)return u==e;n|=2,o.set(t,e);var l=Zi(a(t),a(e),n,i,s,o);return o.delete(t),l;case F:if(Lr)return Lr.call(t)==Lr.call(e)}return!1}(t,e,u,r,n,s,o);if(!(1&r)){var p=c&&Ot.call(t,"__wrapped__"),_=h&&Ot.call(e,"__wrapped__");if(p||_){var b=p?t.value():t,E=_?e.value():e;return o||(o=new zr),s(b,E,r,n,o)}}return!!f&&(o||(o=new zr),function(t,e,r,n,s,o){var a=1&r,A=es(t),u=A.length;if(u!=es(e).length&&!a)return!1;for(var l=u;l--;){var c=A[l];if(!(a?c in e:Ot.call(e,c)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=a;++l<u;){var g=t[c=A[l]],m=e[c];if(n)var v=a?n(m,g,c,e,t,o):n(g,m,c,t,e,o);if(!(v===i?g===m||s(g,m,r,n,o):v)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,s,o))}(t,e,r,n,Un,s))}function Mn(t,e,r,n){var s=r.length,o=s,a=!n;if(null==t)return!o;for(t=xt(t);s--;){var A=r[s];if(a&&A[2]?A[1]!==t[A[0]]:!(A[0]in t))return!1}for(;++s<o;){var u=(A=r[s])[0],l=t[u],c=A[1];if(a&&A[2]){if(l===i&&!(u in t))return!1}else{var h=new zr;if(n)var f=n(l,c,u,t,e,h);if(!(f===i?Un(c,l,3,n,h):f))return!1}}return!0}function On(t){return!(!ea(t)||(e=t,Rt&&Rt in e))&&(Jo(t)?Nt:dt).test(Qs(t));var e}function Pn(t){return"function"==typeof t?t:null==t?iA:"object"==typeof t?Ko(t)?Nn(t[0],t[1]):Qn(t):fA(t)}function Rn(t){if(!bs(t))return dr(t);var e=[];for(var r in xt(t))Ot.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Ln(t,e){return t<e}function Dn(t,e){var r=-1,i=zo(t)?n(t.length):[];return cn(t,(function(t,n,s){i[++r]=e(t,n,s)})),i}function Qn(t){var e=As(t);return 1==e.length&&e[0][2]?Bs(e[0][0],e[0][1]):function(r){return r===t||Mn(r,t,e)}}function Nn(t,e){return vs(t)&&ws(e)?Bs(Ds(t),e):function(r){var n=Ta(r,t);return n===i&&n===e?Ia(r,t):Un(e,n,3)}}function kn(t,e,r,n,s){t!==e&&mn(e,(function(o,a){if(s||(s=new zr),ea(o))!function(t,e,r,n,s,o,a){var A=Ts(t,r),u=Ts(e,r),l=a.get(u);if(l)Jr(t,r,l);else{var c=o?o(A,u,r+"",t,e,a):i,h=c===i;if(h){var f=Ko(u),p=!f&&Yo(u),d=!f&&!p&&la(u);c=u,f||p||d?Ko(A)?c=A:Xo(A)?c=Ti(A):p?(h=!1,c=bi(u,!0)):d?(h=!1,c=Bi(u,!0)):c=[]:sa(u)||Go(u)?(c=A,Go(A)?c=va(A):ea(A)&&!Jo(A)||(c=ps(u))):h=!1}h&&(a.set(u,c),s(c,u,n,o,a),a.delete(u)),Jr(t,r,c)}}(t,e,a,r,kn,n,s);else{var A=n?n(Ts(t,a),o,a+"",t,e,s):i;A===i&&(A=o),Jr(t,a,A)}}),Oa)}function Hn(t,e){var r=t.length;if(r)return gs(e+=e<0?r:0,r)?t[e]:i}function jn(t,e,r){e=e.length?Ee(e,(function(t){return Ko(t)?function(e){return wn(e,1===t.length?t[0]:t)}:t})):[iA];var n=-1;e=Ee(e,Ve(os()));var i=Dn(t,(function(t,r,i){var s=Ee(e,(function(e){return e(t)}));return{criteria:s,index:++n,value:t}}));return function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,a=r.length;++n<o;){var A=xi(i[n],s[n]);if(A)return n>=a?A:A*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}));n--;)t[n]=t[n].value;return t}(i)}function Vn(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=wn(t,o);r(a,o)&&$n(s,mi(o,t),a)}return s}function Gn(t,e,r,n){var i=n?Pe:Oe,s=-1,o=e.length,a=t;for(t===e&&(e=Ti(e)),r&&(a=Ee(t,Ve(r)));++s<o;)for(var A=0,u=e[s],l=r?r(u):u;(A=i(a,l,A,n))>-1;)a!==t&&ne.call(a,A,1),ne.call(t,A,1);return t}function Kn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==s){var s=i;gs(i)?ne.call(t,i,1):ui(t,i)}}return t}function Wn(t,e){return t+lr(_r()*(e-t+1))}function zn(t,e){var r="";if(!t||e<1||e>c)return r;do{e%2&&(r+=t),(e=lr(e/2))&&(t+=t)}while(e);return r}function Xn(t,e){return Ss(xs(t,e,iA),t+"")}function Yn(t){return Yr(Ha(t))}function qn(t,e){var r=Ha(t);return Os(r,on(e,0,r.length))}function $n(t,e,r,n){if(!ea(t))return t;for(var s=-1,o=(e=mi(e,t)).length,a=o-1,A=t;null!=A&&++s<o;){var u=Ds(e[s]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(s!=a){var c=A[u];(l=n?n(c,u,A):i)===i&&(l=ea(c)?c:gs(e[s+1])?[]:{})}Zr(A,u,l),A=A[u]}return t}var Jn=Ir?function(t,e){return Ir.set(t,e),t}:iA,Zn=ue?function(t,e){return ue(t,"toString",{configurable:!0,enumerable:!1,value:eA(e),writable:!0})}:iA;function ti(t){return Os(Ha(t))}function ei(t,e,r){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(r=r>s?s:r)<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=n(s);++i<s;)o[i]=t[i+e];return o}function ri(t,e){var r;return cn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var s=n+i>>>1,o=t[s];null!==o&&!ua(o)&&(r?o<=e:o<e)?n=s+1:i=s}return i}return ii(t,e,iA,r)}function ii(t,e,r,n){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=r(e))!=e,A=null===e,u=ua(e),l=e===i;s<o;){var c=lr((s+o)/2),h=r(t[c]),f=h!==i,p=null===h,d=h==h,g=ua(h);if(a)var m=n||d;else m=l?d&&(n||f):A?d&&f&&(n||!p):u?d&&f&&!p&&(n||!g):!p&&!g&&(n?h<=e:h<e);m?s=c+1:o=c}return mr(o,4294967294)}function si(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r],a=e?e(o):o;if(!r||!Ho(a,A)){var A=a;s[i++]=0===o?0:o}}return s}function oi(t){return"number"==typeof t?t:ua(t)?h:+t}function ai(t){if("string"==typeof t)return t;if(Ko(t))return Ee(t,ai)+"";if(ua(t))return Dr?Dr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ai(t,e,r){var n=-1,i=Be,s=t.length,o=!0,a=[],A=a;if(r)o=!1,i=xe;else if(s>=200){var u=e?null:zi(t);if(u)return rr(u);o=!1,i=Ke,A=new Wr}else A=e?[]:a;t:for(;++n<s;){var l=t[n],c=e?e(l):l;if(l=r||0!==l?l:0,o&&c==c){for(var h=A.length;h--;)if(A[h]===c)continue t;e&&A.push(c),a.push(l)}else i(A,c,r)||(A!==a&&A.push(c),a.push(l))}return a}function ui(t,e){return null==(t=Es(t,e=mi(e,t)))||delete t[Ds(qs(e))]}function li(t,e,r,n){return $n(t,e,r(wn(t,e)),n)}function ci(t,e,r,n){for(var i=t.length,s=n?i:-1;(n?s--:++s<i)&&e(t[s],s,t););return r?ei(t,n?0:s,n?s+1:i):ei(t,n?s+1:0,n?i:s)}function hi(t,e){var r=t;return r instanceof jr&&(r=r.value()),Te(e,(function(t,e){return e.func.apply(e.thisArg,Ce([t],e.args))}),r)}function fi(t,e,r){var i=t.length;if(i<2)return i?Ai(t[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=t[s],A=-1;++A<i;)A!=s&&(o[s]=ln(o[s]||a,t[A],e,r));return Ai(gn(o,1),e,r)}function pi(t,e,r){for(var n=-1,s=t.length,o=e.length,a={};++n<s;){var A=n<o?e[n]:i;r(a,t[n],A)}return a}function di(t){return Xo(t)?t:[]}function gi(t){return"function"==typeof t?t:iA}function mi(t,e){return Ko(t)?t:vs(t,e)?[t]:Ls(ya(t))}var vi=Xn;function yi(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ei(t,e,r)}var _i=le||function(t){return se.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}function wi(t){var e=new t.constructor(t.byteLength);return new jt(e).set(new jt(t)),e}function Bi(t,e){var r=e?wi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function xi(t,e){if(t!==e){var r=t!==i,n=null===t,s=t==t,o=ua(t),a=e!==i,A=null===e,u=e==e,l=ua(e);if(!A&&!l&&!o&&t>e||o&&a&&u&&!A&&!l||n&&a&&u||!r&&u||!s)return 1;if(!n&&!o&&!l&&t<e||l&&r&&s&&!n&&!o||A&&r&&s||!a&&s||!u)return-1}return 0}function Ei(t,e,r,i){for(var s=-1,o=t.length,a=r.length,A=-1,u=e.length,l=gr(o-a,0),c=n(u+l),h=!i;++A<u;)c[A]=e[A];for(;++s<a;)(h||s<o)&&(c[r[s]]=t[s]);for(;l--;)c[A++]=t[s++];return c}function Ci(t,e,r,i){for(var s=-1,o=t.length,a=-1,A=r.length,u=-1,l=e.length,c=gr(o-A,0),h=n(c+l),f=!i;++s<c;)h[s]=t[s];for(var p=s;++u<l;)h[p+u]=e[u];for(;++a<A;)(f||s<o)&&(h[p+r[a]]=t[s++]);return h}function Ti(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ii(t,e,r,n){var s=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var A=e[o],u=n?n(r[A],t[A],A,r,t):i;u===i&&(u=t[A]),s?nn(r,A,u):Zr(r,A,u)}return r}function Fi(t,e){return function(r,n){var i=Ko(r)?ve:en,s=e?e():{};return i(r,t,os(n,2),s)}}function Si(t){return Xn((function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:i,a=s>2?r[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&ms(r[0],r[1],a)&&(o=s<3?i:o,s=1),e=xt(e);++n<s;){var A=r[n];A&&t(e,A,n,o)}return e}))}function Ui(t,e){return function(r,n){if(null==r)return r;if(!zo(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=xt(r);(e?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function Mi(t){return function(e,r,n){for(var i=-1,s=xt(e),o=n(e),a=o.length;a--;){var A=o[t?a:++i];if(!1===r(s[A],A,s))break}return e}}function Oi(t){return function(e){var r=Je(e=ya(e))?sr(e):i,n=r?r[0]:e.charAt(0),s=r?yi(r,1).join(""):e.slice(1);return n[t]()+s}}function Pi(t){return function(e){return Te(Ja(Ga(e).replace(Gt,"")),t,"")}}function Ri(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Nr(t.prototype),n=t.apply(r,e);return ea(n)?n:r}}function Li(t){return function(e,r,n){var s=xt(e);if(!zo(e)){var o=os(r,3);e=Ma(e),r=function(t){return o(s[t],t,s)}}var a=t(e,r,n);return a>-1?s[o?e[a]:a]:i}}function Di(t){return ts((function(e){var r=e.length,n=r,o=Hr.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Tt(s);if(o&&!A&&"wrapper"==is(a))var A=new Hr([],!0)}for(n=A?n:r;++n<r;){var u=is(a=e[n]),l="wrapper"==u?ns(a):i;A=l&&ys(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?A[is(l[0])].apply(A,l[3]):1==a.length&&ys(a)?A[u]():A.thru(a)}return function(){var t=arguments,n=t[0];if(A&&1==t.length&&Ko(n))return A.plant(n).value();for(var i=0,s=r?e[i].apply(this,t):n;++i<r;)s=e[i].call(this,s);return s}}))}function Qi(t,e,r,s,o,a,A,l,c,h){var f=e&u,p=1&e,d=2&e,g=24&e,m=512&e,v=d?i:Ri(t);return function i(){for(var u=arguments.length,y=n(u),_=u;_--;)y[_]=arguments[_];if(g)var b=ss(i),w=Xe(y,b);if(s&&(y=Ei(y,s,o,g)),a&&(y=Ci(y,a,A,g)),u-=w,g&&u<h){var B=er(y,b);return Ki(t,e,Qi,i.placeholder,r,y,B,l,c,h-u)}var x=p?r:this,E=d?x[t]:t;return u=y.length,l?y=Cs(y,l):m&&u>1&&y.reverse(),f&&c<u&&(y.length=c),this&&this!==se&&this instanceof i&&(E=v||Ri(E)),E.apply(x,y)}}function Ni(t,e){return function(r,n){return function(t,e,r,n){return yn(t,(function(t,i,s){e(n,r(t),i,s)})),n}(r,t,e(n),{})}}function ki(t,e){return function(r,n){var s;if(r===i&&n===i)return e;if(r!==i&&(s=r),n!==i){if(s===i)return n;"string"==typeof r||"string"==typeof n?(r=ai(r),n=ai(n)):(r=oi(r),n=oi(n)),s=t(r,n)}return s}}function Hi(t){return ts((function(e){return e=Ee(e,Ve(os())),Xn((function(r){var n=this;return t(e,(function(t){return me(t,n,r)}))}))}))}function ji(t,e){var r=(e=e===i?" ":ai(e)).length;if(r<2)return r?zn(e,t):e;var n=zn(e,ur(t/ir(e)));return Je(e)?yi(sr(n),0,t).join(""):n.slice(0,t)}function Vi(t){return function(e,r,s){return s&&"number"!=typeof s&&ms(e,r,s)&&(r=s=i),e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r,i){for(var s=-1,o=gr(ur((e-t)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=t,t+=r;return a}(e,r,s=s===i?e<r?1:-1:pa(s),t)}}function Gi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ma(e),r=ma(r)),t(e,r)}}function Ki(t,e,r,n,s,o,a,u,l,c){var h=8&e;e|=h?A:64,4&(e&=~(h?64:A))||(e&=-4);var f=[t,e,s,h?o:i,h?a:i,h?i:o,h?i:a,u,l,c],p=r.apply(i,f);return ys(t)&&Is(p,f),p.placeholder=n,Us(p,t,e)}function Wi(t){var e=Bt[t];return function(t,r){if(t=ma(t),(r=null==r?0:mr(da(r),292))&&fr(t)){var n=(ya(t)+"e").split("e");return+((n=(ya(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var zi=Er&&1/rr(new Er([,-0]))[1]==l?function(t){return new Er(t)}:uA;function Xi(t){return function(e){var r=hs(e);return r==w?Ze(e):r==T?nr(e):function(t,e){return Ee(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,r,o,l,c,h,f){var p=2&e;if(!p&&"function"!=typeof t)throw new Tt(s);var d=o?o.length:0;if(d||(e&=-97,o=l=i),h=h===i?h:gr(da(h),0),f=f===i?f:da(f),d-=l?l.length:0,64&e){var g=o,m=l;o=l=i}var v=p?i:ns(t),y=[t,e,r,o,l,g,m,c,h,f];if(v&&function(t,e){var r=t[1],n=e[1],i=r|n,s=i<131,o=n==u&&8==r||n==u&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!s&&!o)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var A=e[3];if(A){var l=t[3];t[3]=l?Ei(l,A,e[4]):A,t[4]=l?er(t[3],a):e[4]}(A=e[5])&&(l=t[5],t[5]=l?Ci(l,A,e[6]):A,t[6]=l?er(t[5],a):e[6]),(A=e[7])&&(t[7]=A),n&u&&(t[8]=null==t[8]?e[8]:mr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,v),t=y[0],e=y[1],r=y[2],o=y[3],l=y[4],!(f=y[9]=y[9]===i?p?0:t.length:gr(y[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||16==e?function(t,e,r){var s=Ri(t);return function o(){for(var a=arguments.length,A=n(a),u=a,l=ss(o);u--;)A[u]=arguments[u];var c=a<3&&A[0]!==l&&A[a-1]!==l?[]:er(A,l);return(a-=c.length)<r?Ki(t,e,Qi,o.placeholder,i,A,c,i,i,r-a):me(this&&this!==se&&this instanceof o?s:t,this,A)}}(t,e,f):e!=A&&33!=e||l.length?Qi.apply(i,y):function(t,e,r,i){var s=1&e,o=Ri(t);return function e(){for(var a=-1,A=arguments.length,u=-1,l=i.length,c=n(l+A),h=this&&this!==se&&this instanceof e?o:t;++u<l;)c[u]=i[u];for(;A--;)c[u++]=arguments[++a];return me(h,s?r:this,c)}}(t,e,r,o);else var _=function(t,e,r){var n=1&e,i=Ri(t);return function e(){return(this&&this!==se&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Us((v?Jn:Is)(_,y),t,e)}function qi(t,e,r,n){return t===i||Ho(t,St[r])&&!Ot.call(n,r)?e:t}function $i(t,e,r,n,s,o){return ea(t)&&ea(e)&&(o.set(e,t),kn(t,e,i,$i,o),o.delete(e)),t}function Ji(t){return sa(t)?i:t}function Zi(t,e,r,n,s,o){var a=1&r,A=t.length,u=e.length;if(A!=u&&!(a&&u>A))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var h=-1,f=!0,p=2&r?new Wr:i;for(o.set(t,e),o.set(e,t);++h<A;){var d=t[h],g=e[h];if(n)var m=a?n(g,d,h,e,t,o):n(d,g,h,t,e,o);if(m!==i){if(m)continue;f=!1;break}if(p){if(!Fe(e,(function(t,e){if(!Ke(p,e)&&(d===t||s(d,t,r,n,o)))return p.push(e)}))){f=!1;break}}else if(d!==g&&!s(d,g,r,n,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function ts(t){return Ss(xs(t,i,Ks),t+"")}function es(t){return Bn(t,Ma,ls)}function rs(t){return Bn(t,Oa,cs)}var ns=Ir?function(t){return Ir.get(t)}:uA;function is(t){for(var e=t.name+"",r=Fr[e],n=Ot.call(Fr,e)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==t)return i.name}return e}function ss(t){return(Ot.call(Qr,"placeholder")?Qr:t).placeholder}function os(){var t=Qr.iteratee||sA;return t=t===sA?Pn:t,arguments.length?t(arguments[0],arguments[1]):t}function as(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function As(t){for(var e=Ma(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ws(i)]}return e}function us(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return On(r)?r:i}var ls=cr?function(t){return null==t?[]:(t=xt(t),we(cr(t),(function(e){return te.call(t,e)})))}:gA,cs=cr?function(t){for(var e=[];t;)Ce(e,ls(t)),t=Wt(t);return e}:gA,hs=xn;function fs(t,e,r){for(var n=-1,i=(e=mi(e,t)).length,s=!1;++n<i;){var o=Ds(e[n]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&ta(i)&&gs(o,i)&&(Ko(t)||Go(t))}function ps(t){return"function"!=typeof t.constructor||bs(t)?{}:Nr(Wt(t))}function ds(t){return Ko(t)||Go(t)||!!(ie&&t&&t[ie])}function gs(t,e){var r=typeof t;return!!(e=null==e?c:e)&&("number"==r||"symbol"!=r&&mt.test(t))&&t>-1&&t%1==0&&t<e}function ms(t,e,r){if(!ea(r))return!1;var n=typeof e;return!!("number"==n?zo(r)&&gs(e,r.length):"string"==n&&e in r)&&Ho(r[e],t)}function vs(t,e){if(Ko(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ua(t))||Z.test(t)||!J.test(t)||null!=e&&t in xt(e)}function ys(t){var e=is(t),r=Qr[e];if("function"!=typeof r||!(e in jr.prototype))return!1;if(t===r)return!0;var n=ns(r);return!!n&&t===n[0]}(wr&&hs(new wr(new ArrayBuffer(1)))!=M||Br&&hs(new Br)!=w||xr&&hs(xr.resolve())!=E||Er&&hs(new Er)!=T||Cr&&hs(new Cr)!=S)&&(hs=function(t){var e=xn(t),r=e==x?t.constructor:i,n=r?Qs(r):"";if(n)switch(n){case Sr:return M;case Ur:return w;case Mr:return E;case Or:return T;case Pr:return S}return e});var _s=Ut?Jo:mA;function bs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||St)}function ws(t){return t==t&&!ea(t)}function Bs(t,e){return function(r){return null!=r&&r[t]===e&&(e!==i||t in xt(r))}}function xs(t,e,r){return e=gr(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=gr(i.length-e,0),a=n(o);++s<o;)a[s]=i[e+s];s=-1;for(var A=n(e+1);++s<e;)A[s]=i[s];return A[e]=r(a),me(t,this,A)}}function Es(t,e){return e.length<2?t:wn(t,ei(e,0,-1))}function Cs(t,e){for(var r=t.length,n=mr(e.length,r),s=Ti(t);n--;){var o=e[n];t[n]=gs(o,r)?s[o]:i}return t}function Ts(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Is=Ms(Jn),Fs=Qe||function(t,e){return se.setTimeout(t,e)},Ss=Ms(Zn);function Us(t,e,r){var n=e+"";return Ss(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ye(p,(function(r){var n="_."+r[0];e&r[1]&&!Be(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(n),r)))}function Ms(t){var e=0,r=0;return function(){var n=vr(),s=16-(n-r);if(r=n,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Os(t,e){var r=-1,n=t.length,s=n-1;for(e=e===i?n:e;++r<e;){var o=Wn(r,s),a=t[o];t[o]=t[r],t[r]=a}return t.length=e,t}var Ps,Rs,Ls=(Ps=Ro((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,r,n,i){e.push(n?i.replace(lt,"$1"):r||t)})),e}),(function(t){return 500===Rs.size&&Rs.clear(),t})),Rs=Ps.cache,Ps);function Ds(t){if("string"==typeof t||ua(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qs(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ns(t){if(t instanceof jr)return t.clone();var e=new Hr(t.__wrapped__,t.__chain__);return e.__actions__=Ti(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ks=Xn((function(t,e){return Xo(t)?ln(t,gn(e,1,Xo,!0)):[]})),Hs=Xn((function(t,e){var r=qs(e);return Xo(r)&&(r=i),Xo(t)?ln(t,gn(e,1,Xo,!0),os(r,2)):[]})),js=Xn((function(t,e){var r=qs(e);return Xo(r)&&(r=i),Xo(t)?ln(t,gn(e,1,Xo,!0),i,r):[]}));function Vs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:da(r);return i<0&&(i=gr(n+i,0)),Me(t,os(e,3),i)}function Gs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var s=n-1;return r!==i&&(s=da(r),s=r<0?gr(n+s,0):mr(s,n-1)),Me(t,os(e,3),s,!0)}function Ks(t){return null!=t&&t.length?gn(t,1):[]}function Ws(t){return t&&t.length?t[0]:i}var zs=Xn((function(t){var e=Ee(t,di);return e.length&&e[0]===t[0]?In(e):[]})),Xs=Xn((function(t){var e=qs(t),r=Ee(t,di);return e===qs(r)?e=i:r.pop(),r.length&&r[0]===t[0]?In(r,os(e,2)):[]})),Ys=Xn((function(t){var e=qs(t),r=Ee(t,di);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?In(r,i,e):[]}));function qs(t){var e=null==t?0:t.length;return e?t[e-1]:i}var $s=Xn(Js);function Js(t,e){return t&&t.length&&e&&e.length?Gn(t,e):t}var Zs=ts((function(t,e){var r=null==t?0:t.length,n=sn(t,e);return Kn(t,Ee(e,(function(t){return gs(t,r)?+t:t})).sort(xi)),n}));function to(t){return null==t?t:br.call(t)}var eo=Xn((function(t){return Ai(gn(t,1,Xo,!0))})),ro=Xn((function(t){var e=qs(t);return Xo(e)&&(e=i),Ai(gn(t,1,Xo,!0),os(e,2))})),no=Xn((function(t){var e=qs(t);return e="function"==typeof e?e:i,Ai(gn(t,1,Xo,!0),i,e)}));function io(t){if(!t||!t.length)return[];var e=0;return t=we(t,(function(t){if(Xo(t))return e=gr(t.length,e),!0})),He(e,(function(e){return Ee(t,De(e))}))}function so(t,e){if(!t||!t.length)return[];var r=io(t);return null==e?r:Ee(r,(function(t){return me(e,i,t)}))}var oo=Xn((function(t,e){return Xo(t)?ln(t,e):[]})),ao=Xn((function(t){return fi(we(t,Xo))})),Ao=Xn((function(t){var e=qs(t);return Xo(e)&&(e=i),fi(we(t,Xo),os(e,2))})),uo=Xn((function(t){var e=qs(t);return e="function"==typeof e?e:i,fi(we(t,Xo),i,e)})),lo=Xn(io),co=Xn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,so(t,r)}));function ho(t){var e=Qr(t);return e.__chain__=!0,e}function fo(t,e){return e(t)}var po=ts((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,s=function(e){return sn(e,t)};return!(e>1||this.__actions__.length)&&n instanceof jr&&gs(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new Hr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(s)})),go=Fi((function(t,e,r){Ot.call(t,r)?++t[r]:nn(t,r,1)})),mo=Li(Vs),vo=Li(Gs);function yo(t,e){return(Ko(t)?ye:cn)(t,os(e,3))}function _o(t,e){return(Ko(t)?_e:hn)(t,os(e,3))}var bo=Fi((function(t,e,r){Ot.call(t,r)?t[r].push(e):nn(t,r,[e])})),wo=Xn((function(t,e,r){var i=-1,s="function"==typeof e,o=zo(t)?n(t.length):[];return cn(t,(function(t){o[++i]=s?me(e,t,r):Fn(t,e,r)})),o})),Bo=Fi((function(t,e,r){nn(t,r,e)}));function xo(t,e){return(Ko(t)?Ee:Dn)(t,os(e,3))}var Eo=Fi((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),Co=Xn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&ms(t,e[0],e[1])?e=[]:r>2&&ms(e[0],e[1],e[2])&&(e=[e[0]]),jn(t,gn(e,1),[])})),To=Se||function(){return se.Date.now()};function Io(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Yi(t,u,i,i,i,i,e)}function Fo(t,e){var r;if("function"!=typeof e)throw new Tt(s);return t=da(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var So=Xn((function(t,e,r){var n=1;if(r.length){var i=er(r,ss(So));n|=A}return Yi(t,n,e,r,i)})),Uo=Xn((function(t,e,r){var n=3;if(r.length){var i=er(r,ss(Uo));n|=A}return Yi(e,n,t,r,i)}));function Mo(t,e,r){var n,o,a,A,u,l,c=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new Tt(s);function d(e){var r=n,s=o;return n=o=i,c=e,A=t.apply(s,r)}function g(t){return c=t,u=Fs(v,e),h?d(t):A}function m(t){var r=t-l;return l===i||r>=e||r<0||f&&t-c>=a}function v(){var t=To();if(m(t))return y(t);u=Fs(v,function(t){var r=e-(t-l);return f?mr(r,a-(t-c)):r}(t))}function y(t){return u=i,p&&n?d(t):(n=o=i,A)}function _(){var t=To(),r=m(t);if(n=arguments,o=this,l=t,r){if(u===i)return g(l);if(f)return _i(u),u=Fs(v,e),d(l)}return u===i&&(u=Fs(v,e)),A}return e=ma(e)||0,ea(r)&&(h=!!r.leading,a=(f="maxWait"in r)?gr(ma(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),_.cancel=function(){u!==i&&_i(u),c=0,n=l=o=u=i},_.flush=function(){return u===i?A:y(To())},_}var Oo=Xn((function(t,e){return un(t,1,e)})),Po=Xn((function(t,e,r){return un(t,ma(e)||0,r)}));function Ro(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Tt(s);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Ro.Cache||Kr),r}function Lo(t){if("function"!=typeof t)throw new Tt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ro.Cache=Kr;var Do=vi((function(t,e){var r=(e=1==e.length&&Ko(e[0])?Ee(e[0],Ve(os())):Ee(gn(e,1),Ve(os()))).length;return Xn((function(n){for(var i=-1,s=mr(n.length,r);++i<s;)n[i]=e[i].call(this,n[i]);return me(t,this,n)}))})),Qo=Xn((function(t,e){var r=er(e,ss(Qo));return Yi(t,A,i,e,r)})),No=Xn((function(t,e){var r=er(e,ss(No));return Yi(t,64,i,e,r)})),ko=ts((function(t,e){return Yi(t,256,i,i,i,e)}));function Ho(t,e){return t===e||t!=t&&e!=e}var jo=Gi(En),Vo=Gi((function(t,e){return t>=e})),Go=Sn(function(){return arguments}())?Sn:function(t){return ra(t)&&Ot.call(t,"callee")&&!te.call(t,"callee")},Ko=n.isArray,Wo=ce?Ve(ce):function(t){return ra(t)&&xn(t)==U};function zo(t){return null!=t&&ta(t.length)&&!Jo(t)}function Xo(t){return ra(t)&&zo(t)}var Yo=hr||mA,qo=he?Ve(he):function(t){return ra(t)&&xn(t)==v};function $o(t){if(!ra(t))return!1;var e=xn(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!sa(t)}function Jo(t){if(!ea(t))return!1;var e=xn(t);return e==_||e==b||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zo(t){return"number"==typeof t&&t==da(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var na=fe?Ve(fe):function(t){return ra(t)&&hs(t)==w};function ia(t){return"number"==typeof t||ra(t)&&xn(t)==B}function sa(t){if(!ra(t)||xn(t)!=x)return!1;var e=Wt(t);if(null===e)return!0;var r=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Mt.call(r)==Dt}var oa=pe?Ve(pe):function(t){return ra(t)&&xn(t)==C},aa=de?Ve(de):function(t){return ra(t)&&hs(t)==T};function Aa(t){return"string"==typeof t||!Ko(t)&&ra(t)&&xn(t)==I}function ua(t){return"symbol"==typeof t||ra(t)&&xn(t)==F}var la=ge?Ve(ge):function(t){return ra(t)&&ta(t.length)&&!!Jt[xn(t)]},ca=Gi(Ln),ha=Gi((function(t,e){return t<=e}));function fa(t){if(!t)return[];if(zo(t))return Aa(t)?sr(t):Ti(t);if(oe&&t[oe])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[oe]());var e=hs(t);return(e==w?Ze:e==T?rr:Ha)(t)}function pa(t){return t?(t=ma(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function da(t){var e=pa(t),r=e%1;return e==e?r?e-r:e:0}function ga(t){return t?on(da(t),0,f):0}function ma(t){if("number"==typeof t)return t;if(ua(t))return h;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=je(t);var r=pt.test(t);return r||gt.test(t)?re(t.slice(2),r?2:8):ft.test(t)?h:+t}function va(t){return Ii(t,Oa(t))}function ya(t){return null==t?"":ai(t)}var _a=Si((function(t,e){if(bs(e)||zo(e))Ii(e,Ma(e),t);else for(var r in e)Ot.call(e,r)&&Zr(t,r,e[r])})),ba=Si((function(t,e){Ii(e,Oa(e),t)})),wa=Si((function(t,e,r,n){Ii(e,Oa(e),t,n)})),Ba=Si((function(t,e,r,n){Ii(e,Ma(e),t,n)})),xa=ts(sn),Ea=Xn((function(t,e){t=xt(t);var r=-1,n=e.length,s=n>2?e[2]:i;for(s&&ms(e[0],e[1],s)&&(n=1);++r<n;)for(var o=e[r],a=Oa(o),A=-1,u=a.length;++A<u;){var l=a[A],c=t[l];(c===i||Ho(c,St[l])&&!Ot.call(t,l))&&(t[l]=o[l])}return t})),Ca=Xn((function(t){return t.push(i,$i),me(Ra,i,t)}));function Ta(t,e,r){var n=null==t?i:wn(t,e);return n===i?r:n}function Ia(t,e){return null!=t&&fs(t,e,Tn)}var Fa=Ni((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=r}),eA(iA)),Sa=Ni((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Ot.call(t,e)?t[e].push(r):t[e]=[r]}),os),Ua=Xn(Fn);function Ma(t){return zo(t)?Xr(t):Rn(t)}function Oa(t){return zo(t)?Xr(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var r in xt(t))e.push(r);return e}(t);var e=bs(t),r=[];for(var n in t)("constructor"!=n||!e&&Ot.call(t,n))&&r.push(n);return r}(t)}var Pa=Si((function(t,e,r){kn(t,e,r)})),Ra=Si((function(t,e,r,n){kn(t,e,r,n)})),La=ts((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ee(e,(function(e){return e=mi(e,t),n||(n=e.length>1),e})),Ii(t,rs(t),r),n&&(r=an(r,7,Ji));for(var i=e.length;i--;)ui(r,e[i]);return r})),Da=ts((function(t,e){return null==t?{}:function(t,e){return Vn(t,e,(function(e,r){return Ia(t,r)}))}(t,e)}));function Qa(t,e){if(null==t)return{};var r=Ee(rs(t),(function(t){return[t]}));return e=os(e),Vn(t,r,(function(t,r){return e(t,r[0])}))}var Na=Xi(Ma),ka=Xi(Oa);function Ha(t){return null==t?[]:Ge(t,Ma(t))}var ja=Pi((function(t,e,r){return e=e.toLowerCase(),t+(r?Va(e):e)}));function Va(t){return $a(ya(t).toLowerCase())}function Ga(t){return(t=ya(t))&&t.replace(vt,Ye).replace(Kt,"")}var Ka=Pi((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Wa=Pi((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),za=Oi("toLowerCase"),Xa=Pi((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),Ya=Pi((function(t,e,r){return t+(r?" ":"")+$a(e)})),qa=Pi((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),$a=Oi("toUpperCase");function Ja(t,e,r){return t=ya(t),(e=r?i:e)===i?function(t){return Yt.test(t)}(t)?function(t){return t.match(zt)||[]}(t):function(t){return t.match(At)||[]}(t):t.match(e)||[]}var Za=Xn((function(t,e){try{return me(t,i,e)}catch(t){return $o(t)?t:new bt(t)}})),tA=ts((function(t,e){return ye(e,(function(e){e=Ds(e),nn(t,e,So(t[e],t))})),t}));function eA(t){return function(){return t}}var rA=Di(),nA=Di(!0);function iA(t){return t}function sA(t){return Pn("function"==typeof t?t:an(t,1))}var oA=Xn((function(t,e){return function(r){return Fn(r,t,e)}})),aA=Xn((function(t,e){return function(r){return Fn(t,r,e)}}));function AA(t,e,r){var n=Ma(e),i=bn(e,n);null!=r||ea(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=bn(e,Ma(e)));var s=!(ea(r)&&"chain"in r&&!r.chain),o=Jo(t);return ye(i,(function(r){var n=e[r];t[r]=n,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__),i=r.__actions__=Ti(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Ce([this.value()],arguments))})})),t}function uA(){}var lA=Hi(Ee),cA=Hi(be),hA=Hi(Fe);function fA(t){return vs(t)?De(Ds(t)):function(t){return function(e){return wn(e,t)}}(t)}var pA=Vi(),dA=Vi(!0);function gA(){return[]}function mA(){return!1}var vA,yA=ki((function(t,e){return t+e}),0),_A=Wi("ceil"),bA=ki((function(t,e){return t/e}),1),wA=Wi("floor"),BA=ki((function(t,e){return t*e}),1),xA=Wi("round"),EA=ki((function(t,e){return t-e}),0);return Qr.after=function(t,e){if("function"!=typeof e)throw new Tt(s);return t=da(t),function(){if(--t<1)return e.apply(this,arguments)}},Qr.ary=Io,Qr.assign=_a,Qr.assignIn=ba,Qr.assignInWith=wa,Qr.assignWith=Ba,Qr.at=xa,Qr.before=Fo,Qr.bind=So,Qr.bindAll=tA,Qr.bindKey=Uo,Qr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ko(t)?t:[t]},Qr.chain=ho,Qr.chunk=function(t,e,r){e=(r?ms(t,e,r):e===i)?1:gr(da(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,A=n(ur(s/e));o<s;)A[a++]=ei(t,o,o+=e);return A},Qr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var s=t[e];s&&(i[n++]=s)}return i},Qr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ce(Ko(r)?Ti(r):[r],gn(e,1))},Qr.cond=function(t){var e=null==t?0:t.length,r=os();return t=e?Ee(t,(function(t){if("function"!=typeof t[1])throw new Tt(s);return[r(t[0]),t[1]]})):[],Xn((function(r){for(var n=-1;++n<e;){var i=t[n];if(me(i[0],this,r))return me(i[1],this,r)}}))},Qr.conforms=function(t){return function(t){var e=Ma(t);return function(r){return An(r,t,e)}}(an(t,1))},Qr.constant=eA,Qr.countBy=go,Qr.create=function(t,e){var r=Nr(t);return null==e?r:rn(r,e)},Qr.curry=function t(e,r,n){var s=Yi(e,8,i,i,i,i,i,r=n?i:r);return s.placeholder=t.placeholder,s},Qr.curryRight=function t(e,r,n){var s=Yi(e,16,i,i,i,i,i,r=n?i:r);return s.placeholder=t.placeholder,s},Qr.debounce=Mo,Qr.defaults=Ea,Qr.defaultsDeep=Ca,Qr.defer=Oo,Qr.delay=Po,Qr.difference=ks,Qr.differenceBy=Hs,Qr.differenceWith=js,Qr.drop=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=r||e===i?1:da(e))<0?0:e,n):[]},Qr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,0,(e=n-(e=r||e===i?1:da(e)))<0?0:e):[]},Qr.dropRightWhile=function(t,e){return t&&t.length?ci(t,os(e,3),!0,!0):[]},Qr.dropWhile=function(t,e){return t&&t.length?ci(t,os(e,3),!0):[]},Qr.fill=function(t,e,r,n){var s=null==t?0:t.length;return s?(r&&"number"!=typeof r&&ms(t,e,r)&&(r=0,n=s),function(t,e,r,n){var s=t.length;for((r=da(r))<0&&(r=-r>s?0:s+r),(n=n===i||n>s?s:da(n))<0&&(n+=s),n=r>n?0:ga(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Qr.filter=function(t,e){return(Ko(t)?we:dn)(t,os(e,3))},Qr.flatMap=function(t,e){return gn(xo(t,e),1)},Qr.flatMapDeep=function(t,e){return gn(xo(t,e),l)},Qr.flatMapDepth=function(t,e,r){return r=r===i?1:da(r),gn(xo(t,e),r)},Qr.flatten=Ks,Qr.flattenDeep=function(t){return null!=t&&t.length?gn(t,l):[]},Qr.flattenDepth=function(t,e){return null!=t&&t.length?gn(t,e=e===i?1:da(e)):[]},Qr.flip=function(t){return Yi(t,512)},Qr.flow=rA,Qr.flowRight=nA,Qr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Qr.functions=function(t){return null==t?[]:bn(t,Ma(t))},Qr.functionsIn=function(t){return null==t?[]:bn(t,Oa(t))},Qr.groupBy=bo,Qr.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Qr.intersection=zs,Qr.intersectionBy=Xs,Qr.intersectionWith=Ys,Qr.invert=Fa,Qr.invertBy=Sa,Qr.invokeMap=wo,Qr.iteratee=sA,Qr.keyBy=Bo,Qr.keys=Ma,Qr.keysIn=Oa,Qr.map=xo,Qr.mapKeys=function(t,e){var r={};return e=os(e,3),yn(t,(function(t,n,i){nn(r,e(t,n,i),t)})),r},Qr.mapValues=function(t,e){var r={};return e=os(e,3),yn(t,(function(t,n,i){nn(r,n,e(t,n,i))})),r},Qr.matches=function(t){return Qn(an(t,1))},Qr.matchesProperty=function(t,e){return Nn(t,an(e,1))},Qr.memoize=Ro,Qr.merge=Pa,Qr.mergeWith=Ra,Qr.method=oA,Qr.methodOf=aA,Qr.mixin=AA,Qr.negate=Lo,Qr.nthArg=function(t){return t=da(t),Xn((function(e){return Hn(e,t)}))},Qr.omit=La,Qr.omitBy=function(t,e){return Qa(t,Lo(os(e)))},Qr.once=function(t){return Fo(2,t)},Qr.orderBy=function(t,e,r,n){return null==t?[]:(Ko(e)||(e=null==e?[]:[e]),Ko(r=n?i:r)||(r=null==r?[]:[r]),jn(t,e,r))},Qr.over=lA,Qr.overArgs=Do,Qr.overEvery=cA,Qr.overSome=hA,Qr.partial=Qo,Qr.partialRight=No,Qr.partition=Eo,Qr.pick=Da,Qr.pickBy=Qa,Qr.property=fA,Qr.propertyOf=function(t){return function(e){return null==t?i:wn(t,e)}},Qr.pull=$s,Qr.pullAll=Js,Qr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,os(r,2)):t},Qr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,i,r):t},Qr.pullAt=Zs,Qr.range=pA,Qr.rangeRight=dA,Qr.rearg=ko,Qr.reject=function(t,e){return(Ko(t)?we:dn)(t,Lo(os(e,3)))},Qr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],s=t.length;for(e=os(e,3);++n<s;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return Kn(t,i),r},Qr.rest=function(t,e){if("function"!=typeof t)throw new Tt(s);return Xn(t,e=e===i?e:da(e))},Qr.reverse=to,Qr.sampleSize=function(t,e,r){return e=(r?ms(t,e,r):e===i)?1:da(e),(Ko(t)?qr:qn)(t,e)},Qr.set=function(t,e,r){return null==t?t:$n(t,e,r)},Qr.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:$n(t,e,r,n)},Qr.shuffle=function(t){return(Ko(t)?$r:ti)(t)},Qr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&ms(t,e,r)?(e=0,r=n):(e=null==e?0:da(e),r=r===i?n:da(r)),ei(t,e,r)):[]},Qr.sortBy=Co,Qr.sortedUniq=function(t){return t&&t.length?si(t):[]},Qr.sortedUniqBy=function(t,e){return t&&t.length?si(t,os(e,2)):[]},Qr.split=function(t,e,r){return r&&"number"!=typeof r&&ms(t,e,r)&&(e=r=i),(r=r===i?f:r>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=ai(e))&&Je(t)?yi(sr(t),0,r):t.split(e,r):[]},Qr.spread=function(t,e){if("function"!=typeof t)throw new Tt(s);return e=null==e?0:gr(da(e),0),Xn((function(r){var n=r[e],i=yi(r,0,e);return n&&Ce(i,n),me(t,this,i)}))},Qr.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Qr.take=function(t,e,r){return t&&t.length?ei(t,0,(e=r||e===i?1:da(e))<0?0:e):[]},Qr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=n-(e=r||e===i?1:da(e)))<0?0:e,n):[]},Qr.takeRightWhile=function(t,e){return t&&t.length?ci(t,os(e,3),!1,!0):[]},Qr.takeWhile=function(t,e){return t&&t.length?ci(t,os(e,3)):[]},Qr.tap=function(t,e){return e(t),t},Qr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Tt(s);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Mo(t,e,{leading:n,maxWait:e,trailing:i})},Qr.thru=fo,Qr.toArray=fa,Qr.toPairs=Na,Qr.toPairsIn=ka,Qr.toPath=function(t){return Ko(t)?Ee(t,Ds):ua(t)?[t]:Ti(Ls(ya(t)))},Qr.toPlainObject=va,Qr.transform=function(t,e,r){var n=Ko(t),i=n||Yo(t)||la(t);if(e=os(e,4),null==r){var s=t&&t.constructor;r=i?n?new s:[]:ea(t)&&Jo(s)?Nr(Wt(t)):{}}return(i?ye:yn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Qr.unary=function(t){return Io(t,1)},Qr.union=eo,Qr.unionBy=ro,Qr.unionWith=no,Qr.uniq=function(t){return t&&t.length?Ai(t):[]},Qr.uniqBy=function(t,e){return t&&t.length?Ai(t,os(e,2)):[]},Qr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?Ai(t,i,e):[]},Qr.unset=function(t,e){return null==t||ui(t,e)},Qr.unzip=io,Qr.unzipWith=so,Qr.update=function(t,e,r){return null==t?t:li(t,e,gi(r))},Qr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:li(t,e,gi(r),n)},Qr.values=Ha,Qr.valuesIn=function(t){return null==t?[]:Ge(t,Oa(t))},Qr.without=oo,Qr.words=Ja,Qr.wrap=function(t,e){return Qo(gi(e),t)},Qr.xor=ao,Qr.xorBy=Ao,Qr.xorWith=uo,Qr.zip=lo,Qr.zipObject=function(t,e){return pi(t||[],e||[],Zr)},Qr.zipObjectDeep=function(t,e){return pi(t||[],e||[],$n)},Qr.zipWith=co,Qr.entries=Na,Qr.entriesIn=ka,Qr.extend=ba,Qr.extendWith=wa,AA(Qr,Qr),Qr.add=yA,Qr.attempt=Za,Qr.camelCase=ja,Qr.capitalize=Va,Qr.ceil=_A,Qr.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ma(r))==r?r:0),e!==i&&(e=(e=ma(e))==e?e:0),on(ma(t),e,r)},Qr.clone=function(t){return an(t,4)},Qr.cloneDeep=function(t){return an(t,5)},Qr.cloneDeepWith=function(t,e){return an(t,5,e="function"==typeof e?e:i)},Qr.cloneWith=function(t,e){return an(t,4,e="function"==typeof e?e:i)},Qr.conformsTo=function(t,e){return null==e||An(t,e,Ma(e))},Qr.deburr=Ga,Qr.defaultTo=function(t,e){return null==t||t!=t?e:t},Qr.divide=bA,Qr.endsWith=function(t,e,r){t=ya(t),e=ai(e);var n=t.length,s=r=r===i?n:on(da(r),0,n);return(r-=e.length)>=0&&t.slice(r,s)==e},Qr.eq=Ho,Qr.escape=function(t){return(t=ya(t))&&X.test(t)?t.replace(W,qe):t},Qr.escapeRegExp=function(t){return(t=ya(t))&&rt.test(t)?t.replace(et,"\\$&"):t},Qr.every=function(t,e,r){var n=Ko(t)?be:fn;return r&&ms(t,e,r)&&(e=i),n(t,os(e,3))},Qr.find=mo,Qr.findIndex=Vs,Qr.findKey=function(t,e){return Ue(t,os(e,3),yn)},Qr.findLast=vo,Qr.findLastIndex=Gs,Qr.findLastKey=function(t,e){return Ue(t,os(e,3),_n)},Qr.floor=wA,Qr.forEach=yo,Qr.forEachRight=_o,Qr.forIn=function(t,e){return null==t?t:mn(t,os(e,3),Oa)},Qr.forInRight=function(t,e){return null==t?t:vn(t,os(e,3),Oa)},Qr.forOwn=function(t,e){return t&&yn(t,os(e,3))},Qr.forOwnRight=function(t,e){return t&&_n(t,os(e,3))},Qr.get=Ta,Qr.gt=jo,Qr.gte=Vo,Qr.has=function(t,e){return null!=t&&fs(t,e,Cn)},Qr.hasIn=Ia,Qr.head=Ws,Qr.identity=iA,Qr.includes=function(t,e,r,n){t=zo(t)?t:Ha(t),r=r&&!n?da(r):0;var i=t.length;return r<0&&(r=gr(i+r,0)),Aa(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Oe(t,e,r)>-1},Qr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:da(r);return i<0&&(i=gr(n+i,0)),Oe(t,e,i)},Qr.inRange=function(t,e,r){return e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r){return t>=mr(e,r)&&t<gr(e,r)}(t=ma(t),e,r)},Qr.invoke=Ua,Qr.isArguments=Go,Qr.isArray=Ko,Qr.isArrayBuffer=Wo,Qr.isArrayLike=zo,Qr.isArrayLikeObject=Xo,Qr.isBoolean=function(t){return!0===t||!1===t||ra(t)&&xn(t)==m},Qr.isBuffer=Yo,Qr.isDate=qo,Qr.isElement=function(t){return ra(t)&&1===t.nodeType&&!sa(t)},Qr.isEmpty=function(t){if(null==t)return!0;if(zo(t)&&(Ko(t)||"string"==typeof t||"function"==typeof t.splice||Yo(t)||la(t)||Go(t)))return!t.length;var e=hs(t);if(e==w||e==T)return!t.size;if(bs(t))return!Rn(t).length;for(var r in t)if(Ot.call(t,r))return!1;return!0},Qr.isEqual=function(t,e){return Un(t,e)},Qr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?Un(t,e,i,r):!!n},Qr.isError=$o,Qr.isFinite=function(t){return"number"==typeof t&&fr(t)},Qr.isFunction=Jo,Qr.isInteger=Zo,Qr.isLength=ta,Qr.isMap=na,Qr.isMatch=function(t,e){return t===e||Mn(t,e,As(e))},Qr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Mn(t,e,As(e),r)},Qr.isNaN=function(t){return ia(t)&&t!=+t},Qr.isNative=function(t){if(_s(t))throw new bt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return On(t)},Qr.isNil=function(t){return null==t},Qr.isNull=function(t){return null===t},Qr.isNumber=ia,Qr.isObject=ea,Qr.isObjectLike=ra,Qr.isPlainObject=sa,Qr.isRegExp=oa,Qr.isSafeInteger=function(t){return Zo(t)&&t>=-9007199254740991&&t<=c},Qr.isSet=aa,Qr.isString=Aa,Qr.isSymbol=ua,Qr.isTypedArray=la,Qr.isUndefined=function(t){return t===i},Qr.isWeakMap=function(t){return ra(t)&&hs(t)==S},Qr.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==xn(t)},Qr.join=function(t,e){return null==t?"":pr.call(t,e)},Qr.kebabCase=Ka,Qr.last=qs,Qr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var s=n;return r!==i&&(s=(s=da(r))<0?gr(n+s,0):mr(s,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,s):Me(t,Re,s,!0)},Qr.lowerCase=Wa,Qr.lowerFirst=za,Qr.lt=ca,Qr.lte=ha,Qr.max=function(t){return t&&t.length?pn(t,iA,En):i},Qr.maxBy=function(t,e){return t&&t.length?pn(t,os(e,2),En):i},Qr.mean=function(t){return Le(t,iA)},Qr.meanBy=function(t,e){return Le(t,os(e,2))},Qr.min=function(t){return t&&t.length?pn(t,iA,Ln):i},Qr.minBy=function(t,e){return t&&t.length?pn(t,os(e,2),Ln):i},Qr.stubArray=gA,Qr.stubFalse=mA,Qr.stubObject=function(){return{}},Qr.stubString=function(){return""},Qr.stubTrue=function(){return!0},Qr.multiply=BA,Qr.nth=function(t,e){return t&&t.length?Hn(t,da(e)):i},Qr.noConflict=function(){return se._===this&&(se._=Qt),this},Qr.noop=uA,Qr.now=To,Qr.pad=function(t,e,r){t=ya(t);var n=(e=da(e))?ir(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return ji(lr(i),r)+t+ji(ur(i),r)},Qr.padEnd=function(t,e,r){t=ya(t);var n=(e=da(e))?ir(t):0;return e&&n<e?t+ji(e-n,r):t},Qr.padStart=function(t,e,r){t=ya(t);var n=(e=da(e))?ir(t):0;return e&&n<e?ji(e-n,r)+t:t},Qr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),yr(ya(t).replace(nt,""),e||0)},Qr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&ms(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var s=_r();return mr(t+s*(e-t+ee("1e-"+((s+"").length-1))),e)}return Wn(t,e)},Qr.reduce=function(t,e,r){var n=Ko(t)?Te:Ne,i=arguments.length<3;return n(t,os(e,4),r,i,cn)},Qr.reduceRight=function(t,e,r){var n=Ko(t)?Ie:Ne,i=arguments.length<3;return n(t,os(e,4),r,i,hn)},Qr.repeat=function(t,e,r){return e=(r?ms(t,e,r):e===i)?1:da(e),zn(ya(t),e)},Qr.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Qr.result=function(t,e,r){var n=-1,s=(e=mi(e,t)).length;for(s||(s=1,t=i);++n<s;){var o=null==t?i:t[Ds(e[n])];o===i&&(n=s,o=r),t=Jo(o)?o.call(t):o}return t},Qr.round=xA,Qr.runInContext=t,Qr.sample=function(t){return(Ko(t)?Yr:Yn)(t)},Qr.size=function(t){if(null==t)return 0;if(zo(t))return Aa(t)?ir(t):t.length;var e=hs(t);return e==w||e==T?t.size:Rn(t).length},Qr.snakeCase=Xa,Qr.some=function(t,e,r){var n=Ko(t)?Fe:ri;return r&&ms(t,e,r)&&(e=i),n(t,os(e,3))},Qr.sortedIndex=function(t,e){return ni(t,e)},Qr.sortedIndexBy=function(t,e,r){return ii(t,e,os(r,2))},Qr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ni(t,e);if(n<r&&Ho(t[n],e))return n}return-1},Qr.sortedLastIndex=function(t,e){return ni(t,e,!0)},Qr.sortedLastIndexBy=function(t,e,r){return ii(t,e,os(r,2),!0)},Qr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ni(t,e,!0)-1;if(Ho(t[r],e))return r}return-1},Qr.startCase=Ya,Qr.startsWith=function(t,e,r){return t=ya(t),r=null==r?0:on(da(r),0,t.length),e=ai(e),t.slice(r,r+e.length)==e},Qr.subtract=EA,Qr.sum=function(t){return t&&t.length?ke(t,iA):0},Qr.sumBy=function(t,e){return t&&t.length?ke(t,os(e,2)):0},Qr.template=function(t,e,r){var n=Qr.templateSettings;r&&ms(t,e,r)&&(e=i),t=ya(t),e=wa({},e,n,qi);var s,o,a=wa({},e.imports,n.imports,qi),A=Ma(a),u=Ge(a,A),l=0,c=e.interpolate||yt,h="__p += '",f=Et((e.escape||yt).source+"|"+c.source+"|"+(c===$?ct:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Ot.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$t+"]")+"\n";t.replace(f,(function(e,r,n,i,a,A){return n||(n=i),h+=t.slice(l,A).replace(_t,$e),r&&(s=!0,h+="' +\n__e("+r+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=A+e.length,e})),h+="';\n";var d=Ot.call(e,"variable")&&e.variable;if(d){if(ut.test(d))throw new bt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(j,""):h).replace(V,"$1").replace(G,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Za((function(){return wt(A,p+"return "+h).apply(i,u)}));if(g.source=h,$o(g))throw g;return g},Qr.times=function(t,e){if((t=da(t))<1||t>c)return[];var r=f,n=mr(t,f);e=os(e),t-=f;for(var i=He(n,e);++r<t;)e(r);return i},Qr.toFinite=pa,Qr.toInteger=da,Qr.toLength=ga,Qr.toLower=function(t){return ya(t).toLowerCase()},Qr.toNumber=ma,Qr.toSafeInteger=function(t){return t?on(da(t),-9007199254740991,c):0===t?t:0},Qr.toString=ya,Qr.toUpper=function(t){return ya(t).toUpperCase()},Qr.trim=function(t,e,r){if((t=ya(t))&&(r||e===i))return je(t);if(!t||!(e=ai(e)))return t;var n=sr(t),s=sr(e);return yi(n,We(n,s),ze(n,s)+1).join("")},Qr.trimEnd=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.slice(0,or(t)+1);if(!t||!(e=ai(e)))return t;var n=sr(t);return yi(n,0,ze(n,sr(e))+1).join("")},Qr.trimStart=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.replace(nt,"");if(!t||!(e=ai(e)))return t;var n=sr(t);return yi(n,We(n,sr(e))).join("")},Qr.truncate=function(t,e){var r=30,n="...";if(ea(e)){var s="separator"in e?e.separator:s;r="length"in e?da(e.length):r,n="omission"in e?ai(e.omission):n}var o=(t=ya(t)).length;if(Je(t)){var a=sr(t);o=a.length}if(r>=o)return t;var A=r-ir(n);if(A<1)return n;var u=a?yi(a,0,A).join(""):t.slice(0,A);if(s===i)return u+n;if(a&&(A+=u.length-A),oa(s)){if(t.slice(A).search(s)){var l,c=u;for(s.global||(s=Et(s.source,ya(ht.exec(s))+"g")),s.lastIndex=0;l=s.exec(c);)var h=l.index;u=u.slice(0,h===i?A:h)}}else if(t.indexOf(ai(s),A)!=A){var f=u.lastIndexOf(s);f>-1&&(u=u.slice(0,f))}return u+n},Qr.unescape=function(t){return(t=ya(t))&&z.test(t)?t.replace(K,ar):t},Qr.uniqueId=function(t){var e=++Pt;return ya(t)+e},Qr.upperCase=qa,Qr.upperFirst=$a,Qr.each=yo,Qr.eachRight=_o,Qr.first=Ws,AA(Qr,(vA={},yn(Qr,(function(t,e){Ot.call(Qr.prototype,e)||(vA[e]=t)})),vA),{chain:!1}),Qr.VERSION="4.17.21",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Qr[t].placeholder=Qr})),ye(["drop","take"],(function(t,e){jr.prototype[t]=function(r){r=r===i?1:gr(da(r),0);var n=this.__filtered__&&!e?new jr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,f),type:t+(n.__dir__<0?"Right":"")}),n},jr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;jr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:os(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),ye(["head","last"],(function(t,e){var r="take"+(e?"Right":"");jr.prototype[t]=function(){return this[r](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");jr.prototype[t]=function(){return this.__filtered__?new jr(this):this[r](1)}})),jr.prototype.compact=function(){return this.filter(iA)},jr.prototype.find=function(t){return this.filter(t).head()},jr.prototype.findLast=function(t){return this.reverse().find(t)},jr.prototype.invokeMap=Xn((function(t,e){return"function"==typeof t?new jr(this):this.map((function(r){return Fn(r,t,e)}))})),jr.prototype.reject=function(t){return this.filter(Lo(os(t)))},jr.prototype.slice=function(t,e){t=da(t);var r=this;return r.__filtered__&&(t>0||e<0)?new jr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=da(e))<0?r.dropRight(-e):r.take(e-t)),r)},jr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},jr.prototype.toArray=function(){return this.take(f)},yn(jr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),s=Qr[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);s&&(Qr.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,A=e instanceof jr,u=a[0],l=A||Ko(e),c=function(t){var e=s.apply(Qr,Ce([t],a));return n&&h?e[0]:e};l&&r&&"function"==typeof u&&1!=u.length&&(A=l=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,d=A&&!f;if(!o&&l){e=d?e:new jr(this);var g=t.apply(e,a);return g.__actions__.push({func:fo,args:[c],thisArg:i}),new Hr(g,h)}return p&&d?t.apply(this,a):(g=this.thru(c),p?n?g.value()[0]:g.value():g)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Qr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Ko(i)?i:[],t)}return this[r]((function(r){return e.apply(Ko(r)?r:[],t)}))}})),yn(jr.prototype,(function(t,e){var r=Qr[e];if(r){var n=r.name+"";Ot.call(Fr,n)||(Fr[n]=[]),Fr[n].push({name:e,func:r})}})),Fr[Qi(i,2).name]=[{name:"wrapper",func:i}],jr.prototype.clone=function(){var t=new jr(this.__wrapped__);return t.__actions__=Ti(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ti(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ti(this.__views__),t},jr.prototype.reverse=function(){if(this.__filtered__){var t=new jr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},jr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ko(t),n=e<0,i=r?t.length:0,s=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=mr(e,t+o);break;case"takeRight":t=gr(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,A=a-o,u=n?a:o-1,l=this.__iteratees__,c=l.length,h=0,f=mr(A,this.__takeCount__);if(!r||!n&&i==A&&f==A)return hi(t,this.__actions__);var p=[];t:for(;A--&&h<f;){for(var d=-1,g=t[u+=e];++d<c;){var m=l[d],v=m.iteratee,y=m.type,_=v(g);if(2==y)g=_;else if(!_){if(1==y)continue t;break t}}p[h++]=g}return p},Qr.prototype.at=po,Qr.prototype.chain=function(){return ho(this)},Qr.prototype.commit=function(){return new Hr(this.value(),this.__chain__)},Qr.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Qr.prototype.plant=function(t){for(var e,r=this;r instanceof kr;){var n=Ns(r);n.__index__=0,n.__values__=i,e?s.__wrapped__=n:e=n;var s=n;r=r.__wrapped__}return s.__wrapped__=t,e},Qr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jr){var e=t;return this.__actions__.length&&(e=new jr(this)),(e=e.reverse()).__actions__.push({func:fo,args:[to],thisArg:i}),new Hr(e,this.__chain__)}return this.thru(to)},Qr.prototype.toJSON=Qr.prototype.valueOf=Qr.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Qr.prototype.first=Qr.prototype.head,oe&&(Qr.prototype[oe]=function(){return this}),Qr}();se._=Ar,(n=function(){return Ar}.call(e,r,e,t))===i||(t.exports=n)}.call(this)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=d(r(93)),s=d(r(130)),o=d(r(135)),a=d(r(174)),A=d(r(159)),u=r(18),l=r(28),c=r(17),h=d(r(95)),f=d(r(175)),p=d(r(39));function d(t){return t&&t.__esModule?t:{default:t}}var g=new u.Matrix,m=new u.Point,v=new Float32Array(4),y=new Float32Array(4);class _ extends i.default{constructor(t){void 0===t&&(t=!1),super(),this.fillAlpha=1,this.lineWidth=0,this.nativeLines=t,this.lineColor=0,this.lineAlignment=.5,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=c.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new h.default,this.dirty=0,this.fastRectDirty=-1,this.clearDirty=0,this.boundsDirty=-1,this.cachedSpriteDirty=!1,this._spriteRect=null,this._fastRect=!1,this._prevRectTint=null,this._prevRectFillColor=null}clone(){var t=new _;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t}_quadraticCurveLength(t,e,r,n,i,s){var o=t-2*r+i,a=e-2*n+s,A=2*r-2*t,u=2*n-2*e,l=4*(o*o+a*a),c=4*(o*A+a*u),h=A*A+u*u,f=2*Math.sqrt(l+c+h),p=Math.sqrt(l),d=2*l*p,g=2*Math.sqrt(h),m=c/p;return(d*f+p*c*(f-g)+(4*h*l-c*c)*Math.log((2*p+m+f)/(m+g)))/(4*d)}_bezierCurveLength(t,e,r,n,i,s,o,a){for(var A=0,u=0,l=0,c=0,h=0,f=0,p=0,d=0,g=0,m=0,v=0,y=t,_=e,b=1;b<=10;++b)m=y-(d=(p=(f=(h=1-(u=b/10))*h)*h)*t+3*f*u*r+3*h*(l=u*u)*i+(c=l*u)*o),v=_-(g=p*e+3*f*u*n+3*h*l*s+c*a),y=d,_=g,A+=Math.sqrt(m*m+v*v);return A}_segmentsCount(t){var e=Math.ceil(t/_.CURVES.maxLength);return e<_.CURVES.minSegments?e=_.CURVES.minSegments:e>_.CURVES.maxSegments&&(e=_.CURVES.maxSegments),e}lineStyle(t,e,r,n){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=.5),this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this}moveTo(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this}lineTo(t,e){var r=this.currentPath.shape.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||(r.push(t,e),this.dirty++),this}quadraticCurveTo(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,s=0,o=0;0===i.length&&this.moveTo(0,0);for(var a=i[i.length-2],A=i[i.length-1],u=_.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(a,A,t,e,r,n)):20,l=1;l<=u;++l){var c=l/u;s=a+(t-a)*c,o=A+(e-A)*c,i.push(s+(t+(r-t)*c-s)*c,o+(e+(n-e)*c-o)*c)}return this.dirty++,this}bezierCurveTo(t,e,r,n,i,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=o[o.length-2],A=o[o.length-1];o.length-=2;var u=_.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(a,A,t,e,r,n,i,s)):20;return(0,f.default)(a,A,t,e,r,n,i,s,u,o),this.dirty++,this}arcTo(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s=this.currentPath.shape.points,o=s[s.length-2],a=s[s.length-1]-e,A=o-t,u=n-e,l=r-t,c=Math.abs(a*l-A*u);if(c<1e-8||0===i)s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e);else{var h=a*a+A*A,f=u*u+l*l,p=a*u+A*l,d=i*Math.sqrt(h)/c,g=i*Math.sqrt(f)/c,m=d*p/h,v=g*p/f,y=d*l+g*A,_=d*u+g*a,b=A*(g+m),w=a*(g+m),B=l*(d+v),x=u*(d+v),E=Math.atan2(w-_,b-y),C=Math.atan2(x-_,B-y);this.arc(y+t,_+e,i,E,C,A*u>l*a)}return this.dirty++,this}arc(t,e,r,n,i,s){if(void 0===s&&(s=!1),n===i)return this;!s&&i<=n?i+=c.PI_2:s&&n<=i&&(n+=c.PI_2);var o=i-n,a=_.CURVES.adaptive?this._segmentsCount(Math.abs(o)*r):40*Math.ceil(Math.abs(o)/c.PI_2);if(0===o)return this;var A=t+Math.cos(n)*r,u=e+Math.sin(n)*r,l=this.currentPath?this.currentPath.shape.points:null;if(l){var h=Math.abs(l[l.length-2]-A),f=Math.abs(l[l.length-1]-u);h<.001&&f<.001||l.push(A,u)}else this.moveTo(A,u),l=this.currentPath.shape.points;for(var p=o/(2*a),d=2*p,g=Math.cos(p),m=Math.sin(p),v=a-1,y=v%1/v,b=0;b<=v;++b){var w=p+n+d*(b+y*b),B=Math.cos(w),x=-Math.sin(w);l.push((g*B+m*x)*r+t,(g*-x+m*B)*r+e)}return this.dirty++,this}beginFill(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this}endFill(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this}drawRect(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this}drawRoundedRect(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this}drawCircle(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this}drawEllipse(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this}drawPolygon(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this}drawStar(t,e,r,n,i,s){void 0===s&&(s=0),i=i||n/2;for(var o=-1*Math.PI/2+s,a=2*r,A=c.PI_2/a,u=[],l=0;l<a;l++){var h=l%2?i:n,f=l*A+o;u.push(t+h*Math.cos(f),e+h*Math.sin(f))}return this.drawPolygon(u)}clear(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this}isFastRect(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===c.SHAPES.RECT&&!this.graphicsData[0].lineWidth}_renderWebGL(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))}_renderSpriteRect(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new A.default(new o.default(o.default.EMPTY)));var r=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)r.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var i=v,s=y;(0,l.hex2rgb)(n,i),(0,l.hex2rgb)(this.tint,s),i[0]*=s[0],i[1]*=s[1],i[2]*=s[2],r.tint=(0,l.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=n}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)}_renderCanvas(t){!0!==this.isMask&&t.plugins.graphics.render(this)}_calculateBounds(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)}containsPoint(t){this.worldTransform.applyInverse(t,m);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&n.shape&&n.shape.contains(m.x,m.y)){var i=!1;if(n.holes)for(var s=0;s<n.holes.length;s++)if(n.holes[s].contains(m.x,m.y)){i=!0;break}if(!i)return!0}}return!1}updateLocalBounds(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,s=0,o=0,a=0,A=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],h=l.type,f=l.lineWidth*l.lineAlignment;if(i=l.shape,h===c.SHAPES.RECT||h===c.SHAPES.RREC)s=i.x-f,o=i.y-f,t=s<t?s:t,e=s+(a=i.width+2*f)>e?s+a:e,r=o<r?o:r,n=o+(A=i.height+2*f)>n?o+A:n;else if(h===c.SHAPES.CIRC)s=i.x,o=i.y,t=s-(a=i.radius+f)<t?s-a:t,e=s+a>e?s+a:e,r=o-(A=i.radius+f)<r?o-A:r,n=o+A>n?o+A:n;else if(h===c.SHAPES.ELIP)s=i.x,o=i.y,t=s-(a=i.width+f)<t?s-a:t,e=s+a>e?s+a:e,r=o-(A=i.height+f)<r?o-A:r,n=o+A>n?o+A:n;else for(var p=i.points,d=0,g=0,m=0,v=0,y=0,_=0,b=0,w=0,B=0;B+2<p.length;B+=2)s=p[B],o=p[B+1],d=p[B+2],g=p[B+3],m=Math.abs(d-s),v=Math.abs(g-o),A=2*f,(a=Math.sqrt(m*m+v*v))<1e-9||(t=(b=(d+s)/2)-(y=(A/a*v+m)/2)<t?b-y:t,e=b+y>e?b+y:e,r=(w=(g+o)/2)-(_=(A/a*m+v)/2)<r?w-_:r,n=w+_>n?w+_:n)}else t=0,e=0,r=0,n=0;var x=this.boundsPadding;this._localBounds.minX=t-x,this._localBounds.maxX=e+x,this._localBounds.minY=r-x,this._localBounds.maxY=n+x}drawShape(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===c.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e}generateTexture(t,e,r){void 0===r&&(r=1);var n=this.getLocalBounds(),i=s.default.create(n.width,n.height,e,r);return this.transform.updateLocalTransform(),this.transform.localTransform.copy(g),g.invert(),g.tx-=n.x,g.ty-=n.y,t.render(this,i,!0,g),i}generateCanvasTexture(t,e){void 0===e&&(e=1);var r=this.getLocalBounds(),i=s.default.create(r.width,r.height,t,e);n||(n=new p.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(g),g.invert(),g.tx-=r.x,g.ty-=r.y,n.render(this,i,!0,g);var a=o.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics");return a.baseTexture.resolution=e,a.baseTexture.update(),a}closePath(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this}addHole(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this}destroy(t){super.destroy(t);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var r in this._webGL)for(var n=0;n<this._webGL[r].data.length;++n)this._webGL[r].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null}}e.default=_,_._SPRITE_TEXTURE=null,_.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e,r,n,i,s,o,a,A){this.lineWidth=t,this.lineAlignment=A,this.nativeLines=o,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=n,this.fillAlpha=i,this._fillTint=n,this.fill=s,this.holes=[],this.shape=a,this.type=a.type}clone(){return new r(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)}addHole(t){this.holes.push(t)}destroy(){this.shape=null,this.holes=null}}e.default=r},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n,i,s,o,a,A,u){void 0===u&&(u=[]);var l=0,c=0,h=0,f=0,p=0;u.push(t,e);for(var d=1,g=0;d<=A;++d)h=(c=(l=1-(g=d/A))*l)*l,p=(f=g*g)*g,u.push(h*t+3*c*g*r+3*l*f*i+p*o,h*e+3*c*g*n+3*l*f*s+p*a);return u}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(28),i=r(17),s=f(r(151)),o=f(r(140)),a=f(r(177)),A=f(r(178)),u=f(r(179)),l=f(r(181)),c=f(r(182)),h=f(r(183));function f(t){return t&&t.__esModule?t:{default:t}}class p extends s.default{constructor(t){super(t),this.graphicsDataPool=[],this.primitiveShader=null,this.gl=t.gl,this.CONTEXT_UID=0}onContextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new A.default(this.gl)}destroy(){s.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null}render(t){var e,r=this.renderer,i=r.gl,s=t._webGL[this.CONTEXT_UID];s&&t.dirty===s.dirty||(this.updateGraphics(t),s=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;r.bindShader(o),r.state.setBlendMode(t.blendMode);for(var a=0,A=s.data.length;a<A;a++){var u=(e=s.data[a]).shader;r.bindShader(u),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.tint=(0,n.hex2rgb)(t.tint),u.uniforms.alpha=t.worldAlpha,r.bindVao(e.vao),e.nativeLines?i.drawArrays(i.LINES,0,e.points.length/6):e.vao.draw(i.TRIANGLE_STRIP,e.indices.length)}}updateGraphics(t){var e,r,n=this.renderer.gl,s=t._webGL[this.CONTEXT_UID];if(s||(s=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:n,clearDirty:-1,dirty:-1}),s.dirty=t.dirty,t.clearDirty!==s.clearDirty){s.clearDirty=t.clearDirty;for(var o=0;o<s.data.length;o++)this.graphicsDataPool.push(s.data[o]);s.data.length=0,s.lastIndex=0}for(var a=s.lastIndex;a<t.graphicsData.length;a++){var A=t.graphicsData[a];e=this.getWebGLData(s,0),A.nativeLines&&A.lineWidth&&(r=this.getWebGLData(s,0,!0),s.lastIndex++),A.type===i.SHAPES.POLY&&(0,u.default)(A,e,r),A.type===i.SHAPES.RECT?(0,l.default)(A,e,r):A.type===i.SHAPES.CIRC||A.type===i.SHAPES.ELIP?(0,h.default)(A,e,r):A.type===i.SHAPES.RREC&&(0,c.default)(A,e,r),s.lastIndex++}this.renderer.bindVao(null);for(var f=0;f<s.data.length;f++)(e=s.data[f]).dirty&&e.upload()}getWebGLData(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n}}e.default=p,o.default.registerPlugin("graphics",p)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(102))&&n.__esModule?n:{default:n};e.default=class{constructor(t,e,r){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new i.default.VertexArrayObject(t,r).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,t.FLOAT,!1,24,8)}reset(){this.points.length=0,this.indices.length=0}upload(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1}destroy(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(149))&&n.__esModule?n:{default:n};class s extends i.default{constructor(t){super(t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"))}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){t.points=t.shape.points.slice();var o=t.points;if(t.fill&&o.length>=6){for(var a=[],A=t.holes,u=0;u<A.length;u++){var l=A[u];a.push(o.length/2),o=o.concat(l.points)}var c=e.points,h=e.indices,f=o.length/2,p=(0,i.hex2rgb)(t.fillColor),d=t.fillAlpha,g=p[0]*d,m=p[1]*d,v=p[2]*d,y=(0,s.default)(o,a,2);if(!y)return;for(var _=c.length/6,b=0;b<y.length;b+=3)h.push(y[b]+_),h.push(y[b]+_),h.push(y[b+1]+_),h.push(y[b+2]+_),h.push(y[b+2]+_);for(var w=0;w<f;w++)c.push(o[2*w],o[2*w+1],g,m,v,d)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=o(r(180)),i=r(28),s=o(r(29));function o(t){return t&&t.__esModule?t:{default:t}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0!==n.length){var s=e.points,o=n.length/2,a=(0,i.hex2rgb)(t.lineColor),A=t.lineAlpha,u=a[0]*A,l=a[1]*A,c=a[2]*A;for(r=1;r<o;r++){var h=n[2*(r-1)],f=n[2*(r-1)+1],p=n[2*r],d=n[2*r+1];s.push(h,f),s.push(u,l,c,A),s.push(p,d),s.push(u,l,c,A)}}}(t,r):function(t,e){var r=t.points;if(0!==r.length){var s=new n.Point(r[0],r[1]),o=new n.Point(r[r.length-2],r[r.length-1]);if(s.x===o.x&&s.y===o.y){(r=r.slice()).pop(),r.pop();var a=(o=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(s.x-o.x),A=o.y+.5*(s.y-o.y);r.unshift(a,A),r.push(a,A)}var u=e.points,l=e.indices,c=r.length/2,h=r.length,f=u.length/6,p=t.lineWidth/2,d=(0,i.hex2rgb)(t.lineColor),g=t.lineAlpha,m=d[0]*g,v=d[1]*g,y=d[2]*g,_=r[0],b=r[1],w=r[2],B=r[3],x=0,E=0,C=-(b-B),T=_-w,I=0,F=0,S=0,U=0,M=Math.sqrt(C*C+T*T);C/=M,T/=M,C*=p,T*=p;var O=t.lineAlignment,P=2*(1-O),R=2*O;u.push(_-C*P,b-T*P,m,v,y,g),u.push(_+C*R,b+T*R,m,v,y,g);for(var L=1;L<c-1;++L){_=r[2*(L-1)],b=r[2*(L-1)+1],w=r[2*L],B=r[2*L+1],x=r[2*(L+1)],E=r[2*(L+1)+1],C=-(b-B),T=_-w,C/=M=Math.sqrt(C*C+T*T),T/=M,C*=p,T*=p,I=-(B-E),F=w-x,I/=M=Math.sqrt(I*I+F*F),F/=M;var D=-T+b-(-T+B),Q=-C+w-(-C+_),N=(-C+_)*(-T+B)-(-C+w)*(-T+b),k=-(F*=p)+E-(-F+B),H=-(I*=p)+w-(-I+x),j=(-I+x)*(-F+B)-(-I+w)*(-F+E),V=D*H-k*Q;if(Math.abs(V)<.1)V+=10.1,u.push(w-C*P,B-T*P,m,v,y,g),u.push(w+C*R,B+T*R,m,v,y,g);else{var G=(Q*j-H*N)/V,K=(k*N-D*j)/V;(G-w)*(G-w)+(K-B)*(K-B)>196*p*p?(S=C-I,U=T-F,S/=M=Math.sqrt(S*S+U*U),U/=M,S*=p,U*=p,u.push(w-S*P,B-U*P),u.push(m,v,y,g),u.push(w+S*R,B+U*R),u.push(m,v,y,g),u.push(w-S*R*P,B-U*P),u.push(m,v,y,g),h++):(u.push(w+(G-w)*P,B+(K-B)*P),u.push(m,v,y,g),u.push(w-(G-w)*R,B-(K-B)*R),u.push(m,v,y,g))}}_=r[2*(c-2)],b=r[2*(c-2)+1],w=r[2*(c-1)],C=-(b-(B=r[2*(c-1)+1])),T=_-w,C/=M=Math.sqrt(C*C+T*T),T/=M,C*=p,T*=p,u.push(w-C*P,B-T*P),u.push(m,v,y,g),u.push(w+C*R,B+T*R),u.push(m,v,y,g),l.push(f);for(var W=0;W<h;++W)l.push(f++);l.push(f-1)}}(t,e)};var n=r(18),i=r(28)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=t.shape,o=n.x,a=n.y,A=n.width,u=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,h=l[0]*c,f=l[1]*c,p=l[2]*c,d=e.points,g=e.indices,m=d.length/6;d.push(o,a),d.push(h,f,p,c),d.push(o+A,a),d.push(h,f,p,c),d.push(o,a+u),d.push(h,f,p,c),d.push(o+A,a+u),d.push(h,f,p,c),g.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var v=t.points;t.points=[o,a,o+A,a,o+A,a+u,o,a+u,o,a],(0,i.default)(t,e,r),t.points=v}};var n,i=(n=r(180))&&n.__esModule?n:{default:n},s=r(28)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var o=t.shape,a=o.x,u=o.y,l=o.width,c=o.height,h=o.radius,f=[];if(f.push(a+h,u),A(a+l-h,u,a+l,u,a+l,u+h,f),A(a+l,u+c-h,a+l,u+c,a+l-h,u+c,f),A(a+h,u+c,a,u+c,a,u+c-h,f),A(a,u+h,a,u,a+h+1e-10,u,f),t.fill){for(var p=(0,s.hex2rgb)(t.fillColor),d=t.fillAlpha,g=p[0]*d,m=p[1]*d,v=p[2]*d,y=e.points,_=e.indices,b=y.length/6,w=(0,n.default)(f,null,2),B=0,x=w.length;B<x;B+=3)_.push(w[B]+b),_.push(w[B]+b),_.push(w[B+1]+b),_.push(w[B+2]+b),_.push(w[B+2]+b);for(var E=0,C=f.length;E<C;E++)y.push(f[E],f[++E],g,m,v,d)}if(t.lineWidth){var T=t.points;t.points=f,(0,i.default)(t,e,r),t.points=T}};var n=o(r(29)),i=o(r(180)),s=r(28);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function A(t,e,r,n,i,s,o){void 0===o&&(o=[]);for(var A=o,u=0,l=0,c=0,h=0,f=0,p=0,d=0,g=0;d<=20;++d)u=a(t,r,g=d/20),l=a(e,n,g),c=a(r,i,g),h=a(n,s,g),f=a(u,c,g),p=a(l,h,g),A.push(f,p);return A}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n,a,A=t.shape,u=A.x,l=A.y;if(t.type===s.SHAPES.CIRC?(n=A.radius,a=A.radius):(n=A.width,a=A.height),0!==n&&0!==a){var c=Math.floor(30*Math.sqrt(A.radius))||Math.floor(15*Math.sqrt(A.width+A.height)),h=2*Math.PI/c;if(t.fill){var f=(0,o.hex2rgb)(t.fillColor),p=t.fillAlpha,d=f[0]*p,g=f[1]*p,m=f[2]*p,v=e.points,y=e.indices,_=v.length/6;y.push(_);for(var b=0;b<c+1;b++)v.push(u,l,d,g,m,p),v.push(u+Math.sin(h*b)*n,l+Math.cos(h*b)*a,d,g,m,p),y.push(_++,_++);y.push(_-1)}if(t.lineWidth){var w=t.points;t.points=[];for(var B=0;B<c;B++)t.points.push(u+Math.sin(h*-B)*n,l+Math.cos(h*-B)*a);t.points.push(t.points[0],t.points[1]),(0,i.default)(t,e,r),t.points=w}}};var n,i=(n=r(180))&&n.__esModule?n:{default:n},s=r(17),o=r(28)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(39))&&n.__esModule?n:{default:n},s=r(17);class o{constructor(t){this.renderer=t}render(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var A=t.graphicsData[a],u=A.shape,l=A._fillTint,c=A._lineTint;if(r.lineWidth=A.lineWidth,A.type===s.SHAPES.POLY){r.beginPath();var h=u.points,f=A.holes,p=void 0,d=void 0,g=void 0,m=void 0;r.moveTo(h[0],h[1]);for(var v=2;v<h.length;v+=2)r.lineTo(h[v],h[v+1]);if(u.closed&&r.closePath(),f.length>0){p=0,g=h[0],m=h[1];for(var y=2;y+2<h.length;y+=2)p+=(h[y]-g)*(h[y+3]-m)-(h[y+2]-g)*(h[y+1]-m);for(var _=0;_<f.length;_++)if(h=f[_].points){d=0,g=h[0],m=h[1];for(var b=2;b+2<h.length;b+=2)d+=(h[b]-g)*(h[b+3]-m)-(h[b+2]-g)*(h[b+1]-m);if(d*p<0){r.moveTo(h[0],h[1]);for(var w=2;w<h.length;w+=2)r.lineTo(h[w],h[w+1])}else{r.moveTo(h[h.length-2],h[h.length-1]);for(var B=h.length-4;B>=0;B-=2)r.lineTo(h[B],h[B+1])}f[_].close&&r.closePath()}}A.fill&&(r.globalAlpha=A.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),A.lineWidth&&(r.globalAlpha=A.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(A.type===s.SHAPES.RECT)(A.fillColor||0===A.fillColor)&&(r.globalAlpha=A.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(u.x,u.y,u.width,u.height)),A.lineWidth&&(r.globalAlpha=A.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(u.x,u.y,u.width,u.height));else if(A.type===s.SHAPES.CIRC)r.beginPath(),r.arc(u.x,u.y,u.radius,0,2*Math.PI),r.closePath(),A.fill&&(r.globalAlpha=A.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),A.lineWidth&&(r.globalAlpha=A.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(A.type===s.SHAPES.ELIP){var x=2*u.width,E=2*u.height,C=u.x-x/2,T=u.y-E/2;r.beginPath();var I=.5522848,F=x/2*I,S=E/2*I,U=C+x,M=T+E,O=C+x/2,P=T+E/2;r.moveTo(C,P),r.bezierCurveTo(C,P-S,O-F,T,O,T),r.bezierCurveTo(O+F,T,U,P-S,U,P),r.bezierCurveTo(U,P+S,O+F,M,O,M),r.bezierCurveTo(O-F,M,C,P+S,C,P),r.closePath(),A.fill&&(r.globalAlpha=A.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),A.lineWidth&&(r.globalAlpha=A.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(A.type===s.SHAPES.RREC){var R=u.x,L=u.y,D=u.width,Q=u.height,N=u.radius,k=Math.min(D,Q)/2|0;N=N>k?k:N,r.beginPath(),r.moveTo(R,L+N),r.lineTo(R,L+Q-N),r.quadraticCurveTo(R,L+Q,R+N,L+Q),r.lineTo(R+D-N,L+Q),r.quadraticCurveTo(R+D,L+Q,R+D,L+Q-N),r.lineTo(R+D,L+N),r.quadraticCurveTo(R+D,L,R+D-N,L),r.lineTo(R+N,L),r.quadraticCurveTo(R,L,R,L+N),r.closePath(),(A.fillColor||0===A.fillColor)&&(r.globalAlpha=A.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),A.lineWidth&&(r.globalAlpha=A.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}}updateGraphicsTint(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var s=t.graphicsData[i],o=0|s.fillColor,a=0|s.lineColor;s._fillTint=((o>>16&255)/255*e*255<<16)+((o>>8&255)/255*r*255<<8)+(255&o)/255*n*255,s._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}}renderPolygon(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()}destroy(){this.renderer=null}}e.default=o,i.default.registerPlugin("graphics",o)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(16),i=r(28),s=r(134);class o{static get BATCH_SIZE(){return 1e3}constructor(t,e,r){void 0===r&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t){var e=this.data.meta.scale,r=(0,i.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r}parse(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=o.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}_processFrames(t){for(var e=t,r=o.BATCH_SIZE,i=this.baseTexture.sourceScale;e-t<r&&e<this._frameKeys.length;){var a=this._frameKeys[e],A=this._frames[a],u=A.frame;if(u){var l,c=null,h=!1!==A.trimmed&&A.sourceSize?A.sourceSize:A.frame,f=new n.Rectangle(0,0,Math.floor(h.w*i)/this.resolution,Math.floor(h.h*i)/this.resolution);l=A.rotated?new n.Rectangle(Math.floor(u.x*i)/this.resolution,Math.floor(u.y*i)/this.resolution,Math.floor(u.h*i)/this.resolution,Math.floor(u.w*i)/this.resolution):new n.Rectangle(Math.floor(u.x*i)/this.resolution,Math.floor(u.y*i)/this.resolution,Math.floor(u.w*i)/this.resolution,Math.floor(u.h*i)/this.resolution),!1!==A.trimmed&&A.spriteSourceSize&&(c=new n.Rectangle(Math.floor(A.spriteSourceSize.x*i)/this.resolution,Math.floor(A.spriteSourceSize.y*i)/this.resolution,Math.floor(u.w*i)/this.resolution,Math.floor(u.h*i)/this.resolution)),this.textures[a]=new n.Texture(this.baseTexture,l,f,c,A.rotated?2:0,A.anchor),(0,s.addToTextureCache)(this.textures[a],a)}e++}}_processAnimations(){var t=this.data.animations||{};for(var e in t)for(var r of(this.animations[e]=[],t[e]))this.animations[e].push(this.textures[r])}_parseComplete(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*o.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*o.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=A(r(34)),i=A(r(93)),s=r(187),o=r(36),a=r(17);function A(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(t,e,r,a,A){"number"==typeof t&&(t=Object.assign({width:t,height:e||n.default.RENDER_OPTIONS.height,useGL:!!a,sharedTicker:!!A},r)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,useGL:!1,sharedLoader:!1,autoRender:!1},t),this.renderer=(0,s.autoRenderer)(t),this.stage=new i.default,this.stage.isStage=!0,this._ticker=null,t.autoRender&&(this.ticker=t.sharedTicker?o.shared:new o.Ticker),t.autoStart&&this.start()}set ticker(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,a.UPDATE_PRIORITY.LOW)}get ticker(){return this._ticker}render(){this.renderer.render(this.stage)}stop(){this.ticker&&this.ticker.stop()}start(){this.ticker&&this.ticker.start()}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroyChildren(t){this.stage.destroyChildren(t)}destroy(t,e){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(e),this.renderer.destroy(t),this.renderer=null,this._options=null,this.stage=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autoRenderer=function(t){return void 0===t&&(t={}),t.useGL?new i.default(t):new n.default(t)};var n=s(r(39)),i=s(r(140));function s(t){return t&&t.__esModule?t:{default:t}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"ChromaFilter",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return i.default}});var n=h(r(99)),i=h(r(189)),s=h(r(126)),o=h(r(119)),a=h(r(120)),A=h(r(124)),u=h(r(127)),l=h(r(190)),c=h(r(125));function h(t){return t&&t.__esModule?t:{default:t}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class s extends n.default{constructor(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random()),super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class s extends n.default{constructor(t){void 0===t&&(t=1),super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"),this.alpha=t,this.glShaderKey="alpha"}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Loader",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return i.Resource}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return s.getResourcePath}}),e.shared=e.loader=void 0,Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return o.default}});var n=A(r(192)),i=r(194),s=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(226)),o=A(r(193));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(a=function(t){return t?r:e})(t)}function A(t){return t&&t.__esModule?t:{default:t}}var u=new n.default;e.shared=u,u.destroy=()=>{};var l=u||null;e.loader=l},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=A(r(31)),i=A(r(193)),s=r(28),o=r(194),a=A(r(226));function A(t){return t&&t.__esModule?t:{default:t}}class u extends o.ResourceLoader{constructor(t,e){super(t,e),n.default.call(this);for(var r=0;r<u._pixiMiddleware.length;++r)this.use(u._pixiMiddleware[r]());this.onStart.add((t=>this.emit("start",t))),this.onLoad.add(((t,e)=>this.emit("load",t,e))),this.onProgress.add(((t,e)=>this.emit("progress",t,e))),this.onError.add(((t,e,r)=>this.emit("error",t,e,r))),this.onComplete.add(((t,e)=>this.emit("complete",t,e)))}static addPixiMiddleware(t){u._pixiMiddleware.push(t)}destroy(){this.removeAllListeners(),super.destroy()}}e.default=u,(0,s.inherit)(u,n.default),u._pixiMiddleware=[i.default,a.default]},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=r(194),s=(n=r(135))&&n.__esModule?n:{default:n}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"ResourceLoader",{enumerable:!0,get:function(){return s.default}});var n=a(r(195)),i=a(r(196)),s=a(r(197)),o=a(r(200));function a(t){return t&&t.__esModule?t:{default:t}}s.default.base64=n.default,s.default.async=i.default,s.default.encodeBinary=n.default,s.default.Resource=o.default},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeBinary=function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var o=0;o<i.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return e}},(t,e)=>{"use strict";function r(){}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}Object.defineProperty(e,"__esModule",{value:!0}),e.eachSeries=function(t,e,r,n){var i=0,s=t.length;!function o(a){a||i===s?r&&r(a):n?setTimeout((()=>{e(t[i++],o)}),1):e(t[i++],o)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,s={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push(t,e){o(t,!1,e)},kill(){i=0,s.drain=r,s.started=!1,s._tasks=[]},unshift(t,e){o(t,!0,e)},process(){for(;!s.paused&&i<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),(i+=1)===s.concurrency&&s.saturated(),t(e.data,n(a(e)))}},length:()=>s._tasks.length,running:()=>i,idle:()=>s._tasks.length+i===0,pause(){!0!==s.paused&&(s.paused=!0)},resume(){if(!1!==s.paused){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};function o(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())setTimeout((()=>s.drain()),1);else{var i={data:t,callback:"function"==typeof n?n:r};e?s._tasks.unshift(i):s._tasks.push(i),setTimeout((()=>s.process()),1)}}function a(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),i<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}return s}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=A(r(198)),i=A(r(199)),s=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(196)),o=A(r(200));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(a=function(t){return t?r:e})(t)}function A(t){return t&&t.__esModule?t:{default:t}}var u=/(#[\w-]+)?$/;class l{constructor(t,e){void 0===t&&(t=""),void 0===e&&(e=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=(t,e)=>this._loadResource(t,e),this._queue=s.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new n.default,this.onError=new n.default,this.onLoad=new n.default,this.onStart=new n.default,this.onComplete=new n.default;for(var r=0;r<l._defaultBeforeMiddleware.length;++r)this.pre(l._defaultBeforeMiddleware[r]);for(var i=0;i<l._defaultAfterMiddleware.length;++i)this.use(l._defaultAfterMiddleware[i])}add(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),!this.resources[t]){if("string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources the loader is running.");if(e=this._prepareUrl(e),this.resources[t]=new o.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=r.parentResource,a=[],A=0;A<s.children.length;++A)s.children[A].isComplete||a.push(s.children[A]);var u=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=u;for(var l=0;l<a.length;++l)a[l].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this}}pre(t){return this._beforeMiddleware.push(t),this}use(t){return this._afterMiddleware.push(t),this}reset(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort(),delete this.resources[t]}return this.resources={},this}destroy(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e.destroy&&e.destroy(),delete this.resources[t]}this.baseUrl="",this.defaultQueryString="",this._beforeMiddleware=null,this._afterMiddleware=null,this._resourcesParsing=null,this._boundLoadResource=null,this._queue=null,this.resources=null,this.onProgress=null,this.onLoad=null,this.onError=null,this.onStart=null,this.onComplete=null}loadAsync(){return new Promise(((t,e)=>{this.load(t)}))}load(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this}get concurrency(){return this._queue.concurrency}set concurrency(t){this._queue.concurrency=t}_prepareUrl(t){var e,r=(0,i.default)(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=u.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e}_loadResource(t,e){t._dequeue=e,s.eachSeries(this._beforeMiddleware,((e,r)=>{e.call(this,t,(()=>{r(t.isComplete?{}:null)}))}),(()=>{t.isComplete?this._onLoad(t):(t._onLoadBinding=t.onComplete.once(this._onLoad,this),t.load())}),!0)}_onStart(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)}_onComplete(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)}_onLoad(t){t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s.eachSeries(this._afterMiddleware,((e,r)=>{e.call(this,t,r)}),(()=>{t.onAfterMiddleware.dispatch(t),this.progress=Math.min(100,this.progress+t.progressChunk),this.onProgress.dispatch(this,t),t.error?this.onError.dispatch(t.error,this,t):this.onLoad.dispatch(this,t),this._resourcesParsing.splice(this._resourcesParsing.indexOf(t),1),this._queue.idle()&&0===this._resourcesParsing.length&&this._onComplete()}),!0)}}e.default=l,l._defaultBeforeMiddleware=[],l._defaultAfterMiddleware=[],l.pre=function(t){return l._defaultBeforeMiddleware.push(t),l},l.use=function(t){return l._defaultAfterMiddleware.push(t),l}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var o=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new i(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new i(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();o.MiniSignalBinding=i,e.default=o,t.exports=e.default},t=>{"use strict";t.exports=(t,e={})=>{if(!t)return;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={};let s=14;for(;s--;)i[r.key[s]]=n[s]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(t,e,n){e&&(i[r.q.name][e]=n)})),i}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=A(r(198)),i=A(r(201)),s=A(r(133)),o=r(42),a=r(225);function A(t){return t&&t.__esModule?t:{default:t}}function u(){}class l{constructor(t,e,r){if(void 0===r&&(r={}),"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required.");this._flags=0,this.setflag(a.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExt(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.error=null,this.children=[],this.type=l.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=u,this._onLoadBinding=null,this._elementTimer=0,this.metadata=r.metadata||{},this.onStart=new n.default,this.onProgress=new n.default,this.onComplete=new n.default,this.onAfterMiddleware=new n.default,this._onComplete=this._onComplete.bind(this),this._onError=this._onError.bind(this),this._onTimeout=this._onTimeout.bind(this),this._onXhrLoad=this._onXhrLoad.bind(this)}get isDataUrl(){return this.hasflag(a.STATUS_FLAGS.DATA_URL)}get isComplete(){return this.hasflag(a.STATUS_FLAGS.COMPLETE)}get isLoading(){return this.hasflag(a.STATUS_FLAGS.LOADING)}complete(){this._clearEvents(),this._finish()}load(t){var{isLoading:e,loadType:r,isComplete:n}=this;if(!e)if(n)t&&setTimeout((()=>t(this)),1);else switch(t&&this.onComplete.once(t),this.setflag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),r){case a.LOAD_TYPE.IMAGE:this.type=l.TYPE.IMAGE,this._loadImage();break;case a.LOAD_TYPE.XHR:default:this._loadOtherFile()}}abort(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.data)if(this.data.src)this.data.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}}destroy(){this.removeHandler(),this.data=null,this.name=null,this.url=null,this.metadata=null,this.onStart=null,this.onProgress=null,this.onComplete=null,this.onAfterMiddleware=null,this.children=null,this._dequeue=null,this._onLoadBinding=null,this._flags=0,this._onComplete=null,this._onError=null,this._onTimeout=null,this._onXhrLoad=null}_loadOtherFile(){this._isNetWork(this.url)||o.isBrowser?this._loadXhr():this._loadLocalFile()}_loadLocalFile(){(0,_fs.readFile)(this.url,((t,e)=>{if(t)this._onError(t);else{var r=JSON.parse(e);this._onXhrLoad(r)}}))}_loadXhr(){i.default.get(this.url).end(((t,e)=>{t?this._onError(t):this._onXhrLoad(e.body)}))}_isNetWork(t){return!!/^\s*https?:\/\//.test(t)}_onXhrLoad(t){this.data=t,this.type=l.TYPE.JSON,this.complete()}hasflag(t){return 0!=(this._flags&t)}setflag(t,e){this._flags=e?this._flags|t:this._flags&~t}removeHandler(){this.data&&(this.data.onerror=null,this.data.onload=null)}_clearEvents(){clearTimeout(this._elementTimer),this.removeHandler()}_finish(){this.isComplete||(this.setflag(a.STATUS_FLAGS.COMPLETE,!0),this.setflag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this))}_loadImage(){this.data=new s.default,this.data.onerror=this._onError,this.data.onload=this._onComplete,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this._isNetWork(this.url)?this.data.network=!0:this.data.network=!1,this.timeout&&(this._elementTimer=setTimeout(this._onTimeout,this.timeout))}_onError(t){this.abort("Failed to load element using: "+t)}_onTimeout(){this.abort("Load timed out.")}_onComplete(t){this.complete()}_determineLoadType(){return a.LOAD_TYPE_MAP[this.extension]||a.LOAD_TYPE.XHR}_getExt(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),s=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()}static setExtensionLoadType(t,e){c(a.LOAD_TYPE_MAP,t,e)}static setExtensionXhrType(t,e){c(a.XHR_TYPE_MAP,t,e)}}function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}e.default=l,l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6}},(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i;"undefined"!=typeof window?i=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),i=void 0):i=self;var s=r(202),o=r(203),a=r(204),A=r(220),u=r(221),l=r(222),c=r(224);function h(){}t.exports=function(t,r){return"function"==typeof r?new e.Request("GET",t).end(r):1===arguments.length?new e.Request("GET",t):new e.Request(t,r)};var f=e=t.exports;e.Request=_,f.getXHR=function(){if(i.XMLHttpRequest&&(!i.location||"file:"!==i.location.protocol||!i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function d(t){if(!u(t))return t;var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&g(e,r,t[r]);return e.join("&")}function g(t,e,r){if(void 0!==r)if(null!==r)if(Array.isArray(r))r.forEach((function(r){g(t,e,r)}));else if(u(r))for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&g(t,"".concat(e,"[").concat(n,"]"),r[n]);else t.push(encodeURI(e)+"="+encodeURIComponent(r));else t.push(encodeURI(e))}function m(t){for(var e,r,n={},i=t.split("&"),s=0,o=i.length;s<o;++s)-1===(r=(e=i[s]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return n}function v(t){return/[/+]json($|[^-\w])/i.test(t)}function y(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,r,n,i,s=t.split(/\r?\n/),o={},a=0,A=s.length;a<A;++a)-1!==(e=(r=s[a]).indexOf(":"))&&(n=r.slice(0,e).toLowerCase(),i=p(r.slice(e+1)),o[n]=i);return o}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function _(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,n=null;try{n=new y(r)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",n);try{r._isResponseOK(n)||(t=new Error(n.statusText||n.text||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=n,t.status=n.status,r.callback(t,n)):r.callback(null,n)}))}function b(t,e,r){var n=f("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}f.serializeObject=d,f.parseString=m,f.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":a.stringify,"application/json":o},f.parse={"application/x-www-form-urlencoded":m,"application/json":JSON.parse},l(y.prototype),y.prototype._parseBody=function(t){var e=f.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&v(this.type)&&(e=f.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},y.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot ".concat(e," ").concat(r," (").concat(this.status,")"),i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i},f.Response=y,s(_.prototype),A(_.prototype),_.prototype.type=function(t){return this.set("Content-Type",f.types[t]||t),this},_.prototype.accept=function(t){return this.set("Accept",f.types[t]||t),this},_.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"===n(e)&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var i=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,i)},_.prototype.query=function(t){return"string"!=typeof t&&(t=d(t)),t&&this._query.push(t),this},_.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},_.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},_.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},_.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},_.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},_.prototype.ca=_.prototype.agent,_.prototype.buffer=_.prototype.ca,_.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},_.prototype.pipe=_.prototype.write,_.prototype._isHost=function(t){return t&&"object"===n(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},_.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||h,this._finalizeQueryString(),this._end()},_.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},_.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=f.getXHR();var e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===r){var n;try{n=e.status}catch(t){n=0}if(!n){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var n=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(t._uploadTimeoutTimer)),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.addEventListener("progress",n.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",n.bind(null,"upload"))}catch(t){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var i=this._header["content-type"],s=this._serializer||f.serialize[i?i.split(";")[0]:""];!s&&v(i)&&(s=f.serialize["application/json"]),s&&(r=s(r))}for(var o in this.header)null!==this.header[o]&&Object.prototype.hasOwnProperty.call(this.header,o)&&e.setRequestHeader(o,this.header[o]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===r?null:r)},f.agent=function(){return new c},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){c.prototype[t.toLowerCase()]=function(e,r){var n=new f.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}})),c.prototype.del=c.prototype.delete,f.get=function(t,e,r){var n=f("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},f.head=function(t,e,r){var n=f("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},f.options=function(t,e,r){var n=f("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},f.del=b,f.delete=b,f.patch=function(t,e,r){var n=f("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},f.post=function(t,e,r){var n=f("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},f.put=function(t,e,r){var n=f("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}},t=>{function e(t){if(t)return function(t){for(var r in e.prototype)t[r]=e.prototype[r];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},t=>{t.exports=o,o.default=o,o.stable=l,o.stableStringify=l;var e="[...]",r="[Circular]",n=[],i=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(t,e,r,o){var a;void 0===o&&(o=s()),A(t,"",0,[],void 0,0,o);try{a=0===i.length?JSON.stringify(t,e,r):JSON.stringify(t,h(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function a(t,e,r,s){var o=Object.getOwnPropertyDescriptor(s,r);void 0!==o.get?o.configurable?(Object.defineProperty(s,r,{value:t}),n.push([s,r,e,o])):i.push([e,r,t]):(s[r]=t,n.push([s,r,e]))}function A(t,n,i,s,o,u,l){var c;if(u+=1,"object"==typeof t&&null!==t){for(c=0;c<s.length;c++)if(s[c]===t)return void a(r,t,n,o);if(void 0!==l.depthLimit&&u>l.depthLimit)return void a(e,t,n,o);if(void 0!==l.edgesLimit&&i+1>l.edgesLimit)return void a(e,t,n,o);if(s.push(t),Array.isArray(t))for(c=0;c<t.length;c++)A(t[c],c,c,s,t,u,l);else{var h=Object.keys(t);for(c=0;c<h.length;c++){var f=h[c];A(t[f],f,c,s,t,u,l)}}s.pop()}}function u(t,e){return t<e?-1:t>e?1:0}function l(t,e,r,o){void 0===o&&(o=s());var a,A=c(t,"",0,[],void 0,0,o)||t;try{a=0===i.length?JSON.stringify(A,e,r):JSON.stringify(A,h(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function c(t,i,s,o,A,l,h){var f;if(l+=1,"object"==typeof t&&null!==t){for(f=0;f<o.length;f++)if(o[f]===t)return void a(r,t,i,A);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==h.depthLimit&&l>h.depthLimit)return void a(e,t,i,A);if(void 0!==h.edgesLimit&&s+1>h.edgesLimit)return void a(e,t,i,A);if(o.push(t),Array.isArray(t))for(f=0;f<t.length;f++)c(t[f],f,f,o,t,l,h);else{var p={},d=Object.keys(t).sort(u);for(f=0;f<d.length;f++){var g=d[f];c(t[g],g,f,o,t,l,h),p[g]=t[g]}if(void 0===A)return p;n.push([A,i,t]),A[i]=p}o.pop()}}function h(t){return t=void 0!==t?t:function(t,e){return e},function(e,r){if(i.length>0)for(var n=0;n<i.length;n++){var s=i[n];if(s[1]===e&&s[0]===r){r=s[2],i.splice(n,1);break}}return t.call(this,e,r)}}},(t,e,r)=>{"use strict";var n=r(205),i=r(219),s=r(218);t.exports={formats:s,parse:i,stringify:n}},(t,e,r)=>{"use strict";var n=r(206),i=r(217),s=r(218),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},A=Array.isArray,u=String.prototype.split,l=Array.prototype.push,c=function(t,e){l.apply(t,A(e)?e:[e])},h=Date.prototype.toISOString,f=s.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:s.formatters[f],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},d={},g=function t(e,r,s,o,a,l,h,f,g,m,v,y,_,b,w){for(var B,x=e,E=w,C=0,T=!1;void 0!==(E=E.get(d))&&!T;){var I=E.get(e);if(C+=1,void 0!==I){if(I===C)throw new RangeError("Cyclic object value");T=!0}void 0===E.get(d)&&(C=0)}if("function"==typeof h?x=h(r,x):x instanceof Date?x=m(x):"comma"===s&&A(x)&&(x=i.maybeMap(x,(function(t){return t instanceof Date?m(t):t}))),null===x){if(o)return l&&!_?l(r,p.encoder,b,"key",v):r;x=""}if("string"==typeof(B=x)||"number"==typeof B||"boolean"==typeof B||"symbol"==typeof B||"bigint"==typeof B||i.isBuffer(x)){if(l){var F=_?r:l(r,p.encoder,b,"key",v);if("comma"===s&&_){for(var S=u.call(String(x),","),U="",M=0;M<S.length;++M)U+=(0===M?"":",")+y(l(S[M],p.encoder,b,"value",v));return[y(F)+"="+U]}return[y(F)+"="+y(l(x,p.encoder,b,"value",v))]}return[y(r)+"="+y(String(x))]}var O,P=[];if(void 0===x)return P;if("comma"===s&&A(x))O=[{value:x.length>0?x.join(",")||null:void 0}];else if(A(h))O=h;else{var R=Object.keys(x);O=f?R.sort(f):R}for(var L=0;L<O.length;++L){var D=O[L],Q="object"==typeof D&&void 0!==D.value?D.value:x[D];if(!a||null!==Q){var N=A(x)?"function"==typeof s?s(r,D):r:r+(g?"."+D:"["+D+"]");w.set(e,C);var k=n();k.set(d,w),c(P,t(Q,N,s,o,a,l,h,f,g,m,v,y,_,b,k))}}return P};t.exports=function(t,e){var r,i=t,u=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=s.default;if(void 0!==t.format){if(!o.call(s.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=s.formatters[r],i=p.filter;return("function"==typeof t.filter||A(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof u.filter?i=(0,u.filter)("",i):A(u.filter)&&(r=u.filter);var l,h=[];if("object"!=typeof i||null===i)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=a[l];r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var d=n(),m=0;m<r.length;++m){var v=r[m];u.skipNulls&&null===i[v]||c(h,g(i[v],v,f,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,d))}var y=h.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),y.length>0?_+y:""}},(t,e,r)=>{"use strict";var n=r(207),i=r(213),s=r(215),o=n("%TypeError%"),a=n("%WeakMap%",!0),A=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),c=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),d=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new o("Side channel does not contain "+s(t))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return u(t,n)}else if(A){if(e)return h(e,n)}else if(r)return function(t,e){var r=d(t,e);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return c(t,n)}else if(A){if(e)return p(e,n)}else if(r)return function(t,e){return!!d(t,e)}(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new a),l(t,n,i)):A?(e||(e=new A),f(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=d(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},(t,e,r)=>{"use strict";var n,i=SyntaxError,s=Function,o=TypeError,a=function(t){try{return s('"use strict"; return ('+t+").constructor;")()}catch(t){}},A=Object.getOwnPropertyDescriptor;if(A)try{A({},"")}catch(t){A=null}var u=function(){throw new o},l=A?function(){try{return u}catch(t){try{return A(arguments,"callee").get}catch(t){return u}}}():u,c=r(208)(),h=Object.getPrototypeOf||function(t){return t.__proto__},f={},p="undefined"==typeof Uint8Array?n:h(Uint8Array),d={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":c?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?h(""[Symbol.iterator]()):n,"%Symbol%":c?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g=function t(e){var r;if("%AsyncFunction%"===e)r=a("async function () {}");else if("%GeneratorFunction%"===e)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=a("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(r=h(i.prototype))}return d[e]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(210),y=r(212),_=v.call(Function.call,Array.prototype.concat),b=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),B=v.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,C=function(t){var e=B(t,0,1),r=B(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return w(t,x,(function(t,e,r,i){n[n.length]=r?w(i,E,"$1"):e||t})),n},T=function(t,e){var r,n=t;if(y(m,n)&&(n="%"+(r=m[n])[0]+"%"),y(d,n)){var s=d[n];if(s===f&&(s=g(n)),void 0===s&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:s}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');var r=C(t),n=r.length>0?r[0]:"",s=T("%"+n+"%",e),a=s.name,u=s.value,l=!1,c=s.alias;c&&(n=c[0],b(r,_([0,1],c)));for(var h=1,f=!0;h<r.length;h+=1){var p=r[h],g=B(p,0,1),m=B(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(l=!0),y(d,a="%"+(n+="."+p)+"%"))u=d[a];else if(null!=u){if(!(p in u)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(A&&h+1>=r.length){var v=A(u,p);u=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[p]}else f=y(u,p),u=u[p];f&&!l&&(d[a]=u)}}return u}},(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(209);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},(t,e,r)=>{"use strict";var n=r(211);t.exports=Function.prototype.bind||n},t=>{"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";t.exports=function(t){var s=this;if("function"!=typeof s||n.call(s)!==i)throw new TypeError(e+s);for(var o,a=r.call(arguments,1),A=function(){if(this instanceof o){var e=s.apply(this,a.concat(r.call(arguments)));return Object(e)===e?e:this}return s.apply(t,a.concat(r.call(arguments)))},u=Math.max(0,s.length-a.length),l=[],c=0;c<u;c++)l.push("$"+c);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(A),s.prototype){var h=function(){};h.prototype=s.prototype,o.prototype=new h,h.prototype=null}return o}},(t,e,r)=>{"use strict";var n=r(210);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},(t,e,r)=>{"use strict";var n=r(207),i=r(214),s=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&s(t,".prototype.")>-1?i(r):r}},(t,e,r)=>{"use strict";var n=r(210),i=r(207),s=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(o,s),A=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(n,o,arguments);if(A&&u){var r=A(e,"length");r.configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var c=function(){return a(n,s,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c},(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=n&&i&&"function"==typeof i.get?i.get:null,o=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,A=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&A&&"function"==typeof A.get?A.get:null,l=a&&Set.prototype.forEach,c="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,d=Object.prototype.toString,g=Function.prototype.toString,m=String.prototype.match,v=String.prototype.slice,y=String.prototype.replace,_=String.prototype.toUpperCase,b=String.prototype.toLowerCase,w=RegExp.prototype.test,B=Array.prototype.concat,x=Array.prototype.join,E=Array.prototype.slice,C=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,S="function"==typeof Symbol&&"object"==typeof Symbol.iterator,U="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,O=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function P(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||w.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-C(-t):C(t);if(n!==t){var i=String(n),s=v.call(e,i.length+1);return y.call(i,r,"$&_")+"."+y.call(y.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(e,r,"$&_")}var R=r(216).custom,L=R&&k(R)?R:null;function D(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function Q(t){return y.call(String(t),/"/g,"&quot;")}function N(t){return!("[object Array]"!==V(t)||U&&"object"==typeof t&&U in t)}function k(t){if(S)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!F)return!1;try{return F.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,i){var a=r||{};if(j(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(j(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var A=!j(a,"customInspect")||a.customInspect;if("boolean"!=typeof A&&"symbol"!==A)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(j(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(j(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var d=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return K(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var _=String(e);return d?P(e,_):_}if("bigint"==typeof e){var w=String(e)+"n";return d?P(e,w):w}var C=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=C&&C>0&&"object"==typeof e)return N(e)?"[Array]":"[Object]";var I,R=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=x.call(Array(t.indent+1)," ")}return{base:r,prev:x.call(Array(e+1),r)}}(a,n);if(void 0===i)i=[];else if(G(i,e)>=0)return"[Circular]";function H(e,r,s){if(r&&(i=E.call(i)).push(r),s){var o={depth:a.depth};return j(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),t(e,o,n+1,i)}return t(e,a,n+1,i)}if("function"==typeof e){var W=function(t){if(t.name)return t.name;var e=m.call(g.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),J=$(e,H);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(J.length>0?" { "+x.call(J,", ")+" }":"")}if(k(e)){var Z=S?y.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):F.call(e);return"object"!=typeof e||S?Z:z(Z)}if((I=e)&&"object"==typeof I&&("undefined"!=typeof HTMLElement&&I instanceof HTMLElement||"string"==typeof I.nodeName&&"function"==typeof I.getAttribute)){for(var tt="<"+b.call(String(e.nodeName)),et=e.attributes||[],rt=0;rt<et.length;rt++)tt+=" "+et[rt].name+"="+D(Q(et[rt].value),"double",a);return tt+=">",e.childNodes&&e.childNodes.length&&(tt+="..."),tt+"</"+b.call(String(e.nodeName))+">"}if(N(e)){if(0===e.length)return"[]";var nt=$(e,H);return R&&!function(t){for(var e=0;e<t.length;e++)if(G(t[e],"\n")>=0)return!1;return!0}(nt)?"["+q(nt,R)+"]":"[ "+x.call(nt,", ")+" ]"}if(function(t){return!("[object Error]"!==V(t)||U&&"object"==typeof t&&U in t)}(e)){var it=$(e,H);return"cause"in e&&!M.call(e,"cause")?"{ ["+String(e)+"] "+x.call(B.call("[cause]: "+H(e.cause),it),", ")+" }":0===it.length?"["+String(e)+"]":"{ ["+String(e)+"] "+x.call(it,", ")+" }"}if("object"==typeof e&&A){if(L&&"function"==typeof e[L])return e[L]();if("symbol"!==A&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!s||!t||"object"!=typeof t)return!1;try{s.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var st=[];return o.call(e,(function(t,r){st.push(H(r,e,!0)+" => "+H(t,e))})),Y("Map",s.call(e),st,R)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{s.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ot=[];return l.call(e,(function(t){ot.push(H(t,e))})),Y("Set",u.call(e),ot,R)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t,c);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return X("WeakMap");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{c.call(t,c)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return X("WeakSet");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{return f.call(t),!0}catch(t){}return!1}(e))return X("WeakRef");if(function(t){return!("[object Number]"!==V(t)||U&&"object"==typeof t&&U in t)}(e))return z(H(Number(e)));if(function(t){if(!t||"object"!=typeof t||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}(e))return z(H(T.call(e)));if(function(t){return!("[object Boolean]"!==V(t)||U&&"object"==typeof t&&U in t)}(e))return z(p.call(e));if(function(t){return!("[object String]"!==V(t)||U&&"object"==typeof t&&U in t)}(e))return z(H(String(e)));if(!function(t){return!("[object Date]"!==V(t)||U&&"object"==typeof t&&U in t)}(e)&&!function(t){return!("[object RegExp]"!==V(t)||U&&"object"==typeof t&&U in t)}(e)){var at=$(e,H),At=O?O(e)===Object.prototype:e instanceof Object||e.constructor===Object,ut=e instanceof Object?"":"null prototype",lt=!At&&U&&Object(e)===e&&U in e?v.call(V(e),8,-1):ut?"Object":"",ct=(At||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(lt||ut?"["+x.call(B.call([],lt||[],ut||[]),": ")+"] ":"");return 0===at.length?ct+"{}":R?ct+"{"+q(at,R)+"}":ct+"{ "+x.call(at,", ")+" }"}return String(e)};var H=Object.prototype.hasOwnProperty||function(t){return t in this};function j(t,e){return H.call(t,e)}function V(t){return d.call(t)}function G(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function K(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return K(v.call(t,0,e.maxStringLength),e)+n}return D(y.call(y.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,W),"single",e)}function W(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+_.call(e.toString(16))}function z(t){return"Object("+t+")"}function X(t){return t+" { ? }"}function Y(t,e,r,n){return t+" ("+e+") {"+(n?q(r,n):x.call(r,", "))+"}"}function q(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+x.call(t,","+r)+"\n"+e.prev}function $(t,e){var r=N(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=j(t,i)?e(t[i],t):""}var s,o="function"==typeof I?I(t):[];if(S){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var A in t)j(t,A)&&(r&&String(Number(A))===A&&A<t.length||S&&s["$"+A]instanceof Symbol||(w.call(/[^\w$]/,A)?n.push(e(A,t)+": "+e(t[A],t)):n.push(A+": "+e(t[A],t))));if("function"==typeof I)for(var u=0;u<o.length;u++)M.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}},()=>{},(t,e,r)=>{"use strict";var n=r(218),i=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],o=i.obj[i.prop],a=Object.keys(o),A=0;A<a.length;++A){var u=a[A],l=o[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:o,prop:u}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(s(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,i,s){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var A="",u=0;u<a.length;++u){var l=a.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===n.RFC1738&&(40===l||41===l)?A+=a.charAt(u):l<128?A+=o[l]:l<2048?A+=o[192|l>>6]+o[128|63&l]:l<55296||l>=57344?A+=o[224|l>>12]+o[128|l>>6&63]+o[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&a.charCodeAt(u)),A+=o[240|l>>18]+o[128|l>>12&63]+o[128|l>>6&63]+o[128|63&l])}return A},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(s(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(s(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return s(e)&&!s(r)&&(o=a(e,n)),s(e)&&s(r)?(r.forEach((function(r,s){if(i.call(e,s)){var o=e[s];o&&"object"==typeof o&&r&&"object"==typeof r?e[s]=t(o,r,n):e.push(r)}else e[s]=r})),e):Object.keys(r).reduce((function(e,s){var o=r[s];return i.call(e,s)?e[s]=t(e[s],o,n):e[s]=o,e}),o)}}},t=>{"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:n}},(t,e,r)=>{"use strict";var n=r(217),i=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},A=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,r,n){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(s),u=a?s.slice(0,a.index):s,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var c=0;r.depth>0&&null!==(a=o.exec(s))&&c<r.depth;){if(c+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+s.slice(a.index)+"]"),function(t,e,r,n){for(var i=n?e:A(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if("[]"===a&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(u,10);r.parseArrays||""!==u?!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[])[l]=i:"__proto__"!==u&&(o[u]=i):o={0:i}}i=o}return i}(l,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:o.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var r,u={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,c=e.parameterLimit===1/0?void 0:e.parameterLimit,h=l.split(e.delimiter,c),f=-1,p=e.charset;if(e.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?p="utf-8":"utf8=%26%2310003%3B"===h[r]&&(p="iso-8859-1"),f=r,r=h.length);for(r=0;r<h.length;++r)if(r!==f){var d,g,m=h[r],v=m.indexOf("]="),y=-1===v?m.indexOf("="):v+1;-1===y?(d=e.decoder(m,o.decoder,p,"key"),g=e.strictNullHandling?null:""):(d=e.decoder(m.slice(0,y),o.decoder,p,"key"),g=n.maybeMap(A(m.slice(y+1),e),(function(t){return e.decoder(t,o.decoder,p,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===p&&(g=a(g)),m.indexOf("[]=")>-1&&(g=s(g)?[g]:g),i.call(u,d)?u[d]=n.combine(u[d],g):u[d]=g}return u}(t,r):t,c=r.plainObjects?Object.create(null):{},h=Object.keys(l),f=0;f<h.length;++f){var p=h[f],d=u(p,l[p],r,"string"==typeof t);c=n.merge(c,d,r)}return!0===r.allowSparse?c:n.compact(c)}},(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(221);function s(t){if(t)return function(t){for(var e in s.prototype)Object.prototype.hasOwnProperty.call(s.prototype,e)&&(t[e]=s.prototype[e]);return t}(t)}t.exports=s,s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},s.prototype.parse=function(t){return this._parser=t,this},s.prototype.responseType=function(t){return this._responseType=t,this},s.prototype.serialize=function(t){return this._serializer=t,this},s.prototype.timeout=function(t){if(!t||"object"!==n(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},s.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),a=new Set([408,413,429,500,502,503,504,521,522,524]);s.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&a.has(e.status))return!0;if(t){if(t.code&&o.has(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},s.prototype.then=function(t,e){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){n.on("abort",(function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)e(r.timedoutError);else{var t=new Error("Aborted");t.code="ABORTED",t.status=r.status,t.method=r.method,t.url=r.url,e(t)}})),n.end((function(r,n){r?e(r):t(n)}))}))}return this._fullfilledPromise.then(t,e)},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.use=function(t){return t(this),this},s.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},s.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},s.prototype.get=function(t){return this._header[t.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(t,e){if(i(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},s.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},s.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(i(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(r,t[r]);return this}if(Array.isArray(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(t,e[n]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},s.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},s.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},s.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},s.prototype.redirects=function(t){return this._maxRedirects=t,this},s.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(t){var e=i(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&i(this._data))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this._data[n]=t[n]);else"string"==typeof t?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===r?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||r||this.type("json"),this},s.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},s.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.slice(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}},s.prototype._appendQueryString=function(){console.warn("Unsupported")},s.prototype._timeoutError=function(t,e,r){if(!this._aborted){var n=new Error("".concat(t+e,"ms exceeded"));n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},s.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){return null!==t&&"object"===e(t)}},(t,e,r)=>{"use strict";var n=r(223);function i(t){if(t)return function(t){for(var e in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,e)&&(t[e]=i.prototype[e]);return t}(t)}t.exports=i,i.prototype.get=function(t){return this.header[t.toLowerCase()]},i.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=n.type(e);var r=n.params(e);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(this[i]=r[i]);this.links={};try{t.link&&(this.links=n.parseLinks(t.link))}catch(t){}},i.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t}},(t,e)=>{"use strict";function r(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,s=function(){};return{s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(A)throw o}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){var e,n={},i=r(t.split(/ *; */));try{for(i.s();!(e=i.n()).done;){var s=e.value.split(/ *= */),o=s.shift(),a=s.shift();o&&a&&(n[o]=a)}}catch(t){i.e(t)}finally{i.f()}return n},e.parseLinks=function(t){var e,n={},i=r(t.split(/ *, */));try{for(i.s();!(e=i.n()).done;){var s=e.value.split(/ *; */),o=s[0].slice(1,-1);n[s[1].split(/ *= */)[1].slice(1,-1)]=o}}catch(t){i.e(t)}finally{i.f()}return n},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(t){r.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}})),r.prototype._setDefaults=function(t){this._defaults.forEach((function(r){var n;t[r.fn].apply(t,function(t){if(Array.isArray(t))return e(t)}(n=r.args)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))},t.exports=r},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHR_TYPE_MAP=e.XHR_RESPONSE_TYPE=e.STATUS_FLAGS=e.LOAD_TYPE_MAP=e.LOAD_TYPE=void 0,e.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};var r={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};e.LOAD_TYPE=r;var n={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};e.XHR_RESPONSE_TYPE=n;var i={xhtml:n.DOCUMENT,html:n.DOCUMENT,htm:n.DOCUMENT,xml:n.DOCUMENT,tmx:n.DOCUMENT,svg:n.DOCUMENT,tsx:n.DOCUMENT,fnt:n.DOCUMENT,gif:n.BLOB,png:n.BLOB,bmp:n.BLOB,jpg:n.BLOB,jpeg:n.BLOB,tif:n.BLOB,tiff:n.BLOB,webp:n.BLOB,tga:n.BLOB,json:n.JSON,text:n.TEXT,txt:n.TEXT,ttf:n.BUFFER,otf:n.BUFFER};e.XHR_TYPE_MAP=i;var s={gif:r.IMAGE,png:r.IMAGE,bmp:r.IMAGE,jpg:r.IMAGE,jpeg:r.IMAGE,tif:r.IMAGE,tiff:r.IMAGE,webp:r.IMAGE,tga:r.IMAGE,svg:r.IMAGE,mp3:r.AUDIO,ogg:r.AUDIO,wav:r.AUDIO,mp4:r.VIDEO,webm:r.VIDEO};e.LOAD_TYPE_MAP=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=a(t,this.baseUrl);this.add(r,o,n,(function(r){if(r.error)e(r.error);else{var n=new s.default(r.texture.baseTexture,t.data,t.url);n.parse((()=>{t.spritesheet=n,t.textures=n.textures,e()}))}}))}else e()}},e.getResourcePath=a;var n=o(r(227)),i=r(194),s=o(r(185));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return t.isDataUrl?t.data.meta.image:n.default.resolve(t.url.replace(e,""),t.data.meta.image)}},(t,e,r)=>{"use strict";var n=r(228),i=r(229);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=y(t)),t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,A=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(230);function y(t,e,r){if(t&&i.isObject(t)&&t instanceof s)return t;var n=new s;return n.parse(t,e,r),n}s.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var y=t=u.join(a);if(y=y.trim(),!r&&1===t.split("#").length){var _=A.exec(y);if(_)return this.path=y,this.href=y,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=o.exec(y);if(b){var w=(b=b[0]).toLowerCase();this.protocol=w,y=y.substr(b.length)}if(r||b||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var B="//"===y.substr(0,2);!B||b&&g[b]||(y=y.substr(2),this.slashes=!0)}if(!g[b]&&(B||b&&!m[b])){for(var x,E,C=-1,T=0;T<h.length;T++)-1!==(I=y.indexOf(h[T]))&&(-1===C||I<C)&&(C=I);for(-1!==(E=-1===C?y.lastIndexOf("@"):y.lastIndexOf("@",C))&&(x=y.slice(0,E),y=y.slice(E+1),this.auth=decodeURIComponent(x)),C=-1,T=0;T<c.length;T++){var I;-1!==(I=y.indexOf(c[T]))&&(-1===C||I<C)&&(C=I)}-1===C&&(C=y.length),this.host=y.slice(0,C),y=y.slice(C),this.parseHost(),this.hostname=this.hostname||"";var F="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!F)for(var S=this.hostname.split(/\./),U=(T=0,S.length);T<U;T++){var M=S[T];if(M&&!M.match(f)){for(var O="",P=0,R=M.length;P<R;P++)M.charCodeAt(P)>127?O+="x":O+=M[P];if(!O.match(f)){var L=S.slice(0,T),D=S.slice(T+1),Q=M.match(p);Q&&(L.push(Q[1]),D.unshift(Q[2])),D.length&&(y="/"+D.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=n.toASCII(this.hostname));var N=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+N,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!d[w])for(T=0,U=l.length;T<U;T++){var H=l[T];if(-1!==y.indexOf(H)){var j=encodeURIComponent(H);j===H&&(j=escape(H)),y=y.split(H).join(j)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),e&&(this.query=v.parse(this.query)),y=y.slice(0,G)):e&&(this.search="",this.query={}),y&&(this.pathname=y),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var K=this.search||"";this.path=N+K}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},s.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(i.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var r=new s,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var A=Object.keys(t),u=0;u<A.length;u++){var l=A[u];"protocol"!==l&&(r[l]=t[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||g[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",v=r.search||"";r.path=d+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=_||y||r.host&&t.pathname,w=b,B=r.pathname&&r.pathname.split("/")||[],x=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===B[0]?B[0]=r.host:B.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===B[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,B=p;else if(p.length)B||(B=[]),B.pop(),B=B.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search))return x&&(r.hostname=r.host=B.shift(),(F=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=F.shift(),r.host=r.hostname=F.shift())),r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!B.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=B.slice(-1)[0],C=(r.host||t.host||B.length>1)&&("."===E||".."===E)||""===E,T=0,I=B.length;I>=0;I--)"."===(E=B[I])?B.splice(I,1):".."===E?(B.splice(I,1),T++):T&&(B.splice(I,1),T--);if(!b&&!w)for(;T--;T)B.unshift("..");!b||""===B[0]||B[0]&&"/"===B[0].charAt(0)||B.unshift(""),C&&"/"!==B.join("/").substr(-1)&&B.push("");var F,S=""===B[0]||B[0]&&"/"===B[0].charAt(0);return x&&(r.hostname=r.host=S?"":B.length?B.shift():"",(F=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=F.shift(),r.host=r.hostname=F.shift())),(b=b||r.host&&B.length)&&!S&&B.unshift(""),B.length?r.pathname=B.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){var n;t=r.nmd(t),function(i){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r.g&&r.g;s.global!==s&&s.window!==s&&s.self;var o,a=2147483647,A=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function d(t){throw RangeError(h[t])}function g(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+g((t=t.replace(c,".")).split("."),e).join(".")}function v(t){for(var e,r,n=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function y(t){return g(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+p(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,r){var n=0;for(t=r?f(t/700):t>>1,t+=f(t/e);t>455;n+=A)t=f(t/35);return f(n+36*t/(t+38))}function w(t){var e,r,n,i,s,o,u,l,c,h,p,g=[],m=t.length,v=0,_=128,w=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&d("not-basic"),g.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(s=v,o=1,u=A;i>=m&&d("invalid-input"),((l=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:A)>=A||l>f((a-v)/o))&&d("overflow"),v+=l*o,!(l<(c=u<=w?1:u>=w+26?26:u-w));u+=A)o>f(a/(h=A-c))&&d("overflow"),o*=h;w=b(v-s,e=g.length+1,0==s),f(v/e)>a-_&&d("overflow"),_+=f(v/e),v%=e,g.splice(v++,0,_)}return y(g)}function B(t){var e,r,n,i,s,o,u,l,c,h,g,m,y,w,B,x=[];for(m=(t=v(t)).length,e=128,r=0,s=72,o=0;o<m;++o)(g=t[o])<128&&x.push(p(g));for(n=i=x.length,i&&x.push("-");n<m;){for(u=a,o=0;o<m;++o)(g=t[o])>=e&&g<u&&(u=g);for(u-e>f((a-r)/(y=n+1))&&d("overflow"),r+=(u-e)*y,e=u,o=0;o<m;++o)if((g=t[o])<e&&++r>a&&d("overflow"),g==e){for(l=r,c=A;!(l<(h=c<=s?1:c>=s+26?26:c-s));c+=A)B=l-h,w=A-h,x.push(p(_(h+B%w,0))),l=f(B/w);x.push(p(_(l,0))),s=b(r,y,n==i),r=0,++n}++r,++e}return x.join("")}o={version:"1.3.2",ucs2:{decode:v,encode:y},decode:w,encode:B,toASCII:function(t){return m(t,(function(t){return l.test(t)?"xn--"+B(t):t}))},toUnicode:function(t){return m(t,(function(t){return u.test(t)?w(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},(t,e,r)=>{"use strict";e.decode=e.parse=r(231),e.encode=e.stringify=r(232)},t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,i){r=r||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var A=t.length;a>0&&A>a&&(A=a);for(var u=0;u<A;++u){var l,c,h,f,p=t[u].replace(o,"%20"),d=p.indexOf(n);d>=0?(l=p.substr(0,d),c=p.substr(d+1)):(l=p,c=""),h=decodeURIComponent(l),f=decodeURIComponent(c),e(s,h)?Array.isArray(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s}},t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,i){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var s=encodeURIComponent(e(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return s+encodeURIComponent(e(t))})).join(r):s+encodeURIComponent(e(t[i]))})).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(62),s=r(234),o=r(310),a=r(311),A=r(235),u=r(342),l=r(333),c=r(317),h=r(344),f=r(346),p=(r(347),r(376)),d=r(379),{Application:g,Loader:m,settings:v,destroyAndCleanAllCache:y}=r(14),{nodeRequire:_,genUuid:b}=r(235),w=_("../utils/opencv"),B=_("../utils/ffmpeg"),x=r(377),E=r(n?489:490),C=r(491);t.exports=class extends a{constructor(t={}){super({type:"creator",...t}),this.canplay=!1,this.visible=!0,this.maxzIndex=0,this.uuid=b(),this.inCenter=!1,this._conf=new s(t),this.loader=new m,this.switchLog(this.getConf("log")),this.tweenGroup=new E.Group,this.timer=10,this.tweenGroup.now=()=>this.timer,this.frameCallbacks=[],this.mVIDEOS=[],this.createApp(),this.createRenderer(),this.addAudio(this.getConf("audio")),!1===this.getConf("opencv")&&(w.enable=!1),n||f.info({pos:"OpenCV",msg:`enable: ${w.enable} available: ${w.available()}`})}updateDisplay(){this.allNodes.filter((t=>{t.updateDisplay&&t.updateDisplay()})),super.updateDisplay()}get absStartTime(){return 0}get playing(){return this.renderer.playing}createApp(){this.resetSize();const t=this.getConf("width"),e=this.getConf("height"),r=this.getConf("render"),i=this.getConf("clarity"),s=this.getConf("antialias"),a=`${this.type}_${r}`;v.PRECISION_FRAGMENT=`${i}p`;const A=this.getConf("canvas");if(n&&!A)throw new Error("Browser rendering need canvas!");this.setConf("useGL",!0);const u={useGL:!0,antialias:s,view:A,backgroundColor:0,transparent:!n};f.info({pos:"Creator",msg:`inkpaint app: ${JSON.stringify(u)}`});const l=o.get(a,(()=>new g(t,e,u)));l.renderer.resize(t,e),this.display=l.stage,this.display.sortableChildren=!0,this.app=l,this.width=t,this.height=e}get bgColor(){return this.app.renderer._backgroundColorString}resize(t,e){if(t&&e&&!isNaN(t)&&!isNaN(e)&&(t!==this.getConf("width")||e!==this.getConf("height"))){this.width=t,this.height=e,this.setConf("width",t),this.setConf("height",e),this.conf.width=t,this.conf.height=e,this.app.renderer.resize(t,e);for(const t of this.allNodes)t.display&&(t.resizeBackground&&t.resizeBackground(),t.updateAnimations&&t.updateAnimations(),t.fitSize&&t.fitSize(),t.fitTexture&&t.fitTexture());this.render(),this.emit("resize")}}createRenderer(){this.renderer=new p({creator:this})}generateOutput(){const t=this.getConf("ext"),e=this.getConf("outputDir");return e&&this.setOutput(i.join(e,`${A.genUuid()}.${t}`)),this}getFFmpeg(){return B.getFFmpeg()}setCover(t){this.setConf("cover",t)}setFps(t){this.setConf("fps",t)}setDuration(t){this.setConf("duration",t)}setConf(t,e){this._conf.setVal(t,e)}getConf(t){return this._conf.getVal(t)}addAudio(t){t&&("string"==typeof t&&(t={path:t}),t instanceof c||void 0!==t.loop||(t.loop=!0),super.addAudio(t))}createEffect(t,e){d.createEffect(t,e)}resetSize(t,e){t||(t=this.getConf("width"),e=this.getConf("height")),this.setConf("width",A.courtship(t)),this.setConf("height",A.courtship(e))}setOutput(t){this.setConf("output",i.normalize(t))}getFile(){return this.getConf("output")}render(){try{this.app.render()}catch(t){console.log("App render error",t)}}output(t){this.setOutput(t)}openLog(){f.enable=!0}closeLog(){f.enable=!1}switchLog(t){t?this.openLog():this.closeLog()}setInputOptions(t){this.setConf("inputOptions",t)}setOutOptions(t){this.setConf("outputOptions",t)}async start(t=25){await A.sleep(t),this.destroyed||(this.addRenderEvent(),this.initSpine(),this.initzIndex(),await this.renderer.start())}initSpine(){let t=this.children.filter((t=>"spine"===t?.type));if(t.length>1)throw new Error("Num of Spine must only one!");if(0===t.length){if(this.children.filter((t=>"track"===t?.type)).length>0)throw new Error("Track should not exists when Spine absence!");t=new h,t.parent=this;const e=[t];this.children.map((r=>{"video"!==r.type||r.conf.start?e.push(r):t.addChild(r)})),this.children=e}}initzIndex(){let t=0;const e=r=>{r.children.map((r=>{r.zIndex=r.basezIndex+t++,this.maxzIndex=Math.max(r.zIndex,this.maxzIndex),e(r)}))};e(this)}time(t){return Number(t)}async play(t=1){if(!this.canplay)throw new Error("player not ready");this.playbackRate=t,this.renderer.play(t)}async pause(){if(!this.canplay)throw new Error("player not ready");return this.renderer.pause()}async jumpTo(t){if(!this.canplay)throw new Error("player not ready");const e=Number(t);if(isNaN(e)||e<0)throw new Error("jump to invalid time",t);this.renderer.jumpTo(e)}addRenderEvent(){this.bubble(this.renderer);const t=async()=>{await A.sleep(20),this.destroy()};this.renderer.on("error",t),this.renderer.on("complete",t)}addFrameCallback(t){t&&!this.frameCallbacks.includes(t)&&(this.frameCallbacks.push(t),this.frameCallbacks.sort(((t,e)=>t.zIndex-e.zIndex)))}removeFrameCallback(t){if(!t)return;const e=this.frameCallbacks.indexOf(t);e>-1&&this.frameCallbacks.splice(e,1)}async timeUpdate(t=0,e=-1){if(t>0&&!this.canplay)return;const r=e>=0?e:this.timer+t,n=t>0?this.timer:r;this.timer=r;const i=Promise.all(this.frameCallbacks.map((e=>{if("function"==typeof e.drawing)return e.drawing(n,t)})));return this.tweenGroup.update(this.timer),i}get duration(){return Number(this.getConf("duration"))}get currentTime(){return this.tweenGroup.now()}destroyApp(){const t=this.getConf("pool"),e=this.getConf("render");t?(this.app.destroyChildren(!0),o.put(`${this.type}_${e}`,this.app)):this.app.destroy(!0,!0),this.app=null}annotate(){const t=this.children.filter((t=>"spine"===t.type))[0];t.annotate();let e=t.duration;this.allNodes.filter((t=>!t.isVirtual)).map((t=>e=Math.max(e,t.absEndTime)));let r=!1;e!==this.duration&&(r=!0,this.setDuration(e)),this.allNodes.map((t=>{t.annotate(),this.maxzIndex=Math.max(t.zIndex,this.maxzIndex)})),this.renderer.timeline.duration!==this.duration&&this.renderer.timeline.update(),this.updateDisplay(),r&&this.canplay&&this.emit({type:"loadedmetadata",duration:this.duration,width:this.getConf("width"),height:this.getConf("height")}),this.emit({type:"timeupdate",currentTime:this.currentTime,total:Math.floor(1e3*this.duration)})}get outputTime(){return{start:this.getConf("start")||0,end:this.getConf("end")||this.duration}}get audioOnly(){return"m4a"===`${this.getConf("ext")}`.toLowerCase()}toMiraML(t=!0,e=2){this.XML_INDENT=e;const r=this.toJson(t),n=['version="1.1"'];for(const t of["author","name","description"])r[t]&&(n.push(`${t}="${r[t]}"`),delete r[t]);return`<miraml ${n.join(" ")}>\n${this.xml(r,e)}</miraml>`}xml(t,e,r=null){const n=r||t.type;if(!n)return"";const i=e+this.XML_INDENT,s=[],o=Array.isArray(t.children)?t.children.map((t=>this.xml(t,i))):[];"text"===t.type&&t.text&&(o.push(`${" ".repeat(i)}<content>${t.text}</content>\n`),delete t.text,delete t.content);for(let[e,r]of Object.entries(t))["type","children"].includes(e)||(Array.isArray(r)?(r=r.map((t=>"object"!=typeof t?t:(o.push(this.xml(t,i,e)),null))).filter((t=>null!==t)),r.length>0&&s.push(`${e}="${JSON.stringify(r)}"`)):"object"==typeof r?o.push(this.xml(r,i,e)):null!=r&&s.push(`${e}="${r}"`));const a=" ".repeat(e),A=`${s.length?" ":""}${s.join(" ")}`,u=o.join("");return u?`${a}<${n}${A}>\n${u}${a}</${n}>\n`:`${a}<${n}${A}></${n}>\n`}toJson(t=!1){const e=super.toJson(t);return e.type="canvas",t||(e.duration=this.duration),delete e.canvas,e}async destroy(){(this.renderer||this.display)&&(this.destroyed||(this.destroyed=!0,this.canplay=!1,await this.timeUpdate(0),this.loader.destroy(),this.renderer.destroy(),this.destroyApp(),super.destroy(),u.release(this.uuid),l.cancel(this.uuid),x.release(this.uuid),C.release(this.uuid),this.mVIDEOS=[],this.frameCallbacks=[],this._conf=null,this.conf=null,this.loader=null,this.display=null,this.renderer=null,this.inCenter=!1,this.emit("emptied"),f.info({pos:"Creator",msg:"destroyed!!"})))}static setFFmpegPath(t){B.setFFmpegPath(t)}static setFFprobePath(t){B.setFFprobePath(t)}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(62),s=r(235),o={getVal:t=>null,setVal:(t,e)=>null};t.exports=class{constructor(t={}){if(this.conf=t,this.conf.pathId=this.conf.pathId||s.genUuid(),this.copyByDefaultVal(t,"crf",20),this.copyByDefaultVal(t,"vb",null),this.copyByDefaultVal(t,"cover",null),this.copyByDefaultVal(t,"pool",!1),this.copyByDefaultVal(t,"debug",!1),this.copyByDefaultVal(t,"preload",!0),this.copyByDefaultVal(t,"antialias",!0),this.copyByDefaultVal(t,"audioLoop",!0),this.copyByDefaultVal(t,"ffmpeglog",!1),this.copyByDefaultVal(t,"ext","mp4"),this.copyByDefaultVal(t,"preset","ultrafast"),this.copyByDefaultVal(t,"cacheFormat","raw"),this.copyByDefaultVal(t,"cacheQuality",80),this.copyByDefaultVal(t,"resolution",1),this.copyByDefaultVal(t,"defaultOutputOptions",{merge:!0,options:[]}),this.copyFromMultipleVal(t,"fps","rfps",24),this.copyFromMultipleVal(t,"width","w",800),this.copyFromMultipleVal(t,"height","h",450),this.copyFromMultipleVal(t,"parallel","frames",3),this.copyFromMultipleVal(t,"render","renderer","canvas"),this.copyFromMultipleVal(t,"normalizeAudio","norAudio",!0),this.copyFromMultipleVal(t,"clarity","renderClarity","medium"),!n){const e=r(254);this.copyFromMultipleVal(t,"outputDir","dir",i.join("./")),this.copyFromMultipleVal(t,"cacheDir","cacheDir",e.directory()),this.copyFromMultipleVal(t,"output","out",i.join("./",`${this.conf.pathId}.mp4`)),this.copyFromMultipleVal(t,"highWaterMark","size",process.env.HIGH_WATER_MARK||"200kb")}}getVal(t){return"detailedCacheDir"===t?this.getCacheDir():this.conf[t]}setVal(t,e){this.conf[t]=e}getWH(t="x"){return this.getVal("width")+t+this.getVal("height")}getCacheDir(){let t=this.getVal("cacheDir"),e=this.getVal("pathId");return i.join(t,e)}copyByDefaultVal(t,e,r){this.conf[e]=void 0===t[e]?r:t[e]}copyFromMultipleVal(t,e,r,n){this.conf[e]=t[e]||t[r]||n}static getFakeConf(){return o}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i={},s={safeRequire(t){try{return r(236)(t)}catch(t){}},nodeRequire:t=>n?null:s.safeRequire(t),isUA:t=>navigator&&navigator.userAgent.toLowerCase().includes(t.toLowerCase()),async getPixels(t,e){const n=r(237);return new Promise(((r,i)=>{n(t,e,((t,e,n)=>{if(t)return i(t);r({pixels:e,frameInfo:n})}))}))},awaitMap(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(e(t[n]));return Promise.all(r)},dmap(t,e,r=[]){const n=Array.isArray(t)?[]:{},i=Array.isArray(t)?t.map(((t,e)=>[e,t])):Object.entries(t);for(const[t,s]of i){const i=[...r,t];n[t]="object"==typeof s?DataUtil.dmap(s,e,i):e(s,t,i)}return n},genId:t=>(void 0===i[t]&&(i[t]=1),t+"_"+String(i[t]++)),genUuid:()=>Math.random().toString(36).substr(-8)+Math.random().toString(36).substr(-8),deleteArrayElement(t,e){const r=t.indexOf(e);return r>-1&&t.splice(r,1),t},swapArrayElement(t,e,r){const n="number"==typeof e?e:t.indexOf(e),i="number"==typeof r?r:t.indexOf(r),s=t[n];return t[n]=t[i],t[i]=s,t},isArray2D:t=>!(!t||!t.length)&&Array.isArray(t[0]),deleteUndefined(t){for(let e in t)void 0===t[e]&&delete t[e];return t},destroyObj(t){if("object"==typeof t)for(let e in t)delete t[e]},mergeExclude(t,e={},r=[]){for(let n in e)r.indexOf(n)<0&&void 0!==e[n]&&(t[n]=e[n]);return t},insertSubArray(t,e,r){if(r){t.splice(e,1);for(let n=0;n<r.length;n++)t.splice(e,0,r[0])}},courtship:t=>(t>>=0)%2==0?t:t-1,floor(t,e=2){const r=Math.pow(10,e);return Math.floor(t*r)/r},sleep:t=>new Promise((e=>setTimeout(e,t))),fixFolderPath:t=>t.replace(/\/\//gi,"/"),toHash(t){let e,r,n=0;for(e=0;e<t.length;e++)r=t.charCodeAt(e),n=(n<<5)-n+r,n|=0;return n+""},getErrStack:(t={})=>(t="string"==typeof t?{message:t}:t).message||t.stack||t,storage:{}};t.exports=s},t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=236,t.exports=e},(t,e,r)=>{"use strict";var n=r(62),i=r(238),s=r(241).GifReader,o=r(242).Buffer,a=(r(245),r(251),r(253));function A(t,e){var r;try{r=new s(t)}catch(t){return void e(t)}if(r.numFrames()>0){var n=[r.numFrames(),r.height,r.width,4],o=new Uint8Array(n[0]*n[1]*n[2]*n[3]),a=i(o,n),A=[];try{for(var u=0;u<r.numFrames();++u)r.decodeAndBlitFrameRGBA(u,o.subarray(a.index(u,0,0,0),a.index(u+1,0,0,0))),A.push(r.frameInfo(u))}catch(t){return void e(t)}e(null,a.transpose(0,2,1),A)}else{n=[r.height,r.width,4],o=new Uint8Array(n[0]*n[1]*n[2]),a=i(o,n);try{r.decodeAndBlitFrameRGBA(0,o)}catch(t){return void e(t)}e(null,a.transpose(1,0))}}t.exports=function(t,e,r){r||(r=e,e="");var s=n.extname(t);".GIF"===(e||s.toUpperCase())?function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.overrideMimeType&&r.overrideMimeType("application/binary"),r.onerror=function(t){e(t)},r.onload=function(){4===r.readyState&&A(new Uint8Array(r.response),e)},r.send()}(t,r):(o.isBuffer(t)&&(t="data:"+e+";base64,"+t.toString("base64")),0===t.indexOf("data:image/gif;")?function(t,e){process.nextTick((function(){try{var r=a(t);r?A(function(t){if(void 0===t[0]){for(var e=t.length,r=new Uint8Array(e),n=0;n<e;++n)r[n]=t.get(n);return r}return new Uint8Array(t)}(r),e):e(new Error("Error parsing data URI"))}catch(t){e(t)}}))}(t,r):function(t,e){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var n=t.getContext("2d");n.drawImage(r,0,0);var s=n.getImageData(0,0,r.width,r.height);e(null,i(new Uint8Array(s.data),[r.width,r.height,4],[4,4*r.width,1],0))},r.onerror=function(t){e(t)},r.src=t}(t,r))}},(t,e,r)=>{var n=r(239),i=r(240),s="undefined"!=typeof Float64Array;function o(t,e){return t[0]-e[0]}function a(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(o);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function A(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var i="generic"===t;if(-1===e){var s="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(s)()}if(0===e)return s="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",new Function("TrivialArray",s)(u[t][0]);s=["'use strict'"];var o=n(e),A=o.map((function(t){return"i"+t})),l="this.offset+"+o.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),c=o.map((function(t){return"b"+t})).join(","),h=o.map((function(t){return"c"+t})).join(",");s.push("function "+r+"(a,"+c+","+h+",d){this.data=a","this.shape=["+c+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),s.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?s.push("proto.order=[0]"):(s.push("Object.defineProperty(proto,'order',{get:"),e<4?(s.push("function "+r+"_order(){"),2===e?s.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&s.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):s.push("ORDER})")),s.push("proto.set=function "+r+"_set("+A.join(",")+",v){"),i?s.push("return this.data.set("+l+",v)}"):s.push("return this.data["+l+"]=v}"),s.push("proto.get=function "+r+"_get("+A.join(",")+"){"),i?s.push("return this.data.get("+l+")}"):s.push("return this.data["+l+"]}"),s.push("proto.index=function "+r+"_index(",A.join(),"){return "+l+"}"),s.push("proto.hi=function "+r+"_hi("+A.join(",")+"){return new "+r+"(this.data,"+o.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+o.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var f=o.map((function(t){return"a"+t+"=this.shape["+t+"]"})),p=o.map((function(t){return"c"+t+"=this.stride["+t+"]"}));s.push("proto.lo=function "+r+"_lo("+A.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+p.join(","));for(var d=0;d<e;++d)s.push("if(typeof i"+d+"==='number'&&i"+d+">=0){d=i"+d+"|0;b+=c"+d+"*d;a"+d+"-=d}");for(s.push("return new "+r+"(this.data,"+o.map((function(t){return"a"+t})).join(",")+","+o.map((function(t){return"c"+t})).join(",")+",b)}"),s.push("proto.step=function "+r+"_step("+A.join(",")+"){var "+o.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+o.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),d=0;d<e;++d)s.push("if(typeof i"+d+"==='number'){d=i"+d+"|0;if(d<0){c+=b"+d+"*(a"+d+"-1);a"+d+"=ceil(-a"+d+"/d)}else{a"+d+"=ceil(a"+d+"/d)}b"+d+"*=d}");s.push("return new "+r+"(this.data,"+o.map((function(t){return"a"+t})).join(",")+","+o.map((function(t){return"b"+t})).join(",")+",c)}");var g=new Array(e),m=new Array(e);for(d=0;d<e;++d)g[d]="a[i"+d+"]",m[d]="b[i"+d+"]";for(s.push("proto.transpose=function "+r+"_transpose("+A+"){"+A.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+m.join(",")+",this.offset)}"),s.push("proto.pick=function "+r+"_pick("+A+"){var a=[],b=[],c=this.offset"),d=0;d<e;++d)s.push("if(typeof i"+d+"==='number'&&i"+d+">=0){c=(c+this.stride["+d+"]*i"+d+")|0}else{a.push(this.shape["+d+"]);b.push(this.stride["+d+"])}");return s.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),s.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map((function(t){return"shape["+t+"]"})).join(",")+","+o.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",s.join("\n"))(u[t],a)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,r,n){if(void 0===t)return(0,u.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var o=e.length;if(void 0===r){r=new Array(o);for(var a=o-1,l=1;a>=0;--a)r[a]=l,l*=e[a]}if(void 0===n)for(n=0,a=0;a<o;++a)r[a]<0&&(n-=(e[a]-1)*r[a]);for(var c=function(t){if(i(t))return"buffer";if(s)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),h=u[c];h.length<=o+1;)h.push(A(c,h.length-1));return(0,h[o+1])(t,e,r,n)}},t=>{"use strict";t.exports=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}},t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},(t,e)=>{"use strict";function r(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,A=i+1,u=(1<<A)-1,l=0,c=0,h=0,f=t[e++],p=new Int32Array(4096),d=null;;){for(;l<16&&0!==f;)c|=t[e++]<<l,l+=8,1===f?f=t[e++]:--f;if(l<A)break;var g=c&u;if(c>>=A,l-=A,g!==s){if(g===o)break;for(var m=g<a?g:d,v=0,y=m;y>s;)y=p[y]>>8,++v;var _=y;if(h+v+(m!==g?1:0)>n)return void console.log("Warning, gif stream longer than expected.");r[h++]=_;var b=h+=v;for(m!==g&&(r[h++]=_),y=m;v--;)y=p[y],r[--b]=255&y,y>>=8;null!==d&&a<4096&&(p[a++]=d<<8|_,a>=u+1&&A<12&&(++A,u=u<<1|1)),d=g}else a=o+1,u=(1<<(A=i+1))-1,d=null}return h!==n&&console.log("Warning, gif stream shorter than expected."),r}try{e.GifWriter=function(t,e,r,n){var i=0,s=void 0===(n=void 0===n?{}:n).loop?null:n.loop,o=void 0===n.palette?null:n.palette;if(e<=0||r<=0||e>65535||r>65535)throw new Error("Width/Height invalid.");function a(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[i++]=71,t[i++]=73,t[i++]=70,t[i++]=56,t[i++]=57,t[i++]=97;var A=0,u=0;if(null!==o){for(var l=a(o);l>>=1;)++A;if(l=1<<A,--A,void 0!==n.background){if((u=n.background)>=l)throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=(null!==o?128:0)|A,t[i++]=u,t[i++]=0,null!==o)for(var c=0,h=o.length;c<h;++c){var f=o[c];t[i++]=f>>16&255,t[i++]=f>>8&255,t[i++]=255&f}if(null!==s){if(s<0||s>65535)throw new Error("Loop count invalid.");t[i++]=33,t[i++]=255,t[i++]=11,t[i++]=78,t[i++]=69,t[i++]=84,t[i++]=83,t[i++]=67,t[i++]=65,t[i++]=80,t[i++]=69,t[i++]=50,t[i++]=46,t[i++]=48,t[i++]=3,t[i++]=1,t[i++]=255&s,t[i++]=s>>8&255,t[i++]=0}var p=!1;this.addFrame=function(e,r,n,s,A,u){if(!0===p&&(--i,p=!1),u=void 0===u?{}:u,e<0||r<0||e>65535||r>65535)throw new Error("x/y invalid.");if(n<=0||s<=0||n>65535||s>65535)throw new Error("Width/Height invalid.");if(A.length<n*s)throw new Error("Not enough pixels for the frame size.");var l=!0,c=u.palette;if(null==c&&(l=!1,c=o),null==c)throw new Error("Must supply either a local or global palette.");for(var h=a(c),f=0;h>>=1;)++f;h=1<<f;var d=void 0===u.delay?0:u.delay,g=void 0===u.disposal?0:u.disposal;if(g<0||g>3)throw new Error("Disposal out of range.");var m=!1,v=0;if(void 0!==u.transparent&&null!==u.transparent&&(m=!0,(v=u.transparent)<0||v>=h))throw new Error("Transparent color index.");if((0!==g||m||0!==d)&&(t[i++]=33,t[i++]=249,t[i++]=4,t[i++]=g<<2|(!0===m?1:0),t[i++]=255&d,t[i++]=d>>8&255,t[i++]=v,t[i++]=0),t[i++]=44,t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=255&s,t[i++]=s>>8&255,t[i++]=!0===l?128|f-1:0,!0===l)for(var y=0,_=c.length;y<_;++y){var b=c[y];t[i++]=b>>16&255,t[i++]=b>>8&255,t[i++]=255&b}return i=function(t,e,r,n){t[e++]=r;var i=e++,s=1<<r,o=s-1,a=s+1,A=a+1,u=r+1,l=0,c=0;function h(r){for(;l>=r;)t[e++]=255&c,c>>=8,l-=8,e===i+256&&(t[i]=255,i=e++)}function f(t){c|=t<<l,l+=u,h(8)}var p=n[0]&o,d={};f(s);for(var g=1,m=n.length;g<m;++g){var v=n[g]&o,y=p<<8|v,_=d[y];if(void 0===_){for(c|=p<<l,l+=u;l>=8;)t[e++]=255&c,c>>=8,l-=8,e===i+256&&(t[i]=255,i=e++);4096===A?(f(s),A=a+1,u=r+1,d={}):(A>=1<<u&&++u,d[y]=A++),p=v}else p=_}return f(p),f(a),h(1),i+1===e?t[i]=0:(t[i]=e-i-1,t[e++]=0),e}(t,i,f<2?2:f,A),i},this.end=function(){return!1===p&&(t[i++]=59,p=!0),i},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(t){i=t}},e.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,s=t[e++],o=s>>7,a=1<<1+(7&s);t[e++],t[e++];var A=null,u=null;o&&(A=e,u=a,e+=3*a);var l=!0,c=[],h=0,f=null,p=0,d=null;for(this.width=n,this.height=i;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,d=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],0==(1&g)&&(f=null),p=g>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,b=t[e++],w=b>>6&1,B=1<<1+(7&b),x=A,E=u,C=!1;b>>7&&(C=!0,x=e,E=B,e+=3*B);var T=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}c.push({x:m,y:v,width:y,height:_,has_local_palette:C,palette_offset:x,palette_size:E,data_offset:T,data_length:e-T,transparent_index:f,interlaced:!!w,delay:h,disposal:p});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return d},this.frameInfo=function(t){if(t<0||t>=c.length)throw new Error("Frame index out of range.");return c[t]},this.decodeAndBlitFrameBGRA=function(e,i){var s=this.frameInfo(e),o=s.width*s.height,a=new Uint8Array(o);r(t,s.data_offset,a,o);var A=s.palette_offset,u=s.transparent_index;null===u&&(u=256);var l=s.width,c=n-l,h=l,f=4*(s.y*n+s.x),p=4*((s.y+s.height)*n+s.x),d=f,g=4*c;!0===s.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=a.length;v<y;++v){var _=a[v];if(0===h&&(h=l,(d+=g)>=p&&(g=4*c+4*n*(m-1),d=f+(l+c)*(m<<1),m>>=1)),_===u)d+=4;else{var b=t[A+3*_],w=t[A+3*_+1],B=t[A+3*_+2];i[d++]=B,i[d++]=w,i[d++]=b,i[d++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,i){var s=this.frameInfo(e),o=s.width*s.height,a=new Uint8Array(o);r(t,s.data_offset,a,o);var A=s.palette_offset,u=s.transparent_index;null===u&&(u=256);var l=s.width,c=n-l,h=l,f=4*(s.y*n+s.x),p=4*((s.y+s.height)*n+s.x),d=f,g=4*c;!0===s.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=a.length;v<y;++v){var _=a[v];if(0===h&&(h=l,(d+=g)>=p&&(g=4*c+4*n*(m-1),d=f+(l+c)*(m<<1),m>>=1)),_===u)d+=4;else{var b=t[A+3*_],w=t[A+3*_+1],B=t[A+3*_+2];i[d++]=b,i[d++]=w,i[d++]=B,i[d++]=255}--h}}}}catch(t){}},(t,e,r)=>{"use strict";const n=r(243),i=r(244),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=A,e.SlowBuffer=function(t){return+t!=t&&(t=0),A.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,A.prototype),e}function A(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!A.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|d(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return A.from(n,e,r);const i=function(t){if(A.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||q(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return A.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,A.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function d(t,e){if(A.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return F(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),q(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=A.from(e,n)),A.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){let s,o=1,a=t.length,A=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,A/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===A)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+A>a&&(r=a-A),s=r;s>=0;s--){let r=!0;for(let n=0;n<A;n++)if(u(t,s+n)!==u(e,n)){r=!1;break}if(r)return s}return-1}function _(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(q(n))return o;t[r+o]=n}return o}function b(t,e,r,n){return X(W(e,t.length-r),t,r,n)}function w(t,e,r,n){return X(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function B(t,e,r,n){return X(z(e),t,r,n)}function x(t,e,r,n){return X(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,A;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(A=(31&e)<<6|63&r,A>127&&(s=A));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(A=(15&e)<<12|(63&r)<<6|63&n,A>2047&&(A<55296||A>57343)&&(s=A));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(A=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,A>65535&&A<1114112&&(s=A))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.kMaxLength=o,A.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),A.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},A.allocUnsafe=function(t){return c(t)},A.allocUnsafeSlow=function(t){return c(t)},A.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==A.prototype},A.compare=function(t,e){if(Y(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(t)||!A.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},A.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return A.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=A.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(A.isBuffer(e)||(e=A.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!A.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},A.byteLength=d,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},A.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},A.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},A.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(t){if(!A.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===A.compare(this,t)},A.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(A.prototype[s]=A.prototype.inspect),A.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),!A.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),u=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==l[t]){s=u[t],o=l[t];break}return s<o?-1:o<s?1:0},A.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},A.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},A.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},A.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":case"latin1":case"binary":return w(this,t,e,r);case"base64":return B(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function F(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function S(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=$[t[n]];return i}function U(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!A.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n,i){j(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function R(t,e,r,n,i){j(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function L(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function Q(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}A.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,A.prototype),n},A.prototype.readUintLE=A.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},A.prototype.readUintBE=A.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},A.prototype.readUint8=A.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},A.prototype.readBigUInt64LE=J((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),A.prototype.readBigUInt64BE=J((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),A.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},A.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},A.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},A.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},A.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},A.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},A.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},A.prototype.readBigInt64LE=J((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),A.prototype.readBigInt64BE=J((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),A.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!0,23,4)},A.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!1,23,4)},A.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!0,52,8)},A.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},A.prototype.writeUint8=A.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},A.prototype.writeBigUInt64LE=J((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),A.prototype.writeBigUInt64BE=J((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),A.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},A.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},A.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},A.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},A.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},A.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},A.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},A.prototype.writeBigInt64LE=J((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),A.prototype.writeBigInt64BE=J((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),A.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},A.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},A.prototype.writeDoubleLE=function(t,e,r){return Q(this,t,e,!0,r)},A.prototype.writeDoubleBE=function(t,e,r){return Q(this,t,e,!1,r)},A.prototype.copy=function(t,e,r,n){if(!A.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},A.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!A.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=A.isBuffer(t)?t:A.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const N={};function k(t,e,r){N[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function H(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function j(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new N.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||G(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new N.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}k("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),k("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),k("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=H(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function z(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function q(t){return t!=t}const $=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},(t,e)=>{"use strict";e.byteLength=function(t){var e=A(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=A(t),o=s[0],a=s[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,a)),l=0,c=a>0?o-4:o;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,A=n-i;a<A;a+=o)s.push(u(t,a,a+o>A?A:a+o));return 1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function A(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,A=(1<<a)-1,u=A>>1,l=-7,c=r?i-1:0,h=r?-1:1,f=t[e+c];for(c+=h,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+c],c+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+c],c+=h,l-=8);if(0===s)s=1-u;else{if(s===A)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,A,u=8*s-i-1,l=(1<<u)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(A=Math.pow(2,-o))<1&&(o--,A*=2),(e+=o+c>=1?h/A:h*Math.pow(2,1-c))*A>=2&&(o++,A/=2),o+c>=l?(a=0,o=l):o+c>=1?(a=(e*A-1)*Math.pow(2,i),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+f]=255&o,f+=p,o/=256,u-=8);t[r+f-p]|=128*d}},(t,e,r)=>{"use strict";var n=r(238),i=r(246);t.exports=function(t,e){for(var r=[],s=t,o=1;Array.isArray(s);)r.push(s.length),o*=s.length,s=s[0];return 0===r.length?n():(e||(e=n(new Float64Array(o),r)),i(e,t),e)}},(t,e,r)=>{t.exports=r(247)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},(t,e,r)=>{"use strict";var n=r(248);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var e=new i;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var s=0;s<r.length;++s){var o=r[s];if("array"===o||"object"==typeof o&&o.blockIndices){if(e.argTypes[s]="array",e.arrayArgs.push(s),e.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),e.shimArgs.push("array"+s),s<e.pre.args.length&&e.pre.args[s].count>0)throw new Error("cwise: pre() block may not reference array args");if(s<e.post.args.length&&e.post.args[s].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)e.scalarArgs.push(s),e.shimArgs.push("scalar"+s);else if("index"===o){if(e.indexArgs.push(s),s<e.pre.args.length&&e.pre.args[s].count>0)throw new Error("cwise: pre() block may not reference array index");if(s<e.body.args.length&&e.body.args[s].lvalue)throw new Error("cwise: body() block may not write to array index");if(s<e.post.args.length&&e.post.args[s].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(e.shapeArgs.push(s),s<e.pre.args.length&&e.pre.args[s].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(s<e.body.args.length&&e.body.args[s].lvalue)throw new Error("cwise: body() block may not write to array shape");if(s<e.post.args.length&&e.post.args[s].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+r[s]);e.argTypes[s]="offset",e.offsetArgs.push({array:o.array,offset:o.offset}),e.offsetArgIndex.push(s)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,n(e)}},(t,e,r)=>{"use strict";var n=r(249);t.exports=function(t){var e=["'use strict'","var CACHED={}"],r=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var s=[],o=[],a=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],A=[],u=[],l=0;l<t.arrayArgs.length;++l){var c=t.arrayArgs[l];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),s.push("t"+c),s.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),a.push("array"+c+".data"),a.push("array"+c+".stride"),a.push("array"+c+".offset|0"),l>0&&(A.push("array"+t.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),u.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+A.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),l=0;l<t.scalarArgs.length;++l)a.push("scalar"+t.scalarArgs[l]);return r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",s.join(","),"])}","return proc(",a.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(n.bind(void 0,t))}},(t,e,r)=>{"use strict";var n=r(250);function i(t,e,r){var n,i,s=t.length,o=e.arrayArgs.length,a=e.indexArgs.length>0,A=[],u=[],l=0,c=0;for(n=0;n<s;++n)u.push(["i",n,"=0"].join(""));for(i=0;i<o;++i)for(n=0;n<s;++n)c=l,l=t[n],0===n?u.push(["d",i,"s",n,"=t",i,"p",l].join("")):u.push(["d",i,"s",n,"=(t",i,"p",l,"-s",c,"*t",i,"p",c,")"].join(""));for(u.length>0&&A.push("var "+u.join(",")),n=s-1;n>=0;--n)l=t[n],A.push(["for(i",n,"=0;i",n,"<s",l,";++i",n,"){"].join(""));for(A.push(r),n=0;n<s;++n){for(c=l,l=t[n],i=0;i<o;++i)A.push(["p",i,"+=d",i,"s",n].join(""));a&&(n>0&&A.push(["index[",c,"]-=s",c].join("")),A.push(["++index[",l,"]"].join(""))),A.push("}")}return A.join("\n")}function s(t,e,r){for(var n=t.body,i=[],s=[],o=0;o<t.args.length;++o){var a=t.args[o];if(!(a.count<=0)){var A=new RegExp(a.name,"g"),u="",l=e.arrayArgs.indexOf(o);switch(e.argTypes[o]){case"offset":var c=e.offsetArgIndex.indexOf(o);l=e.offsetArgs[c].array,u="+q"+c;case"array":u="p"+l+u;var h="l"+o,f="a"+l;if(0===e.arrayBlockIndices[l])1===a.count?"generic"===r[l]?a.lvalue?(i.push(["var ",h,"=",f,".get(",u,")"].join("")),n=n.replace(A,h),s.push([f,".set(",u,",",h,")"].join(""))):n=n.replace(A,[f,".get(",u,")"].join("")):n=n.replace(A,[f,"[",u,"]"].join("")):"generic"===r[l]?(i.push(["var ",h,"=",f,".get(",u,")"].join("")),n=n.replace(A,h),a.lvalue&&s.push([f,".set(",u,",",h,")"].join(""))):(i.push(["var ",h,"=",f,"[",u,"]"].join("")),n=n.replace(A,h),a.lvalue&&s.push([f,"[",u,"]=",h].join("")));else{for(var p=[a.name],d=[u],g=0;g<Math.abs(e.arrayBlockIndices[l]);g++)p.push("\\s*\\[([^\\]]+)\\]"),d.push("$"+(g+1)+"*t"+l+"b"+g);if(A=new RegExp(p.join(""),"g"),u=d.join("+"),"generic"===r[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(A,[f,"[",u,"]"].join(""))}break;case"scalar":n=n.replace(A,"Y"+e.scalarArgs.indexOf(o));break;case"index":n=n.replace(A,"index");break;case"shape":n=n.replace(A,"shape")}}}return[i.join("\n"),n,s.join("\n")].join("\n").trim()}function o(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],s=i.match(/\d+/);s=s?s[0]:"",0===i.charAt(0)?e[n]="u"+i.charAt(1)+s:e[n]=i.charAt(0)+s,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}t.exports=function(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,a=new Array(t.arrayArgs.length),A=new Array(t.arrayArgs.length),u=0;u<t.arrayArgs.length;++u)A[u]=e[2*u],a[u]=e[2*u+1];var l=[],c=[],h=[],f=[],p=[];for(u=0;u<t.arrayArgs.length;++u){t.arrayBlockIndices[u]<0?(h.push(0),f.push(r),l.push(r),c.push(r+t.arrayBlockIndices[u])):(h.push(t.arrayBlockIndices[u]),f.push(t.arrayBlockIndices[u]+r),l.push(0),c.push(t.arrayBlockIndices[u]));for(var d=[],g=0;g<a[u].length;g++)h[u]<=a[u][g]&&a[u][g]<f[u]&&d.push(a[u][g]-h[u]);p.push(d)}var m=["SS"],v=["'use strict'"],y=[];for(g=0;g<r;++g)y.push(["s",g,"=SS[",g,"]"].join(""));for(u=0;u<t.arrayArgs.length;++u){for(m.push("a"+u),m.push("t"+u),m.push("p"+u),g=0;g<r;++g)y.push(["t",u,"p",g,"=t",u,"[",h[u]+g,"]"].join(""));for(g=0;g<Math.abs(t.arrayBlockIndices[u]);++g)y.push(["t",u,"b",g,"=t",u,"[",l[u]+g,"]"].join(""))}for(u=0;u<t.scalarArgs.length;++u)m.push("Y"+u);if(t.shapeArgs.length>0&&y.push("shape=SS.slice(0)"),t.indexArgs.length>0){var _=new Array(r);for(u=0;u<r;++u)_[u]="0";y.push(["index=[",_.join(","),"]"].join(""))}for(u=0;u<t.offsetArgs.length;++u){var b=t.offsetArgs[u],w=[];for(g=0;g<b.offset.length;++g)0!==b.offset[g]&&(1===b.offset[g]?w.push(["t",b.array,"p",g].join("")):w.push([b.offset[g],"*t",b.array,"p",g].join("")));0===w.length?y.push("q"+u+"=0"):y.push(["q",u,"=",w.join("+")].join(""))}var B=n([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((y=y.concat(B)).length>0&&v.push("var "+y.join(",")),u=0;u<t.arrayArgs.length;++u)v.push("p"+u+"|=0");t.pre.body.length>3&&v.push(s(t.pre,t,A));var x=s(t.body,t,A),E=function(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}(p);E<r?v.push(function(t,e,r,n){for(var s=e.length,o=r.arrayArgs.length,a=r.blockSize,A=r.indexArgs.length>0,u=[],l=0;l<o;++l)u.push(["var offset",l,"=p",l].join(""));for(l=t;l<s;++l)u.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),u.push(["if(j",l,"<",a,"){"].join("")),u.push(["s",e[l],"=j",l].join("")),u.push(["j",l,"=0"].join("")),u.push(["}else{s",e[l],"=",a].join("")),u.push(["j",l,"-=",a,"}"].join("")),A&&u.push(["index[",e[l],"]=j",l].join(""));for(l=0;l<o;++l){for(var c=["offset"+l],h=t;h<s;++h)c.push(["j",h,"*t",l,"p",e[h]].join(""));u.push(["p",l,"=(",c.join("+"),")"].join(""))}for(u.push(i(e,r,n)),l=t;l<s;++l)u.push("}");return u.join("\n")}(E,p[0],t,x)):v.push(i(p[0],t,x)),t.post.body.length>3&&v.push(s(t.post,t,A)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+v.join("\n")+"\n----------");var C=[t.funcName||"unnamed","_cwise_loop_",a[0].join("s"),"m",E,o(A)].join("");return new Function(["function ",C,"(",m.join(","),"){",v.join("\n"),"} return ",C].join(""))()}},t=>{"use strict";t.exports=function(t,e,r){return 0===t.length?t:e?(r||t.sort(e),function(t,e){for(var r=1,n=t.length,i=t[0],s=t[0],o=1;o<n;++o)if(s=i,e(i=t[o],s)){if(o===r){r++;continue}t[r++]=i}return t.length=r,t}(t,e)):(r||t.sort(),function(t){for(var e=1,r=t.length,n=t[0],i=t[0],s=1;s<r;++s,i=n)if(i=n,(n=t[s])!==i){if(s===e){e++;continue}t[e++]=n}return t.length=e,t}(t))}},(t,e,r)=>{var n=r(252);function i(t,e,r){t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var i=!1,s=!1,o=[],a=!1,A=new n;function u(){for(;o.length&&!A.paused;){var t=o.shift();if(null===t)return A.emit("end");A.emit("data",t)}}function l(){A.writable=!1,e.call(A),!A.readable&&A.autoDestroy&&A.destroy()}return A.readable=A.writable=!0,A.paused=!1,A.autoDestroy=!(r&&!1===r.autoDestroy),A.write=function(e){return t.call(this,e),!A.paused},A.queue=A.push=function(t){return a||(null===t&&(a=!0),o.push(t),u()),A},A.on("end",(function(){A.readable=!1,!A.writable&&A.autoDestroy&&process.nextTick((function(){A.destroy()}))})),A.end=function(t){if(!i)return i=!0,arguments.length&&A.write(t),l(),A},A.destroy=function(){if(!s)return s=!0,i=!0,o.length=0,A.writable=A.readable=!1,A.emit("close"),A},A.pause=function(){if(!A.paused)return A.paused=!0,A},A.resume=function(){return A.paused&&(A.paused=!1,A.emit("resume")),u(),A.paused||A.emit("drain"),A},A}t.exports=i,i.through=i},()=>{},t=>{t.exports=function(t){if(!/^data\:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var e=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===e||e<=4)throw new TypeError("malformed data: URI");for(var r=t.substring(5,e).split(";"),n=!1,i="US-ASCII",s=0;s<r.length;s++)"base64"==r[s]?n=!0:0==r[s].indexOf("charset=")&&(i=r[s].substring(8));var o=unescape(t.substring(e+1)),a=new Buffer(o,n?"base64":"ascii");return a.type=r[0]||"text/plain",a.charset=i,a}},(t,e,r)=>{"use strict";const n=r(255),i=r(62),s=r(256),o=r(259),a=r(262),A=r(263),u=r(308),{promisify:l}=r(309),c=l(u.pipeline),{writeFile:h}=n.promises,f=(t="")=>i.join(o,t+s()),p=async(t,e)=>c(e,n.createWriteStream(t)),d=(t,{extraArguments:e=0}={})=>async(...r)=>{const[n,i]=r.slice(e),s=await t(...r.slice(0,e),i),o=await n(s);return await A(s),o};t.exports.file=e=>{if((e={...e}).name){if(void 0!==e.extension&&null!==e.extension)throw new Error("The `name` and `extension` options are mutually exclusive");return i.join(t.exports.directory(),e.name)}return f()+(void 0===e.extension||null===e.extension?"":"."+e.extension.replace(/^\./,""))},t.exports.file.task=d(t.exports.file),t.exports.directory=({prefix:t=""}={})=>{const e=f(t);return n.mkdirSync(e),e},t.exports.directory.task=d(t.exports.directory),t.exports.write=async(e,r)=>{const n=t.exports.file(r),i=a(e)?p:h;return await i(n,e),n},t.exports.write.task=d(t.exports.write,{extraArguments:1}),t.exports.writeSync=(e,r)=>{const i=t.exports.file(r);return n.writeFileSync(i,e),i},Object.defineProperty(t.exports,"root",{get:()=>o})},()=>{},(t,e,r)=>{"use strict";const n=r(257);t.exports=()=>n(32)},(t,e,r)=>{"use strict";const n=r(258);t.exports=t=>{if(!Number.isFinite(t))throw new TypeError("Expected a finite number");return n.randomBytes(Math.ceil(t/2)).toString("hex").slice(0,t)}},()=>{},(t,e,r)=>{"use strict";const n=r(260),i=r(261),s=Symbol.for("__RESOLVED_TEMP_DIRECTORY__");r.g[s]||Object.defineProperty(r.g,s,{value:n.realpathSync(i.tmpdir())}),t.exports=r.g[s]},()=>{},()=>{},t=>{"use strict";const e=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;e.writable=t=>e(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,e.readable=t=>e(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&"function"==typeof t._transform,t.exports=e},(t,e,r)=>{"use strict";const{promisify:n}=r(264),{resolve:i}=r(62),s=r(265),{chmod:o,readdir:a,rmdir:A,unlink:u}=r(277),{hasMagic:l}=r(286),c=r(274),h=r(305),f=["unlink","chmod","stat","lstat","rmdir","readdir"],p=["mark","stat"],d=["nosort","nounique"],g=n(h);t.exports=async function(...t){const e=t.length;if(1!==e&&2!==e)throw new RangeError(`Expected 1 or 2 arguments (<string>[, <Object>]), but got ${0===e?"no":e} arguments.`);const r={glob:!1,chmod:o,readdir:a,rmdir:A,unlink:u};if(1===e)return g(t[0],r);const[n]=t;if("object"!=typeof t[1])throw new TypeError(`Expected an option object passed to rimraf (https://github.com/isaacs/rimraf#options), but got ${c(t[1])}.`);const h=Object.assign(r,t[1]),m=[];for(const t of f)void 0!==h[t]&&"function"!=typeof h[t]&&m.push(`\`${t}\` option must be a function, but got ${c(h[t])}.`);void 0!==h.maxBusyTries&&"number"!=typeof h.maxBusyTries&&m.push(`\`maxBusyTries\` option must be a number, but got ${c(h.maxBusyTries)}.`),void 0!==h.emfileWait&&"number"!=typeof h.emfileWait&&m.push(`\`emfileWait\` option must be a number, but got ${c(h.emfileWait)}.`),void 0!==h.disableGlob&&m.push(`rmfr doesn't support \`disableGlob\` option, but a value ${c(h.disableGlob)} was provided. rmfr disables glob feature by default.`);if(!0===h.glob)h.glob={nosort:!0,nounique:!0,silent:!0};else if("object"==typeof h.glob){s(h.glob);const t=void 0!==h.glob.cwd;for(const t of p){const e=h.glob[t];e&&m.push(`rmfr doesn't support \`${t}\` option in \`glob\` option, but got ${c(e)}.`)}for(const t of d)!1===h.glob[t]&&m.push(`rmfr doesn't allow \`${t}\` option in \`glob\` option to be disabled, but \`false\` was passed to it.`);if(h.glob=Object.assign(r,h.glob,{absolute:t}),0===m.length&&t&&!l(n,h.glob))return g(i(h.glob.cwd,n),Object.assign(h,{disableGlob:!0}))}else!1!==h.glob&&m.push(`\`glob\` option must be an object passed to \`glob\` or a Boolean value, but got ${c(h.glob)}.`);if(1===m.length)throw new TypeError(m[0]);if(0!==m.length)throw new TypeError(`There was ${m.length} errors in rimraf options you provided:\n${m.map((t=>`  * ${t}`)).join("\n")}\n`);return g(n,h)}},()=>{},(t,e,r)=>{"use strict";const n=r(266),i=r(268);t.exports=function(...t){const e=i(...t);if(0!==e.length)throw new n(e)}},(t,e,r)=>{"use strict";const{inspect:n}=r(267),i=t=>"TypeError"===t.name,s=(t,e,r)=>`${t}\n  ${r+1}. ${e.message}`;t.exports=function(...t){const e=t.length;if(1!==e)throw new TypeError(`Expected 1 argument (Array<errors>), but got ${e||"no"} arguments.`);const[r]=t;if(!Array.isArray(r))throw new TypeError(`Expected an array of errors, but got a non-array value ${n(r)}.`);const o=r.length;if(0===o)throw new RangeError("Expected an array with at least one error, but got [] (empty array).");if(1===o)return r[0][Symbol.iterator]=function*(){yield r[0]},r[0];const a=new(r.every(i)?TypeError:Error)(r.reduce(s,`${o} errors found in the glob options:`));return a[Symbol.iterator]=function*(){for(const t of r)yield t},a}},()=>{},(t,e,r)=>{"use strict";const{inspect:n}=r(269),i=r(270),s=r(271),o=r(272),a=r(274),A="Expected node-glob options to be an object",u="Expected every value in the `cache` option to be true, false, 'FILE', 'DIR' or an array",l="Expected every value in the `statCache` option to be a fs.Stats instance",c=new Set(["cwd","root"]),h=new Set(["dot","nomount","mark","nosort","stat","silent","strict","nounique","nonull","debug","nobrace","noglobstar","noext","nocase","matchBase","nodir","follow","realpath","absolute"]),f=new Map([["noMount","nomount"],["nouniq","nounique"],["noUnique","nounique"],["noNull","nonull"],["noBrace","nobrace"],["noGlobStar","noglobstar"],["noExt","noext"],["noCase","nocase"],["matchbase","matchBase"],["noDir","nodir"],["realPath","realpath"],["realPathCache","realpathCache"],["realpathCaches","realpathCache"],["realPathCaches","realpathCache"],["caches","cache"],["statcache","statCache"],["statCaches","statCache"],["symlink","symlinks"]]),p=t=>"function"!=typeof t,d=t=>`${n(t.value)} (at ${t.index})`;t.exports=function(...t){const e=t.length;if(e>2)throw new TypeError(`Expected 0, 1 or 2 arguments ([<object>, <array>]), but got ${e}.`);const[r,g]=t;if(2===e){if(!Array.isArray(g))throw new TypeError(`Expected an array of functions, but got a non-array value ${a(g)}.`);const t=o(g,p),e=t.length;if(0!==e)throw new TypeError(`Expected every element in the array to be a function, but found ${1===e?"a non-function value":"non-function values"} in the array: ${i(t.map(d))}.`)}if(""===r)return[new TypeError(`${A}, but got '' (empty string).`)];if(!r)return[];if("object"!=typeof r||Array.isArray(r))return[new TypeError(`${A}, but got ${a(r)}.`)];const m=[];void 0!==r.sync&&m.push(new Error(`\`sync\` option is deprecated and theres no need to pass any values to that option, but ${n(r.sync)} was provided.`));for(const t of c){const e=r[t];void 0!==e&&"string"!=typeof r[t]&&m.push(new TypeError(`node-glob expected \`${t}\` option to be a directory path (string), but got ${a(e)}.`))}for(const t of h){const e=r[t];void 0!==e&&"boolean"!=typeof r[t]&&m.push(new TypeError(`node-glob expected \`${t}\` option to be a Boolean value, but got ${a(e)}.`))}if(!0===r.nodir&&!0===r.mark&&m.push(new TypeError("Expected `mark` option not to be `true` when `nodir` option is `true`, because there is no need to differentiate directory paths from file paths when `nodir` option is enabled, but got `true`.")),void 0!==r.cache)if(s(r.cache))for(const t of Object.keys(r.cache)){const e=r.cache[t];"string"!=typeof e?"boolean"==typeof e||Array.isArray(e)||m.push(new TypeError(`${u}, but found an invalid value ${a(e)} in \`${t}\` property.`)):"FILE"!==e&&"DIR"!==e&&m.push(new Error(`${u}, but found an invalid string ${n(e)} in \`${t}\` property.`))}else m.push(new TypeError(`node-glob expected \`cache\` option to be an object, but got ${a(r.cache)}.`));if(void 0!==r.realpathCache)if(s(r.realpathCache))for(const t of Object.keys(r.realpathCache)){const e=r.realpathCache[t];"string"!=typeof e&&m.push(new TypeError(`Expected every value in the \`realpathCache\` option to be a string, but found a non-string value ${a(e)} in \`${t}\` property.`))}else m.push(new TypeError(`node-glob expected \`realpathCache\` option to be an object, but got ${a(r.realpathCache)}.`));if(void 0!==r.statCache)if(s(r.statCache))for(const t of Object.keys(r.statCache)){const e=r.statCache[t];null===e||"object"!=typeof e||Array.isArray(e)?m.push(new TypeError(`${l}, but found an invalid value ${n(e)} in \`${t}\` property.`)):"number"!=typeof e.mode&&m.push(new Error(`${l}, but found an invalid object ${n(e)} in \`${t}\` property, which doesn't have a valid file mode.`))}else m.push(new TypeError(`node-glob expected \`statCache\` option to be an object, but got ${a(r.statCache)}.`));if(void 0!==r.symlinks)if(s(r.symlinks))for(const t of Object.keys(r.symlinks)){const e=r.symlinks[t];"boolean"!=typeof e&&m.push(new TypeError(`Expected every value in the \`symlink\` option to be Boolean, but found an invalid value ${a(e)} in \`${t}\` property.`))}else m.push(new TypeError(`node-glob expected \`symlinks\` option to be an object, but got ${a(r.symlinks)}.`));if(void 0!==r.ignore)if(Array.isArray(r.ignore))for(const t of r.ignore)"string"!=typeof t&&m.push(new TypeError(`Expected every value in the \`ignore\` option to be a string, but the array includes a non-string value ${a(t)}.`));else"string"!=typeof r.ignore&&m.push(new TypeError(`node-glob expected \`ignore\` option to be an array or string, but got ${a(r.ignore)}.`));for(const t of Object.keys(r)){const e=f.get(t);void 0!==e&&m.push(new Error(`node-glob doesn't have \`${t}\` option. Probably you meant \`${e}\`.`))}for(const t of g||[]){const e=t(r);if(e){if(!(e instanceof Error))throw new TypeError(`Expected an additional validation function to return an error, but returned ${a(e)}.`);m.push(e)}}return m}},()=>{},t=>{t.exports=function(t,e){"use strict";if(!Array.isArray(t))throw new TypeError(String(t)+" is not an array. Expected an array.");function r(t){if("string"!=typeof e[t])throw new TypeError(String(e[t])+" is not a string. `"+t+"` option must be a string.")}return void 0===(e=e||{}).separator?e.separator=", ":r("separator"),void 0===e.lastSeparator?e.lastSeparator=" and ":r("lastSeparator"),0===t.length?"":1===t.length?t[0]:t.slice(0,-1).join(e.separator)+e.lastSeparator+t[t.length-1]}},t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r;return"[object Object]"===e.call(t)&&(null===(r=Object.getPrototypeOf(t))||r===Object.getPrototypeOf({}))}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(273);function i(t,e,r){if(!Array.isArray(t))throw new TypeError("Expected an array to be filtered, but got a non-array value "+(0,n.default)(t)+".");if("function"!=typeof e)throw new TypeError("Expected a filter function, but got a non-function value "+(0,n.default)(e)+".");var i=[];return t.forEach((function(t,r,n){e.call(this,t,r,n)&&i.push({index:r,value:t})}),r),i}},(t,e,r)=>{"use strict";function n(t){return void 0===t?"undefined":null===t?"null":String(t)+" ("+typeof t+")"}r.r(e),r.d(e,{default:()=>n})},(t,e,r)=>{"use strict";const n=r(275).inspect,i=r(276),s=new Set(["arguments","array","bigint","boolean","date","number","object","regexp","string"]);t.exports=function(t,e){const r=i(t),o=n(t,Object.assign({breakLength:1/0,maxArrayLength:10},e));return"error"===r?t.toString():s.has(r)?o.startsWith("Observable {")?o:`${o} (${r})`:o}},()=>{},t=>{var e=Object.prototype.toString;function r(t){return"function"==typeof t.constructor?t.constructor.name:null}t.exports=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var n=typeof t;if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return function(t,e){return"GeneratorFunction"===r(t)}(t)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function(t){return!(!t.constructor||"function"!=typeof t.constructor.isBuffer)&&t.constructor.isBuffer(t)}(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(r(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(n=e.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")}},(t,e,r)=>{var n,i,s=r(278),o=r(279),a=r(281),A=r(283),u=r(284);function l(t,e){Object.defineProperty(t,n,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",i="___graceful-fs.previous");var c,h=function(){};if(u.debuglog?h=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!s[n]){var f=r.g[n]||[];l(s,f),s.close=function(t){function e(e,r){return t.call(s,e,(function(t){t||g(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(e,i,{value:t}),e}(s.close),s.closeSync=function(t){function e(e){t.apply(s,arguments),g()}return Object.defineProperty(e,i,{value:t}),e}(s.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(s[n]),r(285).equal(s[n].length,0)}))}function p(t){o(t),t.gracefulify=p,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,n){return"function"==typeof r&&(n=r,r=null),function t(r,n,i,s){return e(r,n,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof i&&i.apply(this,arguments):d([t,[r,n,i],e,s||Date.now(),Date.now()])}))}(t,r,n)};var r=t.writeFile;t.writeFile=function(t,e,n,i){return"function"==typeof n&&(i=n,n=null),function t(e,n,i,s,o){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):d([t,[e,n,i,s],r,o||Date.now(),Date.now()])}))}(t,e,n,i)};var n=t.appendFile;n&&(t.appendFile=function(t,e,r,i){return"function"==typeof r&&(i=r,r=null),function t(e,r,i,s,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):d([t,[e,r,i,s],n,o||Date.now(),Date.now()])}))}(t,e,r,i)});var i=t.copyFile;i&&(t.copyFile=function(t,e,r,n){return"function"==typeof r&&(n=r,r=0),function t(e,r,n,s,o){return i(e,r,n,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):d([t,[e,r,n,s],i,o||Date.now(),Date.now()])}))}(t,e,r,n)});var s=t.readdir;if(t.readdir=function(t,e,r){return"function"==typeof e&&(r=e,e=null),function t(e,r,n,i){return s(e,r,(function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof n&&n.call(this,s,o)):d([t,[e,r,n],s,i||Date.now(),Date.now()])}))}(t,e,r)},"v0.8"===process.version.substr(0,4)){var A=a(t);f=A.ReadStream,g=A.WriteStream}var u=t.ReadStream;u&&(f.prototype=Object.create(u.prototype),f.prototype.open=function(){var t=this;v(t.path,t.flags,t.mode,(function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))});var l=t.WriteStream;l&&(g.prototype=Object.create(l.prototype),g.prototype.open=function(){var t=this;v(t.path,t.flags,t.mode,(function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return g},set:function(t){g=t},enumerable:!0,configurable:!0});var c=f;Object.defineProperty(t,"FileReadStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var h=g;function f(t,e){return this instanceof f?(u.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function g(t,e){return this instanceof g?(l.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var m=t.open;function v(t,e,r,n){return"function"==typeof r&&(n=r,r=null),function t(e,r,n,i,s){return m(e,r,n,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):d([t,[e,r,n,i],o,s||Date.now(),Date.now()])}))}(t,e,r,n)}return t.open=v,t}function d(t){h("ENQUEUE",t[0].name,t[1]),s[n].push(t),m()}function g(){for(var t=Date.now(),e=0;e<s[n].length;++e)s[n][e].length>2&&(s[n][e][3]=t,s[n][e][4]=t);m()}function m(){if(clearTimeout(c),c=void 0,0!==s[n].length){var t=s[n].shift(),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4];if(void 0===o)h("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-o>=6e4){h("TIMEOUT",e.name,r);var A=r.pop();"function"==typeof A&&A.call(null,i)}else{var u=Date.now()-a,l=Math.max(a-o,1);u>=Math.min(1.2*l,100)?(h("RETRY",e.name,r),e.apply(null,r.concat([o]))):s[n].push(t)}void 0===c&&(c=setTimeout(m,0))}}r.g[n]||l(r.g,s[n]),t.exports=p(A(s)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!s.__patched&&(t.exports=p(s),s.__patched=!0)},()=>{},(t,e,r)=>{var n=r(280),i=process.cwd,s=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=i.call(process)),s};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(t){s=null,a.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}t.exports=function(t){var e,r;function i(e){return e?function(r,n,i){return e.call(t,r,n,(function(t){c(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function s(e){return e?function(r,n){try{return e.call(t,r,n)}catch(t){if(!c(t))throw t}}:e}function a(e){return e?function(r,n,i,s){return e.call(t,r,n,i,(function(t){c(t)&&(t=null),s&&s.apply(this,arguments)}))}:e}function A(e){return e?function(r,n,i){try{return e.call(t,r,n,i)}catch(t){if(!c(t))throw t}}:e}function u(e){return e?function(r,n,i){function s(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?e.call(t,r,n,s):e.call(t,r,s)}:e}function l(e){return e?function(r,n){var i=n?e.call(t,r,n):e.call(t,r);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:e}function c(t){return!t||"ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code)}n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,r,i){t.open(e,n.O_WRONLY|n.O_SYMLINK,r,(function(e,n){e?i&&i(e):t.fchmod(n,r,(function(e){t.close(n,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,r){var i,s=t.openSync(e,n.O_WRONLY|n.O_SYMLINK,r),o=!0;try{i=t.fchmodSync(s,r),o=!1}finally{if(o)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return i}}(t),t.lutimes||function(t){n.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,r,i,s){t.open(e,n.O_SYMLINK,(function(e,n){e?s&&s(e):t.futimes(n,r,i,(function(e){t.close(n,(function(t){s&&s(e||t)}))}))}))},t.lutimesSync=function(e,r,i){var s,o=t.openSync(e,n.O_SYMLINK),a=!0;try{s=t.futimesSync(o,r,i),a=!1}finally{if(a)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return s}):(t.lutimes=function(t,e,r,n){n&&process.nextTick(n)},t.lutimesSync=function(){})}(t),t.chown=a(t.chown),t.fchown=a(t.fchown),t.lchown=a(t.lchown),t.chmod=i(t.chmod),t.fchmod=i(t.fchmod),t.lchmod=i(t.lchmod),t.chownSync=A(t.chownSync),t.fchownSync=A(t.fchownSync),t.lchownSync=A(t.lchownSync),t.chmodSync=s(t.chmodSync),t.fchmodSync=s(t.fchmodSync),t.lchmodSync=s(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,r){r&&process.nextTick(r)},t.lchmodSync=function(){}),t.lchown||(t.lchown=function(t,e,r,n){n&&process.nextTick(n)},t.lchownSync=function(){}),"win32"===o&&(t.rename=(e=t.rename,function(r,n,i){var s=Date.now(),o=0;e(r,n,(function a(A){if(A&&("EACCES"===A.code||"EPERM"===A.code)&&Date.now()-s<6e4)return setTimeout((function(){t.stat(n,(function(t,s){t&&"ENOENT"===t.code?e(r,n,a):i(A)}))}),o),void(o<100&&(o+=10));i&&i(A)}))})),t.read=function(e){function r(r,n,i,s,o,a){var A;if(a&&"function"==typeof a){var u=0;A=function(l,c,h){if(l&&"EAGAIN"===l.code&&u<10)return u++,e.call(t,r,n,i,s,o,A);a.apply(this,arguments)}}return e.call(t,r,n,i,s,o,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync=(r=t.readSync,function(e,n,i,s,o){for(var a=0;;)try{return r.call(t,e,n,i,s,o)}catch(t){if("EAGAIN"===t.code&&a<10){a++;continue}throw t}})}},()=>{},(t,e,r)=>{var n=r(282).Stream;t.exports=function(t){return{ReadStream:function e(r,i){if(!(this instanceof e))return new e(r,i);n.call(this);var s=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var o=Object.keys(i),a=0,A=o.length;a<A;a++){var u=o[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return s.emit("error",t),void(s.readable=!1);s.fd=e,s.emit("open",e),s._read()})):process.nextTick((function(){s._read()}))},WriteStream:function e(r,i){if(!(this instanceof e))return new e(r,i);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var A=s[o];this[A]=i[A]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},()=>{},t=>{"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var r={__proto__:e(t)};else r=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})),r};var e=Object.getPrototypeOf||function(t){return t.__proto__}},()=>{},()=>{},(t,e,r)=>{t.exports=v;var n=r(287),i=r(290),s=(i.Minimatch,r(294)),o=r(295).EventEmitter,a=r(62),A=r(296),u=r(297),l=r(298),c=r(300),h=c.setopts,f=c.ownProp,p=r(302),d=(r(299),c.childrenIgnored),g=c.isIgnored,m=r(304);function v(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return l(t,e)}return new _(t,e,r)}v.sync=l;var y=v.GlobSync=l.GlobSync;function _(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new y(t,e)}if(!(this instanceof _))return new _(t,e,r);h(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=m(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return o();for(var s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,o);function o(){--i._processing,i._processing<=0&&i._finish()}}v.glob=v,v.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}({},e);r.noprocess=!0;var n=new _(t,r).minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},v.Glob=_,s(_,o),_.prototype._finish=function(){if(A(this instanceof _),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();c.finish(this),this.emit("end",this.found)}},_.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--t&&e._finish()}},_.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),s=this,o=i.length;if(0===o)return e();var a=this.matches[t]=Object.create(null);i.forEach((function(r,i){r=s._makeAbs(r),n.realpath(r,s.realpathCache,(function(n,i){n?"stat"===n.syscall?a[r]=!0:s.emit("error",n):a[i]=!0,0==--o&&(s.matches[t]=a,e())}))}))},_.prototype._mark=function(t){return c.mark(this,t)},_.prototype._makeAbs=function(t){return c.makeAbs(this,t)},_.prototype.abort=function(){this.aborted=!0,this.emit("abort")},_.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},_.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},_.prototype._process=function(t,e,r,n){if(A(this instanceof _),A("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,r,n]);else{for(var s,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:s=null;break;default:s=t.slice(0,o).join("/")}var a,l=t.slice(o);null===s?a=".":u(s)||u(t.join("/"))?(s&&u(s)||(s="/"+s),a=s):a=s;var c=this._makeAbs(a);if(d(this,a))return n();l[0]===i.GLOBSTAR?this._processGlobStar(s,a,c,l,e,r,n):this._processReaddir(s,a,c,l,e,r,n)}},_.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,(function(A,u){return a._processReaddir2(t,e,r,n,i,s,u,o)}))},_.prototype._processReaddir2=function(t,e,r,n,i,s,o,A){if(!o)return A();for(var u=n[0],l=!!this.minimatch.negate,c=u._glob,h=this.dot||"."===c.charAt(0),f=[],p=0;p<o.length;p++)("."!==(g=o[p]).charAt(0)||h)&&(l&&!t?!g.match(u):g.match(u))&&f.push(g);var d=f.length;if(0===d)return A();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),p=0;p<d;p++){var g=f[p];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}return A()}for(n.shift(),p=0;p<d;p++)g=f[p],t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(n),i,s,A);A()},_.prototype._emitMatch=function(t,e){if(!this.aborted&&!g(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=u(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}},_.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,n=p("lstat\0"+t,(function(n,i){if(n&&"ENOENT"===n.code)return e();var s=i&&i.isSymbolicLink();r.symlinks[t]=s,s||!i||i.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));n&&r.fs.lstat(t,n)}},_.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=p("readdir\0"+t+"\0"+e,r))){if(e&&!f(this.symlinks,t))return this._readdirInGlobStar(t,r);if(f(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return r();if(Array.isArray(n))return r(null,n)}this.fs.readdir(t,function(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}(this,t,r))}},_.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}},_.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},_.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,(function(A,u){a._processGlobStar2(t,e,r,n,i,s,u,o)}))},_.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var A=n.slice(1),u=t?[t]:[],l=u.concat(A);this._process(l,i,!1,a);var c=this.symlinks[r],h=o.length;if(c&&s)return a();for(var f=0;f<h;f++)if("."!==o[f].charAt(0)||this.dot){var p=u.concat(o[f],A);this._process(p,i,!0,a);var d=u.concat(o[f],n);this._process(d,i,!0,a)}a()},_.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,(function(i,s){n._processSimple2(t,e,i,s,r)}))},_.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&u(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},_.prototype._stat=function(t,e){var r=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&f(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return e(null,i);if(n&&"FILE"===i)return e()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return e(null,s);var o=s.isDirectory()?"DIR":"FILE";return n&&"FILE"===o?e():e(null,o,s)}var a=this,A=p("stat\0"+r,(function(n,i){if(i&&i.isSymbolicLink())return a.fs.stat(r,(function(n,s){n?a._stat2(t,r,null,i,e):a._stat2(t,r,n,s,e)}));a._stat2(t,r,n,i,e)}));A&&a.fs.lstat(r,A)},_.prototype._stat2=function(t,e,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,i();var s="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&"FILE"===o?i():i(null,o,n)}},(t,e,r)=>{t.exports=l,l.realpath=l,l.sync=c,l.realpathSync=c,l.monkeypatch=function(){n.realpath=l,n.realpathSync=c},l.unmonkeypatch=function(){n.realpath=i,n.realpathSync=s};var n=r(288),i=n.realpath,s=n.realpathSync,o=process.version,a=/^v[0-5]\./.test(o),A=r(289);function u(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function l(t,e,r){if(a)return i(t,e,r);"function"==typeof e&&(r=e,e=null),i(t,e,(function(n,i){u(n)?A.realpath(t,e,r):r(n,i)}))}function c(t,e){if(a)return s(t,e);try{return s(t,e)}catch(r){if(u(r))return A.realpathSync(t,e);throw r}}},()=>{},(t,e,r)=>{var n=r(62),i="win32"===process.platform,s=r(288),o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(n.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var A=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else A=/^[\/]*/;e.realpathSync=function(t,e){if(t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r,o,u,l,c=t,h={},f={};function p(){var e=A.exec(t);r=e[0].length,o=e[0],u=e[0],l="",i&&!f[u]&&(s.lstatSync(u),f[u]=!0)}for(p();r<t.length;){a.lastIndex=r;var d=a.exec(t);if(l=o,o+=d[0],u=l+d[1],r=a.lastIndex,!(f[u]||e&&e[u]===u)){var g;if(e&&Object.prototype.hasOwnProperty.call(e,u))g=e[u];else{var m=s.lstatSync(u);if(!m.isSymbolicLink()){f[u]=!0,e&&(e[u]=u);continue}var v=null;if(!i){var y=m.dev.toString(32)+":"+m.ino.toString(32);h.hasOwnProperty(y)&&(v=h[y])}null===v&&(s.statSync(u),v=s.readlinkSync(u)),g=n.resolve(l,v),e&&(e[u]=g),i||(h[y]=v)}t=n.resolve(g,t.slice(r)),p()}}return e&&(e[c]=t),t},e.realpath=function(t,e,r){if("function"!=typeof r&&(r=function(t){return"function"==typeof t?t:function(){var t;if(o){var e=new Error;t=function(t){t&&(e.message=t.message,r(t=e))}}else t=r;return t;function r(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}(e),e=null),t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var u,l,c,h,f=t,p={},d={};function g(){var e=A.exec(t);u=e[0].length,l=e[0],c=e[0],h="",i&&!d[c]?s.lstat(c,(function(t){if(t)return r(t);d[c]=!0,m()})):process.nextTick(m)}function m(){if(u>=t.length)return e&&(e[f]=t),r(null,t);a.lastIndex=u;var n=a.exec(t);return h=l,l+=n[0],c=h+n[1],u=a.lastIndex,d[c]||e&&e[c]===c?process.nextTick(m):e&&Object.prototype.hasOwnProperty.call(e,c)?_(e[c]):s.lstat(c,v)}function v(t,n){if(t)return r(t);if(!n.isSymbolicLink())return d[c]=!0,e&&(e[c]=c),process.nextTick(m);if(!i){var o=n.dev.toString(32)+":"+n.ino.toString(32);if(p.hasOwnProperty(o))return y(null,p[o],c)}s.stat(c,(function(t){if(t)return r(t);s.readlink(c,(function(t,e){i||(p[o]=e),y(t,e)}))}))}function y(t,i,s){if(t)return r(t);var o=n.resolve(h,i);e&&(e[s]=o),_(o)}function _(e){t=n.resolve(e,t.slice(u)),g()}g()}},(t,e,r)=>{t.exports=h,h.Minimatch=f;var n={sep:"/"};try{n=r(62)}catch(t){}var i=h.GLOBSTAR=f.GLOBSTAR={},s=r(291),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",A="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{}),l=/\/+/;function c(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function h(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new f(e,r).match(t))}function f(t,e){if(!(this instanceof f))return new f(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==n.sep&&(t=t.split(n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(t,e){if(e||(e=this instanceof f?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:s(t)}h.filter=function(t,e){return e=e||{},function(r,n,i){return h(r,t,e)}},h.defaults=function(t){if(!t||!Object.keys(t).length)return h;var e=h,r=function(r,n,i){return e.minimatch(r,n,c(t,i))};return r.Minimatch=function(r,n){return new e.Minimatch(r,c(t,n))},r},f.defaults=function(t){return t&&Object.keys(t).length?h.defaults(t).Minimatch:f},f.prototype.debug=function(){},f.prototype.make=function(){if(!this._made){var t=this.pattern,e=this.options;if(e.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(l)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},f.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=0;if(!this.options.nonegate){for(var n=0,i=t.length;n<i&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}},h.braceExpand=function(t,e){return p(t,e)},f.prototype.braceExpand=p,f.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return i;if(""===t)return"";var n,s="",l=!!r.nocase,c=!1,h=[],f=[],p=!1,g=-1,m=-1,v="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function _(){if(n){switch(n){case"*":s+=A,l=!0;break;case"?":s+=a,l=!0;break;default:s+="\\"+n}y.debug("clearStateChar %j %j",n,s),n=!1}}for(var b,w=0,B=t.length;w<B&&(b=t.charAt(w));w++)if(this.debug("%s\t%s %s %j",t,w,s,b),c&&u[b])s+="\\"+b,c=!1;else switch(b){case"/":return!1;case"\\":_(),c=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,w,s,b),p){this.debug("  in class"),"!"===b&&w===m+1&&(b="^"),s+=b;continue}y.debug("call clearStateChar %j",n),_(),n=b,r.noext&&_();continue;case"(":if(p){s+="(";continue}if(!n){s+="\\(";continue}h.push({type:n,start:w-1,reStart:s.length,open:o[n].open,close:o[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(p||!h.length){s+="\\)";continue}_(),l=!0;var x=h.pop();s+=x.close,"!"===x.type&&f.push(x),x.reEnd=s.length;continue;case"|":if(p||!h.length||c){s+="\\|",c=!1;continue}_(),s+="|";continue;case"[":if(_(),p){s+="\\"+b;continue}p=!0,m=w,g=s.length,s+=b;continue;case"]":if(w===m+1||!p){s+="\\"+b,c=!1;continue}if(p){var E=t.substring(m+1,w);try{RegExp("["+E+"]")}catch(t){var C=this.parse(E,d);s=s.substr(0,g)+"\\["+C[0]+"\\]",l=l||C[1],p=!1;continue}}l=!0,p=!1,s+=b;continue;default:_(),c?c=!1:!u[b]||"^"===b&&p||(s+="\\"),s+=b}for(p&&(E=t.substr(m+1),C=this.parse(E,d),s=s.substr(0,g)+"\\["+C[0],l=l||C[1]),x=h.pop();x;x=h.pop()){var T=s.slice(x.reStart+x.open.length);this.debug("setting tail",s,x),T=T.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",T,T,x,s);var I="*"===x.type?A:"?"===x.type?a:"\\"+x.type;l=!0,s=s.slice(0,x.reStart)+I+"\\("+T}_(),c&&(s+="\\\\");var F=!1;switch(s.charAt(0)){case".":case"[":case"(":F=!0}for(var S=f.length-1;S>-1;S--){var U=f[S],M=s.slice(0,U.reStart),O=s.slice(U.reStart,U.reEnd-8),P=s.slice(U.reEnd-8,U.reEnd),R=s.slice(U.reEnd);P+=R;var L=M.split("(").length-1,D=R;for(w=0;w<L;w++)D=D.replace(/\)[+*?]?/,"");var Q="";""===(R=D)&&e!==d&&(Q="$"),s=M+O+R+Q+P}if(""!==s&&l&&(s="(?=.)"+s),F&&(s=v+s),e===d)return[s,l];if(!l)return t.replace(/\\(.)/g,"$1");var N=r.nocase?"i":"";try{var k=new RegExp("^"+s+"$",N)}catch(t){return new RegExp("$.")}return k._glob=t,k._src=s,k};var d={};h.makeRe=function(t,e){return new f(t,e||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?A:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"",s=t.map((function(t){return t.map((function(t){return t===i?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=!1}return this.regexp},h.match=function(t,e,r){var n=new f(e,r=r||{});return t=t.filter((function(t){return n.match(t)})),n.options.nonull&&!t.length&&t.push(e),t},f.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==n.sep&&(t=t.split(n.sep).join("/")),t=t.split(l),this.debug(this.pattern,"split",t);var i,s,o=this.set;for(this.debug(this.pattern,"set",o),s=t.length-1;s>=0&&!(i=t[s]);s--);for(s=0;s<o.length;s++){var a=o[s],A=t;if(r.matchBase&&1===a.length&&(A=[i]),this.matchOne(A,a,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},f.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,A=e.length;s<a&&o<A;s++,o++){this.debug("matchOne loop");var u,l=e[o],c=t[s];if(this.debug(e,l,c),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[e,l,c]);var h=s,f=o+1;if(f===A){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<a;){var p=t[h];if(this.debug("\nglobstar while",t,h,e,f,p),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,a,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,f),h!==a))}if("string"==typeof l?(u=n.nocase?c.toLowerCase()===l.toLowerCase():c===l,this.debug("string match",l,c,u)):(u=c.match(l),this.debug("pattern match",l,c,u)),!u)return!1}if(s===a&&o===A)return!0;if(s===a)return r;if(o===A)return s===a-1&&""===t[s];throw new Error("wtf?")}},(t,e,r)=>{var n=r(292),i=r(293);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),m(function(t){return t.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(A).split("\\.").join(u)}(t),!0).map(c)):[]};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",A="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function c(t){return t.split(s).join("\\").split(o).join("{").split(a).join("}").split(A).join(",").split(u).join(".")}function h(t){if(!t)return[""];var e=[],r=i("{","}",t);if(!r)return t.split(",");var n=r.pre,s=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var A=h(o);return o.length&&(a[a.length-1]+=A.shift(),a.push.apply(a,A)),e.push.apply(e,a),e}function f(t){return"{"+t+"}"}function p(t){return/^-?0\d/.test(t)}function d(t,e){return t<=e}function g(t,e){return t>=e}function m(t,e){var r=[],s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var o,A=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),c=A||u,v=s.body.indexOf(",")>=0;if(!c&&!v)return s.post.match(/,.*\}/)?m(t=s.pre+"{"+s.body+a+s.post):[t];if(c)o=s.body.split(/\.\./);else if(1===(o=h(s.body)).length&&1===(o=m(o[0],!1).map(f)).length)return(b=s.post.length?m(s.post,!1):[""]).map((function(t){return s.pre+o[0]+t}));var y,_=s.pre,b=s.post.length?m(s.post,!1):[""];if(c){var w=l(o[0]),B=l(o[1]),x=Math.max(o[0].length,o[1].length),E=3==o.length?Math.abs(l(o[2])):1,C=d;B<w&&(E*=-1,C=g);var T=o.some(p);y=[];for(var I=w;C(I,B);I+=E){var F;if(u)"\\"===(F=String.fromCharCode(I))&&(F="");else if(F=String(I),T){var S=x-F.length;if(S>0){var U=new Array(S+1).join("0");F=I<0?"-"+U+F.slice(1):U+F}}y.push(F)}}else y=n(o,(function(t){return m(t,!1)}));for(var M=0;M<y.length;M++)for(var O=0;O<b.length;O++){var P=_+y[M]+b[O];(!e||c||P)&&r.push(P)}return r}},t=>{t.exports=function(t,r){for(var n=[],i=0;i<t.length;i++){var s=r(t[i],i);e(s)?n.push.apply(n,s):n.push(s)}return n};var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},t=>{"use strict";function e(t,e,i){t instanceof RegExp&&(t=r(t,i)),e instanceof RegExp&&(e=r(e,i));var s=n(t,e,i);return s&&{start:s[0],end:s[1],pre:i.slice(0,s[0]),body:i.slice(s[0]+t.length,s[1]),post:i.slice(s[1]+e.length)}}function r(t,e){var r=e.match(t);return r?r[0]:null}function n(t,e,r){var n,i,s,o,a,A=r.indexOf(t),u=r.indexOf(e,A+1),l=A;if(A>=0&&u>0){if(t===e)return[A,u];for(n=[],s=r.length;l>=0&&!a;)l==A?(n.push(l),A=r.indexOf(t,l+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<s&&(s=i,o=u),u=r.indexOf(e,l+1)),l=A<u&&A>=0?A:u;n.length&&(a=[s,o])}return a}t.exports=e,e.range=n},t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}d(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&d(t,"error",e,{once:!0})}(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function A(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,s,o,u;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=A(t))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function h(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function d(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return A(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var A=s[t];if(void 0===A)return!1;if("function"==typeof A)n(A,this,e);else{var u=A.length,l=p(A,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},()=>{},t=>{"use strict";function e(t){return"/"===t.charAt(0)}function r(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||n)}t.exports="win32"===process.platform?r:e,t.exports.posix=e,t.exports.win32=r},(t,e,r)=>{t.exports=f,f.GlobSync=p;var n=r(287),i=r(290),s=(i.Minimatch,r(286).Glob,r(299),r(62)),o=r(296),a=r(297),A=r(300),u=A.setopts,l=A.ownProp,c=A.childrenIgnored,h=A.isIgnored;function f(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new p(t,e).found}function p(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof p))return new p(t,e);if(u(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}p.prototype._finish=function(){if(o(this instanceof p),this.realpath){var t=this;this.matches.forEach((function(e,r){var i=t.matches[r]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),i[n.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[t._makeAbs(s)]=!0}}))}A.finish(this)},p.prototype._process=function(t,e,r){o(this instanceof p);for(var n,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e);case 0:n=null;break;default:n=t.slice(0,s).join("/")}var A,u=t.slice(s);null===n?A=".":a(n)||a(t.join("/"))?(n&&a(n)||(n="/"+n),A=n):A=n;var l=this._makeAbs(A);c(this,A)||(u[0]===i.GLOBSTAR?this._processGlobStar(n,A,l,u,e,r):this._processReaddir(n,A,l,u,e,r))},p.prototype._processReaddir=function(t,e,r,n,i,o){var a=this._readdir(r,o);if(a){for(var A=n[0],u=!!this.minimatch.negate,l=A._glob,c=this.dot||"."===l.charAt(0),h=[],f=0;f<a.length;f++)("."!==(g=a[f]).charAt(0)||c)&&(u&&!t?!g.match(A):g.match(A))&&h.push(g);var p=h.length;if(0!==p)if(1!==n.length||this.mark||this.stat)for(n.shift(),f=0;f<p;f++){var d;g=h[f],d=t?[t,g]:[g],this._process(d.concat(n),i,o)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(f=0;f<p;f++){var g=h[f];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(i,g)}}}},p.prototype._emitMatch=function(t,e){if(!h(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},p.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=this.fs.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,n||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},p.prototype._readdir=function(t,e){if(e&&!l(this.symlinks,t))return this._readdirInGlobStar(t);if(l(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},p.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},p.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},p.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),A=t?[t]:[],u=A.concat(a);this._process(u,i,!1);var l=o.length;if(!this.symlinks[r]||!s)for(var c=0;c<l;c++)if("."!==o[c].charAt(0)||this.dot){var h=A.concat(o[c],a);this._process(h,i,!0);var f=A.concat(o[c],n);this._process(f,i,!0)}}},p.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&a(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=s.join(this.root,t):(t=s.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},p.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!r||"DIR"===n)return n;if(r&&"FILE"===n)return!1}var i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch(t){i=s}else i=s}return this.statCache[e]=i,n=!0,i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,(!r||"FILE"!==n)&&n},p.prototype._mark=function(t){return A.mark(this,t)},p.prototype._makeAbs=function(t){return A.makeAbs(this,t)}},()=>{},(t,e,r)=>{function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.setopts=function(t,e,r){if(r||(r={}),r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||i,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(l))}(t,r),t.changedCwd=!1;var o=process.cwd();n(r,"cwd")?(t.cwd=s.resolve(r.cwd),t.changedCwd=t.cwd!==o):t.cwd=o,t.root=r.root||s.resolve(t.cwd,"/"),t.root=s.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=a(t.cwd)?t.cwd:c(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new A(e,r),t.options=t.minimatch.options},e.ownProp=n,e.makeAbs=c,e.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);e?r.push.apply(r,o):o.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[n];e?r.push(a):r[a]=!0}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(u)),t.mark){for(n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),n=t.cache[e]||t.cache[c(t,e)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}t.ignore.length&&(r=r.filter((function(e){return!h(t,e)}))),t.found=r},e.mark=function(t,e){var r=c(t,e),n=t.cache[r],i=e;if(n){var s="DIR"===n||Array.isArray(n),o="/"===e.slice(-1);if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=c(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i},e.isIgnored=h,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var i=r(301),s=r(62),o=r(290),a=r(297),A=o.Minimatch;function u(t,e){return t.localeCompare(e,"en")}function l(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new A(r,{dot:!0})}return{matcher:new A(t,{dot:!0}),gmatcher:e}}function c(t,e){var r=e;return r="/"===e.charAt(0)?s.join(t.root,e):a(e)||""===e?e:t.changedCwd?s.resolve(t.cwd,e):s.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function h(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},()=>{},(t,e,r)=>{var n=r(303),i=Object.create(null),s=r(304);function o(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}t.exports=n((function(t,e){return i[t]?(i[t].push(e),null):(i[t]=[e],function(t){return s((function e(){var r=i[t],n=r.length,s=o(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,s)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){e.apply(null,s)}))):delete i[t]}}))}(t))}))},t=>{t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(t){n[t]=i[t]})),n}}},(t,e,r)=>{var n=r(303);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function s(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(s),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})}))},(t,e,r)=>{t.exports=h,h.sync=m;var n=r(306),i=r(62),s=r(307),o=r(286),a=parseInt("666",8),A={nosort:!0,silent:!0},u=0,l="win32"===process.platform;function c(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(e){t[e]=t[e]||s[e],t[e+="Sync"]=t[e]||s[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),t.disableGlob=t.disableGlob||!1,t.glob=t.glob||A}function h(t,e,r){"function"==typeof e&&(r=e,e={}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n.equal(typeof r,"function","rimraf: callback function required"),n(e,"rimraf: invalid options argument provided"),n.equal(typeof e,"object","rimraf: options should be object"),c(e);var i=0,s=null,a=0;if(e.disableGlob||!o.hasMagic(t))return A(null,[t]);function A(t,n){return t?r(t):0===(a=n.length)?r():void n.forEach((function(t){f(t,e,(function n(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&i<e.maxBusyTries)return i++,setTimeout((function(){f(t,e,n)}),100*i);if("EMFILE"===o.code&&u<e.emfileWait)return setTimeout((function(){f(t,e,n)}),u++);"ENOENT"===o.code&&(o=null)}u=0,function(t){s=s||t,0==--a&&r(s)}(o)}))}))}e.lstat(t,(function(r,n){if(!r)return A(null,[t]);o(t,e.glob,A)}))}function f(t,e,r){n(t),n(e),n("function"==typeof r),e.lstat(t,(function(n,i){return n&&"ENOENT"===n.code?r(null):(n&&"EPERM"===n.code&&l&&p(t,e,n,r),i&&i.isDirectory()?g(t,e,n,r):void e.unlink(t,(function(n){if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return l?p(t,e,n,r):g(t,e,n,r);if("EISDIR"===n.code)return g(t,e,n,r)}return r(n)})))}))}function p(t,e,r,i){n(t),n(e),n("function"==typeof i),r&&n(r instanceof Error),e.chmod(t,a,(function(n){n?i("ENOENT"===n.code?null:r):e.stat(t,(function(n,s){n?i("ENOENT"===n.code?null:r):s.isDirectory()?g(t,e,r,i):e.unlink(t,i)}))}))}function d(t,e,r){n(t),n(e),r&&n(r instanceof Error);try{e.chmodSync(t,a)}catch(t){if("ENOENT"===t.code)return;throw r}try{var i=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw r}i.isDirectory()?v(t,e,r):e.unlinkSync(t)}function g(t,e,r,s){n(t),n(e),r&&n(r instanceof Error),n("function"==typeof s),e.rmdir(t,(function(o){!o||"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code?o&&"ENOTDIR"===o.code?s(r):s(o):function(t,e,r){n(t),n(e),n("function"==typeof r),e.readdir(t,(function(n,s){if(n)return r(n);var o,a=s.length;if(0===a)return e.rmdir(t,r);s.forEach((function(n){h(i.join(t,n),e,(function(n){if(!o)return n?r(o=n):void(0==--a&&e.rmdir(t,r))}))}))}))}(t,e,s)}))}function m(t,e){var r;if(c(e=e||{}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n(e,"rimraf: missing options"),n.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!o.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(n){r=o.sync(t,e.glob)}if(r.length)for(var i=0;i<r.length;i++){t=r[i];try{var s=e.lstatSync(t)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&l&&d(t,e,r)}try{s&&s.isDirectory()?v(t,e,null):e.unlinkSync(t)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return l?d(t,e,r):v(t,e,r);if("EISDIR"!==r.code)throw r;v(t,e,r)}}}function v(t,e,r){n(t),n(e),r&&n(r instanceof Error);try{e.rmdirSync(t)}catch(s){if("ENOENT"===s.code)return;if("ENOTDIR"===s.code)throw r;"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code||function(t,e){n(t),n(e),e.readdirSync(t).forEach((function(r){m(i.join(t,r),e)}));for(var r=l?100:1,s=0;;){var o=!0;try{var a=e.rmdirSync(t,e);return o=!1,a}finally{if(++s<r&&o)continue}}}(t,e)}}},()=>{},()=>{},()=>{},()=>{},t=>{"use strict";const e={cache:{},get(t,e){return this.cache[t]&&this.cache[t].length?this.cache[t].pop():e()},put(t,e){e&&(this.cache[t]||(this.cache[t]=[]),this.cache[t].push(e))},resetNode:t=>(t.removeAllChildren&&t.removeAllChildren(),t),toString(){let t="Pool: ";for(let e in this.cache){const r=this.cache[e];t+=`${e}-length:${r?r.length:0}  `}return t}};t.exports=e},(t,e,r)=>{"use strict";const{awaitMap:n}=r(235),i=r(312),s=(r(317),r(338)),{Sprite:o,Texture:a,Container:A,WebGLRenderer:u,CanvasRenderer:l,createCanvas:c}=(r(235),r(14));t.exports=class extends i{get audio(){return!this.conf.mute}set audio(t){this.conf.mute=!t,this.mute(!t)}mute(t){this.allNodes.map((e=>e.mute&&e.mute(t)))}resetMute(){this.mute(!this.audio)}createDisplay(){this.display=new A,this.display.sortableChildren=!0}updateDisplay(){this.display.sortDirty=!0}addDisplayChild(t){t.locked||t.parent===this.display&&this.display.children.includes(t)||this.display.addChild(t)}get previewRenderer(){if(this.pvRenderer)return this.pvRenderer;const t=this.rootConf("width"),e=this.rootConf("height");return this.rootConf("useGL")?this.pvRenderer=new u({width:t,height:e}):this.pvRenderer=new l({width:t,height:e}),this.pvRenderer}async getDisplay(t,e){const r=await this.getPreview(t,{...e,format:"canvas"});if(!r)throw new Error("null");return new o(a.fromCanvas(r))}async getPreview(t,{width:e,height:r,format:n="jpeg"}={}){const[i,u]=[this.rootConf("width"),this.rootConf("height")],l=new A;if(l.sortableChildren=!0,this.bgColor)try{const t=c(i,u);s.fillRect({canvas:t,color:this.bgColor});const e=new o(a.fromCanvas(t));l.addChildAt(e,0)}catch(t){return null}const h=[],f=async(e,r,n=null)=>{let i=r,s=null;if(e&&e.onTime(t,!1,"show"))if("filter"===e.type){const n=e.addFilterTo(r);n.enabled=!0,n.setTime(t-e.absStartTime,e.duration),s=n}else if(e.getDisplay){i=await e.getDisplay(t,{timing:"abs"}),i.zIndex=e.zIndex,e.display.chroma&&(i.chroma=e.display.chroma);const{matrix:s,alpha:o}=e.display.colorMatrix;if(s&&o&&i.setColorMatrix(s,o),l.addChild(i),e.conf.asMask){const t=i;n||(n=r),n.mask=t,t.renderable=!1,t.isMask=!0,t.binaryMask=!!e.conf.binaryMask,t.reverseMask=!!e.conf.reverseMask,i=null}"cover"===e.type&&h.push(i)}if(i&&"scene"!==e.type&&e.children)for(const t of e.children)await f(t,i,s)};try{for(const t of this.children)await f(t,l);h.sort(((t,e)=>t.zIndex-e.zIndex)).map((t=>{for(const e of[...l.children])e===t||e.zIndex>t.zIndex||e.isMask||e.parent!==t&&t.addChild(e)}))}catch(t){return console.error(t),null}l?.texture?.baseTexture&&l.texture.baseTexture.update(),this.previewRenderer.render(l),l.destroy(!0);const p={x:0,y:0,w:i,h:u};return this.subImage(this.previewRenderer.view,p,{width:e,height:r,format:n})}destroy(){this.pvRenderer&&this.pvRenderer.destroy(!0,!0),this.pvRenderer=null,super.destroy()}}},(t,e,r)=>{const n=r(313),{DisplayObject:i,createCanvas:s}=r(14),{dmap:o}=r(235);t.exports=class extends n{constructor(t={}){super({type:"clip",...t}),this.canvasWidth=t.canvasWidth,this.canvasHeight=t.canvasHeight,this.visible=!1,this.zIndex=0,this.children=[],this.active=void 0===t.active||!!t.active,this.onTime=()=>!1,this.createDisplay()}get muted(){for(const t of this.parents)if(t.conf.mute)return!0;return!1}toJson(t=!1){const e={...this.conf};for(const t of Object.keys(e))t.startsWith("cached")&&e[t].startsWith("blob:")&&delete e[t];delete e.srcFile,delete e.canvasHeight,delete e.canvasWidth,delete e.innerHTML,e.children=this.children.map((e=>e.toJson(t)));const r=t=>{if(t)for(const[e,n]of Object.entries(t))"innerHTML"===e?delete t[e]:n&&"object"==typeof n&&r(n)};return r(e),e}createDisplay(){this.display=new i}addChild(t,e=null){return Array.isArray(t)?(t.map((t=>this.addChild(t,e))),this):(this.hasChild(t)||(t.parent=this,e&&this.hasChild(e)?this.children.splice(this.children.findIndex((t=>t.id==e.id)),0,t):this.children.push(t)),this)}remove(){return this.parent&&this.parent.removeChild(this),this}hasChild(t){return!!this.children.find((e=>e.id==t.id))}removeChild(t){return this.hasChild(t)?(this.children=this.children.filter((e=>e.id!==t.id)),t.parent=null,this):this}addDisplayChild(t){this.parent.addDisplayChild(t)}removeDisplayChild(t){t.parent&&(t.parent.removeChild(t),t.locked=!1)}setMask(t){this.display.mask!==t&&(this.display.mask=t)}removeMask(){this.display.mask=null}disable(){this.active=this.conf.active=!1,this.parent&&(this.hide(),this.removeTimelineCallback())}enable(){this.active=this.conf.active=!0,this.parent&&(this.touch(),this.addTimelineCallback())}touch(){this.onTime(this.creator().currentTime/1e3)}addTimelineCallback(){this.active&&this.addFrameCallback()}removeTimelineCallback(){this.removeFrameCallback()}async drawing(t=0,e=0){return!!this.onTime(.001*t)&&(0===e&&this.animations&&this.animations.start(),!0)}preProcessing(){return new Promise((t=>t()))}prepareMaterial(){return new Promise((t=>t()))}show(){this.visible=!0,this.display&&(this.display.zIndex=this.zIndex,this.parent.addDisplayChild(this.display),this.conf.asMask&&(this.display.binaryMask=!!this.conf.binaryMask,this.display.reverseMask=!!this.conf.reverseMask,this.parent.setMask(this.display)))}hide(){this.visible=!1,this.display&&(this.parent.removeDisplayChild(this.display),this.conf.asMask&&this.parent.removeMask())}annotate(){let[t,e]=[this.absStartTime,this.absEndTime],[r,n]=[t,e];if("trans"===this.prevSibling?.type){const e=.5*this.prevSibling.duration;r+=e,t-=e}if("trans"===this.nextSibling?.type){const t=.5*this.nextSibling.duration;n-=t,e+=t}this.absShowStartTime=r,this.absShowEndTime=n,this.addTimelineCallback(),this.onTime=(i,s=!0,o="draw")=>{const a=i>=r&&i<n&&this.active,A=i>=t&&i<e&&this.active;return s&&(a?this.show():this.hide()),"draw"===o?A:a}}get basezIndex(){return 1e3*Math.min(Number(this.conf.zIndex),999)||this.parent?.basezIndex||0}get allNodes(){let t=this.children;return this.children.map((e=>{t=t.concat(e.allNodes)})),t}get absStartTime(){return this.rt(Math.max(0,this.parent?.absStartTime+this.startTime))}get absEndTime(){return this.rt(this.parent?.absStartTime+this.endTime)}get realAbsEndTime(){return this.rt(this.parent?.absStartTime+this.realEndTime)}get default(){return{startTime:this.prevSibling?.endTime||0,endTime:"100%"}}get startTime(){const t=this.time(this.conf.start);return this.rt(isNaN(t)?this.time(this.default.startTime):t)}get duration(){return this.rt(this.endTime-this.startTime)}get endTime(){const t=this.realEndTime;return"scene"!==this.parent?.type?this.rt(t):this.rt(Math.min(this.parent.duration,t))}get realEndTime(){const t=this.time(this.conf.end);if(!isNaN(t))return t;let e=this.time(this.conf.duration);if(e=isNaN(e)?this.time(this.default.duration):e,!isNaN(e))return this.startTime+e;const r=this.time(this.default.endTime);return r>this.startTime?r:this.startTime+3}get fps(){return this._fps||(this._fps=this.rootConf("fps")),this._fps}rt(t){return Math.round(1e3*t)/1e3}time(t){const e=this.parent?this.parent.duration:NaN;if("string"==typeof t&&t.endsWith("%")&&!isNaN(t.replace("%","")))return e*Number(t.replace("%",""))*.01;if("string"==typeof t){if((t=t.replaceAll(" ","")).includes("%+")&&2===t.split("%+").length){const[r,n]=t.split("%+");return.01*Number(r)*e+Number(n)}if(t.includes("%-")&&2===t.split("%-").length){const[r,n]=t.split("%-");return.01*Number(r)*e-Number(n)}}return Number(t)}px(t){const e=Number(t);if(!isNaN(e))return e;if("object"==typeof t)return o(t,(t=>this.px(t)));const[r,n]=this.deunit(t);return r}vu(t,e){let[r,n]=this.deunit(void 0===e?t:e),i=this.px(t);return n||(n="rpx"),this.enunit(i,n)}setConfRpx(t,e){this.conf[t]=this.vu(e,this.conf[t])}units(){const t=this.creator();return t&&(this.canvasWidth=t.width,this.canvasHeight=t.height),[["rpx",this.canvasWidth,360],["px",360,360],["vw",this.canvasWidth,100],["vh",this.canvasHeight,100]]}enunit(t,e){const r=this.units().filter((t=>t[0]===e))[0];if(!r)return t;let n=(t*(r[2]/r[1])).toFixed(3);return Math.abs(n-Math.round(n))<.001&&(n=Math.round(n)),`${n}${e}`}deunit(t){if("number"==typeof t||!t)return[t,null];const e=t.toString().toLowerCase().trim(),r=(t,e,r,n)=>{if(!t.endsWith(e))return null;const i=Number(t.substring(0,t.length-e.length));return isNaN(i)?null:i*(r/n)};for(const t of this.units()){const n=r(e,t[0],t[1],t[2]);if(null!==n)return[n,t[0]]}return[t,null]}subImage(t,e,{width:r,height:n,format:i="jpeg",fit:o="cover"}={}){r||n?r?n||(n=e.h/e.w*r):r=e.w/e.h*n:(r=e.w,n=e.h);const a=s(r,n),A=a.getContext("2d"),u=Math["cover"===o?"max":"min"](r/e.w,n/e.h),[l,c]=[e.w*u,e.h*u];return A.drawImage(t,e.x,e.y,e.w,e.h,(r-l)/2,(n-c)/2,l,c),"canvas"===i?a:a.toDataURL(`image/${i}`)}get mask(){return this.allNodes.find((t=>t.conf.asMask))}get controls(){return this.conf.controls}destroy(){this.destroyed||(this.destroyed=!0,this.removeTimelineCallback(),this.children.map((t=>t.destroy())),this.children=null,this.display&&this.display.destroy(!0),this.display=null,this.parent=null,this.prevSibling=null,this.nextSibling=null,super.destroy())}}},(t,e,r)=>{"use strict";const n=r(234),i=r(235),s=r(314);t.exports=class extends s{constructor(t){super(),this.conf={type:"base",...t},this.parent=null,this.retry=3,this.genId(),this.conf.parent&&"function"==typeof this.conf.parent.addChild&&(this.conf.parent.addChild(this),delete this.conf.parent)}get changed(){return`${Date.now()}`}set changed(t){}get groupId(){return this.conf.groupId}set groupId(t){return this.conf.groupId=t}get type(){return this.conf.type}set type(t){return this.conf.type=t}get name(){return this.conf.name}set name(t){return this.conf.name=t}get parents(){return this.parent&&this.parent.parents?[...this.parent.parents,this.parent]:[]}getParam(t){if(!t||"string"!=typeof t)return;if(!t.includes("."))return this[t];let e=this;for(const r of t.split(".")){if("object"!=typeof e)return;e=e[r]}return e}setParam(t,e){if(!t||"string"!=typeof t)throw new Error(`Invalid key: ${t}`);let r=this.conf;if(!t.includes("."))return r[t]=e;let n=t.split(".");for(let t=0;t<n.length;t++){const i=n[t];if(t===n.length-1)return r[i]=e;"object"!=typeof r[i]&&(r[i]=isNaN(n[t+1])?{}:[]),r=r[i]}}vu(t,e){return t}refresh(){}genId(){const{type:t,id:e}=this.conf;this.id=i.genId(e||t)}root(){return this.parent&&this.parent.root?this.parent.root():this}rootConf(t,e){let r=n.getFakeConf();const i=this.root();return i&&"creator"===i.type&&i._conf&&(r=i._conf),t?(void 0!==e&&r.setVal(t,e),r.getVal(t)):r}addFrameCallback(){this.creator()?.addFrameCallback(this)}removeFrameCallback(){this.creator()?.removeFrameCallback(this)}creator(){if(!this._creator){const t=this.root();"creator"===t.type&&(this._creator=t)}return this._creator}destroy(){super.destroy(),this.conf=null,this.parent=null,this._creator=null}}},(t,e,r)=>{"use strict";const n=r(315),i=r(316),s=r(235);t.exports=class extends i{constructor(){super()}emitProgress(t){this.progressEvent||(this.progressEvent=new n),this.progressEvent.init(t),this.emit("progress",this.progressEvent)}emitError({pos:t,error:e}){const r=new n;r.pos=t,r.error=s.getErrStack(e),this.emit("error",r)}emit(t,e={}){if("object"==typeof t){const r=new n(t);t=r.type,e=r}else e.type=t;e.target=this,super.emit(t,e),super.emit("*-*",e)}bubble(t){t.on("*-*",(t=>this.emit(t.type,t)))}destroy(){this.removeAllListeners()}}},t=>{"use strict";t.exports=class{constructor(t){this.init(t)}init(t={}){t.type=t.type||"normal",Object.assign(this,t)}}},t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),A=r?r+e:e;return t._events[A]?t._events[A].fn?t._events[A]=[t._events[A],a]:t._events[A].push(a):(t._events[A]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var A,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(u=1,A=new Array(c-1);u<c;u++)A[u-1]=arguments[u];l.fn.apply(l.context,A)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!A)for(h=1,A=new Array(c-1);h<c;h++)A[h-1]=arguments[h];l[u].fn.apply(l[u].context,A)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var A=0,u=[],l=a.length;A<l;A++)(a[A].fn!==e||i&&!a[A].once||n&&a[A].context!==n)&&u.push(a[A]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},(t,e,r)=>{"use strict";const n=r(312),i=r(318),{isBrowser:s}=r(13),o=r(332),{nodeRequire:a}=r(235),A=a("ffmpeg-probe");let u;s&&(u=r(337).PitchShifter),t.exports=class extends n{constructor(t){t="string"==typeof t?{path:t}:t,super({type:"audio",audio:!0,...t}),!1===this.conf.active&&(this.audio=!1),this.active=this.audio}createDisplay(){this.display=null}get default(){const t=super.default;return{startTime:t.startTime,endTime:this.loop?t.endTime:void 0,duration:this.loop?void 0:this.material?.getDuration()}}annotate(){super.annotate(),this.material&&(this.material.duration=this.duration)}updateMaterialTime(){this.material.parseTimeConf(this.conf)}disable(){this.audio=!1}enable(){this.audio=!0}mute(t){this.muted=t}resetMute(){this.muted=!1}set audio(t){this.conf.audio=!!t,this.conf.audio?super.enable():super.disable(),this.conf.audio||this.pause()}get audio(){return!!this.conf.audio&&!this.muted}get loop(){return!!this.conf.loop}set loop(t){this.conf.loop=!!t}get pitch(){return Number(this.conf.pitch)||1}set pitch(t){this.conf.pitch=Number(t)||1}get speed(){return this.material.speed}set speed(t){this.conf.speed=t,this.material.setSpeed(t)}get volume(){return isNaN(this.conf.volume)?1:Math.max(Number(this.conf.volume),0)}set volume(t){this.conf.volume=t}get fadeIn(){return isNaN(this.conf.fadeIn)?0:Number(this.conf.fadeIn)}set fadeIn(t){this.conf.fadeIn=t}get fadeOut(){return isNaN(this.conf.fadeOut)?0:Number(this.conf.fadeOut)}set fadeOut(t){this.conf.fadeOut=t}async preProcessing(t){if(this.material&&this.material.destroy(),this.material=new i(this.conf),this.material.duration=this.duration,s)this.buffer=await o.getBuffer(this.material.path,this.creator().uuid,.2,t),this.material.length=this.buffer.duration;else{const t=await A(this.material.path);this.material.length=t.duration/1e3}}pause(){s&&this.playing&&(this.fading=!1,this.playing=!1,this.sourceNode.disconnect())}async play(t){s&&!this.playing&&(this.sourceNode.percentagePlayed=this.material.seekTime(t)/this.material.length,this.sourceNode.tempo=this.speed,this.sourceNode.pitch=this.pitch,this.sourceNode.connect(this.gainNode),await this.ctx.resume(),this.playing=!0)}initAudioCtx(){this.ctx||(this.ctx=new AudioContext),this.gainNode||(this.gainNode=this.ctx.createGain(),this.gainNode.connect(this.ctx.destination)),this.sourceNode||(this.sourceNode=new u(this.ctx,this.buffer,1024))}async destroyAudioCtx(){this.ctx&&(await this.ctx.close(),this.ctx=null,this.gainNode=null,this.sourceNode=null)}async drawing(t=0,e=0){if(!s)return!1;if(!await super.drawing(t,e)||!this.audio)return this.pause(),await this.destroyAudioCtx(),!1;this.initAudioCtx();const r=t/1e3-this.parent.startTime;if(this.currentTime=r-this.startTime,e)if(this.currentTime<this.fadeIn){const e=this.volume*(this.currentTime/this.fadeIn);this.fade(e,this.volume,this.fadeIn-this.currentTime,t)}else if(this.endTime>r&&this.endTime-r<this.fadeOut){const e=this.endTime-r,n=this.volume*(e/this.fadeOut);this.fade(n,0,e,t)}else this.gainNode.gain.value=this.volume;const n=this.material.getDuration();let i=0;for(;this.loop&&this.currentTime>=n;)this.currentTime=Math.max(0,this.currentTime-n),i++;return i>0&&this.loops!=i?(this.loops=i,this.pause()):e?void this.play(this.currentTime):this.pause()}fade(t,e,r,n){this.fading>n||(this.gainNode.gain.value=t,this.gainNode.gain.linearRampToValueAtTime(e,this.ctx.currentTime+r),this.fading=n+1e3*r>>0)}addInput(t){t.addInput(this.material.path);let e=["-vn"];const r=this.material.getSliceOpts(!this.loop);r&&(e=e.concat(r)),t.addInputOptions(e)}toFilterCommand({input:t,output:e}){const r=this.toLoopFilter();return`[${t}]aformat=sample_rates=44100,${this.toDelayFilter()}${r}${this.toSpeedFilter()}${this.toVolumeFilter()}${this.toFadeInFilter()}${this.toFadeOutFilter()}[${e}]`}toLoopFilter(){let{pitch:t=1,loop:e}=this;return`,asetrate=${44100*t},aresample=44100,aloop=${e?"-1":"0"}:size=${44100*(this.material.getEndOffset(!0)-this.material.getStartOffset())}`}toDelayFilter(){let{speed:t=1,pitch:e=1}=this;t/=e;const r=this.absStartTime*t*1e3>>0;return`adelay=${r}|${r}`}toSpeedFilter(){let{speed:t=1,pitch:e=1}=this;return t/=e,1===t?"":`,atempo=${t}`}toVolumeFilter(){let{volume:t=-1}=this;return-1===t?"":(this.audio||(t=0),`,volume=${t}`)}toFadeInFilter(){const{fadeIn:t=-1,absStartTime:e=0}=this;return t<=0?"":`,afade=t=in:st=${e}:d=${t}`}toFadeOutFilter(){const{fadeOut:t=-1}=this;return t<=0?"":`,afade=t=out:st=${Math.max(0,this.absEndTime-t)}:d=${t}`}destroy(){super.destroy(),this.material?.destroy(),this.buffer=null,this.destroyAudioCtx()}}},(t,e,r)=>{"use strict";const n=r(319),i=r(62),s=r(331),{genUuid:o}=r(235),{Rectangle:a}=r(14),{nodeRequire:A}=r(235),u=A("../utils/fs");t.exports=class{constructor(t){this.creator=null,this.info={},this.path="",this.forceTrim=!1,this.start=-1,this.end=-1,this.length=NaN,this.fps=30,this.duration=NaN,this.setSpeed(Number(t.speed)||1),this.parseConf(t)}static playing(t){return!!(t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2)}setSpeed(t){this.speed=Math.round(100*t)/100}seekTime(t,e={}){const r=t*this.speed+this.getStartOffset(),n=this.forceTrim?this.getStartOffset():.01,i=this.forceTrim?this.getEndOffset():this.length;return(r<n||r>i)&&(e.overflow=!0),Math.min(i,Math.max(n,r))}parseConf(t){this.conf=t,this.type=t.type,this.path=t.cachedSrc||t.src||t.path||t.image||t.url,this.parseTimeConf(t)}parseTimeConf(t){this.start=this.parseTimeNumber(t.ss),this.end=this.parseTimeNumber(t.to)}parseTimeNumber(t){return"string"==typeof t&&t.includes(":")?s.hmsToSeconds(t):(t=Number(t),isNaN(t)?-1:t)}getStartOffset(){return-1==this.start?0:this.start}getEndOffset(t=!1){const e=[],r=this.getStartOffset()+this.duration*this.speed;return t&&!isNaN(r)&&e.push(r),isNaN(this.length)||e.push(this.length),-1!==this.end&&e.push(this.end),e.length>0?n(e):NaN}getStartHms(){return s.secondsToHms(this.getStartOffset())}getEndHms(){return s.secondsToHms(this.getEndOffset(!0))}getSliceOpts(t=!0){let e=[];return this.getStartOffset()>0&&(e=e.concat(["-ss",this.getStartHms()])),this.getEndOffset(!0)<this.length&&t&&(e=e.concat(["-to",this.getEndHms()])),e}getOutputPath(t,e){return u.ensureDir(t),i.join(t,e)}getDuration(t=!1){return Math.max(0,this.getSourceDuration(t)/this.speed)}getSourceDuration(t){return this.getEndOffset(t)-this.getStartOffset()}toString(){return`${this.type}:${this.path}-length:${this.length}`}destroy(){this.creator=null,this.info=null,this.path="",this.length=0}}},(t,e,r)=>{var n=r(320),i=r(329),s=r(330);t.exports=function(t){return t&&t.length?n(t,s,i):void 0}},(t,e,r)=>{var n=r(321);t.exports=function(t,e,r){for(var i=-1,s=t.length;++i<s;){var o=t[i],a=e(o);if(null!=a&&(void 0===A?a==a&&!n(a):r(a,A)))var A=a,u=o}return u}},(t,e,r)=>{var n=r(322),i=r(328);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},(t,e,r)=>{var n=r(323),i=r(326),s=r(327),o=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):s(t)}},(t,e,r)=>{var n=r(324).Symbol;t.exports=n},(t,e,r)=>{var n=r(325),i="object"==typeof self&&self&&self.Object===Object&&self,s=n||i||Function("return this")();t.exports=s},(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},(t,e,r)=>{var n=r(323),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=o.call(t);return n&&(e?t[a]=r:delete t[a]),i}},t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},t=>{t.exports=function(t,e){return t<e}},t=>{t.exports=function(t){return t}},t=>{"use strict";const e={secondsToHms(t){if("string"==typeof t)return t;let e=Math.floor(t/3600),r=Math.floor((t-3600*e)/60),n=(t-3600*e-60*r).toFixed(3);return e<10&&(e="0"+e),r<10&&(r="0"+r),n<10&&(n="0"+n),e+":"+r+":"+n},hmsToSeconds(t){if("number"==typeof t)return t;const e=t.split(":");return 2===e.length&&e.unshift(0),60*+e[0]*60+60*+e[1]+ +e[2]},toMilliseconds:t=>0===t?0:1e3*t,toSeconds:t=>0===t?0:t>100?t/1e3:t};t.exports=e},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),{getRemote:i}=r(333),{nodeRequire:s}=r(235);let o;n&&(o=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext);const a={getBuffer:async(t,e,r=0,s)=>{const a=new o;let A;if(n){const r=await i(t,e,(t=>{const{total:e,loaded:r}=t;e&&s&&s(r/e)}));A=await r.data.arrayBuffer()}else A=fs.readFileSync(t);return new Promise((t=>{a.decodeAudioData(A,(e=>{if(r>0){const t=Math.round(r*e.sampleRate),i=e.numberOfChannels,s=a.createBuffer(i,e.length+t,e.sampleRate),o=new Float32Array(t);for(var n=0;n<i;n++){const t=s.getChannelData(n);t.set(e.getChannelData(n),0),t.set(o,e.length)}e=s}t(e)}))}))}};t.exports=a},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),{nodeRequire:i,genUuid:s}=r(235),o=i("./node-fetch"),a=r(334),A={},u={};r.g&&(r.g.MIRAP_XHRS=u,r.g.MIRAP_RESP_CACHE=A);const l={async cancel(t){for(const[e,r]of Object.entries(u))t===r._cid&&r.abort();for(const[e,r]of Object.entries(A))t===(await r).cid&&delete A[e]},async getRemote(t,e,r=null){const i=a(t);return A[i]||(A[i]=new Promise((function(i){if(n){const n=s(),o=new XMLHttpRequest;o.addEventListener("load",(()=>{delete u[n];const t=o.getResponseHeader("Content-Type");i({data:o.response,type:t,cid:e})})),o.addEventListener("error",(r=>{delete u[n],i({url:t,cid:e})})),o.addEventListener("abort",(r=>{delete u[n],i({url:t,cid:e})})),o.addEventListener("progress",(t=>{r&&r(t)})),o.open("get",t),o.responseType="blob",o._cid=e,o.send(),u[n]=o}else o(t).then((t=>{const e=t.headers.get("content-type");i({data:t,type:e})}))}))),A[i]}};t.exports=l},(t,e,r)=>{var n,i,s,o,a;n=r(335),i=r(336).utf8,s=r(240),o=r(336).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?o.stringToBytes(t):i.stringToBytes(t):s(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=n.bytesToWords(t),A=8*t.length,u=1732584193,l=-271733879,c=-1732584194,h=271733878,f=0;f<r.length;f++)r[f]=16711935&(r[f]<<8|r[f]>>>24)|4278255360&(r[f]<<24|r[f]>>>8);r[A>>>5]|=128<<A%32,r[14+(A+64>>>9<<4)]=A;var p=a._ff,d=a._gg,g=a._hh,m=a._ii;for(f=0;f<r.length;f+=16){var v=u,y=l,_=c,b=h;u=p(u,l,c,h,r[f+0],7,-680876936),h=p(h,u,l,c,r[f+1],12,-389564586),c=p(c,h,u,l,r[f+2],17,606105819),l=p(l,c,h,u,r[f+3],22,-1044525330),u=p(u,l,c,h,r[f+4],7,-176418897),h=p(h,u,l,c,r[f+5],12,1200080426),c=p(c,h,u,l,r[f+6],17,-1473231341),l=p(l,c,h,u,r[f+7],22,-45705983),u=p(u,l,c,h,r[f+8],7,1770035416),h=p(h,u,l,c,r[f+9],12,-1958414417),c=p(c,h,u,l,r[f+10],17,-42063),l=p(l,c,h,u,r[f+11],22,-1990404162),u=p(u,l,c,h,r[f+12],7,1804603682),h=p(h,u,l,c,r[f+13],12,-40341101),c=p(c,h,u,l,r[f+14],17,-1502002290),u=d(u,l=p(l,c,h,u,r[f+15],22,1236535329),c,h,r[f+1],5,-165796510),h=d(h,u,l,c,r[f+6],9,-1069501632),c=d(c,h,u,l,r[f+11],14,643717713),l=d(l,c,h,u,r[f+0],20,-373897302),u=d(u,l,c,h,r[f+5],5,-701558691),h=d(h,u,l,c,r[f+10],9,38016083),c=d(c,h,u,l,r[f+15],14,-660478335),l=d(l,c,h,u,r[f+4],20,-405537848),u=d(u,l,c,h,r[f+9],5,568446438),h=d(h,u,l,c,r[f+14],9,-1019803690),c=d(c,h,u,l,r[f+3],14,-187363961),l=d(l,c,h,u,r[f+8],20,1163531501),u=d(u,l,c,h,r[f+13],5,-1444681467),h=d(h,u,l,c,r[f+2],9,-51403784),c=d(c,h,u,l,r[f+7],14,1735328473),u=g(u,l=d(l,c,h,u,r[f+12],20,-1926607734),c,h,r[f+5],4,-378558),h=g(h,u,l,c,r[f+8],11,-2022574463),c=g(c,h,u,l,r[f+11],16,1839030562),l=g(l,c,h,u,r[f+14],23,-35309556),u=g(u,l,c,h,r[f+1],4,-1530992060),h=g(h,u,l,c,r[f+4],11,1272893353),c=g(c,h,u,l,r[f+7],16,-155497632),l=g(l,c,h,u,r[f+10],23,-1094730640),u=g(u,l,c,h,r[f+13],4,681279174),h=g(h,u,l,c,r[f+0],11,-358537222),c=g(c,h,u,l,r[f+3],16,-722521979),l=g(l,c,h,u,r[f+6],23,76029189),u=g(u,l,c,h,r[f+9],4,-640364487),h=g(h,u,l,c,r[f+12],11,-421815835),c=g(c,h,u,l,r[f+15],16,530742520),u=m(u,l=g(l,c,h,u,r[f+2],23,-995338651),c,h,r[f+0],6,-198630844),h=m(h,u,l,c,r[f+7],10,1126891415),c=m(c,h,u,l,r[f+14],15,-1416354905),l=m(l,c,h,u,r[f+5],21,-57434055),u=m(u,l,c,h,r[f+12],6,1700485571),h=m(h,u,l,c,r[f+3],10,-1894986606),c=m(c,h,u,l,r[f+10],15,-1051523),l=m(l,c,h,u,r[f+1],21,-2054922799),u=m(u,l,c,h,r[f+8],6,1873313359),h=m(h,u,l,c,r[f+15],10,-30611744),c=m(c,h,u,l,r[f+6],15,-1560198380),l=m(l,c,h,u,r[f+13],21,1309151649),u=m(u,l,c,h,r[f+4],6,-145523070),h=m(h,u,l,c,r[f+11],10,-1120210379),c=m(c,h,u,l,r[f+2],15,718787259),l=m(l,c,h,u,r[f+9],21,-343485551),u=u+v>>>0,l=l+y>>>0,c=c+_>>>0,h=h+b>>>0}return n.endian([u,l,c,h])})._ff=function(t,e,r,n,i,s,o){var a=t+(e&r|~e&n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._gg=function(t,e,r,n,i,s,o){var a=t+(e&n|r&~n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._hh=function(t,e,r,n,i,s,o){var a=t+(e^r^n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._ii=function(t,e,r,n,i,s,o){var a=t+(r^(e|~n))+(i>>>0)+o;return(a<<s|a>>>32-s)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(a(t,e));return e&&e.asBytes?r:e&&e.asString?o.bytesToString(r):n.bytesToHex(r)}},t=>{var e,r;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],s=0;s<4;s++)8*n+6*s<=8*t.length?r.push(e.charAt(i>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}},t.exports=r},t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},(t,e,r)=>{"use strict";r.r(e),r.d(e,{AbstractFifoSamplePipe:()=>i,PitchShifter:()=>g,RateTransposer:()=>s,SimpleFilter:()=>a,SoundTouch:()=>c,Stretch:()=>u,WebAudioBufferSource:()=>h,getWebAudioNode:()=>f});class n{constructor(){this._vector=new Float32Array,this._position=0,this._frameCount=0}get vector(){return this._vector}get position(){return this._position}get startIndex(){return 2*this._position}get frameCount(){return this._frameCount}get endIndex(){return 2*(this._position+this._frameCount)}clear(){this.receive(this._frameCount),this.rewind()}put(t){this._frameCount+=t}putSamples(t,e,r=0){const n=2*(e=e||0);r>=0||(r=(t.length-n)/2);const i=2*r;this.ensureCapacity(r+this._frameCount);const s=this.endIndex;this.vector.set(t.subarray(n,n+i),s),this._frameCount+=r}putBuffer(t,e,r=0){e=e||0,r>=0||(r=t.frameCount-e),this.putSamples(t.vector,t.position+e,r)}receive(t){t>=0&&!(t>this._frameCount)||(t=this.frameCount),this._frameCount-=t,this._position+=t}receiveSamples(t,e=0){const r=2*e,n=this.startIndex;t.set(this._vector.subarray(n,n+r)),this.receive(e)}extract(t,e=0,r=0){const n=this.startIndex+2*e,i=2*r;t.set(this._vector.subarray(n,n+i))}ensureCapacity(t=0){const e=parseInt(2*t);if(this._vector.length<e){const t=new Float32Array(e);t.set(this._vector.subarray(this.startIndex,this.endIndex)),this._vector=t,this._position=0}else this.rewind()}ensureAdditionalCapacity(t=0){this.ensureCapacity(this._frameCount+t)}rewind(){this._position>0&&(this._vector.set(this._vector.subarray(this.startIndex,this.endIndex)),this._position=0)}}class i{constructor(t){t?(this._inputBuffer=new n,this._outputBuffer=new n):this._inputBuffer=this._outputBuffer=null}get inputBuffer(){return this._inputBuffer}set inputBuffer(t){this._inputBuffer=t}get outputBuffer(){return this._outputBuffer}set outputBuffer(t){this._outputBuffer=t}clear(){this._inputBuffer.clear(),this._outputBuffer.clear()}}class s extends i{constructor(t){super(t),this.reset(),this._rate=1}set rate(t){this._rate=t}reset(){this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0}clone(){const t=new s;return t.rate=this._rate,t}process(){const t=this._inputBuffer.frameCount;this._outputBuffer.ensureAdditionalCapacity(t/this._rate+1);const e=this.transpose(t);this._inputBuffer.receive(),this._outputBuffer.put(e)}transpose(t=0){if(0===t)return 0;const e=this._inputBuffer.vector,r=this._inputBuffer.startIndex,n=this._outputBuffer.vector,i=this._outputBuffer.endIndex;let s=0,o=0;for(;this.slopeCount<1;)n[i+2*o]=(1-this.slopeCount)*this.prevSampleL+this.slopeCount*e[r],n[i+2*o+1]=(1-this.slopeCount)*this.prevSampleR+this.slopeCount*e[r+1],o+=1,this.slopeCount+=this._rate;if(this.slopeCount-=1,1!==t)t:for(;;){for(;this.slopeCount>1;)if(this.slopeCount-=1,s+=1,s>=t-1)break t;const a=r+2*s;n[i+2*o]=(1-this.slopeCount)*e[a]+this.slopeCount*e[a+2],n[i+2*o+1]=(1-this.slopeCount)*e[a+1]+this.slopeCount*e[a+3],o+=1,this.slopeCount+=this._rate}return this.prevSampleL=e[r+2*t-2],this.prevSampleR=e[r+2*t-1],o}}const o=function(){};class a extends class{constructor(t){this._pipe=t}get pipe(){return this._pipe}get inputBuffer(){return this._pipe.inputBuffer}get outputBuffer(){return this._pipe.outputBuffer}fillInputBuffer(){throw new Error("fillInputBuffer() not overridden")}fillOutputBuffer(t=0){for(;this.outputBuffer.frameCount<t;){const t=16384-this.inputBuffer.frameCount;if(this.fillInputBuffer(t),this.inputBuffer.frameCount<16384)break;this._pipe.process()}}clear(){this._pipe.clear()}}{constructor(t,e,r=o){super(e),this.callback=r,this.sourceSound=t,this.historyBufferSize=22050,this._sourcePosition=0,this.outputBufferPosition=0,this._position=0}get position(){return this._position}set position(t){if(t>this._position)throw new RangeError("New position may not be greater than current position");const e=this.outputBufferPosition-(this._position-t);if(e<0)throw new RangeError("New position falls outside of history buffer");this.outputBufferPosition=e,this._position=t}get sourcePosition(){return this._sourcePosition}set sourcePosition(t){this.clear(),this._sourcePosition=t}onEnd(){this.callback()}fillInputBuffer(t=0){const e=new Float32Array(2*t),r=this.sourceSound.extract(e,t,this._sourcePosition);this._sourcePosition+=r,this.inputBuffer.putSamples(e,0,r)}extract(t,e=0){this.fillOutputBuffer(this.outputBufferPosition+e);const r=Math.min(e,this.outputBuffer.frameCount-this.outputBufferPosition);this.outputBuffer.extract(t,this.outputBufferPosition,r);const n=this.outputBufferPosition+r;return this.outputBufferPosition=Math.min(this.historyBufferSize,n),this.outputBuffer.receive(Math.max(n-this.historyBufferSize,0)),this._position+=r,r}handleSampleData(t){this.extract(t.data,4096)}clear(){super.clear(),this.outputBufferPosition=0}}const A=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];class u extends i{constructor(t){super(t),this._quickSeek=!0,this.midBufferDirty=!1,this.midBuffer=null,this.overlapLength=0,this.autoSeqSetting=!0,this.autoSeekSetting=!0,this._tempo=1,this.setParameters(44100,0,0,8)}clear(){super.clear(),this.clearMidBuffer()}clearMidBuffer(){this.midBufferDirty&&(this.midBufferDirty=!1,this.midBuffer=null)}setParameters(t,e,r,n){t>0&&(this.sampleRate=t),n>0&&(this.overlapMs=n),e>0?(this.sequenceMs=e,this.autoSeqSetting=!1):this.autoSeqSetting=!0,r>0?(this.seekWindowMs=r,this.autoSeekSetting=!1):this.autoSeekSetting=!0,this.calculateSequenceParameters(),this.calculateOverlapLength(this.overlapMs),this.tempo=this._tempo}set tempo(t){let e;this._tempo=t,this.calculateSequenceParameters(),this.nominalSkip=this._tempo*(this.seekWindowLength-this.overlapLength),this.skipFract=0,e=Math.floor(this.nominalSkip+.5),this.sampleReq=Math.max(e+this.overlapLength,this.seekWindowLength)+this.seekLength}get tempo(){return this._tempo}get inputChunkSize(){return this.sampleReq}get outputChunkSize(){return this.overlapLength+Math.max(0,this.seekWindowLength-2*this.overlapLength)}calculateOverlapLength(t=0){let e;e=this.sampleRate*t/1e3,e=e<16?16:e,e-=e%8,this.overlapLength=e,this.refMidBuffer=new Float32Array(2*this.overlapLength),this.midBuffer=new Float32Array(2*this.overlapLength)}checkLimits(t,e,r){return t<e?e:t>r?r:t}calculateSequenceParameters(){let t,e;this.autoSeqSetting&&(t=150+-50*this._tempo,t=this.checkLimits(t,50,125),this.sequenceMs=Math.floor(t+.5)),this.autoSeekSetting&&(e=28.333333333333332+-6.666666666666667*this._tempo,e=this.checkLimits(e,15,25),this.seekWindowMs=Math.floor(e+.5)),this.seekWindowLength=Math.floor(this.sampleRate*this.sequenceMs/1e3),this.seekLength=Math.floor(this.sampleRate*this.seekWindowMs/1e3)}set quickSeek(t){this._quickSeek=t}clone(){const t=new u;return t.tempo=this._tempo,t.setParameters(this.sampleRate,this.sequenceMs,this.seekWindowMs,this.overlapMs),t}seekBestOverlapPosition(){return this._quickSeek?this.seekBestOverlapPositionStereoQuick():this.seekBestOverlapPositionStereo()}seekBestOverlapPositionStereo(){let t,e,r,n=0;for(this.preCalculateCorrelationReferenceStereo(),t=0,e=Number.MIN_VALUE;n<this.seekLength;n+=1)r=this.calculateCrossCorrelationStereo(2*n,this.refMidBuffer),r>e&&(e=r,t=n);return t}seekBestOverlapPositionStereoQuick(){let t,e,r,n,i,s=0;for(this.preCalculateCorrelationReferenceStereo(),e=Number.MIN_VALUE,t=0,n=0,i=0;s<4;s+=1){let o=0;for(;A[s][o]&&(i=n+A[s][o],!(i>=this.seekLength));)r=this.calculateCrossCorrelationStereo(2*i,this.refMidBuffer),r>e&&(e=r,t=i),o+=1;n=t}return t}preCalculateCorrelationReferenceStereo(){let t,e,r=0;for(;r<this.overlapLength;r+=1)e=r*(this.overlapLength-r),t=2*r,this.refMidBuffer[t]=this.midBuffer[t]*e,this.refMidBuffer[t+1]=this.midBuffer[t+1]*e}calculateCrossCorrelationStereo(t,e){const r=this._inputBuffer.vector;t+=this._inputBuffer.startIndex;let n=0,i=2;const s=2*this.overlapLength;let o;for(;i<s;i+=2)o=i+t,n+=r[o]*e[i]+r[o+1]*e[i+1];return n}overlap(t){this.overlapStereo(2*t)}overlapStereo(t){const e=this._inputBuffer.vector;t+=this._inputBuffer.startIndex;const r=this._outputBuffer.vector,n=this._outputBuffer.endIndex;let i,s,o=0;const a=1/this.overlapLength;let A,u,l;for(;o<this.overlapLength;o+=1)s=(this.overlapLength-o)*a,A=o*a,i=2*o,u=i+t,l=i+n,r[l+0]=e[u+0]*A+this.midBuffer[i+0]*s,r[l+1]=e[u+1]*A+this.midBuffer[i+1]*s}process(){let t,e,r;if(null===this.midBuffer){if(this._inputBuffer.frameCount<this.overlapLength)return;this.midBuffer=new Float32Array(2*this.overlapLength),this._inputBuffer.receiveSamples(this.midBuffer,this.overlapLength)}for(;this._inputBuffer.frameCount>=this.sampleReq;){t=this.seekBestOverlapPosition(),this._outputBuffer.ensureAdditionalCapacity(this.overlapLength),this.overlap(Math.floor(t)),this._outputBuffer.put(this.overlapLength),e=this.seekWindowLength-2*this.overlapLength,e>0&&this._outputBuffer.putBuffer(this._inputBuffer,t+this.overlapLength,e);const n=this._inputBuffer.startIndex+2*(t+this.seekWindowLength-this.overlapLength);this.midBuffer.set(this._inputBuffer.vector.subarray(n,n+2*this.overlapLength)),this.skipFract+=this.nominalSkip,r=Math.floor(this.skipFract),this.skipFract-=r,this._inputBuffer.receive(r)}}}const l=function(t,e){return(t>e?t-e:e-t)>1e-10};class c{constructor(){this.transposer=new s(!1),this.stretch=new u(!1),this._inputBuffer=new n,this._intermediateBuffer=new n,this._outputBuffer=new n,this._rate=0,this._tempo=0,this.virtualPitch=1,this.virtualRate=1,this.virtualTempo=1,this.calculateEffectiveRateAndTempo()}clear(){this.transposer.clear(),this.stretch.clear()}clone(){const t=new c;return t.rate=this.rate,t.tempo=this.tempo,t}get rate(){return this._rate}set rate(t){this.virtualRate=t,this.calculateEffectiveRateAndTempo()}set rateChange(t){this._rate=1+.01*t}get tempo(){return this._tempo}set tempo(t){this.virtualTempo=t,this.calculateEffectiveRateAndTempo()}set tempoChange(t){this.tempo=1+.01*t}set pitch(t){this.virtualPitch=t,this.calculateEffectiveRateAndTempo()}set pitchOctaves(t){this.pitch=Math.exp(.69314718056*t),this.calculateEffectiveRateAndTempo()}set pitchSemitones(t){this.pitchOctaves=t/12}get inputBuffer(){return this._inputBuffer}get outputBuffer(){return this._outputBuffer}calculateEffectiveRateAndTempo(){const t=this._tempo,e=this._rate;this._tempo=this.virtualTempo/this.virtualPitch,this._rate=this.virtualRate*this.virtualPitch,l(this._tempo,t)&&(this.stretch.tempo=this._tempo),l(this._rate,e)&&(this.transposer.rate=this._rate),this._rate>1?this._outputBuffer!=this.transposer.outputBuffer&&(this.stretch.inputBuffer=this._inputBuffer,this.stretch.outputBuffer=this._intermediateBuffer,this.transposer.inputBuffer=this._intermediateBuffer,this.transposer.outputBuffer=this._outputBuffer):this._outputBuffer!=this.stretch.outputBuffer&&(this.transposer.inputBuffer=this._inputBuffer,this.transposer.outputBuffer=this._intermediateBuffer,this.stretch.inputBuffer=this._intermediateBuffer,this.stretch.outputBuffer=this._outputBuffer)}process(){this._rate>1?(this.stretch.process(),this.transposer.process()):(this.transposer.process(),this.stretch.process())}}class h{constructor(t){this.buffer=t,this._position=0}get dualChannel(){return this.buffer.numberOfChannels>1}get position(){return this._position}set position(t){this._position=t}extract(t,e=0,r=0){this.position=r;let n=this.buffer.getChannelData(0),i=this.dualChannel?this.buffer.getChannelData(1):this.buffer.getChannelData(0),s=0;for(;s<e;s++)t[2*s]=n[s+r],t[2*s+1]=i[s+r];return Math.min(e,n.length-r)}}const f=function(t,e,r=o,n=4096){const i=t.createScriptProcessor(n,2,2),s=new Float32Array(2*n);return i.onaudioprocess=t=>{let i=t.outputBuffer.getChannelData(0),o=t.outputBuffer.getChannelData(1),a=e.extract(s,n);r(e.sourcePosition),0===a&&e.onEnd();let A=0;for(;A<a;A++)i[A]=s[2*A],o[A]=s[2*A+1]},i},p=function(t){const e=Math.floor(t/60);return`${e}:${r=parseInt(t-60*e),2,n=n||"0",(r+="").length>=2?r:new Array(2-r.length+1).join(n)+r}`;var r,n},d=function(t){const e=this.timePlayed,r=this.sampleRate;if(this.sourcePosition=t,this.timePlayed=t/r,e!==this.timePlayed){const t=new CustomEvent("play",{detail:{timePlayed:this.timePlayed,formattedTimePlayed:this.formattedTimePlayed,percentagePlayed:this.percentagePlayed}});this._node.dispatchEvent(t)}};class g{constructor(t,e,r,n=o){this._soundtouch=new c;const i=new h(e);this.timePlayed=0,this.sourcePosition=0,this._filter=new a(i,this._soundtouch,n),this._node=f(t,this._filter,(t=>d.call(this,t)),r),this.tempo=1,this.rate=1,this.duration=e.duration,this.sampleRate=t.sampleRate,this.listeners=[]}get formattedDuration(){return p(this.duration)}get formattedTimePlayed(){return p(this.timePlayed)}get percentagePlayed(){return 100*this._filter.sourcePosition/(this.duration*this.sampleRate)}set percentagePlayed(t){this._filter.sourcePosition=parseInt(t*this.duration*this.sampleRate),this.sourcePosition=this._filter.sourcePosition,this.timePlayed=this.sourcePosition/this.sampleRate}get node(){return this._node}set pitch(t){this._soundtouch.pitch=t}set pitchSemitones(t){this._soundtouch.pitchSemitones=t}set rate(t){this._soundtouch.rate=t}set tempo(t){this._soundtouch.tempo=t}connect(t){this._node.connect(t)}disconnect(){this._node.disconnect()}on(t,e){this.listeners.push({name:t,cb:e}),this._node.addEventListener(t,(t=>e(t.detail)))}off(t=null){let e=this.listeners;t&&(e=e.filter((e=>e.name===t))),e.forEach((t=>{this._node.removeEventListener(t.name,(e=>t.cb(e.detail)))}))}}},(t,e,r)=>{"use strict";const n=r(235),{isBrowser:i}=(r(339),r(13)),{createCanvas:s,createImageData:o,registerFont:a}=r(14),A=r(341),u={canvas:null,getCanvas({width:t,height:e}){return this.canvas||(this.canvas=s(t,e)),this.canvas.width=t,this.canvas.height=e,this.canvas},toBuffer({type:t,canvas:e,quality:r=70}){r>>=0;let n,i,s=10-.1*(r=Math.min(r,100));switch(s>>=0,t){case"png":case"gif":n=e.toBuffer("image/png",{compressionLevel:s,filters:e.PNG_FILTER_NONE});break;case"jpg":case"jpeg":n=e.toBuffer("image/jpeg",{quality:r/100});break;case"canvas":i=this.getContext(e),n=i.getImageData(0,0,e.width,e.height).data;break;default:n=e.toBuffer("raw")}return n},draw({width:t,height:e,data:r}){const n=this.getCanvas({width:t,height:e}),i=n.getContext("2d"),s=o(new Uint8ClampedArray(r),t,e);return i.putImageData(s,0,0),n},setFont(t,e){const r="f"+n.toHash(t);n.storage[r]||(i||a(t,{family:r}),n.storage[r]=!0),e(r)},fillRect({canvas:t,color:e}){const r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,t.width,t.height)},getContext:t=>t.getContext("2d")||A.getContext(t)};t.exports=u},(t,e,r)=>{"use strict";const{nodeRequire:n}=r(235),i=n("rmfr"),s=n("fs-extra"),o=r(62),a=r(340),A={format:"raw",ensureDir(t,e=!1){e&&(t=o.dirname(t)),s.ensureDir(t)},exists:t=>s.existsSync(t),async rmDir(t){await i(t)},setCacheFormat(t){this.format="raw"===t?t:"ff"},async moveFile({dir:t,from:e,to:r}){const n=this.getFilePath({dir:t,name:e,prefix:!1}),i=this.getFilePath({dir:t,name:r,prefix:!0});await s.move(n,i,{overwrite:!0})},writeFileSync({dir:t,name:e,data:r}){const n=this.getFilePath({dir:t,name:e,prefix:!0});s.writeFileSync(n,r)},readFileSync({dir:t,name:e}){const r=this.getFilePath({dir:t,name:e,prefix:!1});return s.readFileSync(r)},async writeFileAsync({dir:t,name:e,buffer:r}){const n=this.getFilePath({dir:t,name:e,prefix:!1});return await s.outputFile(n,r)},getExt:t=>/[^.]+$/.exec(t),getFilePath({dir:t,name:e,prefix:r=!1}){return r?o.join(t,`${a(e,12,"0")}.${this.format}`):o.join(t,`${e}.${this.format}`)},getCacheFilePath(t){return o.join(t,`%012d.${this.format}`)},isFont:t=>/.*\.(ttf|otf|svg|woff|woff2|eot)$/gi.test(t)};t.exports=A},t=>{"use strict";t.exports=function(t,r,n){if((r-=(t+="").length)<=0)return t;if(n||0===n||(n=" ")," "==(n+="")&&r<10)return e[r]+t;for(var i="";1&r&&(i+=n),r>>=1;)n+=n;return i+t};var e=[""," ","  ","   ","    ","     ","      ","       ","        ","         "]},(t,e,r)=>{const{createCanvas:n,createImageData:i,registerFont:s}=r(14),o={getImageData(t,e,r,n){const s=new Uint8ClampedArray(r*n*4),o=this.drawingBufferHeight-e-n;this.readPixels(t,o,r,n,this.RGBA,this.UNSIGNED_BYTE,s);const a=new Uint8ClampedArray(r*n*4);for(let t=0;t<n;t++)a.set(s.subarray(t*r*4,(t+1)*r*4),(n-t-1)*r*4);return i(a,r,n)}},a={getContext:t=>(t._webgl_ctx_||(t._webgl_ctx_=t.getContext("webgl"),function(t,e){const r=Object.keys(t);for(let n=0;n<r.length;++n){const i=r[n],s=Object.getOwnPropertyDescriptor(t,i);Object.getOwnPropertyDescriptor(e,i)!==s&&Object.defineProperty(e,i,s)}}(o,t._webgl_ctx_)),t._webgl_ctx_)};t.exports=a},(t,e,r)=>{"use strict";const n=r(343),{genUuid:i}=r(235),{isBrowser:s}=r(13),{isUA:o}=r(235),a="default",A="preview",u={[a]:[],[A]:[]};r.g&&(r.g.MIRAP_VPOOL=u);const l=new n;class c{constructor(t,e,r=null){if(this.loaded=!1,this.uses={},this.cid=e,this.id=i(),t instanceof c&&(t.loaded?(this.url=t.url,this.info=t.info,this.$video=t.$video.cloneNode(!1),this.loaded=!0):t=t.url),this.loaded||"string"!=typeof t||(this.$video=this.createVideo(t),this.url=t),!this.url)throw new Error(`VideoHolder.create with src error: ${t}`);this.assignTo(r)}connectGainNode(){const t=new AudioContext,e=t.createMediaElementSource(this.$video);this.gainNode=t.createGain(),e.connect(this.gainNode),this.gainNode.connect(t.destination)}setVolume(t){o("chrome")?(this.gainNode||this.connectGainNode(),this.gainNode.gain.value=t):this.$video.volume=Math.min(1,t)}assignTo(t){t&&(this.userId=t,this.uses[t]||(this.uses[t]=0),this.uses[t]++,this.createBy||(this.createBy=t))}createVideo(t){if(!s)return{src:t};const e=document.createElement("video");e.playsinline=!0,e.crossOrigin="Anonymous",e.src=t,e.id=this.id,e.width=300,e.height=300;const r=document.getElementById("mira-player-debug-container");return r&&(e.controls="controls",e.style="background:#000",r.appendChild(e)),e}release(){this.userId=null}getInfo(){return new Promise(((t,e)=>{if(this.loaded)return this.info?t(this.info):e();this.metaCb=r=>{if(this.loaded=!0,!this.$video)return e();const{duration:n,videoWidth:i,videoHeight:s}=this.$video;this.info={width:i,height:s,duration:n},t(this.info)},this.errorCb=t=>{this.loaded=!0,e()},this.$video.addEventListener("loadedmetadata",this.metaCb),this.$video.addEventListener("error",this.errorCb),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.loaded||e()}),6e4)}))}destroy(){this.$video&&(this.metaCb&&this.$video.removeEventListener("loadedmetadata",this.metaCb),this.errorCb&&this.$video.removeEventListener("error",this.errorCb),this.metaCb=null,this.errorCb=null,this.$video.src="",this.$video.srcObject=null,this.$video.remove()),this.timeout&&clearTimeout(this.timeout),this.$video=null,this.userId=null}static release(t){for(const[e,r]of Object.entries(u))u[e]=r.filter((e=>e.cid!==t||(e.destroy(),!1)))}static get(t,e,r){return new Promise(((n,i)=>{l.enqueue((async()=>{try{n(await this._get_(t,e,r))}catch(t){i(t)}}))}))}static _get_(t,e,r){return new Promise(((n,i)=>{const s=r.endsWith("preview")?A:a,o=u[s].filter((r=>r.url===t&&r.cid===e));let l=o.filter((t=>t.userId===r))[0];return l?n(l):(l=o.filter((t=>!t.userId))[0],l?(l.assignTo(r),n(l)):s===A&&o.length>=2?i("pool is busy"):(l=new c(o[0]||t,e,r),u[s].push(l),void n(l)))}))}}t.exports=c},t=>{"use strict";t.exports=class{constructor(){this.queue=[],this.pendingPromise=!1}enqueue(t){return new Promise(((e,r)=>{this.queue.push({promise:t,resolve:e,reject:r}),this.dequeue()}))}dequeue(){if(this.pendingPromise)return!1;const t=this.queue.shift();if(!t)return!1;try{this.pendingPromise=!0,t.promise().then((e=>{this.pendingPromise=!1,t.resolve(e),this.dequeue()})).catch((e=>{this.pendingPromise=!1,t.reject(e),this.dequeue()}))}catch(e){this.pendingPromise=!1,t.reject(e),this.dequeue()}return!0}destroy(){this.pendingPromise=!0,this.queue=null}}},(t,e,r)=>{const n=r(345);t.exports=class extends n{constructor(t={}){super({type:"spine",...t})}}},(t,e,r)=>{const n=r(312);t.exports=class extends n{constructor(t={}){super({type:"track",...t})}get isTrack(){return!0}addChild(t,e=null){super.addChild(t,e),this.refreshSibling()}removeChild(t){super.removeChild(t),this.refreshSibling()}refreshSibling(){for(let t=0;t<this.children.length;t++){if(0==t){this.children[t].prevSibling=null;continue}const e=this.children[t-1];this.children[t].prevSibling=e,e.nextSibling=this.children[t],this.children[t].nextSibling=null}}createDisplay(){}annotate(){const t=this.children[this.children.length-1];this.lastChildEndTime=t?t.endTime:0}get absStartTime(){return 0}get absEndTime(){return this.endTime}get startTime(){return 0}get duration(){return this.endTime-this.startTime}get endTime(){return this.lastChildEndTime}}},(t,e,r)=>{"use strict";const{nodeRequire:n}=r(235),i=n("colors"),s=r(235),o={enable:!1,hooks:{},info(t){t="object"==typeof t?t:{msg:t};let{pos:e,msg:r=""}=t;e=e?`${e} `:"";const n=`[FF] ${e}${r}`;this.enable&&console.log(i?i.green(n):n),this.hooks.info&&this.hooks.info(n)},log(t){t="object"==typeof t?t:{msg:t};let{pos:e,msg:r=""}=t;e=e?`${e} `:"";const n=`[FF] ${e}${r}`;this.enable&&console.log(i?i.blue(n):n),this.hooks.log&&this.hooks.log(n)},error(t){t="object"==typeof t?t:{error:t};let{pos:e,error:r="",msg:n=""}=t;e=e?`${e} `:"",r=s.getErrStack(r);const o=`[FF] ${e}${n}${r}`;console.error(i?i.red(o):o),this.hooks.error&&this.hooks.error(o)},addCallback(t,e){this.hooks[t]=e}};t.exports=o},(t,e,r)=>{var n=r(348),i=r(349),s=r(375),o=r(358);t.exports=function(t,e){return(o(t)?n:i)(t,s(e))}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},(t,e,r)=>{var n=r(350),i=r(374)(n);t.exports=i},(t,e,r)=>{var n=r(351),i=r(353);t.exports=function(t,e){return t&&n(t,e,i)}},(t,e,r)=>{var n=r(352)();t.exports=n},t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),a=o.length;a--;){var A=o[t?a:++i];if(!1===r(s[A],A,s))break}return e}}},(t,e,r)=>{var n=r(354),i=r(367),s=r(371);t.exports=function(t){return s(t)?n(t):i(t)}},(t,e,r)=>{var n=r(355),i=r(356),s=r(358),o=r(359),a=r(361),A=r(362),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=s(t),l=!r&&i(t),c=!r&&!l&&o(t),h=!r&&!l&&!c&&A(t),f=r||l||c||h,p=f?n(t.length,String):[],d=p.length;for(var g in t)!e&&!u.call(t,g)||f&&("length"==g||c&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,d))||p.push(g);return p}},t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},(t,e,r)=>{var n=r(357),i=r(328),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,A=n(function(){return arguments}())?n:function(t){return i(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=A},(t,e,r)=>{var n=r(322),i=r(328);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},t=>{var e=Array.isArray;t.exports=e},(t,e,r)=>{t=r.nmd(t);var n=r(324),i=r(360),s=e&&!e.nodeType&&e,o=s&&t&&!t.nodeType&&t,a=o&&o.exports===s?n.Buffer:void 0,A=(a?a.isBuffer:void 0)||i;t.exports=A},t=>{t.exports=function(){return!1}},t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},(t,e,r)=>{var n=r(363),i=r(365),s=r(366),o=s&&s.isTypedArray,a=o?i(o):n;t.exports=a},(t,e,r)=>{var n=r(322),i=r(364),s=r(328),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return s(t)&&i(t.length)&&!!o[n(t)]}},t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},t=>{t.exports=function(t){return function(e){return t(e)}}},(t,e,r)=>{t=r.nmd(t);var n=r(325),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i&&n.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a},(t,e,r)=>{var n=r(368),i=r(369),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}},t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},(t,e,r)=>{var n=r(370)(Object.keys,Object);t.exports=n},t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},(t,e,r)=>{var n=r(372),i=r(364);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},(t,e,r)=>{var n=r(322),i=r(373);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},(t,e,r)=>{var n=r(371);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var s=r.length,o=e?s:-1,a=Object(r);(e?o--:++o<s)&&!1!==i(a[o],o,a););return r}}},(t,e,r)=>{var n=r(330);t.exports=function(t){return"function"==typeof t?t:n}},(t,e,r)=>{"use strict";const{nodeRequire:n,awaitMap:i}=r(235),s=n("../utils/fs"),o=n("../utils/perf"),a=n("../core/synthesis"),A=n("../utils/stream"),u=n("../utils/opencv"),{gl:l}=r(14),c=(r(347),r(377),r(346),r(338)),h=r(378),f=r(313),{isBrowser:p}=r(13);r(318),t.exports=class extends f{constructor({creator:t}){super({type:"renderer"}),this.stop=!1,this.parent=t,this.tweenGroup=t.tweenGroup,this.mPLAYER=null}async jumpTo(t){const e=this.playRate;this.emit({type:"seeking",time:t});const r=async()=>{await this.timeline.jumpTo(t),this.renderFrame();const e=this.tweenGroup.now();this.emit({type:"seeked",currentTime:e}),this.emit({type:"timeupdate",currentTime:e,total:Math.floor(1e3*this.timeline.duration)})};return this.playing?new Promise((t=>{this.once("pause",(async n=>{await r(),e>0&&this.play(e),t()})),this.pause()})):await r()}async play(t=1){if(this.playRate=t,this.playing)return;if(!this.played){this.emit({type:"play"}),this.played=!0;const t=this.getCreator().allNodes;await i(t,(t=>t.grantPlay&&t.grantPlay()))}this.resetTimer(),this.emit({type:"playing",currentTime:this._tweenr}),this.playing=!0;let e=0;const r=async()=>{if(!this.getCreator())return;let n=this.mainDelay(),i=this.tweenGroup.now();0!==n&&(e+=n,n=.2*n+.01*e>>0,n=Math.min(40,n)),this.renderFrame();const s=Math.floor(1e3*this.timeline.duration);this.timeline.isOver()&&(i=s,this.pause(),await this.timeline.pause()),this.emit({type:"timeupdate",currentTime:i,total:s}),this.playRate>0?(await this.timeline.nextFrame(Math.max(1,40-n)*t),window.requestAnimationFrame(r)):(this.playing=!1,this.timeline.isOver()?this.emit({type:"ended"}):(await this.timeline.pause(),this.emit({type:"pause",currentTime:i})))};r()}async pause(){this.playRate=0}async start(){p||o.start(),this.emit({type:"start"});try{await this.preProcessing()}catch(t){if(this.stop)return;throw p?this.emit({type:"error",error:t}):this.emitError({error:t,pos:"preProcessing"}),t}if(this.stop)return;this.createTimeline();try{await this.prepareMaterial()}catch(t){if(this.stop)return;throw p?this.emit({type:"error",error:t}):this.emitError({error:t,pos:"prepareMaterial"}),t}p||(this.configCache(),this.createStream(),this.createSynthesis());const t=this.getCreator(),e=this.rootConf();this.emit({type:"loadedmetadata",duration:t.duration,width:e.getVal("width"),height:e.getVal("height")}),this.stop||(this.playRate=0,this.renderFrame(),t.canplay=!0,this.emit({type:"canplay"}))}configCache(){const t=this.rootConf(),e=t.getVal("cacheFormat"),r=t.getVal("detailedCacheDir");s.ensureDir(r),s.setCacheFormat(e)}resetTimer(){this._timer=Date.now(),this._tweenr=this.tweenGroup.now()}mainDelay(){const t=this.getCreator();return this.mPLAYER&&this.mPLAYER.playing||(this.mPLAYER=this.player(t.mVIDEOS),this.mPLAYER&&this.resetTimer()),this.mPLAYER?1e3*this.mPLAYER.delay()>>0:this.timerDelay()}timerDelay(){const t=Date.now()-this._timer;return this.tweenGroup.now()-this._tweenr-t}player(t){for(let e=0;e<t.length;e++)if(t[e].playing)return t[e]}async preProcessing(){const t=this.getCreator(),e=t.allNodes;let r=0,n=e.length;this.emit({type:"preloading",loaded:r,total:n,id:"creator"});for(const t of e){if(!p&&!t.active&&!t.children.length){console.log("preProcessing",t.id,t.conf,t.active);continue}let e=0;for(;;){if(this.stop)return;try{await t.preProcessing((e=>{this.emit({type:"preloading",loaded:r+e,total:n,id:t.id})})),r+=1;break}catch(r){if(++e>(t.retry||1))throw console.error(`preprocess error: ${t.id}\n`,r),`preprocess ${t.type}[id=${t.id}] fail, tried ${e}:\n`+t.conf.src}finally{this.emit({type:"preloading",loaded:r,total:n,id:t.id})}}}t.allNodes.map((t=>{(p||t.active||t.children.length)&&t.annotate()}))}async prepareMaterial(){const t=this.getCreator().allNodes;let e=0,r=t.length;this.emit({type:"prepareMaterial",prepared:e,total:r,id:"creator"});for(const n of t){if(this.stop)return;(p||n.active)&&(await n.prepareMaterial(),e+=1,this.emit({type:"prepareMaterial",prepared:e,total:r,id:n.id}))}}createStream(){const t=this.rootConf(),e=t.getVal("highWaterMark"),r=t.getVal("parallel"),n=new A({size:e,parallel:r});n.addPullFunc(this.nodeRenderFrame.bind(this)),n.on("error",(t=>this.emitError({error:t,pos:"FFStream"}))),this.stream=n}createTimeline(){this.timeline=new h(this.getCreator()),this.timeline.annotate()}async nodeRenderFrame(){const t=await this.renderFrame();return await this.timeline.nextFrame(),t}async renderFrame(){return p&&this.playRate<=0&&await this.timeline.pause(),this.snapshotToBuffer()}snapshotToBuffer(){const t=this.rootConf(),e=this.getCreator();if(e.render(),p)return;const r=t.getVal("cacheFormat"),n=t.getVal("cacheQuality"),i=e.app.view;return c.toBuffer({type:r,canvas:i,quality:n})}async createSynthesis(){const{stream:t,timeline:e}=this,r=this.rootConf(),n=this.getCreator();r.setVal("bgColor",n.bgColor);const i=n.allNodes.filter((t=>["audio","speech"].includes(t.type))),s=n.allNodes.filter((t=>"video"===t.type)),A=new a(r),{start:l,end:c}=n.outputTime;A.setDuration(c-l),n.audioOnly?i.length||A.addNullAudio():(A.addStream(t),A.addVideos(s)),A.addAudios(i),this.bubble(A),A.on("synthesis-complete",(e=>{o.end();const r=o.getInfo();e={...e,useage:r},this.emit("complete",e),console.log("Render time:",t.fillTime),console.log(`Video Download/Read time: ${u.dltimer} + ${u.timer} = ${u.timer+u.dltimer}`)})),await n.timeUpdate(0,Math.floor(1e3*l)),A.start(),this.synthesis=A}getCreator(){return this.parent}removeCacheFiles(){if(this.rootConf("debug")||p||this.getCreator().conf.pathId)return;const t=this.rootConf("detailedCacheDir");s.rmDir(t)}destroy(){this.stream&&this.stream.destroy(),this.timeline&&this.timeline.destroy(),this.synthesis&&this.synthesis.destroy(),this.removeCacheFiles(),this.removeAllListeners(),super.destroy(),this.stop=!0,this.parent=null,this.stream=null,this.timeline=null,this.synthesis=null,this.mPLAYER=null}}},(t,e,r)=>{"use strict";const n=r(238),i=r(235),{gl:s}=r(14),o={byteArray:null,cache:{},getContext(t){const e=t.uuid;return o.cache[e]||(o.cache[e]=s(t.width,t.height)),o.cache[e]},release(t){delete o.cache[t]},getPixelsByteArray({gl:t,width:e,height:r,flip:n,bgr:i}){const s=new Uint8Array(e*r*4);if(t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,s),!n)return s;const o=i?[2,1,0,3]:[0,1,2,3],a=new Uint8Array(e*r*4);for(let t=0;t<r;t++)for(let n=0;n<e;n++){const i=n,A=r-t-1;for(let r=0;r<4;r++){const n=4*(t*e+i)+r;a[4*(A*e+i)+o[r]]=s[n]}}return a},enableBlendMode(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.BLEND)},async getPixels({type:t,data:e,width:r,height:s}){if("raw"===t)return n(e,[r,s,4],[4,4*r,1]);{const{pixels:r}=await i.getPixels(e,`image/${t}`);return r}}};t.exports=o},(t,e,r)=>{"use strict";r(347),r(344);const n=r(346);t.exports=class{constructor(t){this.creator=t,this.fps=t.getConf("fps"),this.frame=0,this.frameInFloat=0,this.duration=0,this.framesNum=0}update(){this.duration=this.creator.duration,this.framesNum=Math.round(this.duration*this.fps)}annotate(){this.creator.annotate(),n.info({pos:"Timeline",msg:`annotate creator duration ${this.duration}`}),this.creator.allNodes.map((t=>{n.info({pos:"Timeline",msg:`annotate ${t.id.padEnd(10," ")}: time:[${t.absStartTime.toFixed(2).padStart(6," ")}, ${t.absEndTime.toFixed(2).padStart(6," ")})  zIndex:${t.zIndex.toFixed(0).padStart(8," ")}`})}))}isOver(){const{frame:t}=this;return t>this.framesNum-1}nextFrame(t){if(void 0===t&&(t=1e3/this.fps),t<=0)return this.pause();const{fps:e}=this;if(!this.isOver()){const r=t*e/1e3;return this.frameInFloat+=r,this.frame=this.frameInFloat>>0,this.creator.timeUpdate(t)}}pause(){return this.creator.timeUpdate(0)}async jumpTo(t){const{fps:e}=this;return this.frameInFloat=t*e/1e3,this.frame=this.frameInFloat>>0,await this.creator.timeUpdate(0,t)}setFps(t){this.fps=t}destroy(){this.creator=null}}},(t,e,r)=>{"use strict";const n=r(380),i=r(448),s=r(452),o=r(358),a=r(458),A=r(347),u=r(459),l=r(467),c=r(235),h={},f=3.14159,p="_target_",d="_target_up_",g="_target_down_",m="_target_left_",v="_target_right_",y="_target_up_big_",_="_target_down_big_",b="_target_left_big_",w="_target_right_big_",B="_target_rotate_",x="_target_rotate_left_",E="_target_rotate_left_big_",C="_target_rotate_right_",T="_target_rotate_right_big_",I="_target_alpha_",F=150,S=550,U=f/4,M=f/2,O={time:2,delay:.1,ease:"Quadratic.Out",type:"in"},P={time:2,delay:5,ease:"Quadratic.In",type:"out"},R={time:30,delay:.1,type:"ining"};h.effects={fadeIn:{from:{alpha:0},to:I,...O,ease:"Linear.None"},fadeOut:{from:{alpha:1},to:{alpha:0},...P},fadeInLeft:["fadeIn",{...O,from:m,to:p}],fadeInRight:["fadeIn",{...O,from:v,to:p}],fadeInUp:["fadeIn",{...O,from:g,to:p}],fadeInDown:["fadeIn",{...O,from:d,to:p}],fadeInLeftBig:["fadeIn",{...O,from:b,to:p}],fadeInRightBig:["fadeIn",{...O,from:w,to:p}],fadeInUpBig:["fadeIn",{...O,from:_,to:p}],fadeInDownBig:["fadeIn",{...O,from:y,to:p}],fadeOutLeft:["fadeOut",{...P,from:p,to:m}],fadeOutRight:["fadeOut",{...P,from:p,to:v}],fadeOutUp:["fadeOut",{...P,from:p,to:d}],fadeOutDown:["fadeOut",{...P,from:p,to:g}],fadeOutLeftBig:["fadeOut",{...P,from:p,to:b}],fadeOutRightBig:["fadeOut",{...P,from:p,to:w}],fadeOutUpBig:["fadeOut",{...P,from:p,to:y}],fadeOutDownBig:["fadeOut",{...P,from:p,to:_}],blurIn:{from:{blur:20},to:{blur:0},...O,ease:"Linear.None"},blurOut:{from:{blur:0},to:{blur:20},...P},backIn:[{...O,from:{scale:.1},to:{scale:1},ease:"Back.Out"},"fadeIn"],backOut:[{...P,from:{scale:1},to:{scale:.3},ease:"Back.In"},"fadeOut"],backInLeft:["fadeIn",{from:{scale:.7},to:{scale:1}},{...O,from:b,to:p,ease:"Back.Out"}],backInRight:["fadeIn",{from:{scale:.7},to:{scale:1}},{...O,from:w,to:p,ease:"Back.Out"}],backInUp:["fadeIn",{from:{scale:.7},to:{scale:1}},{...O,from:_,to:p,ease:"Back.Out"}],backInDown:["fadeIn",{from:{scale:.7},to:{scale:1}},{...O,from:y,to:p,ease:"Back.Out"}],backOutLeft:["fadeOut",{from:{scale:1},to:{scale:.7}},{...P,to:b,from:p,ease:"Back.In"}],backOutRight:["fadeOut",{from:{scale:1},to:{scale:.7}},{...P,to:w,from:p,ease:"Back.In"}],backOutUp:["fadeOut",{from:{scale:1},to:{scale:.7}},{...P,to:y,from:p,ease:"Back.In"}],backOutDown:["fadeOut",{from:{scale:1},to:{scale:.7}},{...P,to:_,from:p,ease:"Back.In"}],bounceIn:["fadeIn",{...O,from:{scale:.1},to:{scale:1},ease:"Elastic.Out"}],bounceInDown:["fadeIn",{from:{scale:.3},to:{scale:1}},{...O,from:d,to:p,ease:"Elastic.Out"}],bounceInUp:["fadeIn",{from:{scale:.3},to:{scale:1}},{...O,from:g,to:p,ease:"Elastic.Out"}],bounceInLeft:["fadeIn",{from:{scale:.3},to:{scale:1}},{...O,from:m,to:p,ease:"Elastic.Out"}],bounceInRight:["fadeIn",{from:{scale:.3},to:{scale:1}},{...O,from:v,to:p,ease:"Elastic.Out"}],bounceOut:["fadeOut",{...P,from:{scale:1},to:{scale:.3},ease:"Elastic.In"}],bounceOutDown:["fadeOut",{from:{scale:1},to:{scale:.3}},{...P,from:p,to:g,ease:"Elastic.In"}],bounceOutLeft:["fadeOut",{from:{scale:1},to:{scale:.3}},{...P,from:p,to:m,ease:"Elastic.In"}],bounceOutRight:["fadeOut",{from:{scale:1},to:{scale:.3}},{...P,from:p,to:v,ease:"Elastic.In"}],bounceOutUp:["fadeOut",{from:{scale:1},to:{scale:.3}},{...P,from:p,to:d,ease:"Elastic.In"}],rotateIn:["fadeIn",{...O,from:x,to:B}],rotateOut:["fadeOut",{...P,from:B,to:C}],rotateInDownLeft:["fadeIn",{from:m,to:p},{from:{scale:.3},to:{scale:1}},{...O,from:E,to:B}],rotateInDownRight:["fadeIn",{from:v,to:p},{from:{scale:.3},to:{scale:1}},{...O,from:E,to:B}],rotateInUpLeft:["fadeIn",{from:g,to:p},{from:{scale:.3},to:{scale:1}},{...O,from:E,to:B}],rotateInUpRight:["fadeIn",{from:d,to:p},{from:{scale:.3},to:{scale:1}},{...O,from:E,to:B}],rotateOutDownLeft:["fadeOut",{from:p,to:m},{from:{scale:1},to:{scale:.3}},{...P,from:B,to:T}],rotateOutDownRight:["fadeOut",{from:p,to:v},{from:{scale:1},to:{scale:.3}},{...P,from:B,to:T}],rotateOutUpLeft:["fadeOut",{from:p,to:d},{from:{scale:1},to:{scale:.3}},{...P,from:B,to:T}],rotateOutUpRight:["fadeOut",{from:p,to:g},{from:{scale:1},to:{scale:.3}},{...P,from:B,to:T}],rollIn:["fadeInUp",{from:{scale:.5},to:{scale:1}},{...O,from:E,to:B}],rollOut:["fadeOutDown",{from:{scale:1},to:{scale:.5}},{...P,to:T,from:B}],zoomIn:["fadeIn",{...O,from:{scale:.3},to:{scale:1}}],zoomInDown:["fadeIn",{from:d,to:p},{...O,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomInLeft:["fadeIn",{from:m,to:p},{...O,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomInRight:["fadeIn",{from:v,to:p},{...O,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomInUp:["fadeIn",{from:g,to:p},{...O,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomOut:["fadeOut",{...P,from:{scale:1},to:{scale:.3}}],zoomOutDown:["fadeOut",{from:p,to:g},{...P,from:{scale:1},to:{scale:.3},ease:"Back.In"}],zoomOutLeft:["fadeOut",{from:p,to:m},{...P,from:{scale:1},to:{scale:.3},ease:"Back.In"}],zoomOutRight:["fadeOut",{from:p,to:v},{...P,from:{scale:1},to:{scale:.3},ease:"Back.In"}],zoomOutUp:["fadeOut",{from:p,to:d},{...P,from:{scale:1},to:{scale:.3},ease:"Back.In"}],slideInDown:{...O,from:d,to:p},slideInLeft:{...O,from:m,to:p},slideInRight:{...O,from:v,to:p},slideInUp:{...O,from:g,to:p},slideOutDown:{...P,to:g,from:p},slideOutLeft:{...P,to:m,from:p},slideOutRight:{...P,to:v,from:p},slideOutUp:{...P,to:d,from:p},zoomingIn:[{...R,from:{scale:1},add:{scale:.05},mask:!0}],zoomingOut:[{...R,from:{scale:2},add:{scale:-.05},mask:!0}],moveingLeft:[{...R,from:p,add:{x:-20}}],moveingRight:[{...R,from:p,add:{x:20}}],moveingUp:[{...R,from:p,add:{y:-20}}],moveingBottom:[{...R,from:p,add:{y:20}}],fadingIn:{...R,from:{alpha:0},to:{alpha:1}},fadingOut:{time:30,delay:5,type:"outing",from:{alpha:1},to:{alpha:0}}},h.getAnimation=function(t,e){const{type:r}=t,i=this.getEffects(r);if(s(i))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r];s=this.mappingToRealAttr(s,e,t),o=n(o,s)}return o},h.getEffects=function(t){const e=o(t)?t:[t];let r=[];for(let t=0;t<e.length;t++){let n=this.effects[e[t]];n&&(n=l(n),n=o(n)?n:[n],r=i(r,n))}for(let t=0;t<r.length;t++){let e=r[t];a(e)&&(e=this.getEffects(e),c.insertSubArray(r,t,e))}return r},h.createEffect=function(t,e){const r={time:1.2,delay:.1,type:"in",ease:"Linear.None",...e};this.effects[t]=r},h.getRandomEffectName=function(){let t=[];const e=(e,r)=>{"in"===e&&t.indexOf(r)<0&&t.push(r)};for(let t in this.effects){const r=this.effects[t];o(r)?A(r,(r=>e(r.type,t))):e(r.type,t)}return u(t)},h.mappingToRealAttr=function(t,e,r){if(t.from=this.getMappingVal(t.from,e),t.to=this.getMappingVal(t.to,e),(t=c.mergeExclude(t,r,["type"])).add){t.to={};for(let e in t.add)t.to[e]=t.from[e]+t.add[e]*t.time}return t},h.getMappingVal=function(t,e){let r=t;switch(t){case p:r={x:e.x,y:e.y};break;case m:r={x:e.x-F,y:e.y};break;case v:r={x:e.x+F,y:e.y};break;case d:r={x:e.x,y:e.y-F};break;case g:r={x:e.x,y:e.y+F};break;case b:r={x:e.x-S,y:e.y};break;case w:r={x:e.x+S,y:e.y};break;case y:r={x:e.x,y:e.y-S};break;case _:r={x:e.x,y:e.y+S};break;case B:r={rotation:e.rotation};break;case x:r={rotation:e.rotation-U};break;case E:r={rotation:e.rotation-M};break;case C:r={rotation:e.rotation+U};break;case T:r={rotation:e.rotation+M};break;case I:r={alpha:e.alpha||1}}return r},t.exports=h},(t,e,r)=>{var n=r(381),i=r(439)((function(t,e,r){n(t,e,r)}));t.exports=i},(t,e,r)=>{var n=r(382),i=r(418),s=r(351),o=r(421),a=r(373),A=r(436),u=r(432);t.exports=function t(e,r,l,c,h){e!==r&&s(r,(function(s,A){if(h||(h=new n),a(s))o(e,r,A,l,t,c,h);else{var f=c?c(u(e,A),s,A+"",e,r,h):void 0;void 0===f&&(f=s),i(e,A,f)}}),A)}},(t,e,r)=>{var n=r(383),i=r(391),s=r(392),o=r(393),a=r(394),A=r(395);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=s,u.prototype.get=o,u.prototype.has=a,u.prototype.set=A,t.exports=u},(t,e,r)=>{var n=r(384),i=r(385),s=r(388),o=r(389),a=r(390);function A(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}A.prototype.clear=n,A.prototype.delete=i,A.prototype.get=s,A.prototype.has=o,A.prototype.set=a,t.exports=A},t=>{t.exports=function(){this.__data__=[],this.size=0}},(t,e,r)=>{var n=r(386),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},(t,e,r)=>{var n=r(387);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},(t,e,r)=>{var n=r(386);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},(t,e,r)=>{var n=r(386);t.exports=function(t){return n(this.__data__,t)>-1}},(t,e,r)=>{var n=r(386);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},(t,e,r)=>{var n=r(383);t.exports=function(){this.__data__=new n,this.size=0}},t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},t=>{t.exports=function(t){return this.__data__.get(t)}},t=>{t.exports=function(t){return this.__data__.has(t)}},(t,e,r)=>{var n=r(383),i=r(396),s=r(403);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new s(o)}return r.set(t,e),this.size=r.size,this}},(t,e,r)=>{var n=r(397)(r(324),"Map");t.exports=n},(t,e,r)=>{var n=r(398),i=r(402);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},(t,e,r)=>{var n=r(372),i=r(399),s=r(373),o=r(401),a=/^\[object .+?Constructor\]$/,A=Function.prototype,u=Object.prototype,l=A.toString,c=u.hasOwnProperty,h=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||i(t))&&(n(t)?h:a).test(o(t))}},(t,e,r)=>{var n,i=r(400),s=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!s&&s in t}},(t,e,r)=>{var n=r(324)["__core-js_shared__"];t.exports=n},t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},(t,e,r)=>{var n=r(404),i=r(412),s=r(415),o=r(416),a=r(417);function A(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}A.prototype.clear=n,A.prototype.delete=i,A.prototype.get=s,A.prototype.has=o,A.prototype.set=a,t.exports=A},(t,e,r)=>{var n=r(405),i=r(383),s=r(396);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||i),string:new n}}},(t,e,r)=>{var n=r(406),i=r(408),s=r(409),o=r(410),a=r(411);function A(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}A.prototype.clear=n,A.prototype.delete=i,A.prototype.get=s,A.prototype.has=o,A.prototype.set=a,t.exports=A},(t,e,r)=>{var n=r(407);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},(t,e,r)=>{var n=r(397)(Object,"create");t.exports=n},t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},(t,e,r)=>{var n=r(407),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},(t,e,r)=>{var n=r(407),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},(t,e,r)=>{var n=r(407);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},(t,e,r)=>{var n=r(413);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},(t,e,r)=>{var n=r(414);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},(t,e,r)=>{var n=r(413);t.exports=function(t){return n(this,t).get(t)}},(t,e,r)=>{var n=r(413);t.exports=function(t){return n(this,t).has(t)}},(t,e,r)=>{var n=r(413);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},(t,e,r)=>{var n=r(419),i=r(387);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},(t,e,r)=>{var n=r(420);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},(t,e,r)=>{var n=r(397),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},(t,e,r)=>{var n=r(418),i=r(422),s=r(423),o=r(426),a=r(427),A=r(356),u=r(358),l=r(430),c=r(359),h=r(372),f=r(373),p=r(431),d=r(362),g=r(432),m=r(433);t.exports=function(t,e,r,v,y,_,b){var w=g(t,r),B=g(e,r),x=b.get(B);if(x)n(t,r,x);else{var E=_?_(w,B,r+"",t,e,b):void 0,C=void 0===E;if(C){var T=u(B),I=!T&&c(B),F=!T&&!I&&d(B);E=B,T||I||F?u(w)?E=w:l(w)?E=o(w):I?(C=!1,E=i(B,!0)):F?(C=!1,E=s(B,!0)):E=[]:p(B)||A(B)?(E=w,A(w)?E=m(w):f(w)&&!h(w)||(E=a(B))):C=!1}C&&(b.set(B,E),y(E,B,v,_,b),b.delete(B)),n(t,r,E)}}},(t,e,r)=>{t=r.nmd(t);var n=r(324),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}},(t,e,r)=>{var n=r(424);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},(t,e,r)=>{var n=r(425);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},(t,e,r)=>{var n=r(324).Uint8Array;t.exports=n},t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},(t,e,r)=>{var n=r(428),i=r(429),s=r(368);t.exports=function(t){return"function"!=typeof t.constructor||s(t)?{}:n(i(t))}},(t,e,r)=>{var n=r(373),i=Object.create,s=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=s},(t,e,r)=>{var n=r(370)(Object.getPrototypeOf,Object);t.exports=n},(t,e,r)=>{var n=r(371),i=r(328);t.exports=function(t){return i(t)&&n(t)}},(t,e,r)=>{var n=r(322),i=r(429),s=r(328),o=Function.prototype,a=Object.prototype,A=o.toString,u=a.hasOwnProperty,l=A.call(Object);t.exports=function(t){if(!s(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=u.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&A.call(r)==l}},t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},(t,e,r)=>{var n=r(434),i=r(436);t.exports=function(t){return n(t,i(t))}},(t,e,r)=>{var n=r(435),i=r(419);t.exports=function(t,e,r,s){var o=!r;r||(r={});for(var a=-1,A=e.length;++a<A;){var u=e[a],l=s?s(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),o?i(r,u,l):n(r,u,l)}return r}},(t,e,r)=>{var n=r(419),i=r(387),s=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var o=t[e];s.call(t,e)&&i(o,r)&&(void 0!==r||e in t)||n(t,e,r)}},(t,e,r)=>{var n=r(354),i=r(437),s=r(371);t.exports=function(t){return s(t)?n(t,!0):i(t)}},(t,e,r)=>{var n=r(373),i=r(368),s=r(438),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return s(t);var e=i(t),r=[];for(var a in t)("constructor"!=a||!e&&o.call(t,a))&&r.push(a);return r}},t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},(t,e,r)=>{var n=r(440),i=r(447);t.exports=function(t){return n((function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var A=r[n];A&&t(e,A,n,o)}return e}))}},(t,e,r)=>{var n=r(330),i=r(441),s=r(443);t.exports=function(t,e){return s(i(t,e,n),t+"")}},(t,e,r)=>{var n=r(442),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,a=i(s.length-e,0),A=Array(a);++o<a;)A[o]=s[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=s[o];return u[e]=r(A),n(t,this,u)}}},t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},(t,e,r)=>{var n=r(444),i=r(446)(n);t.exports=i},(t,e,r)=>{var n=r(445),i=r(420),s=r(330),o=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:s;t.exports=o},t=>{t.exports=function(t){return function(){return t}}},t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),s=16-(i-n);if(n=i,s>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},(t,e,r)=>{var n=r(387),i=r(371),s=r(361),o=r(373);t.exports=function(t,e,r){if(!o(r))return!1;var a=typeof e;return!!("number"==a?i(r)&&s(e,r.length):"string"==a&&e in r)&&n(r[e],t)}},(t,e,r)=>{var n=r(449),i=r(450),s=r(426),o=r(358);t.exports=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),r=arguments[0],a=t;a--;)e[a-1]=arguments[a];return n(o(r)?s(r):[r],i(e,1))}},t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},(t,e,r)=>{var n=r(449),i=r(451);t.exports=function t(e,r,s,o,a){var A=-1,u=e.length;for(s||(s=i),a||(a=[]);++A<u;){var l=e[A];r>0&&s(l)?r>1?t(l,r-1,s,o,a):n(a,l):o||(a[a.length]=l)}return a}},(t,e,r)=>{var n=r(323),i=r(356),s=r(358),o=n?n.isConcatSpreadable:void 0;t.exports=function(t){return s(t)||i(t)||!!(o&&t&&t[o])}},(t,e,r)=>{var n=r(367),i=r(453),s=r(356),o=r(358),a=r(371),A=r(359),u=r(368),l=r(362),c=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||A(t)||l(t)||s(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(u(t))return!n(t).length;for(var r in t)if(c.call(t,r))return!1;return!0}},(t,e,r)=>{var n=r(454),i=r(396),s=r(455),o=r(456),a=r(457),A=r(322),u=r(401),l="[object Map]",c="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",d=u(n),g=u(i),m=u(s),v=u(o),y=u(a),_=A;(n&&_(new n(new ArrayBuffer(1)))!=p||i&&_(new i)!=l||s&&_(s.resolve())!=c||o&&_(new o)!=h||a&&_(new a)!=f)&&(_=function(t){var e=A(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case d:return p;case g:return l;case m:return c;case v:return h;case y:return f}return e}),t.exports=_},(t,e,r)=>{var n=r(397)(r(324),"DataView");t.exports=n},(t,e,r)=>{var n=r(397)(r(324),"Promise");t.exports=n},(t,e,r)=>{var n=r(397)(r(324),"Set");t.exports=n},(t,e,r)=>{var n=r(397)(r(324),"WeakMap");t.exports=n},(t,e,r)=>{var n=r(322),i=r(358),s=r(328);t.exports=function(t){return"string"==typeof t||!i(t)&&s(t)&&"[object String]"==n(t)}},(t,e,r)=>{var n=r(460),i=r(463),s=r(358);t.exports=function(t){return(s(t)?n:i)(t)}},(t,e,r)=>{var n=r(426),i=r(461);t.exports=function(t){return i(n(t))}},(t,e,r)=>{var n=r(462);t.exports=function(t,e){var r=-1,i=t.length,s=i-1;for(e=void 0===e?i:e;++r<e;){var o=n(r,s),a=t[o];t[o]=t[r],t[r]=a}return t.length=e,t}},t=>{var e=Math.floor,r=Math.random;t.exports=function(t,n){return t+e(r()*(n-t+1))}},(t,e,r)=>{var n=r(461),i=r(464);t.exports=function(t){return n(i(t))}},(t,e,r)=>{var n=r(465),i=r(353);t.exports=function(t){return null==t?[]:n(t,i(t))}},(t,e,r)=>{var n=r(466);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},(t,e,r)=>{var n=r(468);t.exports=function(t){return n(t,5)}},(t,e,r)=>{var n=r(382),i=r(348),s=r(435),o=r(469),a=r(470),A=r(422),u=r(426),l=r(471),c=r(475),h=r(477),f=r(479),p=r(453),d=r(480),g=r(481),m=r(427),v=r(358),y=r(359),_=r(485),b=r(373),w=r(487),B=r(353),x=r(436),E="[object Arguments]",C="[object Function]",T="[object Object]",I={};I[E]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[T]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[C]=I["[object WeakMap]"]=!1,t.exports=function t(e,r,F,S,U,M){var O,P=1&r,R=2&r,L=4&r;if(F&&(O=U?F(e,S,U,M):F(e)),void 0!==O)return O;if(!b(e))return e;var D=v(e);if(D){if(O=d(e),!P)return u(e,O)}else{var Q=p(e),N=Q==C||"[object GeneratorFunction]"==Q;if(y(e))return A(e,P);if(Q==T||Q==E||N&&!U){if(O=R||N?{}:m(e),!P)return R?c(e,a(O,e)):l(e,o(O,e))}else{if(!I[Q])return U?e:{};O=g(e,Q,P)}}M||(M=new n);var k=M.get(e);if(k)return k;M.set(e,O),w(e)?e.forEach((function(n){O.add(t(n,r,F,n,e,M))})):_(e)&&e.forEach((function(n,i){O.set(i,t(n,r,F,i,e,M))}));var H=D?void 0:(L?R?f:h:R?x:B)(e);return i(H||e,(function(n,i){H&&(n=e[i=n]),s(O,i,t(n,r,F,i,e,M))})),O}},(t,e,r)=>{var n=r(434),i=r(353);t.exports=function(t,e){return t&&n(e,i(e),t)}},(t,e,r)=>{var n=r(434),i=r(436);t.exports=function(t,e){return t&&n(e,i(e),t)}},(t,e,r)=>{var n=r(434),i=r(472);t.exports=function(t,e){return n(t,i(t),e)}},(t,e,r)=>{var n=r(473),i=r(474),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(t){return null==t?[]:(t=Object(t),n(o(t),(function(e){return s.call(t,e)})))}:i;t.exports=a},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}},t=>{t.exports=function(){return[]}},(t,e,r)=>{var n=r(434),i=r(476);t.exports=function(t,e){return n(t,i(t),e)}},(t,e,r)=>{var n=r(449),i=r(429),s=r(472),o=r(474),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,s(t)),t=i(t);return e}:o;t.exports=a},(t,e,r)=>{var n=r(478),i=r(472),s=r(353);t.exports=function(t){return n(t,s,i)}},(t,e,r)=>{var n=r(449),i=r(358);t.exports=function(t,e,r){var s=e(t);return i(t)?s:n(s,r(t))}},(t,e,r)=>{var n=r(478),i=r(476),s=r(436);t.exports=function(t){return n(t,s,i)}},t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},(t,e,r)=>{var n=r(424),i=r(482),s=r(483),o=r(484),a=r(423);t.exports=function(t,e,r){var A=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new A(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,r);case"[object Map]":case"[object Set]":return new A;case"[object Number]":case"[object String]":return new A(t);case"[object RegExp]":return s(t);case"[object Symbol]":return o(t)}}},(t,e,r)=>{var n=r(424);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},(t,e,r)=>{var n=r(323),i=n?n.prototype:void 0,s=i?i.valueOf:void 0;t.exports=function(t){return s?Object(s.call(t)):{}}},(t,e,r)=>{var n=r(486),i=r(365),s=r(366),o=s&&s.isMap,a=o?i(o):n;t.exports=a},(t,e,r)=>{var n=r(453),i=r(328);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},(t,e,r)=>{var n=r(488),i=r(365),s=r(366),o=s&&s.isSet,a=o?i(o):n;t.exports=a},(t,e,r)=>{var n=r(453),i=r(328);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},function(t){t.exports=function(){"use strict";var t=function(){this._tweens={},this._tweensAddedDuringUpdate={}};t.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:r.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]];s&&!1===s.update(t)&&(s._isPlaying=!1,e||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var e,r=new t;return r.Group=t,r._nextId=0,r.nextId=function(){return r._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?r.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?r.now=self.performance.now.bind(self.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(t,e){this._isPaused=!1,this._pauseStart=null,this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=r.Easing.Linear.None,this._interpolationFunction=r.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||r,this._id=r.nextId()},r.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?r.now()+parseFloat(t):t:r.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(void 0===this._valuesStart[e]&&(this._valuesStart[e]=this._object[e]),this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},pause:function(t){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===t?r.now():t,this._group.remove(this)),this},resume:function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?r.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,r,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r,n=this._easingFunction(r),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,s=this._valuesEnd[e];s instanceof Array?this._object[e]=this._interpolationFunction(s,n):("string"==typeof s&&(s="+"===s.charAt(0)||"-"===s.charAt(0)?i+parseFloat(s):parseFloat(s)),"number"==typeof s&&(this._object[e]=i+(s-i)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var o=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=o}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,A=this._chainedTweens.length;a<A;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,s=Math.floor(i),o=r.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[s],t[s+1>n?n:s+1],i-s)},Bezier:function(t,e){for(var n=0,i=t.length-1,s=Math.pow,o=r.Interpolation.Utils.Bernstein,a=0;a<=i;a++)n+=s(1-e,i-a)*s(e,a)*t[a]*o(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,s=Math.floor(i),o=r.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(s=Math.floor(i=n*(1+e))),o(t[(s-1+n)%n],t[s],t[(s+1)%n],t[(s+2)%n],i-s)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[s?s-1:0],t[s],t[n<s+1?n:s+1],t[n<s+2?n:s+2],i-s)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var n=r.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(e=[1],function(t){var r=1;if(e[t])return e[t];for(var n=t;n>1;n--)r*=n;return e[t]=r,r}),CatmullRom:function(t,e,r,n,i){var s=.5*(r-t),o=.5*(n-e),a=i*i;return(2*e-2*r+s+o)*(i*a)+(-3*e+3*r-2*s-o)*a+s*i+e}}},r.version="18.5.0",r}()},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=function(){this._tweens={},this._tweensAddedDuringUpdate={}};n.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var r=Object.keys(this._tweens);if(0===r.length)return!1;for(t=void 0!==t?t:s.now();r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var i=this._tweens[r[n]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[r[n]])}r=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var i,s=new n;s.Group=n,s._nextId=0,s.nextId=function(){return s._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?s.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?s.now=self.performance.now.bind(self.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(t,e){this._isPaused=!1,this._pauseStart=null,this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?s.now()+parseFloat(t):t:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(void 0===this._valuesStart[e]&&(this._valuesStart[e]=this._object[e]),this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},pause:function(t){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===t?s.now():t,this._group.remove(this)),this},resume:function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?s.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,r,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r,n=this._easingFunction(r),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,s=this._valuesEnd[e];s instanceof Array?this._object[e]=this._interpolationFunction(s,n):("string"==typeof s&&(s="+"===s.charAt(0)||"-"===s.charAt(0)?i+parseFloat(s):parseFloat(s)),"number"==typeof s&&(this._object[e]=i+(s-i)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var o=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=o}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,A=this._chainedTweens.length;a<A;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}return!0}},s.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-s.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*s.Easing.Bounce.In(2*t):.5*s.Easing.Bounce.Out(2*t-1)+.5}}},s.Interpolation={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),o=s.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],n):e>1?o(t[r],t[r-1],r-n):o(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,o=s.Interpolation.Utils.Bernstein,a=0;a<=n;a++)r+=i(1-e,n-a)*i(e,a)*t[a]*o(n,a);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),o=s.Interpolation.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(i=Math.floor(n=r*(1+e))),o(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[r]-(o(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):o(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=s.Interpolation.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var r=t;r>1;r--)e*=r;return i[t]=e,e}),CatmullRom:function(t,e,r,n,i){var s=.5*(r-t),o=.5*(n-e),a=i*i;return(2*e-2*r+s+o)*(i*a)+(-3*e+3*r-2*s-o)*a+s*i+e}}},s.version="18.5.0";const o=s},(t,e,r)=>{const n=r(338),i=r(343),{WebGLRenderer:s,CanvasRenderer:o,createCanvas:a}=r(14),A={cache:{},queuedGetView:async(t,e,r,{type:i,format:s})=>new Promise((async(o,u)=>{const l=A.cache[r.uuid][t];await l.queue.enqueue((async()=>{if(l.render.render(e),l.render.view.rgbReverse=!0,"canvas"===s){const t=a(r.width,r.height);t.getContext("2d").drawImage(l.render.view,0,0,r.width,r.height),o(t)}o(n.toBuffer({type:i,canvas:l.render.view}))}))})),async getView(t,e,r,n){if(!A.cache[r.uuid]||!A.cache[r.uuid][t]){const e=r.getConf("useGL")?new s({width:r.width,height:r.height}):new o({width:r.width,height:r.height});A.cache[r.uuid]={[t]:{render:e,queue:new i}}}return await A.queuedGetView(t,e,r,n)},release(t){A.cache[t]&&Object.values(A.cache[t]).forEach((t=>{t?.render?.destroy()})),delete A.cache[t]}};t.exports=A},(t,e,r)=>{"use strict";const n=r(493),i=r(499),s=r(500).default,o=r(312),a=r(377),A=r(527),{createCanvas:u,createImageData:l,Texture:c,Sprite:h,gl:f}=r(14),{isBrowser:p}=(r(338),r(13)),d=r(334),g=r(491);t.exports=class extends o{constructor(t){super({type:"trans",duration:1,...t});const{key:e,params:r,resizeMode:n="stretch"}=this.conf;this.key=e,this.params=r,this.resizeMode=n}get name(){return this.conf.name}get uuid(){return d(`${this.key}-${JSON.stringify(this.params)}`).substring(0,16)}createDisplay(){this.display=new h(c.fromCanvas(u(1,1)))}refresh(t){this.params=this.conf.params}async preProcessing(){this.width=this.rootConf("width"),this.height=this.rootConf("height"),this.canvas=u(this.width,this.height),this.display.texture.destroy(!0),this.display.attr({texture:c.fromCanvas(this.canvas)}),this.gl=a.getContext(this.creator()),this.createTransitionSource(this.key),this.createTransition(this.gl)}annotate(){this._duration=this.duration,this._absStartTime=this.absStartTime,this._absEndTime=this._absStartTime+this._duration,this.addTimelineCallback(),this.onTime=t=>{const e=t>=this._absStartTime&&t<this._absEndTime;return e?this.show():this.hide(),e}}get default(){return{duration:1}}get duration(){let t=this.time(this.conf.duration);return isNaN(t)?this.time(this.default.duration):t}get startTime(){return Math.max(0,this.prevSibling?.endTime-.5*this.duration||0)}get endTime(){return Math.max(0,this.prevSibling?.endTime||0)}prepareMaterial(){const t=this._absStartTime+.5*this._duration;this.prevSibling?.allNodes.map((e=>{["audio","speech"].includes(e.type)&&(e.audioEndTime=t)})),this.nextSibling?.allNodes.map((e=>{["audio","speech"].includes(e.type)&&(e.audioStartTime=t)}))}async getSnapshotBuffer(t){if(!t)return;t?.texture?.baseTexture&&t.texture.baseTexture.update();const e=p?"canvas":"raw";return await g.getView("trans",t,this.creator(),{type:e})}async drawing(t=0,e=0){if(!this.display)return!1;const r=.001*t;if(!this.onTime(r))return e>0&&(this.prevSibling?.resetMute&&this.prevSibling.resetMute(),this.nextSibling?.resetMute&&this.nextSibling.resetMute()),!1;const n=this.prevSibling?.display,i=this.nextSibling?.display,s=await this.render({prevDisplay:n,nextDisplay:i,time:r});return s&&this.canvas.getContext("2d").putImageData(s,0,0),this.display.texture.baseTexture.update(),(r-this._absStartTime)/this._duration<.5?(this.prevSibling?.mute&&this.prevSibling.mute(!1),this.nextSibling?.mute&&this.nextSibling.mute(!0)):(this.prevSibling?.mute&&this.prevSibling.mute(!0),this.nextSibling?.mute&&this.nextSibling.mute(!1)),!0}async getDisplay(t,e){const r=await this.getPreview(t,{...e,format:"canvas"});if(!r)throw new Error("null");return new h(c.fromCanvas(r))}async getPreview(t,e){const r=await(this.prevSibling?.getDisplay(t,{timing:"abs"})),n=await(this.nextSibling?.getDisplay(t,{timing:"abs"})),i=await this.render({prevDisplay:r,nextDisplay:n,time:t}),{width:s,height:o}=this,a=u(s,o),A=a.getContext("2d");i&&A.putImageData(i,0,0);const l={x:0,y:0,w:s,h:o};return this.subImage(a,l,e)}createTransitionSource(t){const e=A.getShaderByName(t);return this.source=e,e}createTransition(t){if(this.transition)return;const{resizeMode:e}=this;return this.createBuffer(t),this.transition=s(t,this.source,{resizeMode:e}),this.transition}createBuffer(t){this.buffer||(t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,p),this.buffer=n(t,[-1,-1,-1,4,4,-1],t.ARRAY_BUFFER,t.STATIC_DRAW))}async render({prevDisplay:t,nextDisplay:e,time:r}){const n=(r-this._absStartTime)/this._duration,{gl:s,transition:o,params:A}=this,u=s.drawingBufferWidth,c=s.drawingBufferHeight,h=await this.getSnapshotBuffer(t)||new Int16Array(u*c*4),f=await this.getSnapshotBuffer(e)||new Int16Array(u*c*4);s.clear(s.COLOR_BUFFER_BIT);const p=await a.getPixels({type:"raw",data:h,width:u,height:c}),d=await a.getPixels({type:"raw",data:f,width:u,height:c}),g=i(s,p);g.minFilter=s.LINEAR,g.magFilter=s.LINEAR;const m=i(s,d);m.minFilter=s.LINEAR,m.magFilter=s.LINEAR,o.draw(n,g,m,u,c,A),g.dispose(),m.dispose();const v=a.getPixelsByteArray({gl:s,width:u,height:c,flip:!0});return l(new Uint8ClampedArray(v.buffer),u,c)}destroy(){this.buffer?.dispose(),this.transition?.dispose(),this.gl=null,this.source=null,this.buffer=null,this.transition=null,super.destroy()}}},(t,e,r)=>{"use strict";var n=r(494),i=r(498),s=r(238),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function a(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}var A=a.prototype;function u(t,e,r,n,i,s){var o=i.length*i.BYTES_PER_ELEMENT;if(s<0)return t.bufferData(e,i,n),o;if(o+s>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,s,i),r}function l(t,e){for(var r=n.malloc(t.length,e),i=t.length,s=0;s<i;++s)r[s]=t[s];return r}A.bind=function(){this.gl.bindBuffer(this.type,this.handle)},A.unbind=function(){this.gl.bindBuffer(this.type,null)},A.dispose=function(){this.gl.deleteBuffer(this.handle)},A.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var r=t.dtype;if(o.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16"),r===t.dtype&&function(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=u(this.gl,this.type,this.length,this.usage,t.data,e):this.length=u(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var a=n.malloc(t.size,r),A=s(a,t.shape);i.assign(A,t),this.length=u(this.gl,this.type,this.length,this.usage,e<0?a:a.subarray(0,t.size),e),n.free(a)}}else if(Array.isArray(t)){var c;c=this.type===this.gl.ELEMENT_ARRAY_BUFFER?l(t,"uint16"):l(t,"float32"),this.length=u(this.gl,this.type,this.length,this.usage,e<0?c:c.subarray(0,t.length),e),n.free(c)}else if("object"==typeof t&&"number"==typeof t.length)this.length=u(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=function(t,e,r,n){if(r=r||t.ARRAY_BUFFER,n=n||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==t.DYNAMIC_DRAW&&n!==t.STATIC_DRAW&&n!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),s=new a(t,r,i,0,n);return s.update(e),s}},(t,e,r)=>{"use strict";var n=r(495),i=r(496),s=r(497).Buffer;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!=typeof Uint8ClampedArray,a="undefined"!=typeof BigUint64Array,A="undefined"!=typeof BigInt64Array,u=r.g.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=i([32,0])),u.BIGUINT64||(u.BIGUINT64=i([32,0])),u.BIGINT64||(u.BIGINT64=i([32,0])),u.BUFFER||(u.BUFFER=i([32,0]));var l=u.DATA,c=u.BUFFER;function h(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);l[r].push(t)}}function f(t){t=n.nextPow2(t);var e=n.log2(t),r=l[e];return r.length>0?r.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(f(t),0,t)}function d(t){return new Uint16Array(f(2*t),0,t)}function g(t){return new Uint32Array(f(4*t),0,t)}function m(t){return new Int8Array(f(t),0,t)}function v(t){return new Int16Array(f(2*t),0,t)}function y(t){return new Int32Array(f(4*t),0,t)}function _(t){return new Float32Array(f(4*t),0,t)}function b(t){return new Float64Array(f(8*t),0,t)}function w(t){return o?new Uint8ClampedArray(f(t),0,t):p(t)}function B(t){return a?new BigUint64Array(f(8*t),0,t):null}function x(t){return A?new BigInt64Array(f(8*t),0,t):null}function E(t){return new DataView(f(t),0,t)}function C(t){t=n.nextPow2(t);var e=n.log2(t),r=c[e];return r.length>0?r.pop():new s(t)}e.free=function(t){if(s.isBuffer(t))c[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);l[r].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){h(t.buffer)},e.freeArrayBuffer=h,e.freeBuffer=function(t){c[n.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return f(t);switch(e){case"uint8":return p(t);case"uint16":return d(t);case"uint32":return g(t);case"int8":return m(t);case"int16":return v(t);case"int32":return y(t);case"float":case"float32":return _(t);case"double":case"float64":return b(t);case"uint8_clamped":return w(t);case"bigint64":return x(t);case"biguint64":return B(t);case"buffer":return C(t);case"data":case"dataview":return E(t);default:return null}return null},e.mallocArrayBuffer=f,e.mallocUint8=p,e.mallocUint16=d,e.mallocUint32=g,e.mallocInt8=m,e.mallocInt16=v,e.mallocInt32=y,e.mallocFloat32=e.mallocFloat=_,e.mallocFloat64=e.mallocDouble=b,e.mallocUint8Clamped=w,e.mallocBigUint64=B,e.mallocBigInt64=x,e.mallocDataView=E,e.mallocBuffer=C,e.clearCache=function(){for(var t=0;t<32;++t)u.UINT8[t].length=0,u.UINT16[t].length=0,u.UINT32[t].length=0,u.INT8[t].length=0,u.INT16[t].length=0,u.INT32[t].length=0,u.FLOAT[t].length=0,u.DOUBLE[t].length=0,u.BIGUINT64[t].length=0,u.BIGINT64[t].length=0,u.UINT8C[t].length=0,l[t].length=0,c[t].length=0}},(t,e)=>{"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},t=>{"use strict";function e(t,r,n){var i=0|t[n];if(i<=0)return[];var s,o=new Array(i);if(n===t.length-1)for(s=0;s<i;++s)o[s]=r;else for(s=0;s<i;++s)o[s]=e(t,r,n+1);return o}t.exports=function(t,r){switch(void 0===r&&(r=0),typeof t){case"number":if(t>0)return function(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}},(t,e,r)=>{"use strict";var n=r(243),i=r(244),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=A,e.SlowBuffer=function(t){return+t!=t&&(t=0),A.alloc(+t)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,A.prototype),e}function A(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!A.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|d(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(H(t,Uint8Array)){var e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(H(t,ArrayBuffer)||t&&H(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(H(t,SharedArrayBuffer)||t&&H(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return A.from(n,e,r);var i=function(t){if(A.isBuffer(t)){var e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||j(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return A.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),a(t<0?0:0|p(t))}function h(t){for(var e=t.length<0?0:0|p(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,A.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function d(t,e){if(A.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||H(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(t).length;default:if(i)return n?-1:Q(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return F(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),j(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=A.from(e,n)),A.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var s,o=1,a=t.length,A=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,A/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===A)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+A>a&&(r=a-A),s=r;s>=0;s--){for(var c=!0,h=0;h<A;h++)if(u(t,s+h)!==u(e,h)){c=!1;break}if(c)return s}return-1}function _(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(j(a))return o;t[r+o]=a}return o}function b(t,e,r,n){return k(Q(e,t.length-r),t,r,n)}function w(t,e,r,n){return k(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function B(t,e,r,n){return k(N(e),t,r,n)}function x(t,e,r,n){return k(function(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,A,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&(A=(31&u)<<6|63&s)>127&&(l=A);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&(A=(15&u)<<12|(63&s)<<6|63&o)>2047&&(A<55296||A>57343)&&(l=A);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(A=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&A<1114112&&(l=A)}null===l?(l=65533,c=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=c}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.kMaxLength=o,A.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),A.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},A.allocUnsafe=function(t){return c(t)},A.allocUnsafeSlow=function(t){return c(t)},A.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==A.prototype},A.compare=function(t,e){if(H(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),H(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(t)||!A.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},A.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return A.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=A.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(H(s,Uint8Array))i+s.length>n.length?A.from(s).copy(n,i):Uint8Array.prototype.set.call(n,s,i);else{if(!A.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i)}i+=s.length}return n},A.byteLength=d,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},A.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},A.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},A.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(t){if(!A.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===A.compare(this,t)},A.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(A.prototype[s]=A.prototype.inspect),A.prototype.compare=function(t,e,r,n,i){if(H(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),!A.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),u=this.slice(n,i),l=t.slice(e,r),c=0;c<a;++c)if(u[c]!==l[c]){s=u[c],o=l[c];break}return s<o?-1:o<s?1:0},A.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},A.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},A.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},A.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":case"latin1":case"binary":return w(this,t,e,r);case"base64":return B(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function F(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function S(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=V[t[s]];return i}function U(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!A.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(t,e,r,n,s){return e=+e,r>>>=0,s||P(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,s){return e=+e,r>>>=0,s||P(t,0,r,8),i.write(t,e,r,n,52,8),r+8}A.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,A.prototype),n},A.prototype.readUintLE=A.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},A.prototype.readUintBE=A.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},A.prototype.readUint8=A.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},A.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},A.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},A.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},A.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},A.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},A.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},A.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},A.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!0,23,4)},A.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!1,23,4)},A.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!0,52,8)},A.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},A.prototype.writeUint8=A.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},A.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},A.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},A.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},A.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},A.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},A.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},A.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},A.prototype.writeFloatLE=function(t,e,r){return R(this,t,e,!0,r)},A.prototype.writeFloatBE=function(t,e,r){return R(this,t,e,!1,r)},A.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},A.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},A.prototype.copy=function(t,e,r,n){if(!A.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},A.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!A.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var o=A.isBuffer(t)?t:A.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};var D=/[^+/0-9A-Za-z-_]/g;function Q(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function N(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function k(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function H(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function j(t){return t!=t}var V=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},(t,e,r)=>{"use strict";var n=r(247),i={body:"",args:[],thisVars:[],localVars:[]};function s(t){if(!t)return i;for(var e=0;e<t.args.length;++e){var r=t.args[e];t.args[e]=0===e?{name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function o(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return n({args:t.args,pre:s(t.pre),body:s(t.body),post:s(t.proc),funcName:t.funcName})}(t))}var a={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in a){var r=a[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var A={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in A){var r=A[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in u){var r=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var r=l[t];e[r]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),e[r+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var c=["max","min","atan2","pow"];!function(){for(var t=0;t<c.length;++t){var r=c[t];e[r]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),e[r+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),e[r+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),e[r+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var r=h[t];e[r+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),e[r+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),e[r+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),e[r+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),e.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},(t,e,r)=>{"use strict";var n=r(238),i=r(498),s=r(494);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||u(t),"number"==typeof arguments[1])return m(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=l(e)?e:e.raw;if(r)return v(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return y(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,a=null,A=null;function u(t){o=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],a=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],A=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function l(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var c=function(t,e){i.muls(t,e,255)};function h(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function f(t,e,r,n,i,s){this.gl=t,this.handle=e,this.format=i,this.type=s,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,a=[this._wrapS,this._wrapT];Object.defineProperties(a,[{get:function(){return o._wrapS},set:function(t){return o.wrapS=t}},{get:function(){return o._wrapT},set:function(t){return o.wrapT=t}}]),this._wrapVector=a;var A=[this._shape[0],this._shape[1]];Object.defineProperties(A,[{get:function(){return o._shape[0]},set:function(t){return o.width=t}},{get:function(){return o._shape[1]},set:function(t){return o.height=t}}]),this._shapeVector=A}var p=f.prototype;function d(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function g(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function m(t,e,r,n,i){var s=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>s||r<0||r>s)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=g(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new f(t,o,e,r,n,i)}function v(t,e,r,n,i,s){var o=g(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,s,e),new f(t,o,r,n,i,s)}function y(t,e){var r=e.dtype,o=e.shape.slice(),a=t.getParameter(t.MAX_TEXTURE_SIZE);if(o[0]<0||o[0]>a||o[1]<0||o[1]>a)throw new Error("gl-texture2d: Invalid texture size");var A=d(o,e.stride.slice()),u=0;"float32"===r?u=t.FLOAT:"float64"===r?(u=t.FLOAT,A=!1,r="float32"):"uint8"===r?u=t.UNSIGNED_BYTE:(u=t.UNSIGNED_BYTE,A=!1,r="uint8");var l,h,p=0;if(2===o.length)p=t.LUMINANCE,o=[o[0],o[1],1],e=n(e.data,o,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==o.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===o[2])p=t.ALPHA;else if(2===o[2])p=t.LUMINANCE_ALPHA;else if(3===o[2])p=t.RGB;else{if(4!==o[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=t.RGBA}}u!==t.FLOAT||t.getExtension("OES_texture_float")||(u=t.UNSIGNED_BYTE,A=!1);var m=e.size;if(A)l=0===e.offset&&e.data.length===m?e.data:e.data.subarray(e.offset,e.offset+m);else{var v=[o[2],o[2]*o[0],1];h=s.malloc(m,r);var y=n(h,o,v,0);"float32"!==r&&"float64"!==r||u!==t.UNSIGNED_BYTE?i.assign(y,e):c(y,e),l=h.subarray(0,m)}var _=g(t);return t.texImage2D(t.TEXTURE_2D,0,p,o[0],o[1],0,p,u,l),A||s.free(h),new f(t,_,o[0],o[1],p,u)}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&o.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),a.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&o.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),a.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),A.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),A.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(A.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return h(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return h(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,h(this,this._shape[0],t),t}}}),p.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},p.setPixels=function(t,e,r,o){var a=this.gl;this.bind(),Array.isArray(e)?(o=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),o=o||0;var A=l(t)?t:t.raw;if(A)this._mipLevels.indexOf(o)<0?(a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,this.type,A),this._mipLevels.push(o)):a.texSubImage2D(a.TEXTURE_2D,o,e,r,this.format,this.type,A);else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>o||r+t.shape[0]>this._shape[0]>>>o||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,r,o,a,A,u,l){var h=l.dtype,f=l.shape.slice();if(f.length<2||f.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,g=0,m=d(f,l.stride.slice());if("float32"===h?p=t.FLOAT:"float64"===h?(p=t.FLOAT,m=!1,h="float32"):"uint8"===h?p=t.UNSIGNED_BYTE:(p=t.UNSIGNED_BYTE,m=!1,h="uint8"),2===f.length)g=t.LUMINANCE,f=[f[0],f[1],1],l=n(l.data,f,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==f.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===f[2])g=t.ALPHA;else if(2===f[2])g=t.LUMINANCE_ALPHA;else if(3===f[2])g=t.RGB;else{if(4!==f[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=t.RGBA}f[2]}if(g!==t.LUMINANCE&&g!==t.ALPHA||a!==t.LUMINANCE&&a!==t.ALPHA||(g=a),g!==a)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var v=l.size,y=u.indexOf(o)<0;if(y&&u.push(o),p===A&&m)0===l.offset&&l.data.length===v?y?t.texImage2D(t.TEXTURE_2D,o,a,f[0],f[1],0,a,A,l.data):t.texSubImage2D(t.TEXTURE_2D,o,e,r,f[0],f[1],a,A,l.data):y?t.texImage2D(t.TEXTURE_2D,o,a,f[0],f[1],0,a,A,l.data.subarray(l.offset,l.offset+v)):t.texSubImage2D(t.TEXTURE_2D,o,e,r,f[0],f[1],a,A,l.data.subarray(l.offset,l.offset+v));else{var _;_=A===t.FLOAT?s.mallocFloat32(v):s.mallocUint8(v);var b=n(_,f,[f[2],f[2]*f[0],1]);p===t.FLOAT&&A===t.UNSIGNED_BYTE?c(b,l):i.assign(b,l),y?t.texImage2D(t.TEXTURE_2D,o,a,f[0],f[1],0,a,A,_.subarray(0,v)):t.texSubImage2D(t.TEXTURE_2D,o,e,r,f[0],f[1],a,A,_.subarray(0,v)),A===t.FLOAT?s.freeFloat32(_):s.freeUint8(_)}}(a,e,r,o,this.format,this.type,this._mipLevels,t)}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=(n=r(501))&&n.__esModule?n:{default:n},o="attribute vec2 _p;\nvarying vec2 _uv;\nvoid main() {\ngl_Position = vec4(_p,0.0,1.0);\n_uv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));\n}",a={cover:function(t){return".5+(uv-.5)*vec2(min(ratio/"+t+",1.),min("+t+"/ratio,1.))"},contain:function(t){return".5+(uv-.5)*vec2(max(ratio/"+t+",1.),max("+t+"/ratio,1.))"},stretch:function(){return"uv"}},A=function(t,e){var r=a[e];if(!r)throw new Error("invalid resizeMode="+e);return"precision highp float;varying vec2 _uv;uniform sampler2D from, to;uniform float progress, ratio, _fromR, _toR;vec4 getFromColor(vec2 uv){return texture2D(from,"+r("_fromR")+");}vec4 getToColor(vec2 uv){return texture2D(to,"+r("_toR")+");}\n"+t+"\nvoid main(){gl_FragColor=transition(_uv);}"};e.default=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i({resizeMode:"cover"},r),a=n.resizeMode,u=(0,s.default)(t,o,A(e.glsl,a));return u.bind(),u.attributes._p.pointer(),{draw:function(r,n,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.drawingBufferWidth,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.drawingBufferHeight,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};u.bind(),u.uniforms.ratio=s/o,u.uniforms.progress=r,u.uniforms.from=n.bind(0),u.uniforms.to=i.bind(1),u.uniforms._fromR=n.shape[0]/n.shape[1],u.uniforms._toR=i.shape[0]/i.shape[1];var A=2;for(var l in e.paramsTypes){var c=l in a?a[l]:e.defaultParams[l];if("sampler2D"===e.paramsTypes[l])if(c){if("function"!=typeof c.bind)throw new Error("uniform["+l+"]: A gl-texture2d API-like object was expected");u.uniforms[l]=c.bind(A++)}else console.warn("uniform["+l+"]: A texture MUST be defined for uniform sampler2D of a texture");else u.uniforms[l]=c}t.drawArrays(t.TRIANGLES,0,3)},dispose:function(){u.dispose()}}}},(t,e,r)=>{"use strict";var n=r(502),i=r(505),s=r(503),o=r(506),a=r(526),A=r(504);function u(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var l=u.prototype;function c(t,e){return t.name<e.name?-1:1}l.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e>r)for(t=r;t<e;t++)this.gl.enableVertexAttribArray(t);else if(r>e)for(t=e;t<r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},l.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},l.update=function(t,e,r,u){if(!e||1===arguments.length){var l=t;t=l.vertex,e=l.fragment,r=l.uniforms,u=l.attributes}var h=this,f=h.gl,p=h._vref;h._vref=o.shader(f,f.VERTEX_SHADER,t),p&&p.dispose(),h.vertShader=h._vref.shader;var d=this._fref;if(h._fref=o.shader(f,f.FRAGMENT_SHADER,e),d&&d.dispose(),h.fragShader=h._fref.shader,!r||!u){var g=f.createProgram();if(f.attachShader(g,h.fragShader),f.attachShader(g,h.vertShader),f.linkProgram(g),!f.getProgramParameter(g,f.LINK_STATUS)){var m=f.getProgramInfoLog(g);throw new A(m,"Error linking program:"+m)}r=r||a.uniforms(f,g),u=u||a.attributes(f,g),f.deleteProgram(g)}(u=u.slice()).sort(c);var v,y=[],_=[],b=[];for(v=0;v<u.length;++v){var w=u[v];if(w.type.indexOf("mat")>=0){for(var B=0|w.type.charAt(w.type.length-1),x=new Array(B),E=0;E<B;++E)x[E]=b.length,_.push(w.name+"["+E+"]"),"number"==typeof w.location?b.push(w.location+E):Array.isArray(w.location)&&w.location.length===B&&"number"==typeof w.location[E]?b.push(0|w.location[E]):b.push(-1);y.push({name:w.name,type:w.type,locations:x})}else y.push({name:w.name,type:w.type,locations:[b.length]}),_.push(w.name),"number"==typeof w.location?b.push(0|w.location):b.push(-1)}var C=0;for(v=0;v<b.length;++v)if(b[v]<0){for(;b.indexOf(C)>=0;)C+=1;b[v]=C}var T=new Array(r.length);function I(){h.program=o.program(f,h._vref,h._fref,_,b);for(var t=0;t<r.length;++t)T[t]=f.getUniformLocation(h.program,r[t].name)}I(),h._relink=I,h.types={uniforms:s(r),attributes:s(u)},h.attributes=i(f,h,y,b),Object.defineProperty(h,"uniforms",n(f,h,r,T))},t.exports=function(t,e,r,n,i){var s=new u(t);return s.update(e,r,n,i),s}},(t,e,r)=>{"use strict";var n=r(503),i=r(504);function s(t){return function(){return t}}function o(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}t.exports=function(t,e,r,a){function A(e){return function(n){for(var s=u("",e),o=0;o<s.length;++o){var A=s[o],l=A[0],c=A[1];if(a[c]){var h=n;if("string"==typeof l&&(0===l.indexOf(".")||0===l.indexOf("["))){var f=l;if(0===l.indexOf(".")&&(f=l.slice(1)),f.indexOf("]")===f.length-1){var p=f.indexOf("["),d=f.slice(0,p),g=f.slice(p+1,f.length-1);h=d?n[d][g]:n[g]}else h=n[f]}var m,v=r[c].type;switch(v){case"bool":case"int":case"sampler2D":case"samplerCube":t.uniform1i(a[c],h);break;case"float":t.uniform1f(a[c],h);break;default:var y=v.indexOf("vec");if(!(0<=y&&y<=1&&v.length===4+y)){if(0===v.indexOf("mat")&&4===v.length){if((m=v.charCodeAt(v.length-1)-48)<2||m>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+v);t["uniformMatrix"+m+"fv"](a[c],!1,h);break}throw new i("","Unknown uniform data type for "+name+": "+v)}if((m=v.charCodeAt(v.length-1)-48)<2||m>4)throw new i("","Invalid data type");switch(v.charAt(0)){case"b":case"i":t["uniform"+m+"iv"](a[c],h);break;case"v":t["uniform"+m+"fv"](a[c],h);break;default:throw new i("","Unrecognized data type for vector "+name+": "+v)}}}}}}function u(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var i=e[n],s=t;parseInt(n)+""===n?s+="["+n+"]":s+="."+n,"object"==typeof i?r.push.apply(r,u(s,i)):r.push([s,i])}return r}function l(t,e,n){if("object"==typeof n){var u=c(n);Object.defineProperty(t,e,{get:s(u),set:A(n),enumerable:!0,configurable:!1})}else a[n]?Object.defineProperty(t,e,{get:(l=n,function(t,e,r){return t.getUniform(e.program,r[l])}),set:A(n),enumerable:!0,configurable:!1}):t[e]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){if((r=t.charCodeAt(t.length-1)-48)<2||r>4)throw new i("","Invalid data type");return"b"===t.charAt(0)?o(r,!1):o(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r;if((r=t.charCodeAt(t.length-1)-48)<2||r>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+t);return o(r*r,0)}throw new i("","Unknown uniform data type for "+name+": "+t)}}(r[n].type);var l}function c(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)l(e,r,t[r])}else for(var n in e={},t)l(e,n,t[n]);return e}var h=n(r,!0);return{get:s(c(h)),set:A(h),enumerable:!0,configurable:!0}}},t=>{"use strict";t.exports=function(t,e){for(var r={},n=0;n<t.length;++n)for(var i=t[n].name.split("."),s=r,o=0;o<i.length;++o){var a=i[o].split("[");if(a.length>1){a[0]in s||(s[a[0]]=[]),s=s[a[0]];for(var A=1;A<a.length;++A){var u=parseInt(a[A]);A<a.length-1||o<i.length-1?(u in s||(A<a.length-1?s[u]=[]:s[u]={}),s=s[u]):s[u]=e?n:t[n].type}}else o<i.length-1?(a[0]in s||(s[a[0]]={}),s=s[a[0]]):s[a[0]]=e?n:t[n].type}return r}},t=>{function e(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}e.prototype=new Error,e.prototype.name="GLError",e.prototype.constructor=e,t.exports=e},(t,e,r)=>{"use strict";t.exports=function(t,e,r,i){for(var s={},o=0,u=r.length;o<u;++o){var l=r[o],c=l.name,h=l.type,f=l.locations;switch(h){case"bool":case"int":case"float":a(t,e,f[0],i,1,s,c);break;default:if(h.indexOf("vec")>=0){if((p=h.charCodeAt(h.length-1)-48)<2||p>4)throw new n("","Invalid data type for attribute "+c+": "+h);a(t,e,f[0],i,p,s,c)}else{if(!(h.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+c+": "+h);var p;if((p=h.charCodeAt(h.length-1)-48)<2||p>4)throw new n("","Invalid data type for attribute "+c+": "+h);A(t,e,f,i,p,s,c)}}}return s};var n=r(504);function i(t,e,r,n,i,s){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=i,this._constFunc=s}var s=i.prototype;s.pointer=function(t,e,r,n){var i=this,s=i._gl,o=i._locations[i._index];s.vertexAttribPointer(o,i._dimension,t||s.FLOAT,!!e,r||0,n||0),s.enableVertexAttribArray(o)},s.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}});var o=[function(t,e,r){return void 0===r.length?t.vertexAttrib1f(e,r):t.vertexAttrib1fv(e,r)},function(t,e,r,n){return void 0===r.length?t.vertexAttrib2f(e,r,n):t.vertexAttrib2fv(e,r)},function(t,e,r,n,i){return void 0===r.length?t.vertexAttrib3f(e,r,n,i):t.vertexAttrib3fv(e,r)},function(t,e,r,n,i,s){return void 0===r.length?t.vertexAttrib4f(e,r,n,i,s):t.vertexAttrib4fv(e,r)}];function a(t,e,r,n,s,a,A){var u=o[s],l=new i(t,e,r,n,s,u);Object.defineProperty(a,A,{set:function(e){return t.disableVertexAttribArray(n[r]),u(t,n[r],e),e},get:function(){return l},enumerable:!0})}function A(t,e,r,n,i,s,o){for(var A=new Array(i),u=new Array(i),l=0;l<i;++l)a(t,e,r[l],n,i,A,l),u[l]=A[l];Object.defineProperty(A,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<i;++e)u[e].location=t[e];else for(e=0;e<i;++e)u[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e<i;++e)t[e]=n[r[e]];return t},enumerable:!0}),A.pointer=function(e,s,o,a){e=e||t.FLOAT,s=!!s,o=o||i*i,a=a||0;for(var A=0;A<i;++A){var u=n[r[A]];t.vertexAttribPointer(u,i,e,s,o,a+A*i),t.enableVertexAttribArray(u)}};var c=new Array(i),h=t["vertexAttrib"+i+"fv"];Object.defineProperty(s,o,{set:function(e){for(var s=0;s<i;++s){var o=n[r[s]];if(t.disableVertexAttribArray(o),Array.isArray(e[0]))h.call(t,o,e[s]);else{for(var a=0;a<i;++a)c[a]=e[i*s+a];h.call(t,o,c)}}return e},get:function(){return A},enumerable:!0})}},(t,e,r)=>{"use strict";e.shader=function(t,e,r){return l(t).getShaderReference(e,r)},e.program=function(t,e,r,n,i){return l(t).getProgram(e,r,n,i)};var n=r(504),i=r(507),s=new("undefined"==typeof WeakMap?r(523):WeakMap),o=0;function a(t,e,r,n,i,s,o){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=s,this.programs=[],this.cache=o}function A(t){this.gl=t,this.shaders=[{},{}],this.programs={}}a.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,i=r.length;n<i;++n){var s=t.programs[r[n]];s&&(delete t.programs[n],e.deleteProgram(s))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var u=A.prototype;function l(t){var e=s.get(t);return e||(e=new A(t),s.set(t,e)),e}u.getShaderReference=function(t,e){var r=this.gl,s=this.shaders[t===r.FRAGMENT_SHADER|0],A=s[e];if(A&&r.isShader(A.shader))A.count+=1;else{var u=function(t,e,r){var s=t.createShader(e);if(t.shaderSource(s,r),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(s);try{var a=i(o,r,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new n(o,"Error compiling shader:\n"+o)}throw new n(o,a.short,a.long)}return s}(r,t,e);A=s[e]=new a(o++,e,t,u,[],1,this)}return A},u.getProgram=function(t,e,r,i){var s=[t.id,e.id,r.join(":"),i.join(":")].join("@"),o=this.programs[s];return o&&this.gl.isProgram(o)||(this.programs[s]=o=function(t,e,r,i,s){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,r);for(var a=0;a<i.length;++a)t.bindAttribLocation(o,s[a],i[a]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var A=t.getProgramInfoLog(o);throw new n(A,"Error linking program: "+A)}return o}(this.gl,t.shader,e.shader,r,i),t.programs.push(s),e.programs.push(s)),o}},(t,e,r)=>{var n=r(508).sprintf,i=r(509),s=r(511),o=r(520);t.exports=function(t,e,r){"use strict";var a=s(e)||"of unknown name (see npm glsl-shader-name)",A="unknown type";void 0!==r&&(A=r===i.FRAGMENT_SHADER?"fragment":"vertex");for(var u=n("Error compiling %s shader %s:\n",A,a),l=n("%s%s",u,t),c=t.split("\n"),h={},f=0;f<c.length;f++){var p=c[f];if(""!==p&&"\0"!==p){var d=parseInt(p.split(":")[2]);if(isNaN(d))throw new Error(n("Could not parse error: %s",p));h[d]=p}}var g=o(e).split("\n");for(f=0;f<g.length;f++)if(h[f+3]||h[f+2]||h[f+1]){if(u+=g[f]+"\n",h[f+1]){var m=h[f+1];m=m.substr(m.split(":",3).join(":").length+1).trim(),u+=n("^^^ %s\n\n",m)}}return{long:u.trim(),short:l.trim()}}},(t,e,r)=>{var n;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(t){return a(u(t),arguments)}function o(t,e){return s.apply(null,[t].concat(e||[]))}function a(t,e){var r,n,o,a,A,u,l,c,h,f=1,p=t.length,d="";for(n=0;n<p;n++)if("string"==typeof t[n])d+=t[n];else if("object"==typeof t[n]){if((a=t[n]).keys)for(r=e[f],o=0;o<a.keys.length;o++){if(null==r)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[o],a.keys[o-1]));r=r[a.keys[o]]}else r=a.param_no?e[a.param_no]:e[f++];if(i.not_type.test(a.type)&&i.not_primitive.test(a.type)&&r instanceof Function&&(r=r()),i.numeric_arg.test(a.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(s("[sprintf] expecting number but found %T",r));switch(i.number.test(a.type)&&(c=r>=0),a.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,a.width?parseInt(a.width):0);break;case"e":r=a.precision?parseFloat(r).toExponential(a.precision):parseFloat(r).toExponential();break;case"f":r=a.precision?parseFloat(r).toFixed(a.precision):parseFloat(r);break;case"g":r=a.precision?String(Number(r.toPrecision(a.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=a.precision?r.substring(0,a.precision):r;break;case"t":r=String(!!r),r=a.precision?r.substring(0,a.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=a.precision?r.substring(0,a.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=a.precision?r.substring(0,a.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}i.json.test(a.type)?d+=r:(!i.number.test(a.type)||c&&!a.sign?h="":(h=c?"+":"-",r=r.toString().replace(i.sign,"")),u=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",l=a.width-(h+r).length,A=a.width&&l>0?u.repeat(l):"",d+=a.align?h+r+A:"0"===u?h+A+r:A+h+r)}return d}var A=Object.create(null);function u(t){if(A[t])return A[t];for(var e,r=t,n=[],s=0;r;){if(null!==(e=i.text.exec(r)))n.push(e[0]);else if(null!==(e=i.modulo.exec(r)))n.push("%");else{if(null===(e=i.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){s|=1;var o=[],a=e[2],u=[];if(null===(u=i.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(u[1]);""!==(a=a.substring(u[0].length));)if(null!==(u=i.key_access.exec(a)))o.push(u[1]);else{if(null===(u=i.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(u[1])}e[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return A[t]=n}e.sprintf=s,e.vsprintf=o,"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=o,void 0===(n=function(){return{sprintf:s,vsprintf:o}}.call(e,r,e,t))||(t.exports=n))}()},(t,e,r)=>{var n=r(510);t.exports=function(t){return n[t]}},t=>{t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},(t,e,r)=>{var n=r(512),i=r(519);t.exports=function(t){for(var e=Array.isArray(t)?t:n(t),r=0;r<e.length;r++){var s=e[r];if("preprocessor"===s.type){var o=s.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(o&&o[2]){var a=o[1],A=o[2];return(a?i(A):A).trim()}}}}},(t,e,r)=>{var n=r(513);t.exports=function(t,e){var r=n(e),i=[];return(i=i.concat(r(t))).concat(r(null))}},(t,e,r)=>{t.exports=function(t){var e,r,c,h=0,f=0,p=A,d=[],g=[],m=1,v=0,y=0,_=!1,b=!1,w="",B=s,x=n;"300 es"===(t=t||{}).version&&(B=a,x=o);var E={},C={};for(h=0;h<B.length;h++)E[B[h]]=!0;for(h=0;h<x.length;h++)C[x[h]]=!0;return function(t){return g=[],null!==t?function(t){var r;for(h=0,t.toString&&(t=t.toString()),w+=t.replace(/\r\n/g,"\n"),c=w.length;e=w[h],h<c;){switch(r=h,p){case 0:h=U();break;case 1:case 2:h=S();break;case 3:h=M();break;case 4:h=R();break;case 11:h=P();break;case 5:h=L();break;case u:h=D();break;case 9:h=F();break;case A:h=I()}r!==h&&("\n"===w[r]?(v=0,++m):++v)}return f+=h,w=w.slice(h),g}(t):(d.length&&T(d.join("")),p=10,T("(eof)"),g)};function T(t){t.length&&g.push({type:l[p],data:t,position:y,line:m,column:v})}function I(){return d=d.length?[]:d,"/"===r&&"*"===e?(y=f+h-1,p=0,r=e,h+1):"/"===r&&"/"===e?(y=f+h-1,p=1,r=e,h+1):"#"===e?(p=2,y=f+h,h):/\s/.test(e)?(p=9,y=f+h,h):(_=/\d/.test(e),b=/[^\w_]/.test(e),y=f+h,p=_?4:b?3:u,h)}function F(){return/[^\s]/g.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function S(){return"\r"!==e&&"\n"!==e||"\\"===r?(d.push(e),r=e,h+1):(T(d.join("")),p=A,h)}function U(){return"/"===e&&"*"===r?(d.push(e),T(d.join("")),p=A,h+1):(d.push(e),r=e,h+1)}function M(){if("."===r&&/\d/.test(e))return p=5,h;if("/"===r&&"*"===e)return p=0,h;if("/"===r&&"/"===e)return p=1,h;if("."===e&&d.length){for(;O(d););return p=5,h}if(";"===e||")"===e||"("===e){if(d.length)for(;O(d););return T(e),p=A,h+1}var t=2===d.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;O(d););return p=A,h}return d.push(e),r=e,h+1}function O(t){for(var e,r,n=0;;){if(e=i.indexOf(t.slice(0,t.length+n).join("")),r=i[e],-1===e){if(n--+t.length>0)continue;r=t.slice(0,1).join("")}return T(r),y+=r.length,(d=d.slice(r.length)).length}}function P(){return/[^a-fA-F0-9]/.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function R(){return"."===e||/[eE]/.test(e)?(d.push(e),p=5,r=e,h+1):"x"===e&&1===d.length&&"0"===d[0]?(p=11,d.push(e),r=e,h+1):/[^\d]/.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function L(){return"f"===e&&(d.push(e),r=e,h+=1),/[eE]/.test(e)?(d.push(e),r=e,h+1):("-"!==e&&"+"!==e||!/[eE]/.test(r))&&/[^\d]/.test(e)?(T(d.join("")),p=A,h):(d.push(e),r=e,h+1)}function D(){if(/[^\d\w_]/.test(e)){var t=d.join("");return p=C[t]?8:E[t]?7:6,T(d.join("")),p=A,h}return d.push(e),r=e,h+1}};var n=r(514),i=r(515),s=r(516),o=r(517),a=r(518),A=999,u=9999,l=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},t=>{t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},t=>{t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},t=>{t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},(t,e,r)=>{var n=r(514);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},(t,e,r)=>{var n=r(516);n=n.slice().filter((function(t){return!/^(gl\_|texture)/.test(t)})),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},t=>{t.exports=function(t){return atob(t)}},(t,e,r)=>{var n=r(521);t.exports=function(t,e,r){e="number"==typeof e?e:1,r=r||": ";var i=t.split(/\r?\n/),s=String(i.length+e-1).length;return i.map((function(t,i){var o=i+e,a=String(o).length;return n(o,s-a)+r+t})).join("\n")}},(t,e,r)=>{"use strict";var n=r(522);t.exports=function(t,e,r){return n(r=void 0!==r?r+"":" ",e)+t}},t=>{"use strict";var e,r="";t.exports=function(t,n){if("string"!=typeof t)throw new TypeError("expected a string");if(1===n)return t;if(2===n)return t+t;var i=t.length*n;if(e!==t||void 0===e)e=t,r="";else if(r.length>=i)return r.substr(0,i);for(;i>r.length&&n>1;)1&n&&(r+=t),n>>=1,t+=t;return r=(r+=t).substr(0,i)}},(t,e,r)=>{var n=r(524);t.exports=function(){var t=n();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}},(t,e,r)=>{var n=r(525);t.exports=function(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:n(e,t)}}},t=>{t.exports=function(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}},(t,e)=>{"use strict";e.uniforms=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=[],s=0;s<r;++s){var o=t.getActiveUniform(e,s);if(o){var a=i(t,o.type);if(o.size>1)for(var A=0;A<o.size;++A)n.push({name:o.name.replace("[0]","["+A+"]"),type:a});else n.push({name:o.name,type:a})}}return n},e.attributes=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=[],s=0;s<r;++s){var o=t.getActiveAttrib(e,s);o&&n.push({name:o.name,type:i(t,o.type)})}return n};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},n=null;function i(t,e){if(!n){var i=Object.keys(r);n={};for(var s=0;s<i.length;++s){var o=i[s];n[t[o]]=r[o]}}return n[e]}},(t,e,r)=>{"use strict";const n=r(528),i=r(347),s=r(531),o=r(532),a=r(533),A=r(534),u=r(535),l=r(536),c=r(537),h=r(538),f=r(539),p=r(540),d=r(541),g=r(542),m=r(543),v=r(544),y=r(545),_=r(546),b=r(547),w=r(548),B=r(549),x=r(550),E=r(551),C=r(552),T=[o,a,u,A,l,h,c,f,m,p,g,B,d,v,y,b,_,E,x,r(553),C,r(554),w],I={getShaderByName(t){let e=this.getFromArr(t,T);return e||(e=this.getFromArr(t,s)),e||"random"!=t.toLowerCase()||(e=this.getRandomShader()),e||(e=this.getFromArr("fade",s)),e},getFromArr(t,e){let r;return i(e,(e=>{e.name.toLowerCase()==t.toLowerCase()&&(r=e)})),r},getRandomShader:()=>n(s)};t.exports=I},(t,e,r)=>{var n=r(529),i=r(530),s=r(358);t.exports=function(t){return(s(t)?n:i)(t)}},(t,e,r)=>{var n=r(462);t.exports=function(t){var e=t.length;return e?t[n(0,e-1)]:void 0}},(t,e,r)=>{var n=r(529),i=r(464);t.exports=function(t){return n(i(t))}},t=>{t.exports=[{name:"Bounce",paramsTypes:{shadow_colour:"vec4",shadow_height:"float",bounces:"float"},defaultParams:{shadow_colour:[0,0,0,.6],shadow_height:.075,bounces:3},glsl:"// Author: Adrian Purser\n// License: MIT\n\nuniform vec4 shadow_colour; // = vec4(0.,0.,0.,.6)\nuniform float shadow_height; // = 0.075\nuniform float bounces; // = 3.0\n\nconst float PI = 3.14159265358;\n\nvec4 transition (vec2 uv) {\n  float time = progress;\n  float stime = sin(time * PI / 2.);\n  float phase = time * PI * bounces;\n  float y = (abs(cos(phase))) * (1.0 - stime);\n  float d = uv.y - y;\n  return mix(\n    mix(\n      getToColor(uv),\n      shadow_colour,\n      step(d, shadow_height) * (1. - mix(\n        ((d / shadow_height) * shadow_colour.a) + (1.0 - shadow_colour.a),\n        1.0,\n        smoothstep(0.95, 1., progress) // fade-out the shadow at the end\n      ))\n    ),\n    getFromColor(vec2(uv.x, uv.y + (1.0 - y))),\n    step(d, 0.0)\n  );\n}\n",author:"Adrian Purser",license:"MIT",createdAt:"Fri, 10 Nov 2017 17:01:45 +0000",updatedAt:"Sat, 11 Nov 2017 08:50:40 +0100"},{name:"BowTieHorizontal",paramsTypes:{},defaultParams:{},glsl:"// Author: huynx\n// License: MIT\n\nvec2 bottom_left = vec2(0.0, 1.0);\nvec2 bottom_right = vec2(1.0, 1.0);\nvec2 top_left = vec2(0.0, 0.0);\nvec2 top_right = vec2(1.0, 0.0);\nvec2 center = vec2(0.5, 0.5);\n\nfloat check(vec2 p1, vec2 p2, vec2 p3)\n{\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\n}\n\nbool PointInTriangle (vec2 pt, vec2 p1, vec2 p2, vec2 p3)\n{\n    bool b1, b2, b3;\n    b1 = check(pt, p1, p2) < 0.0;\n    b2 = check(pt, p2, p3) < 0.0;\n    b3 = check(pt, p3, p1) < 0.0;\n    return ((b1 == b2) && (b2 == b3));\n}\n\nbool in_left_triangle(vec2 p){\n  vec2 vertex1, vertex2, vertex3;\n  vertex1 = vec2(progress, 0.5);\n  vertex2 = vec2(0.0, 0.5-progress);\n  vertex3 = vec2(0.0, 0.5+progress);\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\n  {\n    return true;\n  }\n  return false;\n}\n\nbool in_right_triangle(vec2 p){\n  vec2 vertex1, vertex2, vertex3;\n  vertex1 = vec2(1.0-progress, 0.5);\n  vertex2 = vec2(1.0, 0.5-progress);\n  vertex3 = vec2(1.0, 0.5+progress);\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\n  {\n    return true;\n  }\n  return false;\n}\n\nfloat blur_edge(vec2 bot1, vec2 bot2, vec2 top, vec2 testPt)\n{\n  vec2 lineDir = bot1 - top;\n  vec2 perpDir = vec2(lineDir.y, -lineDir.x);\n  vec2 dirToPt1 = bot1 - testPt;\n  float dist1 = abs(dot(normalize(perpDir), dirToPt1));\n  \n  lineDir = bot2 - top;\n  perpDir = vec2(lineDir.y, -lineDir.x);\n  dirToPt1 = bot2 - testPt;\n  float min_dist = min(abs(dot(normalize(perpDir), dirToPt1)), dist1);\n  \n  if (min_dist < 0.005) {\n    return min_dist / 0.005;\n  }\n  else  {\n    return 1.0;\n  };\n}\n\n\nvec4 transition (vec2 uv) {\n  if (in_left_triangle(uv))\n  {\n    if (progress < 0.1)\n    {\n      return getFromColor(uv);\n    }\n    if (uv.x < 0.5)\n    {\n      vec2 vertex1 = vec2(progress, 0.5);\n      vec2 vertex2 = vec2(0.0, 0.5-progress);\n      vec2 vertex3 = vec2(0.0, 0.5+progress);\n      return mix(\n        getFromColor(uv),\n        getToColor(uv),\n        blur_edge(vertex2, vertex3, vertex1, uv)\n      );\n    }\n    else\n    {\n      if (progress > 0.0)\n      {\n        return getToColor(uv);\n      }\n      else\n      {\n        return getFromColor(uv);\n      }\n    }    \n  }\n  else if (in_right_triangle(uv))\n  {\n    if (uv.x >= 0.5)\n    {\n      vec2 vertex1 = vec2(1.0-progress, 0.5);\n      vec2 vertex2 = vec2(1.0, 0.5-progress);\n      vec2 vertex3 = vec2(1.0, 0.5+progress);\n      return mix(\n        getFromColor(uv),\n        getToColor(uv),\n        blur_edge(vertex2, vertex3, vertex1, uv)\n      );  \n    }\n    else\n    {\n      return getFromColor(uv);\n    }\n  }\n  else {\n    return getFromColor(uv);\n  }\n}",author:"huynx",license:"MIT",createdAt:"Sat, 24 Mar 2018 12:54:26 +0100",updatedAt:"Sat, 24 Mar 2018 12:54:26 +0100"},{name:"BowTieVertical",paramsTypes:{},defaultParams:{},glsl:"// Author: huynx\r\n// License: MIT\r\n\r\nfloat check(vec2 p1, vec2 p2, vec2 p3)\r\n{\r\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\r\n}\r\n\r\nbool PointInTriangle (vec2 pt, vec2 p1, vec2 p2, vec2 p3)\r\n{\r\n    bool b1, b2, b3;\r\n    b1 = check(pt, p1, p2) < 0.0;\r\n    b2 = check(pt, p2, p3) < 0.0;\r\n    b3 = check(pt, p3, p1) < 0.0;\r\n    return ((b1 == b2) && (b2 == b3));\r\n}\r\n\r\nbool in_top_triangle(vec2 p){\r\n  vec2 vertex1, vertex2, vertex3;\r\n  vertex1 = vec2(0.5, progress);\r\n  vertex2 = vec2(0.5-progress, 0.0);\r\n  vertex3 = vec2(0.5+progress, 0.0);\r\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\r\n  {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nbool in_bottom_triangle(vec2 p){\r\n  vec2 vertex1, vertex2, vertex3;\r\n  vertex1 = vec2(0.5, 1.0 - progress);\r\n  vertex2 = vec2(0.5-progress, 1.0);\r\n  vertex3 = vec2(0.5+progress, 1.0);\r\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\r\n  {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfloat blur_edge(vec2 bot1, vec2 bot2, vec2 top, vec2 testPt)\r\n{\r\n  vec2 lineDir = bot1 - top;\r\n  vec2 perpDir = vec2(lineDir.y, -lineDir.x);\r\n  vec2 dirToPt1 = bot1 - testPt;\r\n  float dist1 = abs(dot(normalize(perpDir), dirToPt1));\r\n  \r\n  lineDir = bot2 - top;\r\n  perpDir = vec2(lineDir.y, -lineDir.x);\r\n  dirToPt1 = bot2 - testPt;\r\n  float min_dist = min(abs(dot(normalize(perpDir), dirToPt1)), dist1);\r\n  \r\n  if (min_dist < 0.005) {\r\n    return min_dist / 0.005;\r\n  }\r\n  else  {\r\n    return 1.0;\r\n  };\r\n}\r\n\r\n\r\nvec4 transition (vec2 uv) {\r\n  if (in_top_triangle(uv))\r\n  {\r\n    if (progress < 0.1)\r\n    {\r\n      return getFromColor(uv);\r\n    }\r\n    if (uv.y < 0.5)\r\n    {\r\n      vec2 vertex1 = vec2(0.5, progress);\r\n      vec2 vertex2 = vec2(0.5-progress, 0.0);\r\n      vec2 vertex3 = vec2(0.5+progress, 0.0);\r\n      return mix(\r\n        getFromColor(uv),\r\n        getToColor(uv),\r\n        blur_edge(vertex2, vertex3, vertex1, uv)\r\n      );\r\n    }\r\n    else\r\n    {\r\n      if (progress > 0.0)\r\n      {\r\n        return getToColor(uv);\r\n      }\r\n      else\r\n      {\r\n        return getFromColor(uv);\r\n      }\r\n    }    \r\n  }\r\n  else if (in_bottom_triangle(uv))\r\n  {\r\n    if (uv.y >= 0.5)\r\n    {\r\n      vec2 vertex1 = vec2(0.5, 1.0-progress);\r\n      vec2 vertex2 = vec2(0.5-progress, 1.0);\r\n      vec2 vertex3 = vec2(0.5+progress, 1.0);\r\n      return mix(\r\n        getFromColor(uv),\r\n        getToColor(uv),\r\n        blur_edge(vertex2, vertex3, vertex1, uv)\r\n      );  \r\n    }\r\n    else\r\n    {\r\n      return getFromColor(uv);\r\n    }\r\n  }\r\n  else {\r\n    return getFromColor(uv);\r\n  }\r\n}",author:"huynx",license:"MIT",createdAt:"Tue, 27 Mar 2018 10:07:54 +0700",updatedAt:"Tue, 27 Mar 2018 10:07:54 +0700"},{name:"ButterflyWaveScrawler",paramsTypes:{amplitude:"float",waves:"float",colorSeparation:"float"},defaultParams:{amplitude:1,waves:30,colorSeparation:.3},glsl:"// Author: mandubian\n// License: MIT\nuniform float amplitude; // = 1.0\nuniform float waves; // = 30.0\nuniform float colorSeparation; // = 0.3\nfloat PI = 3.14159265358979323846264;\nfloat compute(vec2 p, float progress, vec2 center) {\nvec2 o = p*sin(progress * amplitude)-center;\n// horizontal vector\nvec2 h = vec2(1., 0.);\n// butterfly polar function (don't ask me why this one :))\nfloat theta = acos(dot(o, h)) * waves;\nreturn (exp(cos(theta)) - 2.*cos(4.*theta) + pow(sin((2.*theta - PI) / 24.), 5.)) / 10.;\n}\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  float inv = 1. - progress;\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n  float disp = compute(p, progress, vec2(0.5, 0.5)) ;\n  vec4 texTo = getToColor(p + inv*disp);\n  vec4 texFrom = vec4(\n  getFromColor(p + progress*disp*(1.0 - colorSeparation)).r,\n  getFromColor(p + progress*disp).g,\n  getFromColor(p + progress*disp*(1.0 + colorSeparation)).b,\n  1.0);\n  return texTo*progress + texFrom*inv;\n}\n",author:"mandubian",license:"MIT",createdAt:"Thu, 1 Jun 2017 11:47:17 +0200",updatedAt:"Thu, 1 Jun 2017 11:47:17 +0200"},{name:"CircleCrop",paramsTypes:{bgcolor:"vec4"},defaultParams:{bgcolor:[0,0,0,1]},glsl:"// License: MIT\n// Author: fkuteken\n// ported by gre from https://gist.github.com/fkuteken/f63e3009c1143950dee9063c3b83fb88\n\nuniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\n\nvec2 ratio2 = vec2(1.0, 1.0 / ratio);\nfloat s = pow(2.0 * abs(progress - 0.5), 3.0);\n\nvec4 transition(vec2 p) {\n  float dist = length((vec2(p) - 0.5) * ratio2);\n  return mix(\n    progress < 0.5 ? getFromColor(p) : getToColor(p), // branching is ok here as we statically depend on progress uniform (branching won't change over pixels)\n    bgcolor,\n    step(s, dist)\n  );\n}\n",license:"MIT",author:"fkuteken",createdAt:"Mon, 12 Jun 2017 12:52:34 +0800",updatedAt:"Mon, 12 Jun 2017 12:52:34 +0800"},{name:"ColourDistance",paramsTypes:{power:"float"},defaultParams:{power:5},glsl:"// License: MIT\n// Author: P-Seebauer\n// ported by gre from https://gist.github.com/P-Seebauer/2a5fa2f77c883dd661f9\n\nuniform float power; // = 5.0\n\nvec4 transition(vec2 p) {\n  vec4 fTex = getFromColor(p);\n  vec4 tTex = getToColor(p);\n  float m = step(distance(fTex, tTex), progress);\n  return mix(\n    mix(fTex, tTex, m),\n    tTex,\n    pow(progress, power)\n  );\n}\n",license:"MIT",author:"P-Seebauer",createdAt:"Mon, 12 Jun 2017 12:57:42 +0800",updatedAt:"Mon, 12 Jun 2017 12:57:42 +0800"},{name:"CrazyParametricFun",paramsTypes:{a:"float",b:"float",amplitude:"float",smoothness:"float"},defaultParams:{a:4,b:1,amplitude:120,smoothness:.1},glsl:"// Author: mandubian\n// License: MIT\n\nuniform float a; // = 4\nuniform float b; // = 1\nuniform float amplitude; // = 120\nuniform float smoothness; // = 0.1\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n  float x = (a - b) * cos(progress) + b * cos(progress * ((a / b) - 1.) );\n  float y = (a - b) * sin(progress) - b * sin(progress * ((a / b) - 1.));\n  vec2 offset = dir * vec2(sin(progress  * dist * amplitude * x), sin(progress * dist * amplitude * y)) / smoothness;\n  return mix(getFromColor(p + offset), getToColor(p), smoothstep(0.2, 1.0, progress));\n}\n",author:"mandubian",license:"MIT",createdAt:"Thu, 1 Jun 2017 13:03:12 +0200",updatedAt:"Thu, 1 Jun 2017 13:03:12 +0200"},{name:"CrossZoom",paramsTypes:{strength:"float"},defaultParams:{strength:.4},glsl:"// License: MIT\n// Author: rectalogic\n// ported by gre from https://gist.github.com/rectalogic/b86b90161503a0023231\n\n// Converted from https://github.com/rectalogic/rendermix-basic-effects/blob/master/assets/com/rendermix/CrossZoom/CrossZoom.frag\n// Which is based on https://github.com/evanw/glfx.js/blob/master/src/filters/blur/zoomblur.js\n// With additional easing functions from https://github.com/rectalogic/rendermix-basic-effects/blob/master/assets/com/rendermix/Easing/Easing.glsllib\n\nuniform float strength; // = 0.4\n\nconst float PI = 3.141592653589793;\n\nfloat Linear_ease(in float begin, in float change, in float duration, in float time) {\n    return change * time / duration + begin;\n}\n\nfloat Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n    if (time == 0.0)\n        return begin;\n    else if (time == duration)\n        return begin + change;\n    time = time / (duration / 2.0);\n    if (time < 1.0)\n        return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n    return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n}\n\nfloat Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n    return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n}\n\nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 crossFade(in vec2 uv, in float dissolve) {\n    return mix(getFromColor(uv).rgb, getToColor(uv).rgb, dissolve);\n}\n\nvec4 transition(vec2 uv) {\n    vec2 texCoord = uv.xy / vec2(1.0).xy;\n\n    // Linear interpolate center across center half of the image\n    vec2 center = vec2(Linear_ease(0.25, 0.5, 1.0, progress), 0.5);\n    float dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n\n    // Mirrored sinusoidal loop. 0->strength then strength->0\n    float strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n\n    vec3 color = vec3(0.0);\n    float total = 0.0;\n    vec2 toCenter = center - texCoord;\n\n    /* randomize the lookup values to hide the fixed number of samples */\n    float offset = rand(uv);\n\n    for (float t = 0.0; t <= 40.0; t++) {\n        float percent = (t + offset) / 40.0;\n        float weight = 4.0 * (percent - percent * percent);\n        color += crossFade(texCoord + toCenter * percent * strength, dissolve) * weight;\n        total += weight;\n    }\n    return vec4(color / total, 1.0);\n}\n",license:"MIT",author:"rectalogic",createdAt:"Mon, 12 Jun 2017 12:33:07 +0800",updatedAt:"Mon, 12 Jun 2017 12:33:07 +0800"},{name:"Directional",paramsTypes:{direction:"vec2"},defaultParams:{direction:[0,1]},glsl:"// Author: Gatan Renaudeau\n// License: MIT\n\nuniform vec2 direction; // = vec2(0.0, 1.0)\n\nvec4 transition (vec2 uv) {\n  vec2 p = uv + progress * sign(direction);\n  vec2 f = fract(p);\n  return mix(\n    getToColor(f),\n    getFromColor(f),\n    step(0.0, p.y) * step(p.y, 1.0) * step(0.0, p.x) * step(p.x, 1.0)\n  );\n}\n",author:"Gatan Renaudeau",license:"MIT",createdAt:"Thu, 19 Apr 2018 12:20:29 +0200",updatedAt:"Thu, 19 Apr 2018 12:20:29 +0200"},{name:"DoomScreenTransition",paramsTypes:{bars:"int",amplitude:"float",noise:"float",frequency:"float",dripScale:"float"},defaultParams:{bars:30,amplitude:2,noise:.1,frequency:.5,dripScale:.5},glsl:'// Author: Zeh Fernando\n// License: MIT\n\n\n// Transition parameters --------\n\n// Number of total bars/columns\nuniform int bars; // = 30\n\n// Multiplier for speed ratio. 0 = no variation when going down, higher = some elements go much faster\nuniform float amplitude; // = 2\n\n// Further variations in speed. 0 = no noise, 1 = super noisy (ignore frequency)\nuniform float noise; // = 0.1\n\n// Speed variation horizontally. the bigger the value, the shorter the waves\nuniform float frequency; // = 0.5\n\n// How much the bars seem to "run" from the middle of the screen first (sticking to the sides). 0 = no drip, 1 = curved drip\nuniform float dripScale; // = 0.5\n\n\n// The code proper --------\n\nfloat rand(int num) {\n  return fract(mod(float(num) * 67123.313, 12.0) * sin(float(num) * 10.3) * cos(float(num)));\n}\n\nfloat wave(int num) {\n  float fn = float(num) * frequency * 0.1 * float(bars);\n  return cos(fn * 0.5) * cos(fn * 0.13) * sin((fn+10.0) * 0.3) / 2.0 + 0.5;\n}\n\nfloat drip(int num) {\n  return sin(float(num) / float(bars - 1) * 3.141592) * dripScale;\n}\n\nfloat pos(int num) {\n  return (noise == 0.0 ? wave(num) : mix(wave(num), rand(num), noise)) + (dripScale == 0.0 ? 0.0 : drip(num));\n}\n\nvec4 transition(vec2 uv) {\n  int bar = int(uv.x * (float(bars)));\n  float scale = 1.0 + pos(bar) * amplitude;\n  float phase = progress * scale;\n  float posY = uv.y / vec2(1.0).y;\n  vec2 p;\n  vec4 c;\n  if (phase + posY < 1.0) {\n    p = vec2(uv.x, uv.y + mix(0.0, vec2(1.0).y, phase)) / vec2(1.0).xy;\n    c = getFromColor(p);\n  } else {\n    p = uv.xy / vec2(1.0).xy;\n    c = getToColor(p);\n  }\n\n  // Finally, apply the color\n  return c;\n}\n',author:"Zeh Fernando",license:"MIT",createdAt:"Tue, 30 May 2017 09:39:09 -0700",updatedAt:"Tue, 30 May 2017 09:39:09 -0700"},{name:"Dreamy",paramsTypes:{},defaultParams:{},glsl:"// Author: mikolalysenko\n// License: MIT\n\nvec2 offset(float progress, float x, float theta) {\n  float phase = progress*progress + progress + theta;\n  float shifty = 0.03*progress*cos(10.0*(progress+x));\n  return vec2(0, shifty);\n}\nvec4 transition(vec2 p) {\n  return mix(getFromColor(p + offset(progress, p.x, 0.0)), getToColor(p + offset(1.0-progress, p.x, 3.14)), progress);\n}\n",author:"mikolalysenko",license:"MIT",createdAt:"Mon, 12 Jun 2017 12:27:38 +0800",updatedAt:"Mon, 12 Jun 2017 12:27:38 +0800"},{name:"DreamyZoom",paramsTypes:{rotation:"float",scale:"float"},defaultParams:{rotation:6,scale:1.2},glsl:"// Author: Zeh Fernando\n// License: MIT\n\n// Definitions --------\n#define DEG2RAD 0.03926990816987241548078304229099 // 1/180*PI\n\n\n// Transition parameters --------\n\n// In degrees\nuniform float rotation; // = 6\n\n// Multiplier\nuniform float scale; // = 1.2\n\n\n// The code proper --------\n\nvec4 transition(vec2 uv) {\n  // Massage parameters\n  float phase = progress < 0.5 ? progress * 2.0 : (progress - 0.5) * 2.0;\n  float angleOffset = progress < 0.5 ? mix(0.0, rotation * DEG2RAD, phase) : mix(-rotation * DEG2RAD, 0.0, phase);\n  float newScale = progress < 0.5 ? mix(1.0, scale, phase) : mix(scale, 1.0, phase);\n  \n  vec2 center = vec2(0, 0);\n\n  // Calculate the source point\n  vec2 assumedCenter = vec2(0.5, 0.5);\n  vec2 p = (uv.xy - vec2(0.5, 0.5)) / newScale * vec2(ratio, 1.0);\n\n  // This can probably be optimized (with distance())\n  float angle = atan(p.y, p.x) + angleOffset;\n  float dist = distance(center, p);\n  p.x = cos(angle) * dist / ratio + 0.5;\n  p.y = sin(angle) * dist + 0.5;\n  vec4 c = progress < 0.5 ? getFromColor(p) : getToColor(p);\n\n  // Finally, apply the color\n  return c + (progress < 0.5 ? mix(0.0, 1.0, phase) : mix(1.0, 0.0, phase));\n}\n",author:"Zeh Fernando",license:"MIT",createdAt:"Tue, 30 May 2017 10:44:06 -0700",updatedAt:"Tue, 30 May 2017 10:44:06 -0700"},{name:"GlitchDisplace",paramsTypes:{},defaultParams:{},glsl:"// Author: Matt DesLauriers\n// License: MIT\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\nfloat voronoi( in vec2 x ) {\n    vec2 p = floor( x );\n    vec2 f = fract( x );\n    float res = 8.0;\n    for( float j=-1.; j<=1.; j++ )\n    for( float i=-1.; i<=1.; i++ ) {\n        vec2  b = vec2( i, j );\n        vec2  r = b - f + random( p + b );\n        float d = dot( r, r );\n        res = min( res, d );\n    }\n    return sqrt( res );\n}\n\nvec2 displace(vec4 tex, vec2 texCoord, float dotDepth, float textureDepth, float strength) {\n    float b = voronoi(.003 * texCoord + 2.0);\n    float g = voronoi(0.2 * texCoord);\n    float r = voronoi(texCoord - 1.0);\n    vec4 dt = tex * 1.0;\n    vec4 dis = dt * dotDepth + 1.0 - tex * textureDepth;\n\n    dis.x = dis.x - 1.0 + textureDepth*dotDepth;\n    dis.y = dis.y - 1.0 + textureDepth*dotDepth;\n    dis.x *= strength;\n    dis.y *= strength;\n    vec2 res_uv = texCoord ;\n    res_uv.x = res_uv.x + dis.x - 0.0;\n    res_uv.y = res_uv.y + dis.y;\n    return res_uv;\n}\n\nfloat ease1(float t) {\n  return t == 0.0 || t == 1.0\n    ? t\n    : t < 0.5\n      ? +0.5 * pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * pow(2.0, 10.0 - (t * 20.0)) + 1.0;\n}\nfloat ease2(float t) {\n  return t == 1.0 ? t : 1.0 - pow(2.0, -10.0 * t);\n}\n\n\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec4 color1 = getFromColor(p);\n  vec4 color2 = getToColor(p);\n  vec2 disp = displace(color1, p, 0.33, 0.7, 1.0-ease1(progress));\n  vec2 disp2 = displace(color2, p, 0.33, 0.5, ease2(progress));\n  vec4 dColor1 = getToColor(disp);\n  vec4 dColor2 = getFromColor(disp2);\n  float val = ease1(progress);\n  vec3 gray = vec3(dot(min(dColor2, dColor1).rgb, vec3(0.299, 0.587, 0.114)));\n  dColor2 = vec4(gray, 1.0);\n  dColor2 *= 2.0;\n  color1 = mix(color1, dColor2, smoothstep(0.0, 0.5, progress));\n  color2 = mix(color2, dColor1, smoothstep(1.0, 0.5, progress));\n  return mix(color1, color2, val);\n  //gl_FragColor = mix(gl_FragColor, dColor, smoothstep(0.0, 0.5, progress));\n  \n   //gl_FragColor = mix(texture2D(from, p), texture2D(to, p), progress);\n}\n",author:"Matt DesLauriers",license:"MIT",createdAt:"Tue, 30 May 2017 14:53:04 -0400",updatedAt:"Tue, 30 May 2017 14:53:04 -0400"},{name:"GlitchMemories",paramsTypes:{},defaultParams:{},glsl:"// author: Gunnar Roth\n// based on work from natewave\n// license: MIT\nvec4 transition(vec2 p) {\n  vec2 block = floor(p.xy / vec2(16));\n  vec2 uv_noise = block / vec2(64);\n  uv_noise += floor(vec2(progress) * vec2(1200.0, 3500.0)) / vec2(64);\n  vec2 dist = progress > 0.0 ? (fract(uv_noise) - 0.5) * 0.3 *(1.0 -progress) : vec2(0.0);\n  vec2 red = p + dist * 0.2;\n  vec2 green = p + dist * .3;\n  vec2 blue = p + dist * .5;\n\n  return vec4(mix(getFromColor(red), getToColor(red), progress).r,mix(getFromColor(green), getToColor(green), progress).g,mix(getFromColor(blue), getToColor(blue), progress).b,1.0);\n}\n\n",author:"Gunnar Roth",license:"MIT",createdAt:"Wed, 21 Feb 2018 00:52:15 +0100",updatedAt:"Wed, 21 Feb 2018 19:32:02 +0100"},{name:"GridFlip",paramsTypes:{size:"ivec2",pause:"float",dividerWidth:"float",bgcolor:"vec4",randomness:"float"},defaultParams:{size:[4,4],pause:.1,dividerWidth:.05,bgcolor:[0,0,0,1],randomness:.1},glsl:"// License: MIT\n// Author: TimDonselaar\n// ported by gre from https://gist.github.com/TimDonselaar/9bcd1c4b5934ba60087bdb55c2ea92e5\n\nuniform ivec2 size; // = ivec2(4)\nuniform float pause; // = 0.1\nuniform float dividerWidth; // = 0.05\nuniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\nuniform float randomness; // = 0.1\n \nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat getDelta(vec2 p) {\n  vec2 rectanglePos = floor(vec2(size) * p);\n  vec2 rectangleSize = vec2(1.0 / vec2(size).x, 1.0 / vec2(size).y);\n  float top = rectangleSize.y * (rectanglePos.y + 1.0);\n  float bottom = rectangleSize.y * rectanglePos.y;\n  float left = rectangleSize.x * rectanglePos.x;\n  float right = rectangleSize.x * (rectanglePos.x + 1.0);\n  float minX = min(abs(p.x - left), abs(p.x - right));\n  float minY = min(abs(p.y - top), abs(p.y - bottom));\n  return min(minX, minY);\n}\n\nfloat getDividerSize() {\n  vec2 rectangleSize = vec2(1.0 / vec2(size).x, 1.0 / vec2(size).y);\n  return min(rectangleSize.x, rectangleSize.y) * dividerWidth;\n}\n\nvec4 transition(vec2 p) {\n  if(progress < pause) {\n    float currentProg = progress / pause;\n    float a = 1.0;\n    if(getDelta(p) < getDividerSize()) {\n      a = 1.0 - currentProg;\n    }\n    return mix(bgcolor, getFromColor(p), a);\n  }\n  else if(progress < 1.0 - pause){\n    if(getDelta(p) < getDividerSize()) {\n      return bgcolor;\n    } else {\n      float currentProg = (progress - pause) / (1.0 - pause * 2.0);\n      vec2 q = p;\n      vec2 rectanglePos = floor(vec2(size) * q);\n      \n      float r = rand(rectanglePos) - randomness;\n      float cp = smoothstep(0.0, 1.0 - r, currentProg);\n    \n      float rectangleSize = 1.0 / vec2(size).x;\n      float delta = rectanglePos.x * rectangleSize;\n      float offset = rectangleSize / 2.0 + delta;\n      \n      p.x = (p.x - offset)/abs(cp - 0.5)*0.5 + offset;\n      vec4 a = getFromColor(p);\n      vec4 b = getToColor(p);\n      \n      float s = step(abs(vec2(size).x * (q.x - delta) - 0.5), abs(cp - 0.5));\n      return mix(bgcolor, mix(b, a, step(cp, 0.5)), s);\n    }\n  }\n  else {\n    float currentProg = (progress - 1.0 + pause) / pause;\n    float a = 1.0;\n    if(getDelta(p) < getDividerSize()) {\n      a = currentProg;\n    }\n    return mix(bgcolor, getToColor(p), a);\n  }\n}\n",license:"MIT",author:"TimDonselaar",createdAt:"Mon, 12 Jun 2017 11:32:51 +0800",updatedAt:"Mon, 12 Jun 2017 11:32:51 +0800"},{name:"InvertedPageCurl",paramsTypes:{},defaultParams:{},glsl:'// author: Hewlett-Packard\n// license: BSD 3 Clause\n// Adapted by Sergey Kosarevsky from:\n// http://rectalogic.github.io/webvfx/examples_2transition-shader-pagecurl_8html-example.html\n\n/*\nCopyright (c) 2010 Hewlett-Packard Development Company, L.P. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n   * Redistributions of source code must retain the above copyright\n     notice, this list of conditions and the following disclaimer.\n   * Redistributions in binary form must reproduce the above\n     copyright notice, this list of conditions and the following disclaimer\n     in the documentation and/or other materials provided with the\n     distribution.\n   * Neither the name of Hewlett-Packard nor the names of its\n     contributors may be used to endorse or promote products derived from\n     this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nin vec2 texCoord;\n*/\n\nconst float MIN_AMOUNT = -0.16;\nconst float MAX_AMOUNT = 1.5;\nfloat amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n\nconst float PI = 3.141592653589793;\n\nconst float scale = 512.0;\nconst float sharpness = 3.0;\n\nfloat cylinderCenter = amount;\n// 360 degrees * amount\nfloat cylinderAngle = 2.0 * PI * amount;\n\nconst float cylinderRadius = 1.0 / PI / 2.0;\n\nvec3 hitPoint(float hitAngle, float yc, vec3 point, mat3 rrotation)\n{\n        float hitPoint = hitAngle / (2.0 * PI);\n        point.y = hitPoint;\n        return rrotation * point;\n}\n\nvec4 antiAlias(vec4 color1, vec4 color2, float distanc)\n{\n        distanc *= scale;\n        if (distanc < 0.0) return color2;\n        if (distanc > 2.0) return color1;\n        float dd = pow(1.0 - distanc / 2.0, sharpness);\n        return ((color2 - color1) * dd) + color1;\n}\n\nfloat distanceToEdge(vec3 point)\n{\n        float dx = abs(point.x > 0.5 ? 1.0 - point.x : point.x);\n        float dy = abs(point.y > 0.5 ? 1.0 - point.y : point.y);\n        if (point.x < 0.0) dx = -point.x;\n        if (point.x > 1.0) dx = point.x - 1.0;\n        if (point.y < 0.0) dy = -point.y;\n        if (point.y > 1.0) dy = point.y - 1.0;\n        if ((point.x < 0.0 || point.x > 1.0) && (point.y < 0.0 || point.y > 1.0)) return sqrt(dx * dx + dy * dy);\n        return min(dx, dy);\n}\n\nvec4 seeThrough(float yc, vec2 p, mat3 rotation, mat3 rrotation)\n{\n        float hitAngle = PI - (acos(yc / cylinderRadius) - cylinderAngle);\n        vec3 point = hitPoint(hitAngle, yc, rotation * vec3(p, 1.0), rrotation);\n        if (yc <= 0.0 && (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0))\n        {\n            return getToColor(p);\n        }\n\n        if (yc > 0.0) return getFromColor(p);\n\n        vec4 color = getFromColor(point.xy);\n        vec4 tcolor = vec4(0.0);\n\n        return antiAlias(color, tcolor, distanceToEdge(point));\n}\n\nvec4 seeThroughWithShadow(float yc, vec2 p, vec3 point, mat3 rotation, mat3 rrotation)\n{\n        float shadow = distanceToEdge(point) * 30.0;\n        shadow = (1.0 - shadow) / 3.0;\n\n        if (shadow < 0.0) shadow = 0.0; else shadow *= amount;\n\n        vec4 shadowColor = seeThrough(yc, p, rotation, rrotation);\n        shadowColor.r -= shadow;\n        shadowColor.g -= shadow;\n        shadowColor.b -= shadow;\n\n        return shadowColor;\n}\n\nvec4 backside(float yc, vec3 point)\n{\n        vec4 color = getFromColor(point.xy);\n        float gray = (color.r + color.b + color.g) / 15.0;\n        gray += (8.0 / 10.0) * (pow(1.0 - abs(yc / cylinderRadius), 2.0 / 10.0) / 2.0 + (5.0 / 10.0));\n        color.rgb = vec3(gray);\n        return color;\n}\n\nvec4 behindSurface(vec2 p, float yc, vec3 point, mat3 rrotation)\n{\n        float shado = (1.0 - ((-cylinderRadius - yc) / amount * 7.0)) / 6.0;\n        shado *= 1.0 - abs(point.x - 0.5);\n\n        yc = (-cylinderRadius - cylinderRadius - yc);\n\n        float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n        point = hitPoint(hitAngle, yc, point, rrotation);\n\n        if (yc < 0.0 && point.x >= 0.0 && point.y >= 0.0 && point.x <= 1.0 && point.y <= 1.0 && (hitAngle < PI || amount > 0.5))\n        {\n                shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / (71.0 / 100.0));\n                shado *= pow(-yc / cylinderRadius, 3.0);\n                shado *= 0.5;\n        }\n        else\n        {\n                shado = 0.0;\n        }\n        return vec4(getToColor(p).rgb - shado, 1.0);\n}\n\nvec4 transition(vec2 p) {\n\n  const float angle = 100.0 * PI / 180.0;\n        float c = cos(-angle);\n        float s = sin(-angle);\n\n        mat3 rotation = mat3( c, s, 0,\n                                                                -s, c, 0,\n                                                                -0.801, 0.8900, 1\n                                                                );\n        c = cos(angle);\n        s = sin(angle);\n\n        mat3 rrotation = mat3(\tc, s, 0,\n                                                                        -s, c, 0,\n                                                                        0.98500, 0.985, 1\n                                                                );\n\n        vec3 point = rotation * vec3(p, 1.0);\n\n        float yc = point.y - cylinderCenter;\n\n        if (yc < -cylinderRadius)\n        {\n                // Behind surface\n                return behindSurface(p,yc, point, rrotation);\n        }\n\n        if (yc > cylinderRadius)\n        {\n                // Flat surface\n                return getFromColor(p);\n        }\n\n        float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n\n        float hitAngleMod = mod(hitAngle, 2.0 * PI);\n        if ((hitAngleMod > PI && amount < 0.5) || (hitAngleMod > PI/2.0 && amount < 0.0))\n        {\n                return seeThrough(yc, p, rotation, rrotation);\n        }\n\n        point = hitPoint(hitAngle, yc, point, rrotation);\n\n        if (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0)\n        {\n                return seeThroughWithShadow(yc, p, point, rotation, rrotation);\n        }\n\n        vec4 color = backside(yc, point);\n\n        vec4 otherColor;\n        if (yc < 0.0)\n        {\n                float shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / 0.71);\n                shado *= pow(-yc / cylinderRadius, 3.0);\n                shado *= 0.5;\n                otherColor = vec4(0.0, 0.0, 0.0, shado);\n        }\n        else\n        {\n                otherColor = getFromColor(p);\n        }\n\n        color = antiAlias(color, otherColor, cylinderRadius - abs(yc));\n\n        vec4 cl = seeThroughWithShadow(yc, p, point, rotation, rrotation);\n        float dist = distanceToEdge(point);\n\n        return antiAlias(color, cl, dist);\n}\n',author:"Hewlett-Packard",license:"BSD 3 Clause",createdAt:"Wed, 21 Feb 2018 01:13:49 +0100",updatedAt:"Wed, 21 Feb 2018 16:00:02 +0100"},{name:"LinearBlur",paramsTypes:{intensity:"float"},defaultParams:{intensity:.1},glsl:"// author: gre\n// license: MIT\nuniform float intensity; // = 0.1\nconst int passes = 6;\n\nvec4 transition(vec2 uv) {\n    vec4 c1 = vec4(0.0);\n    vec4 c2 = vec4(0.0);\n\n    float disp = intensity*(0.5-distance(0.5, progress));\n    for (int xi=0; xi<passes; xi++)\n    {\n        float x = float(xi) / float(passes) - 0.5;\n        for (int yi=0; yi<passes; yi++)\n        {\n            float y = float(yi) / float(passes) - 0.5;\n            vec2 v = vec2(x,y);\n            float d = disp;\n            c1 += getFromColor( uv + d*v);\n            c2 += getToColor( uv + d*v);\n        }\n    }\n    c1 /= float(passes*passes);\n    c2 /= float(passes*passes);\n    return mix(c1, c2, progress);\n}\n",author:"gre",license:"MIT",createdAt:"Fri, 23 Feb 2018 15:18:22 +0100",updatedAt:"Fri, 23 Feb 2018 15:18:22 +0100"},{name:"Mosaic",paramsTypes:{endx:"int",endy:"int"},defaultParams:{endx:2,endy:-1},glsl:"// License: MIT\n// Author: Xaychru\n// ported by gre from https://gist.github.com/Xaychru/130bb7b7affedbda9df5\n\n#define PI 3.14159265358979323\n#define POW2(X) X*X\n#define POW3(X) X*X*X\nuniform int endx; // = 2\nuniform int endy; // = -1\n\nfloat Rand(vec2 v) {\n  return fract(sin(dot(v.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvec2 Rotate(vec2 v, float a) {\n  mat2 rm = mat2(cos(a), -sin(a),\n                 sin(a), cos(a));\n  return rm*v;\n}\nfloat CosInterpolation(float x) {\n  return -cos(x*PI)/2.+.5;\n}\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy - .5;\n  vec2 rp = p;\n  float rpr = (progress*2.-1.);\n  float z = -(rpr*rpr*2.) + 3.;\n  float az = abs(z);\n  rp *= az;\n  rp += mix(vec2(.5, .5), vec2(float(endx) + .5, float(endy) + .5), POW2(CosInterpolation(progress)));\n  vec2 mrp = mod(rp, 1.);\n  vec2 crp = rp;\n  bool onEnd = int(floor(crp.x))==endx&&int(floor(crp.y))==endy;\n  if(!onEnd) {\n    float ang = float(int(Rand(floor(crp))*4.))*.5*PI;\n    mrp = vec2(.5) + Rotate(mrp-vec2(.5), ang);\n  }\n  if(onEnd || Rand(floor(crp))>.5) {\n    return getToColor(mrp);\n  } else {\n    return getFromColor(mrp);\n  }\n}\n",license:"MIT",author:"Xaychru",createdAt:"Mon, 12 Jun 2017 10:26:51 +0800",updatedAt:"Mon, 12 Jun 2017 10:26:51 +0800"},{name:"PolkaDotsCurtain",paramsTypes:{dots:"float",center:"vec2"},defaultParams:{dots:20,center:[0,0]},glsl:"// author: bobylito\n// license: MIT\nconst float SQRT_2 = 1.414213562373;\nuniform float dots;// = 20.0;\nuniform vec2 center;// = vec2(0, 0);\n\nvec4 transition(vec2 uv) {\n  bool nextImage = distance(fract(uv * dots), vec2(0.5, 0.5)) < ( progress / distance(uv, center));\n  return nextImage ? getToColor(uv) : getFromColor(uv);\n}\n",author:"bobylito",license:"MIT",createdAt:"Tue, 20 Feb 2018 23:41:45 +0100",updatedAt:"Tue, 20 Feb 2018 23:41:45 +0100"},{name:"Radial",paramsTypes:{smoothness:"float"},defaultParams:{smoothness:1},glsl:"// License: MIT\n// Author: Xaychru\n// ported by gre from https://gist.github.com/Xaychru/ce1d48f0ce00bb379750\n\nuniform float smoothness; // = 1.0\n\nconst float PI = 3.141592653589;\n\nvec4 transition(vec2 p) {\n  vec2 rp = p*2.-1.;\n  return mix(\n    getToColor(p),\n    getFromColor(p),\n    smoothstep(0., smoothness, atan(rp.y,rp.x) - (progress-.5) * PI * 2.5)\n  );\n}\n",license:"MIT",author:"Xaychru",createdAt:"Mon, 12 Jun 2017 10:36:24 +0800",updatedAt:"Mon, 12 Jun 2017 10:36:24 +0800"},{name:"SimpleZoom",paramsTypes:{zoom_quickness:"float"},defaultParams:{zoom_quickness:.8},glsl:"// Author: 0gust1\n// License: MIT\n\nuniform float zoom_quickness; // = 0.8\nfloat nQuick = clamp(zoom_quickness,0.2,1.0);\n\nvec2 zoom(vec2 uv, float amount) {\n  return 0.5 + ((uv - 0.5) * (1.0-amount));\t\n}\n\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(zoom(uv, smoothstep(0.0, nQuick, progress))),\n    getToColor(uv),\n   smoothstep(nQuick-0.2, 1.0, progress)\n  );\n}",author:"0gust1",license:"MIT",createdAt:"Tue, 6 Mar 2018 00:43:47 +0100",updatedAt:"Tue, 6 Mar 2018 00:43:47 +0100"},{name:"StereoViewer",paramsTypes:{zoom:"float",corner_radius:"float"},defaultParams:{zoom:.88,corner_radius:.22},glsl:"// Tunable parameters\n// How much to zoom (out) for the effect ~ 0.5 - 1.0\nuniform float zoom; // = 0.88\n// Corner radius as a fraction of the image height\nuniform float corner_radius;  // = 0.22\n\n// author: Ted Schundler\n// license: BSD 2 Clause\n// Free for use and modification by anyone with credit\n\n// Copyright (c) 2016, Theodore K Schundler\n// All rights reserved.\n\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n// 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\n// 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n///////////////////////////////////////////////////////////////////////////////\n// Stereo Viewer Toy Transition                                              //\n//                                                                           //\n// Inspired by ViewMaster / Image3D image viewer devices.                    //\n// This effect is similar to what you see when you press the device's lever. //\n// There is a quick zoom in / out to make the transition 'valid' for GLSL.io //\n///////////////////////////////////////////////////////////////////////////////\n\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 c00 = vec2(0.0, 0.0); // the four corner points\nconst vec2 c01 = vec2(0.0, 1.0);\nconst vec2 c11 = vec2(1.0, 1.0);\nconst vec2 c10 = vec2(1.0, 0.0);\n\n// Check if a point is within a given corner\nbool in_corner(vec2 p, vec2 corner, vec2 radius) {\n  // determine the direction we want to be filled\n  vec2 axis = (c11 - corner) - corner;\n\n  // warp the point so we are always testing the bottom left point with the\n  // circle centered on the origin\n  p = p - (corner + axis * radius);\n  p *= axis / radius;\n  return (p.x > 0.0 && p.y > -1.0) || (p.y > 0.0 && p.x > -1.0) || dot(p, p) < 1.0;\n}\n\n// Check all four corners\n// return a float for v2 for anti-aliasing?\nbool test_rounded_mask(vec2 p, vec2 corner_size) {\n  return\n      in_corner(p, c00, corner_size) &&\n      in_corner(p, c01, corner_size) &&\n      in_corner(p, c10, corner_size) &&\n      in_corner(p, c11, corner_size);\n}\n\n// Screen blend mode - https://en.wikipedia.org/wiki/Blend_modes\n// This more closely approximates what you see than linear blending\nvec4 screen(vec4 a, vec4 b) {\n  return 1.0 - (1.0 - a) * (1.0 -b);\n}\n\n// Given RGBA, find a value that when screened with itself\n// will yield the original value.\nvec4 unscreen(vec4 c) {\n  return 1.0 - sqrt(1.0 - c);\n}\n\n// Grab a pixel, only if it isn't masked out by the rounded corners\nvec4 sample_with_corners_from(vec2 p, vec2 corner_size) {\n  p = (p - 0.5) / zoom + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return unscreen(getFromColor(p));\n}\n\nvec4 sample_with_corners_to(vec2 p, vec2 corner_size) {\n  p = (p - 0.5) / zoom + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return unscreen(getToColor(p));\n}\n\n// special sampling used when zooming - extra zoom parameter and don't unscreen\nvec4 simple_sample_with_corners_from(vec2 p, vec2 corner_size, float zoom_amt) {\n  p = (p - 0.5) / (1.0 - zoom_amt + zoom * zoom_amt) + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return getFromColor(p);\n}\n\nvec4 simple_sample_with_corners_to(vec2 p, vec2 corner_size, float zoom_amt) {\n  p = (p - 0.5) / (1.0 - zoom_amt + zoom * zoom_amt) + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return getToColor(p);\n}\n\n// Basic 2D affine transform matrix helpers\n// These really shouldn't be used in a fragment shader - I should work out the\n// the math for a translate & rotate function as a pair of dot products instead\n\nmat3 rotate2d(float angle, float ratio) {\n  float s = sin(angle);\n  float c = cos(angle);\n  return mat3(\n    c, s ,0.0,\n    -s, c, 0.0,\n    0.0, 0.0, 1.0);\n}\n\nmat3 translate2d(float x, float y) {\n  return mat3(\n    1.0, 0.0, 0,\n    0.0, 1.0, 0,\n    -x, -y, 1.0);\n}\n\nmat3 scale2d(float x, float y) {\n  return mat3(\n    x, 0.0, 0,\n    0.0, y, 0,\n    0, 0, 1.0);\n}\n\n// Split an image and rotate one up and one down along off screen pivot points\nvec4 get_cross_rotated(vec3 p3, float angle, vec2 corner_size, float ratio) {\n  angle = angle * angle; // easing\n  angle /= 2.4; // works out to be a good number of radians\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, ratio);\n  mat3 unscale_and_uncenter = scale2d(1.0, 1.0/ratio) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, ratio);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  vec4 a = sample_with_corners_from((op_a * p3).xy, corner_size);\n  vec4 b = sample_with_corners_from((op_b * p3).xy, corner_size);\n\n  return screen(a, b);\n}\n\n// Image stays put, but this time move two masks\nvec4 get_cross_masked(vec3 p3, float angle, vec2 corner_size, float ratio) {\n  angle = 1.0 - angle;\n  angle = angle * angle; // easing\n  angle /= 2.4;\n\n  vec4 img;\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, ratio);\n  mat3 unscale_and_uncenter = scale2d(1.0 / zoom, 1.0 / (zoom * ratio)) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, ratio);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  bool mask_a = test_rounded_mask((op_a * p3).xy, corner_size);\n  bool mask_b = test_rounded_mask((op_b * p3).xy, corner_size);\n\n  if (mask_a || mask_b) {\n    img = sample_with_corners_to(p3.xy, corner_size);\n    return screen(mask_a ? img : black, mask_b ? img : black);\n  } else {\n    return black;\n  }\n}\n\nvec4 transition(vec2 uv) {\n  float a;\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec3 p3 = vec3(p.xy, 1.0); // for 2D matrix transforms\n\n  // corner is warped to represent to size after mapping to 1.0, 1.0\n  vec2 corner_size = vec2(corner_radius / ratio, corner_radius);\n\n  if (progress <= 0.0) {\n    // 0.0: start with the base frame always\n    return getFromColor(p);\n  } else if (progress < 0.1) {\n    // 0.0-0.1: zoom out and add rounded corners\n    a = progress / 0.1;\n    return  simple_sample_with_corners_from(p, corner_size * a, a);\n  } else if (progress < 0.48) {\n    // 0.1-0.48: Split original image apart\n    a = (progress - 0.1)/0.38;\n    return get_cross_rotated(p3, a, corner_size, ratio);\n  } else if (progress < 0.9) {\n    // 0.48-0.52: black\n    // 0.52 - 0.9: unmask new image\n    return get_cross_masked(p3, (progress - 0.52)/0.38, corner_size, ratio);\n  } else if (progress < 1.0) {\n    // zoom out and add rounded corners\n    a = (1.0 - progress) / 0.1;\n    return simple_sample_with_corners_to(p, corner_size * a, a);\n  } else {\n    // 1.0 end with base frame\n    return getToColor(p);\n  }\n}\n",author:"Ted Schundler",license:"BSD 2 Clause",createdAt:"Tue, 20 Feb 2018 23:20:29 +0100",updatedAt:"Wed, 21 Feb 2018 15:42:00 +0100"},{name:"Swirl",paramsTypes:{},defaultParams:{},glsl:"// License: MIT\n// Author: Sergey Kosarevsky\n// ( http://www.linderdaum.com )\n// ported by gre from https://gist.github.com/corporateshark/cacfedb8cca0f5ce3f7c\n\nvec4 transition(vec2 UV)\n{\n\tfloat Radius = 1.0;\n\n\tfloat T = progress;\n\n\tUV -= vec2( 0.5, 0.5 );\n\n\tfloat Dist = length(UV);\n\n\tif ( Dist < Radius )\n\t{\n\t\tfloat Percent = (Radius - Dist) / Radius;\n\t\tfloat A = ( T <= 0.5 ) ? mix( 0.0, 1.0, T/0.5 ) : mix( 1.0, 0.0, (T-0.5)/0.5 );\n\t\tfloat Theta = Percent * Percent * A * 8.0 * 3.14159;\n\t\tfloat S = sin( Theta );\n\t\tfloat C = cos( Theta );\n\t\tUV = vec2( dot(UV, vec2(C, -S)), dot(UV, vec2(S, C)) );\n\t}\n\tUV += vec2( 0.5, 0.5 );\n\n\tvec4 C0 = getFromColor(UV);\n\tvec4 C1 = getToColor(UV);\n\n\treturn mix( C0, C1, T );\n}\n",license:"MIT",author:"Sergey Kosarevsky",createdAt:"Mon, 12 Jun 2017 12:38:27 +0800",updatedAt:"Mon, 12 Jun 2017 12:38:27 +0800"},{name:"WaterDrop",paramsTypes:{amplitude:"float",speed:"float"},defaultParams:{amplitude:30,speed:30},glsl:"// author: Pawe Pciennik\n// license: MIT\nuniform float amplitude; // = 30\nuniform float speed; // = 30\n\nvec4 transition(vec2 p) {\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n\n  if (dist > progress) {\n    return mix(getFromColor( p), getToColor( p), progress);\n  } else {\n    vec2 offset = dir * sin(dist * amplitude - progress * speed);\n    return mix(getFromColor( p + offset), getToColor( p), progress);\n  }\n}\n",author:"Pawe Pciennik",license:"MIT",createdAt:"Wed, 21 Feb 2018 19:37:15 +0100",updatedAt:"Wed, 21 Feb 2018 19:37:15 +0100"},{name:"ZoomInCircles",paramsTypes:{},defaultParams:{},glsl:"// License: MIT\n// Author: dycm8009\n// ported by gre from https://gist.github.com/dycm8009/948e99b1800e81ad909a\n\nvec2 zoom(vec2 uv, float amount) {\n  return 0.5 + ((uv - 0.5) * amount);\t\n}\n\nvec2 ratio2 = vec2(1.0, 1.0 / ratio);\n\nvec4 transition(vec2 uv) {\n  // TODO: some timing are hardcoded but should be one or many parameters\n  // TODO: should also be able to configure how much circles\n  // TODO: if() branching should be avoided when possible, prefer use of step() & other functions\n  vec2 r = 2.0 * ((vec2(uv.xy) - 0.5) * ratio2);\n  float pro = progress / 0.8;\n  float z = pro * 0.2;\n  float t = 0.0;\n  if (pro > 1.0) {\n    z = 0.2 + (pro - 1.0) * 5.;\n    t = clamp((progress - 0.8) / 0.07, 0.0, 1.0);\n  }\n  if (length(r) < 0.5+z) {\n    // uv = zoom(uv, 0.9 - 0.1 * pro);\n  }\n  else if (length(r) < 0.8+z*1.5) {\n    uv = zoom(uv, 1.0 - 0.15 * pro);\n    t = t * 0.5;\n  }\n  else if (length(r) < 1.2+z*2.5) {\n    uv = zoom(uv, 1.0 - 0.2 * pro);\n    t = t * 0.2;\n  }\n  else {\n    uv = zoom(uv, 1.0 - 0.25 * pro);\n  }\n  return mix(getFromColor(uv), getToColor(uv), t);\n}\n",license:"MIT",author:"dycm8009",createdAt:"Mon, 12 Jun 2017 11:24:34 +0800",updatedAt:"Mon, 12 Jun 2017 11:24:34 +0800"},{name:"angular",paramsTypes:{startingAngle:"float"},defaultParams:{startingAngle:90},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.141592653589\n\nuniform float startingAngle; // = 90;\n\nvec4 transition (vec2 uv) {\n  \n  float offset = startingAngle * PI / 180.0;\n  float angle = atan(uv.y - 0.5, uv.x - 0.5) + offset;\n  float normalizedAngle = (angle + PI) / (2.0 * PI);\n  \n  normalizedAngle = normalizedAngle - floor(normalizedAngle);\n\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    step(normalizedAngle, progress)\n    );\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"burn",paramsTypes:{color:"vec3"},defaultParams:{color:[.9,.4,.2]},glsl:"// author: gre\n// License: MIT\nuniform vec3 color /* = vec3(0.9, 0.4, 0.2) */;\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv) + vec4(progress*color, 1.0),\n    getToColor(uv) + vec4((1.0-progress)*color, 1.0),\n    progress\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"cannabisleaf",paramsTypes:{},defaultParams:{},glsl:"// Author: @Flexi23\n// License: MIT\n\n// inspired by http://www.wolframalpha.com/input/?i=cannabis+curve\n\nvec4 transition (vec2 uv) {\n  if(progress == 0.0){\n    return getFromColor(uv);\n  }\n  vec2 leaf_uv = (uv - vec2(0.5))/10./pow(progress,3.5);\n\tleaf_uv.y += 0.35;\n\tfloat r = 0.18;\n\tfloat o = atan(leaf_uv.y, leaf_uv.x);\n  return mix(getFromColor(uv), getToColor(uv), 1.-step(1. - length(leaf_uv)+r*(1.+sin(o))*(1.+0.9 * cos(8.*o))*(1.+0.1*cos(24.*o))*(0.9+0.05*cos(200.*o)), 1.));\n}\n",author:"@Flexi23",license:"MIT",createdAt:"Thu, 1 Jun 2017 15:58:58 +0200",updatedAt:"Thu, 1 Jun 2017 15:58:58 +0200"},{name:"circle",paramsTypes:{center:"vec2",backColor:"vec3"},defaultParams:{center:[.5,.5],backColor:[.1,.1,.1]},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\nuniform vec2 center; // = vec2(0.5, 0.5);\nuniform vec3 backColor; // = vec3(0.1, 0.1, 0.1);\n\nvec4 transition (vec2 uv) {\n  \n  float distance = length(uv - center);\n  float radius = sqrt(8.0) * abs(progress - 0.5);\n  \n  if (distance > radius) {\n    return vec4(backColor, 1.0);\n  }\n  else {\n    if (progress < 0.5) return getFromColor(uv);\n    else return getToColor(uv);\n  }\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"circleopen",paramsTypes:{smoothness:"float",opening:"bool"},defaultParams:{smoothness:.3,opening:!0},glsl:"// author: gre\n// License: MIT\nuniform float smoothness; // = 0.3\nuniform bool opening; // = true\n\nconst vec2 center = vec2(0.5, 0.5);\nconst float SQRT_2 = 1.414213562373;\n\nvec4 transition (vec2 uv) {\n  float x = opening ? progress : 1.-progress;\n  float m = smoothstep(-smoothness, 0.0, SQRT_2*distance(center, uv) - x*(1.+smoothness));\n  return mix(getFromColor(uv), getToColor(uv), opening ? 1.-m : m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"colorphase",paramsTypes:{fromStep:"vec4",toStep:"vec4"},defaultParams:{fromStep:[0,.2,.4,0],toStep:[.6,.8,1,1]},glsl:"// Author: gre\n// License: MIT\n\n// Usage: fromStep and toStep must be in [0.0, 1.0] range \n// and all(fromStep) must be < all(toStep)\n\nuniform vec4 fromStep; // = vec4(0.0, 0.2, 0.4, 0.0)\nuniform vec4 toStep; // = vec4(0.6, 0.8, 1.0, 1.0)\n\nvec4 transition (vec2 uv) {\n  vec4 a = getFromColor(uv);\n  vec4 b = getToColor(uv);\n  return mix(a, b, smoothstep(fromStep, toStep, vec4(progress)));\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"crosshatch",paramsTypes:{center:"vec2",threshold:"float",fadeEdge:"float"},defaultParams:{center:[.5,.5],threshold:3,fadeEdge:.1},glsl:"// License: MIT\n// Author: pthrasher\n// adapted by gre from https://gist.github.com/pthrasher/04fd9a7de4012cbb03f6\n\nuniform vec2 center; // = vec2(0.5)\nuniform float threshold; // = 3.0\nuniform float fadeEdge; // = 0.1\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvec4 transition(vec2 p) {\n  float dist = distance(center, p) / threshold;\n  float r = progress - min(rand(vec2(p.y, 0.0)), rand(vec2(0.0, p.x)));\n  return mix(getFromColor(p), getToColor(p), mix(0.0, mix(step(dist, r), 1.0, smoothstep(1.0-fadeEdge, 1.0, progress)), smoothstep(0.0, fadeEdge, progress)));    \n}\n",license:"MIT",author:"pthrasher",createdAt:"Mon, 12 Jun 2017 10:02:12 +0800",updatedAt:"Mon, 12 Jun 2017 10:02:12 +0800"},{name:"crosswarp",paramsTypes:{},defaultParams:{},glsl:"// Author: Eke Pter <peterekepeter@gmail.com>\n// License: MIT\nvec4 transition(vec2 p) {\n  float x = progress;\n  x=smoothstep(.0,1.0,(x*2.0+p.x-1.0));\n  return mix(getFromColor((p-.5)*(1.-x)+.5), getToColor((p-.5)*x+.5), x);\n}\n",author:"Eke Pter <peterekepeter@gmail.com>",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"cube",paramsTypes:{persp:"float",unzoom:"float",reflection:"float",floating:"float"},defaultParams:{persp:.7,unzoom:.3,reflection:.4,floating:3},glsl:"// Author: gre\n// License: MIT\nuniform float persp; // = 0.7\nuniform float unzoom; // = 0.3\nuniform float reflection; // = 0.4\nuniform float floating; // = 3.0\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -floating/100.);\n}\n\nbool inBounds (vec2 p) {\n  return all(lessThan(vec2(0.0), p)) && all(lessThan(p, vec2(1.0)));\n}\n\nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = vec4(0.0, 0.0, 0.0, 1.0);\n  pfr = project(pfr);\n  // FIXME avoid branching might help perf!\n  if (inBounds(pfr)) {\n    c += mix(vec4(0.0), getFromColor(pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(vec4(0.0), getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\n// p : the position\n// persp : the perspective in [ 0, 1 ]\n// center : the xcenter in [0, 1] \\ 0.5 excluded\nvec2 xskew (vec2 p, float persp, float center) {\n  float x = mix(p.x, 1.0-p.x, center);\n  return (\n    (\n      vec2( x, (p.y - 0.5*(1.0-persp) * x) / (1.0+(persp-1.0)*x) )\n      - vec2(0.5-distance(center, 0.5), 0.0)\n    )\n    * vec2(0.5 / distance(center, 0.5) * (center<0.5 ? 1.0 : -1.0), 1.0)\n    + vec2(center<0.5 ? 0.0 : 1.0, 0.0)\n  );\n}\n\nvec4 transition(vec2 op) {\n  float uz = unzoom * 2.0*(0.5-distance(0.5, progress));\n  vec2 p = -uz*0.5+(1.0+uz) * op;\n  vec2 fromP = xskew(\n    (p - vec2(progress, 0.0)) / vec2(1.0-progress, 1.0),\n    1.0-mix(progress, 0.0, persp),\n    0.0\n  );\n  vec2 toP = xskew(\n    p / vec2(progress, 1.0),\n    mix(pow(progress, 2.0), 1.0, persp),\n    1.0\n  );\n  // FIXME avoid branching might help perf!\n  if (inBounds(fromP)) {\n    return getFromColor(fromP);\n  }\n  else if (inBounds(toP)) {\n    return getToColor(toP);\n  }\n  return bgColor(op, fromP, toP);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"directionalwarp",paramsTypes:{direction:"vec2"},defaultParams:{direction:[-1,1]},glsl:"// Author: pschroen\n// License: MIT\n\nuniform vec2 direction; // = vec2(-1.0, 1.0)\n\nconst float smoothness = 0.5;\nconst vec2 center = vec2(0.5, 0.5);\n\nvec4 transition (vec2 uv) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x) + abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m = 1.0 - smoothstep(-smoothness, 0.0, v.x * uv.x + v.y * uv.y - (d - 0.5 + progress * (1.0 + smoothness)));\n  return mix(getFromColor((uv - 0.5) * (1.0 - m) + 0.5), getToColor((uv - 0.5) * m + 0.5), m);\n}\n",author:"pschroen",license:"MIT",createdAt:"Wed, 13 Dec 2017 12:08:49 -0500",updatedAt:"Wed, 13 Dec 2017 12:08:49 -0500"},{name:"directionalwipe",paramsTypes:{direction:"vec2",smoothness:"float"},defaultParams:{direction:[1,-1],smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform vec2 direction; // = vec2(1.0, -1.0)\nuniform float smoothness; // = 0.5\n \nconst vec2 center = vec2(0.5, 0.5);\n \nvec4 transition (vec2 uv) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m =\n    (1.0-step(progress, 0.0)) * // there is something wrong with our formula that makes m not equals 0.0 with progress is 0.0\n    (1.0 - smoothstep(-smoothness, 0.0, v.x * uv.x + v.y * uv.y - (d-0.5+progress*(1.+smoothness))));\n  return mix(getFromColor(uv), getToColor(uv), m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"displacement",paramsTypes:{displacementMap:"sampler2D",strength:"float"},defaultParams:{displacementMap:null,strength:.5},glsl:"// Author: Travis Fischer\n// License: MIT\n//\n// Adapted from a Codrops article by Robin Delaporte\n// https://tympanus.net/Development/DistortionHoverEffect\n\nuniform sampler2D displacementMap;\n\nuniform float strength; // = 0.5\n\nvec4 transition (vec2 uv) {\n  float displacement = texture2D(displacementMap, uv).r * strength;\n\n  vec2 uvFrom = vec2(uv.x + progress * displacement, uv.y);\n  vec2 uvTo = vec2(uv.x - (1.0 - progress) * displacement, uv.y);\n\n  return mix(\n    getFromColor(uvFrom),\n    getToColor(uvTo),\n    progress\n  );\n}\n",author:"Travis Fischer",license:"MIT",createdAt:"Tue, 10 Apr 2018 23:03:38 -0400",updatedAt:"Tue, 10 Apr 2018 23:03:38 -0400"},{name:"doorway",paramsTypes:{reflection:"float",perspective:"float",depth:"float"},defaultParams:{reflection:.4,perspective:.4,depth:3},glsl:"// author: gre\n// License: MIT \nuniform float reflection; // = 0.4\nuniform float perspective; // = 0.4\nuniform float depth; // = 3\n\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 boundMin = vec2(0.0, 0.0);\nconst vec2 boundMax = vec2(1.0, 1.0);\n\nbool inBounds (vec2 p) {\n  return all(lessThan(boundMin, p)) && all(lessThan(p, boundMax));\n}\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -0.02);\n}\n\nvec4 bgColor (vec2 p, vec2 pto) {\n  vec4 c = black;\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(black, getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\n\nvec4 transition (vec2 p) {\n  vec2 pfr = vec2(-1.), pto = vec2(-1.);\n  float middleSlit = 2.0 * abs(p.x-0.5) - progress;\n  if (middleSlit > 0.0) {\n    pfr = p + (p.x > 0.5 ? -1.0 : 1.0) * vec2(0.5*progress, 0.0);\n    float d = 1.0/(1.0+perspective*progress*(1.0-middleSlit));\n    pfr.y -= d/2.;\n    pfr.y *= d;\n    pfr.y += d/2.;\n  }\n  float size = mix(1.0, depth, 1.-progress);\n  pto = (p + vec2(-0.5, -0.5)) * vec2(size, size) + vec2(0.5, 0.5);\n  if (inBounds(pfr)) {\n    return getFromColor(pfr);\n  }\n  else if (inBounds(pto)) {\n    return getToColor(pto);\n  }\n  else {\n    return bgColor(p, pto);\n  }\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fade",paramsTypes:{},defaultParams:{},glsl:"// author: gre\n// license: MIT\n\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    progress\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fadecolor",paramsTypes:{color:"vec3",colorPhase:"float"},defaultParams:{color:[0,0,0],colorPhase:.4},glsl:"// author: gre\n// License: MIT\nuniform vec3 color;// = vec3(0.0)\nuniform float colorPhase/* = 0.4 */; // if 0.0, there is no black phase, if 0.9, the black phase is very important\nvec4 transition (vec2 uv) {\n  return mix(\n    mix(vec4(color, 1.0), getFromColor(uv), smoothstep(1.0-colorPhase, 0.0, progress)),\n    mix(vec4(color, 1.0), getToColor(uv), smoothstep(    colorPhase, 1.0, progress)),\n    progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fadegrayscale",paramsTypes:{intensity:"float"},defaultParams:{intensity:.3},glsl:"// Author: gre\n// License: MIT\n\nuniform float intensity; // = 0.3; // if 0.0, the image directly turn grayscale, if 0.9, the grayscale transition phase is very important\n \nvec3 grayscale (vec3 color) {\n  return vec3(0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n}\n \nvec4 transition (vec2 uv) {\n  vec4 fc = getFromColor(uv);\n  vec4 tc = getToColor(uv);\n  return mix(\n    mix(vec4(grayscale(fc.rgb), 1.0), fc, smoothstep(1.0-intensity, 0.0, progress)),\n    mix(vec4(grayscale(tc.rgb), 1.0), tc, smoothstep(    intensity, 1.0, progress)),\n    progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"flyeye",paramsTypes:{size:"float",zoom:"float",colorSeparation:"float"},defaultParams:{size:.04,zoom:50,colorSeparation:.3},glsl:"// Author: gre\n// License: MIT\nuniform float size; // = 0.04\nuniform float zoom; // = 50.0\nuniform float colorSeparation; // = 0.3\n\nvec4 transition(vec2 p) {\n  float inv = 1. - progress;\n  vec2 disp = size*vec2(cos(zoom*p.x), sin(zoom*p.y));\n  vec4 texTo = getToColor(p + inv*disp);\n  vec4 texFrom = vec4(\n    getFromColor(p + progress*disp*(1.0 - colorSeparation)).r,\n    getFromColor(p + progress*disp).g,\n    getFromColor(p + progress*disp*(1.0 + colorSeparation)).b,\n    1.0);\n  return texTo*progress + texFrom*inv;\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"heart",paramsTypes:{},defaultParams:{},glsl:"// Author: gre\n// License: MIT\n\nfloat inHeart (vec2 p, vec2 center, float size) {\n  if (size==0.0) return 0.0;\n  vec2 o = (p-center)/(1.6*size);\n  float a = o.x*o.x+o.y*o.y-0.3;\n  return step(a*a*a, o.x*o.x*o.y*o.y*o.y);\n}\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    inHeart(uv, vec2(0.5, 0.4), progress)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"hexagonalize",paramsTypes:{steps:"int",horizontalHexagons:"float"},defaultParams:{steps:50,horizontalHexagons:20},glsl:"// Author: Fernando Kuteken\n// License: MIT\n// Hexagonal math from: http://www.redblobgames.com/grids/hexagons/\n\nuniform int steps; // = 50;\nuniform float horizontalHexagons; //= 20;\n\nstruct Hexagon {\n  float q;\n  float r;\n  float s;\n};\n\nHexagon createHexagon(float q, float r){\n  Hexagon hex;\n  hex.q = q;\n  hex.r = r;\n  hex.s = -q - r;\n  return hex;\n}\n\nHexagon roundHexagon(Hexagon hex){\n  \n  float q = floor(hex.q + 0.5);\n  float r = floor(hex.r + 0.5);\n  float s = floor(hex.s + 0.5);\n\n  float deltaQ = abs(q - hex.q);\n  float deltaR = abs(r - hex.r);\n  float deltaS = abs(s - hex.s);\n\n  if (deltaQ > deltaR && deltaQ > deltaS)\n    q = -r - s;\n  else if (deltaR > deltaS)\n    r = -q - s;\n  else\n    s = -q - r;\n\n  return createHexagon(q, r);\n}\n\nHexagon hexagonFromPoint(vec2 point, float size) {\n  \n  point.y /= ratio;\n  point = (point - 0.5) / size;\n  \n  float q = (sqrt(3.0) / 3.0) * point.x + (-1.0 / 3.0) * point.y;\n  float r = 0.0 * point.x + 2.0 / 3.0 * point.y;\n\n  Hexagon hex = createHexagon(q, r);\n  return roundHexagon(hex);\n  \n}\n\nvec2 pointFromHexagon(Hexagon hex, float size) {\n  \n  float x = (sqrt(3.0) * hex.q + (sqrt(3.0) / 2.0) * hex.r) * size + 0.5;\n  float y = (0.0 * hex.q + (3.0 / 2.0) * hex.r) * size + 0.5;\n  \n  return vec2(x, y * ratio);\n}\n\nvec4 transition (vec2 uv) {\n  \n  float dist = 2.0 * min(progress, 1.0 - progress);\n  dist = steps > 0 ? ceil(dist * float(steps)) / float(steps) : dist;\n  \n  float size = (sqrt(3.0) / 3.0) * dist / horizontalHexagons;\n  \n  vec2 point = dist > 0.0 ? pointFromHexagon(hexagonFromPoint(uv, size), size) : uv;\n\n  return mix(getFromColor(point), getToColor(point), progress);\n  \n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 21:55:47 -0300",updatedAt:"Tue, 30 May 2017 21:55:47 -0300"},{name:"kaleidoscope",paramsTypes:{speed:"float",angle:"float",power:"float"},defaultParams:{speed:1,angle:1,power:1.5},glsl:"// Author: nwoeanhinnogaehr\n// License: MIT\n\nuniform float speed; // = 1.0;\nuniform float angle; // = 1.0;\nuniform float power; // = 1.5;\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec2 q = p;\n  float t = pow(progress, power)*speed;\n  p = p -0.5;\n  for (int i = 0; i < 7; i++) {\n    p = vec2(sin(t)*p.x + cos(t)*p.y, sin(t)*p.y - cos(t)*p.x);\n    t += angle;\n    p = abs(mod(p, 2.0) - 1.0);\n  }\n  abs(mod(p, 1.0));\n  return mix(\n    mix(getFromColor(q), getToColor(q), progress),\n    mix(getFromColor(p), getToColor(p), progress), 1.0 - 2.0*abs(progress - 0.5));\n}\n",author:"nwoeanhinnogaehr",license:"MIT",createdAt:"Wed, 31 May 2017 21:48:26 -0400",updatedAt:"Wed, 31 May 2017 21:48:26 -0400"},{name:"luma",paramsTypes:{luma:"sampler2D"},defaultParams:{luma:null},glsl:"// Author: gre\n// License: MIT\n\nuniform sampler2D luma;\n\nvec4 transition(vec2 uv) {\n  return mix(\n    getToColor(uv),\n    getFromColor(uv),\n    step(progress, texture2D(luma, uv).r)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"luminance_melt",paramsTypes:{direction:"bool",l_threshold:"float",above:"bool"},defaultParams:{direction:!0,l_threshold:.8,above:!1},glsl:"// Author: 0gust1\n// License: MIT\n//My own first transition  based on crosshatch code (from pthrasher), using  simplex noise formula (copied and pasted)\n//-> cooler with high contrasted images (isolated dark subject on light background f.e.)\n//TODO : try to rebase it on DoomTransition (from zeh)?\n//optimizations :\n//luminance (see http://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color#answer-596241)\n// Y = (R+R+B+G+G+G)/6\n//or Y = (R+R+R+B+G+G+G+G)>>3 \n\n\n//direction of movement :  0 : up, 1, down\nuniform bool direction; // = 1 \n//luminance threshold\nuniform float l_threshold; // = 0.8 \n//does the movement takes effect above or below luminance threshold ?\nuniform bool above; // = false \n\n\n//Random function borrowed from everywhere\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n\n// Simplex noise :\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : MIT  \n//               2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n// \n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// Simplex noise -- end\n\nfloat luminance(vec4 color){\n  //(0.299*R + 0.587*G + 0.114*B)\n  return color.r*0.299+color.g*0.587+color.b*0.114;\n}\n\nvec2 center = vec2(1.0, direction);\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  if (progress == 0.0) {\n    return getFromColor(p);\n  } else if (progress == 1.0) {\n    return getToColor(p);\n  } else {\n    float x = progress;\n    float dist = distance(center, p)- progress*exp(snoise(vec2(p.x, 0.0)));\n    float r = x - rand(vec2(p.x, 0.1));\n    float m;\n    if(above){\n     m = dist <= r && luminance(getFromColor(p))>l_threshold ? 1.0 : (progress*progress*progress);\n    }\n    else{\n     m = dist <= r && luminance(getFromColor(p))<l_threshold ? 1.0 : (progress*progress*progress);  \n    }\n    return mix(getFromColor(p), getToColor(p), m);    \n  }\n}\n",author:"0gust1",license:"MIT",createdAt:"Wed, 24 Jan 2018 19:02:32 +0100",updatedAt:"Wed, 24 Jan 2018 19:02:32 +0100"},{name:"morph",paramsTypes:{strength:"float"},defaultParams:{strength:.1},glsl:"// Author: paniq\n// License: MIT\nuniform float strength; // = 0.1\n\nvec4 transition(vec2 p) {\n  vec4 ca = getFromColor(p);\n  vec4 cb = getToColor(p);\n  \n  vec2 oa = (((ca.rg+ca.b)*0.5)*2.0-1.0);\n  vec2 ob = (((cb.rg+cb.b)*0.5)*2.0-1.0);\n  vec2 oc = mix(oa,ob,0.5)*strength;\n  \n  float w0 = progress;\n  float w1 = 1.0-w0;\n  return mix(getFromColor(p+oc*w0), getToColor(p-oc*w1), progress);\n}\n",author:"paniq",license:"MIT",createdAt:"Thu, 10 Aug 2017 00:27:36 +0200",updatedAt:"Thu, 10 Aug 2017 00:32:01 +0200"},{name:"multiply_blend",paramsTypes:{},defaultParams:{},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\nvec4 blend(vec4 a, vec4 b) {\n  return a * b;\n}\n\nvec4 transition (vec2 uv) {\n  \n  vec4 blended = blend(getFromColor(uv), getToColor(uv));\n  \n  if (progress < 0.5)\n    return mix(getFromColor(uv), blended, 2.0 * progress);\n  else\n    return mix(blended, getToColor(uv), 2.0 * progress - 1.0);\n}\n\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"perlin",paramsTypes:{scale:"float",smoothness:"float",seed:"float"},defaultParams:{scale:4,smoothness:.01,seed:12.9898},glsl:"// Author: Rich Harris\n// License: MIT\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float scale; // = 4.0\nuniform float smoothness; // = 0.01\n\nuniform float seed; // = 12.9898\n\n// http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nfloat random(vec2 co)\n{\n    highp float a = seed;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n// 2D Noise based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    // Smooth Interpolation\n\n    // Cubic Hermine Curve.  Same as SmoothStep()\n    vec2 u = f*f*(3.0-2.0*f);\n    // u = smoothstep(0.,1.,f);\n\n    // Mix 4 coorners porcentages\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nvec4 transition (vec2 uv) {\n  vec4 from = getFromColor(uv);\n  vec4 to = getToColor(uv);\n  float n = noise(uv * scale);\n  \n  float p = mix(-smoothness, 1.0 + smoothness, progress);\n  float lower = p - smoothness;\n  float higher = p + smoothness;\n  \n  float q = smoothstep(lower, higher, n);\n  \n  return mix(\n    from,\n    to,\n    1.0 - q\n  );\n}\n",author:"Rich Harris",license:"MIT",createdAt:"Tue, 23 Jan 2018 21:35:10 -0500",updatedAt:"Wed, 24 Jan 2018 07:35:04 -0500"},{name:"pinwheel",paramsTypes:{speed:"float"},defaultParams:{speed:2},glsl:"// Author: Mr Speaker\n// License: MIT\n\nuniform float speed; // = 2.0;\n\nvec4 transition(vec2 uv) {\n  \n  vec2 p = uv.xy / vec2(1.0).xy;\n  \n  float circPos = atan(p.y - 0.5, p.x - 0.5) + progress * speed;\n  float modPos = mod(circPos, 3.1415 / 4.);\n  float signed = sign(progress - modPos);\n  \n  return mix(getToColor(p), getFromColor(p), step(signed, 0.5));\n  \n}\n",author:"Mr Speaker",license:"MIT",createdAt:"Tue, 30 May 2017 09:04:31 -0400",updatedAt:"Tue, 30 May 2017 09:04:31 -0400"},{name:"pixelize",paramsTypes:{squaresMin:"ivec2",steps:"int"},defaultParams:{squaresMin:[20,20],steps:50},glsl:"// Author: gre\n// License: MIT\n// forked from https://gist.github.com/benraziel/c528607361d90a072e98\n\nuniform ivec2 squaresMin/* = ivec2(20) */; // minimum number of squares (when the effect is at its higher level)\nuniform int steps /* = 50 */; // zero disable the stepping\n\nfloat d = min(progress, 1.0 - progress);\nfloat dist = steps>0 ? ceil(d * float(steps)) / float(steps) : d;\nvec2 squareSize = 2.0 * dist / vec2(squaresMin);\n\nvec4 transition(vec2 uv) {\n  vec2 p = dist>0.0 ? (floor(uv / squareSize) + 0.5) * squareSize : uv;\n  return mix(getFromColor(p), getToColor(p), progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Wed, 31 May 2017 10:58:26 +0200"},{name:"polar_function",paramsTypes:{segments:"int"},defaultParams:{segments:5},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.14159265359\n\nuniform int segments; // = 5;\n\nvec4 transition (vec2 uv) {\n  \n  float angle = atan(uv.y - 0.5, uv.x - 0.5) - 0.5 * PI;\n  float normalized = (angle + 1.5 * PI) * (2.0 * PI);\n  \n  float radius = (cos(float(segments) * angle) + 4.0) / 4.0;\n  float difference = length(uv - vec2(0.5, 0.5));\n  \n  if (difference > radius * progress)\n    return getFromColor(uv);\n  else\n    return getToColor(uv);\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"randomsquares",paramsTypes:{size:"ivec2",smoothness:"float"},defaultParams:{size:[10,10],smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform ivec2 size; // = ivec2(10, 10)\nuniform float smoothness; // = 0.5\n \nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 transition(vec2 p) {\n  float r = rand(floor(vec2(size) * p));\n  float m = smoothstep(0.0, -smoothness, r - (progress * (1.0 + smoothness)));\n  return mix(getFromColor(p), getToColor(p), m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"ripple",paramsTypes:{amplitude:"float",speed:"float"},defaultParams:{amplitude:100,speed:50},glsl:"// Author: gre\n// License: MIT\nuniform float amplitude; // = 100.0\nuniform float speed; // = 50.0\n\nvec4 transition (vec2 uv) {\n  vec2 dir = uv - vec2(.5);\n  float dist = length(dir);\n  vec2 offset = dir * (sin(progress * dist * amplitude - progress * speed) + .5) / 30.;\n  return mix(\n    getFromColor(uv + offset),\n    getToColor(uv),\n    smoothstep(0.2, 1.0, progress)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 15:15:27 +0200",updatedAt:"Tue, 30 May 2017 15:15:27 +0200"},{name:"rotate_scale_fade",paramsTypes:{center:"vec2",rotations:"float",scale:"float",backColor:"vec4"},defaultParams:{center:[.5,.5],rotations:1,scale:8,backColor:[.15,.15,.15,1]},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.14159265359\n\nuniform vec2 center; // = vec2(0.5, 0.5);\nuniform float rotations; // = 1;\nuniform float scale; // = 8;\nuniform vec4 backColor; // = vec4(0.15, 0.15, 0.15, 1.0);\n\nvec4 transition (vec2 uv) {\n  \n  vec2 difference = uv - center;\n  vec2 dir = normalize(difference);\n  float dist = length(difference);\n  \n  float angle = 2.0 * PI * rotations * progress;\n  \n  float c = cos(angle);\n  float s = sin(angle);\n  \n  float currentScale = mix(scale, 1.0, 2.0 * abs(progress - 0.5));\n  \n  vec2 rotatedDir = vec2(dir.x  * c - dir.y * s, dir.x * s + dir.y * c);\n  vec2 rotatedUv = center + rotatedDir * dist / currentScale;\n  \n  if (rotatedUv.x < 0.0 || rotatedUv.x > 1.0 ||\n      rotatedUv.y < 0.0 || rotatedUv.y > 1.0)\n    return backColor;\n    \n  return mix(getFromColor(rotatedUv), getToColor(rotatedUv), progress);\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"squareswire",paramsTypes:{squares:"ivec2",direction:"vec2",smoothness:"float"},defaultParams:{squares:[10,10],direction:[1,-.5],smoothness:1.6},glsl:"// Author: gre\n// License: MIT\n \nuniform ivec2 squares;// = ivec2(10,10)\nuniform vec2 direction;// = vec2(1.0, -0.5)\nuniform float smoothness; // = 1.6\n\nconst vec2 center = vec2(0.5, 0.5);\nvec4 transition (vec2 p) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float offset = smoothness;\n  float pr = smoothstep(-offset, 0.0, v.x * p.x + v.y * p.y - (d-0.5+progress*(1.+offset)));\n  vec2 squarep = fract(p*vec2(squares));\n  vec2 squaremin = vec2(pr/2.0);\n  vec2 squaremax = vec2(1.0 - pr/2.0);\n  float a = (1.0 - step(progress, 0.0)) * step(squaremin.x, squarep.x) * step(squaremin.y, squarep.y) * step(squarep.x, squaremax.x) * step(squarep.y, squaremax.y);\n  return mix(getFromColor(p), getToColor(p), a);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"squeeze",paramsTypes:{colorSeparation:"float"},defaultParams:{colorSeparation:.04},glsl:"// Author: gre\n// License: MIT\n \nuniform float colorSeparation; // = 0.04\n \nvec4 transition (vec2 uv) {\n  float y = 0.5 + (uv.y-0.5) / (1.0-progress);\n  if (y < 0.0 || y > 1.0) {\n     return getToColor(uv);\n  }\n  else {\n    vec2 fp = vec2(uv.x, y);\n    vec2 off = progress * vec2(0.0, colorSeparation);\n    vec4 c = getFromColor(fp);\n    vec4 cn = getFromColor(fp - off);\n    vec4 cp = getFromColor(fp + off);\n    return vec4(cn.r, c.g, cp.b, c.a);\n  }\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"swap",paramsTypes:{reflection:"float",perspective:"float",depth:"float"},defaultParams:{reflection:.4,perspective:.2,depth:3},glsl:"// Author: gre\n// License: MIT\n// General parameters\nuniform float reflection; // = 0.4\nuniform float perspective; // = 0.2\nuniform float depth; // = 3.0\n \nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 boundMin = vec2(0.0, 0.0);\nconst vec2 boundMax = vec2(1.0, 1.0);\n \nbool inBounds (vec2 p) {\n  return all(lessThan(boundMin, p)) && all(lessThan(p, boundMax));\n}\n \nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -0.02);\n}\n \nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = black;\n  pfr = project(pfr);\n  if (inBounds(pfr)) {\n    c += mix(black, getFromColor(pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(black, getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n \nvec4 transition(vec2 p) {\n  vec2 pfr, pto = vec2(-1.);\n \n  float size = mix(1.0, depth, progress);\n  float persp = perspective * progress;\n  pfr = (p + vec2(-0.0, -0.5)) * vec2(size/(1.0-perspective*progress), size/(1.0-size*persp*p.x)) + vec2(0.0, 0.5);\n \n  size = mix(1.0, depth, 1.-progress);\n  persp = perspective * (1.-progress);\n  pto = (p + vec2(-1.0, -0.5)) * vec2(size/(1.0-perspective*(1.0-progress)), size/(1.0-size*persp*(0.5-p.x))) + vec2(1.0, 0.5);\n\n  if (progress < 0.5) {\n    if (inBounds(pfr)) {\n      return getFromColor(pfr);\n    }\n    if (inBounds(pto)) {\n      return getToColor(pto);\n    }  \n  }\n  if (inBounds(pto)) {\n    return getToColor(pto);\n  }\n  if (inBounds(pfr)) {\n    return getFromColor(pfr);\n  }\n  return bgColor(p, pfr, pto);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Sun, 18 Feb 2018 17:45:50 +0100"},{name:"undulatingBurnOut",paramsTypes:{smoothness:"float",center:"vec2",color:"vec3"},defaultParams:{smoothness:.03,center:[.5,.5],color:[0,0,0]},glsl:"// License: MIT\n// Author: pthrasher\n// adapted by gre from https://gist.github.com/pthrasher/8e6226b215548ba12734\n\nuniform float smoothness; // = 0.03\nuniform vec2 center; // = vec2(0.5)\nuniform vec3 color; // = vec3(0.0)\n\nconst float M_PI = 3.14159265358979323846;\n\nfloat quadraticInOut(float t) {\n  float p = 2.0 * t * t;\n  return t < 0.5 ? p : -p + (4.0 * t) - 1.0;\n}\n\nfloat getGradient(float r, float dist) {\n  float d = r - dist;\n  return mix(\n    smoothstep(-smoothness, 0.0, r - dist * (1.0 + smoothness)),\n    -1.0 - step(0.005, d),\n    step(-0.005, d) * step(d, 0.01)\n  );\n}\n\nfloat getWave(vec2 p){\n  vec2 _p = p - center; // offset from center\n  float rads = atan(_p.y, _p.x);\n  float degs = degrees(rads) + 180.0;\n  vec2 range = vec2(0.0, M_PI * 30.0);\n  vec2 domain = vec2(0.0, 360.0);\n  float ratio = (M_PI * 30.0) / 360.0;\n  degs = degs * ratio;\n  float x = progress;\n  float magnitude = mix(0.02, 0.09, smoothstep(0.0, 1.0, x));\n  float offset = mix(40.0, 30.0, smoothstep(0.0, 1.0, x));\n  float ease_degs = quadraticInOut(sin(degs));\n  float deg_wave_pos = (ease_degs * magnitude) * sin(x * offset);\n  return x + deg_wave_pos;\n}\n\nvec4 transition(vec2 p) {\n  float dist = distance(center, p);\n  float m = getGradient(getWave(p), dist);\n  vec4 cfrom = getFromColor(p);\n  vec4 cto = getToColor(p);\n  return mix(mix(cfrom, cto, m), mix(cfrom, vec4(color, 1.0), 0.75), step(m, -2.0));\n}\n",license:"MIT",author:"pthrasher",createdAt:"Mon, 12 Jun 2017 10:23:37 +0800",updatedAt:"Mon, 12 Jun 2017 10:23:37 +0800"},{name:"wind",paramsTypes:{size:"float"},defaultParams:{size:.2},glsl:"// Author: gre\n// License: MIT\n\n// Custom parameters\nuniform float size; // = 0.2\n\nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 transition (vec2 uv) {\n  float r = rand(vec2(0, uv.y));\n  float m = smoothstep(0.0, -size, uv.x*(1.0-size) + size*r - (progress * (1.0 + size)));\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    m\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"windowblinds",paramsTypes:{},defaultParams:{},glsl:"// Author: Fabien Benetou\n// License: MIT\n\nvec4 transition (vec2 uv) {\n  float t = progress;\n  \n  if (mod(floor(uv.y*100.*progress),2.)==0.)\n    t*=2.-.5;\n  \n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    mix(t, progress, smoothstep(0.8, 1.0, progress))\n  );\n}\n",author:"Fabien Benetou",license:"MIT",createdAt:"Wed, 31 May 2017 14:11:48 +0200",updatedAt:"Wed, 31 May 2017 14:11:48 +0200"},{name:"windowslice",paramsTypes:{count:"float",smoothness:"float"},defaultParams:{count:10,smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform float count; // = 10.0\nuniform float smoothness; // = 0.5\n\nvec4 transition (vec2 p) {\n  float pr = smoothstep(-smoothness, 0.0, p.x - progress * (1.0 + smoothness));\n  float s = step(pr, fract(count * p.x));\n  return mix(getFromColor(p), getToColor(p), s);\n}\n",author:"gre",license:"MIT",createdAt:"Wed, 28 Mar 2018 17:23:26 +0200",updatedAt:"Wed, 28 Mar 2018 17:23:26 +0200"},{name:"wipeDown",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(1.0-p.y,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:26:01 -0500",updatedAt:"Thu, 2 Nov 2017 18:39:26 -0500"},{name:"wipeLeft",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(1.0-p.x,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:26:28 -0500",updatedAt:"Fri, 3 Nov 2017 18:03:50 +0100"},{name:"wipeRight",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(0.0+p.x,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:27:02 -0500",updatedAt:"Thu, 2 Nov 2017 18:40:22 -0500"},{name:"wipeUp",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(0.0+p.y,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:24:36 -0500",updatedAt:"Thu, 2 Nov 2017 18:37:42 -0500"}]},t=>{"use strict";t.exports={name:"Fat",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n\n  float getDis(float dis){\n    dis = pow(dis,0.65);\n    return 1.*dis;\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 center=vec2(.5);\n    vec2 dv=center-uv;\n    float k = (3./2.);\n    float r = .16;\n    float dis=length(dv);\n    float sinFactor=((sin(progress*k*PI)-1.)+1.)*r;\n\n    vec2 dv1=normalize(dv);\n    vec2 offsets=dv1*sinFactor*getDis(dis);\n    vec2 uv2=offsets+uv;\n    vec2 uv3=offsets*1.2+uv;\n\n    vec4 c=getToColor(uv);\n    vec4 a=getToColor(uv2);\n    vec4 b=getFromColor(uv3);\n\n    if(progress<=.0) return getFromColor(uv);\n    return mix(b,mix(a,c,progress), progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Lens",paramsTypes:{},defaultParams:{},glsl:"\n  #define GRID_SIZE 20.\n  const float PI = acos(-1.);\n\n  float screenIn(in vec2 uv) {\n    float x = 1. - step(0.5, abs(uv.x-0.5));\n    float y = 1. - step(0.5, abs(uv.y-0.5));\n    float result = x * y;\n    return result;\n  }\n  mat2 rotate(in float r) { float c=cos(r),s=sin(r); return mat2(c,-s,s,c); }\n  float hash(in float v) { return fract(sin(v)*43237.5324); }\n  float hash(in vec2 v) { return fract(sin(dot(v, vec2(12.9898, 78.233)))*43237.5324); }\n\n  vec4 transitionFrame(float ratio, in vec2 st) {\n    vec2 uv = st;\n    uv *= rotate(PI/6.);\n\n    uv.y *= GRID_SIZE;\n    vec2 id = vec2(0.);\n    id.y = floor(uv.y);\n    uv.x *= GRID_SIZE*hash(id.y);\n    id.x = id.y + floor(uv.x);\n\n    float angle = sign(hash(id.x)*2.-1.);\n    float offset = hash(id.x + id.y)+1.414;\n\n    vec2 uv1 = st;\n    vec2 uv2 = st + vec2(angle * offset * ratio, 0.)*rotate(-PI/6.);\n\n    return screenIn(uv2)<1. ? getToColor(uv1) : getFromColor(uv2);\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float iTime = progress*PI/2.0;\n    float ratio = smoothstep(0., 1., sin(iTime));\n    vec4 video = transitionFrame(ratio, uv);\n    vec3 col = video.rgb;\n    return vec4(col,1.0);\n  }\n",author:"https://www.shadertoy.com/view/wdcSzl"}},t=>{"use strict";t.exports={name:"Slice",paramsTypes:{},defaultParams:{},glsl:"\n  float NUM = 18.0;\n  float PI = 3.1415927;\n  vec2 direction = vec2(1.0, .0);\n\n  float normalSine(float value) {\n    return (sin(value) + 1.0) / 2.0;\n  }\n\n  float rand(float n){\n    float num = 100.;\n    float y = floor(n * num);\n    y/=num;\n    return fract(sin(y) * 43758.5453123);\n  }\n\n  float checker(vec2 uv) {\n    float div = 2.0;\n    float fy = floor(uv.x * NUM);\n    float odd = fy - (div * floor(fy/div));\n    return sign(odd);\n  }\n\n  vec4 transition (vec2 uv) {\n    float iTime = (progress - .5)*PI;\n    vec2 iResolution =vec2(1.0);\n\n    float factor = 1.0 - ( 2.0 * checker(uv));\n    vec2 offsetDirection = direction * factor;\n    vec2 offset = offsetDirection * normalSine(iTime);\n    vec2 wrapped = fract(uv + offset);\n    \n    vec4 fromColor = getFromColor(wrapped);\n    vec4 toColor = getToColor(wrapped);\n    return mix(fromColor,toColor,progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Shake",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  float random2d(vec2 n) { \n    return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n  }\n  \n  float randomRange (in vec2 seed, in float min, in float max) {\n    return min + random2d(seed) * (max - min);\n  }\n  \n  float insideRange(float v, float bottom, float top) {\n    return step(bottom, v) - step(top, v);\n  }\n  \n  float getSpeed(float progress){\n    return pow(progress, 4.);\n  }\n  \n  float AMT = 0.2; //0 - 1 glitch amount\n  float SPEED = 0.6; //0 - 1 speed\n     \n  vec4 transition (vec2 p) {\n    float iTime = progress*PI;\n    vec2 iResolution =vec2(1.0);\n    \n    float time = floor(iTime * SPEED * 60.0);  \n    vec2 uv = p.xy / iResolution.xy;\n    vec3 outCol = getToColor(uv).rgb;\n    \n    float maxOffset = AMT/2.0;\n    for (float i = 0.0; i < 10.0 * .45; i += 1.0) {\n      float sliceY = random2d(vec2(time , 2345.0 + float(i)));\n      float sliceH = random2d(vec2(time , 9035.0 + float(i))) * 0.25;\n      float hOffset = randomRange(vec2(time , 9625.0 + float(i)), -maxOffset, maxOffset);\n      vec2 uvOff = uv;\n      uvOff.x += hOffset;\n      if (insideRange(uv.y, sliceY, fract(sliceY+sliceH)) == 1.0 ){\n        outCol = getToColor(uvOff).rgb;\n      }\n    }\n  \n    float maxColOffset = AMT/6.0;\n    float rnd = random2d(vec2(time , 9545.0));\n    vec2 colOffset = vec2(randomRange(vec2(time, 9545.0),-maxColOffset,maxColOffset), randomRange(vec2(time , 7205.0),-maxColOffset,maxColOffset));\n    if (rnd < 0.33){\n      outCol.r = getToColor(uv + colOffset).r;\n      \n    }else if (rnd < 0.66){\n      outCol.g = getToColor(uv + colOffset).g;\n    } else{\n      outCol.b = getToColor(uv + colOffset).b;  \n    }\n    \n    vec4 fromColor = getFromColor(p);\n    vec4 toColor = vec4(outCol,1.0);\n    \n    if(progress>=1.) return getToColor(p);\n    return mix(fromColor,toColor,getSpeed(progress));\n  }\n"}},t=>{"use strict";t.exports={name:"Stretch",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  float quarticInOut(float t) {\n    return t < 0.5? +8.0 * pow(t, 4.0): -8.0 * pow(t - 1.0, 4.0) + 1.0;\n  }\n\n  float hash(float n) { \n    return fract(sin(n) * 1e4); \n  }\n  float hash(vec2 p) { \n    return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) * (0.1 + abs(sin(p.y * 13.0 + p.x)))); \n  }\n    \n  float hnoise(vec2 x) {\n    vec2 i = floor(x);\n    vec2 f = fract(x);\n    float a = hash(i);\n    float b = hash(i + vec2(1.0, 0.0));\n    float c = hash(i + vec2(0.0, 1.0));\n    float d = hash(i + vec2(1.0, 1.0));\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\n  }\n    \n  vec4 transition (vec2 uv) {\n    vec2 newUv = (uv - vec2(0.5)) + vec2(0.5);\n    float hn = hnoise(newUv.xy  / 10.0); \n    vec2 d = vec2(0.,normalize(vec2(0.5,0.5) - newUv.xy).y);\n    float time = quarticInOut(progress);\n    vec2 uv1 = newUv + d * time / 5.0 * (1.0 + hn / 2.0);\n    vec2 uv2 = newUv - d * (1.0 - time) / 5.0 * (1.0 + hn / 2.0);\n\n    return mix(getFromColor(uv1), getToColor(uv2), time);\n  }\n"}},t=>{"use strict";t.exports={name:"BackOff",paramsTypes:{},defaultParams:{},glsl:"\n  float superstep(float a, float x){\n    float v = smoothstep(a-0.1,a,x);\n    return pow(v, 1.2);\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 p=uv.xy/vec2(1.0).xy;\n    vec4 a=getFromColor(p);\n    vec4 b=getToColor(p);\n\n    if(uv.x<=.5&&uv.y<=.5){\n      return mix(a, b, superstep(1.0-p.y,progress));\n    }else if(uv.x<=1.&&uv.y<=.5){\n      return mix(a, b, superstep(0.0+p.x,progress));\n    }else if(uv.x>=.5&&uv.y>=.5){\n      return mix(a, b, superstep(0.0+p.y,progress));\n    }else{\n      return mix(a, b, superstep(1.0-p.x,progress));\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"Fluidly",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.14159265359\n  vec2 accel = vec2(0.01);\n\n  vec2 mirror(vec2 v) {\n    vec2 m = mod(v, 2.0);\n    return mix(m, 2.0 - m, step(1.0, m));\n  }\n\n  float tri(float p) {\n    return mix(p, 1.0 - p, step(0.5, p))*2.0;\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float iTime = progress;\n\n    vec2 vuv1 = uv - 0.5;\n    vuv1 *= vec2(1.,iResolution.y/iResolution.x);\n    vuv1 += 0.5;\n\n    float p = pow(min(cos(PI * (mod(iTime,2.)-1.) / 2.), 1. - abs(mod(iTime,2.) - 1.)  ), 1. );\n    float delayValue = p*7. - uv.y*2. + uv.x - 2.0 ;\n    delayValue = clamp(delayValue,0.,1.);\n\n    vec2 acc = vec2(0.5,2.);\n    vec2 translateValue = p + delayValue * acc;\n    vec2 translateValue1 = vec2(-0.5,1.)* translateValue;\n    vec2 translateValue2 = vec2(-0.5,1.) * (translateValue - 1.0 - acc);\n\n    vec2 w = sin( sin(iTime)*vec2(0,0.3) + uv*vec2(0,4.)) * vec2(0, 0.5);\n    vec2 xy = w*(tri(p)*0.5 + tri(delayValue)*0.5);\n\n    vec2 uv1 = vuv1 + translateValue1 + xy;\n    vec2 uv2 = vuv1 + translateValue2 + xy;\n\n    vec4 t0 = getFromColor(mirror(uv1));\n    vec4 t1 = getToColor(mirror(uv2));\n    return mix(t0, t1, delayValue);\n  }\n",author:"https://www.shadertoy.com/view/wsjGWW"}},t=>{"use strict";t.exports={name:"Oblique",paramsTypes:{bgcolor:"vec4"},defaultParams:{bgcolor:[0,0,0,1]},glsl:"\n  const float PI = 3.1415927;\n  const float seed = 265.5;\n  const float rotAngle = PI/4.;\n  const float sliceCount = 10.0;\n\n  float random (in vec2 st) { \n    return fract(sin(dot(st.xy,vec2(12.9798,78.323)))*43758.5453234);\n  }\n\n  mat2 rot2m(float a){\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(c, -s, s, c);\n  }\n\n  float slices(in vec2 p, float count){\n    p *= rot2m(rotAngle);\n    float x = p.x * count;\n    float v = random( vec2(floor(x)) + seed * count * 0.5 );\n    return v;\n  }\n\n  float randomSlices(in vec2 p){\n      float s1 = 1.0, s2 = 0.0;\n      for(float i = 1.0; i < sliceCount; ++i){\n          float t = slices(p, 2.0 * i);\n          \n          s1 = min(s1, t);\n          s2 = max(s2, t);\n      }\n      return (s1 + s2) * 0.5;\n  }\n\n  vec4 pic(float v, vec2 uv, vec2 sp){\n      float m1 = (v + 1.0);\n      m1 = 1.0 / pow(m1, 0.25);\n      \n      float m2 = (2.0 - v);\n      m2 = 1.0 / pow(m2, 0.25);\n      \n      vec2 uv1 = (uv - sp) * m1 + sp;\n      vec2 uv2 = (uv - sp) * m2 + sp;\n      \n      vec4 colA = getFromColor( fract(uv1) );\n      vec4 colB = getToColor( fract(uv2) );\n      \n      return mix(colA, colB, v);\n  }\n\n  vec4 transition (vec2 uv) {\n      float iTime = progress*PI;\n      vec2 iResolution =vec2(1.0);\n      float v = randomSlices(uv);\n      \n      float b = smoothstep(0.0, v, sin(iTime * 0.7));\n      vec2 sp = vec2(v, random(vec2(v) ) ) * 0.5;\n      \n      return pic(b, uv, sp );\n  }\n",author:"https://www.shadertoy.com/view/ltVSzd"}},t=>{"use strict";t.exports={name:"Windows4",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.141592653589793\n\n  float superstep(float a, float x){\n    float v = smoothstep(a-0.1,a,x);\n    return pow(v, 1.2);\n  }\n  \n  float quarticInOut(float t) {\n    return t < 0.5\n      ? +8.0 * pow(t, 4.0)\n      : -8.0 * pow(t - 1.0, 4.0) + 1.0;\n  }\n  \n  float backOut(float t) {\n    float f = t < 0.5\n      ? 2.0 * t\n      : 1.0 - (2.0 * t - 1.0);\n  \n    float g = pow(f, 3.0) - f * sin(f * PI);\n  \n    return t < 0.5\n      ? 0.5 * g\n      : 0.5 * (1.0 - g) + 0.5;\n  }\n  \n  vec4 getColor(vec2 uv, vec2 direction){\n    vec2 p = uv + quarticInOut(progress) * sign(direction);\n    vec2 f = fract(p);\n    \n    return mix(\n      getToColor(f),\n      getFromColor(f),\n      step(0.0, p.y) * step(p.y, 1.0) * step(0.0, p.x) * step(p.x, 1.0)\n    );\n  }\n  \n  vec4 transition (vec2 uv) {\n    if(uv.x<=.5&&uv.y<=.5){\n      return getColor(uv, vec2(0., 1.));\n    }else if(uv.x<=1.&&uv.y<=.5){\n      return getColor(uv, vec2(-1., 0.));\n    }else if(uv.x>=.5&&uv.y>=.5){\n      return getColor(uv, vec2(0., -1.));\n    }else{\n      return getColor(uv, vec2(1., 0.));\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"Tetrapod",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.141592653589793\n  const float divisions=20.;\n  \n  float sfract(float time){\n    if(time>=1.) return 1.;\n    return fract(time);\n  }\n  \n  vec4 transition (vec2 uv) {\n    float iTime = progress;\n    vec2 iResolution =vec2(1.0);\n    vec2 st = uv;\n      \n    float t = sfract(iTime)*3.-1.;\n    vec2 f_st = fract(st*divisions);\n    vec2 i_st = floor(st*divisions);\n    f_st -= 0.5;\n    t = (1.-t+(i_st.x/divisions) - (1.-i_st.y/divisions));\n    float fx = smoothstep(t-.2, t+.3, 1.-abs(f_st.x+f_st.y));\n    float fy = smoothstep(t-.2, t+.3, 1.-abs((f_st.x)-(f_st.y)));\n    float a = fx*fy;\n      \n    vec4 toColor = getToColor(st)*a;\n    vec4 fromColor = getFromColor(uv);\n    fromColor.a = 1.-iTime;\n      \n    if(progress>=1.) return getToColor(uv);\n    return mix(fromColor, toColor , progress*progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Colorful",paramsTypes:{},defaultParams:{},glsl:"\n  #define HALF_PI 1.57079632679\n  vec4 colors[6];\n  vec2 center = vec2(0.5, 0.5);\n\n  float aasin(float t){\n    float nt = t;\n    if(nt<=.0) nt = 0.;\n    if(nt>=1.) nt = 1.;\n    return asin(nt)/HALF_PI;\n  }\n\n  vec4 getRgb(float r, float g, float b){\n    float v255 = 255.0;\n    return vec4(r/v255, g/v255, b/v255, 1.);\n  }\n\n  vec2 resetSize(vec2 size){\n    vec2 nsize = size;\n    if(ratio>1.){\n      nsize.y = size.y / ratio;\n    }else{\n      nsize.x = size.x * ratio;\n    }\n\n    return nsize;\n  }\n\n  vec4 transition (vec2 uv) {\n    colors[0]= getRgb(255., 212., 50.);\n    colors[1]= getRgb(252., 92., 102.);\n    colors[2]= getRgb(70., 170., 240.);\n    colors[3]= getRgb(57., 105., 214.);\n    colors[4]= getRgb(137., 84., 208.);\n    colors[5]= getToColor(uv);\n\n    float num = 6.0;\n    float delay = .3;\n    vec2 iResolution = vec2(1.0);\n    float tha = progress *(1. + (num-1.) * delay);\n\n    vec2 centerPx = iResolution.xy * center;\n    vec2 ncenterPx = resetSize(centerPx);\n    vec2 nuv = resetSize(uv);\n    vec2 dis = nuv - ncenterPx;\n    float dist = length(dis) / length(ncenterPx);\n\n    vec4 color = getFromColor(uv);\n    for(int i = 0; i < 6; i+=1) {\n      float mixRatio = smoothstep(dist-0.015, dist, aasin(tha-delay*float(i)));\n        color = mix(color, colors[i], mixRatio);\n    }\n\n    if(progress<=0.) return getFromColor(uv);\n    return color;\n  }\n"}},t=>{"use strict";t.exports={name:"MoveLeft",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.141592653589793\n  #define HALF_PI 1.5707963267948966\n    \n  float pows(float p){\n    return pow(p, 1.6);\n  }\n  \n  float quarticInOut(float t) {\n    return t < 0.5\n      ? +8.0 * pow(t, 4.0)\n      : -8.0 * pow(t - 1.0, 4.0) + 1.0;\n  }\n  \n  float backIn(float t) {\n    return pow(t, 3.0) - t * sin(t * PI);\n  }\n  \n  vec4 blurToColor(vec2 uv, float blurSize){\n    float invAspect = 1.;\n    vec4 col = vec4(0.);\n    for(float index = 0.; index < 30.; index++){\n      vec2 bl = vec2((index/9. - 0.5) * blurSize * invAspect, 0.);\n      vec2 newuv = uv + bl;\n      col += getToColor(newuv);\n    }\n    col = col / 30.;\n    return col;\n  }\n  \n  vec4 transition (vec2 uv) {\n    vec2 iResolution =vec2(1.0);\n    vec2 pos = uv;\n    float d = quarticInOut(1.-progress);\n    pos.x = uv.x + d;\n    //pos.y = zoomIn(uv.y, progress);\n    //pos.x = zoomOut(pos.x, progress);\n  \n    vec4 result;\n    vec4 col1 = getFromColor(uv);\n    vec4 col2 = blurToColor(pos, .2*d);\n  \n    result = col2;\n    if(uv.x> 1.0 - d){\n      result = col1;\n    }\n    if(pos.x<0.){\n      result = col1;\n    }\n    if(progress>=1.0){\n      return getToColor(uv);\n    }\n  \n    return result;\n  }\n"}},t=>{"use strict";t.exports={name:"Sunflower",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  const float NUM = 8.;\n\n  float getStep(vec2 p, float speed){\n    float circPos = atan(p.y - 0.5, p.x - 0.5) + progress * speed;\n    float modPos = mod(circPos, PI / NUM);\n    float signed = sign(progress - modPos);\n    return smoothstep(signed-.2,signed, 0.5);\n  }\n\n  vec4 transition(vec2 uv) {\n    vec2 p = uv.xy / vec2(1.0).xy;\n    vec2 center = vec2(.5);\n    float len = length(p-center);\n    for(float i=0.;i<=1.;i+=1./20.){\n      vec4 color = mix(getToColor(p), getFromColor(p), getStep(p, (1.-i)*6.));\n      if(len<i) return color;\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"ZoomRight",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n\n  float triangle(float x) {\n    return 1.0 - abs(fract(x) - 0.5) * 2.0;\n  }\n  float smootherstep(float x) {\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0);\n  }\n\n  float endPosition(float radius, float offset, float rollPosition) {\n    float rollLength = radius * 3.141592 / 2.0;\n    float onRoll = min(offset + 1.0 - rollPosition, rollLength);\n    return rollPosition + radius * sin(onRoll / radius);\n  }\n\n  float findRollPosition(float radius, float offset) {\n    float lower = 1.0 - radius;\n    float upper = 1.0;\n\n    float mid = 0.0;\n    for(int i = 0; i < 16; i++) {\n      mid = (upper + lower) / 2.0;\n      float position = endPosition(radius, offset, mid);\n      if(position > 1.0) {\n        upper = mid;\n      } else {\n        lower = mid;\n      }\n    }\n    return mid;\n  }\n\n  vec4 transition (vec2 uv) {\n      float iTime = progress*PI;\n      vec2 iResolution =vec2(1.0);\n      vec2 p = uv;\n      \n      float t = iTime / 5.0;\n      float offset = smootherstep(triangle(t));\n\n      float radius = 0.3;\n      float flatLength = 1.0 - radius;\n      float rollLength = radius * 3.141592 / 2.0;\n      float fullLength = flatLength + rollLength;\n\n      offset *= fullLength;\n      float rollPosition = findRollPosition(radius, offset);\n      float shadow;\n      if(p.x < rollPosition) {\n          uv.x -= offset;\n          shadow = 1.0;\n      } else {\n          float a = asin((p.x - rollPosition) / radius);\n          uv.x = a * radius - offset + rollPosition;\n          uv.y = (p.y - 0.5) / (0.4 * cos(a) + 0.6) + 0.5;\n          shadow = 0.5 * cos(a) + 0.5;\n      }\n      \n      vec4 fromColor = getFromColor(uv);\n      fromColor *= step(-uv.x, 0.0);\n      fromColor *= step(-uv.y, 0.0);\n      fromColor *= step(uv.y, 1.0);\n      fromColor *= shadow;\n      \n      vec4 result = fromColor;\n      vec4 toColor = getToColor(p);\n      \n      if(result.a<0.3) result = toColor;\n      if(progress>1.) return toColor;\n      return result;\n  }\n",author:"https://www.shadertoy.com/view/wssczB",createdAt:"Mon, 12 Jun 2020 12:52:34 +0800",updatedAt:"Mon, 12 Jun 2020 12:52:34 +0800"}},t=>{"use strict";t.exports={name:"WaterWave",paramsTypes:{},defaultParams:{},glsl:"\n  #define PIS 3.1415926\n\n  vec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n  vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n  vec4 permute(vec4 x) {\n    return mod289(((x*34.0)+1.0)*x);\n  }\n  vec4 taylorInvSqrt(vec4 r){\n    return 1.79284291400159 - 0.85373472095314 * r;\n  }\n\n  float snoise(vec3 v) {\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n        i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n      + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n      + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n\n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n\n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );\n  }\n\n  vec3 curlNoise( vec3 p ){\n    const float e = 0.1;\n    float  n1 = snoise(vec3(p.x, p.y + e, p.z));\n    float  n2 = snoise(vec3(p.x, p.y - e, p.z));\n    float  n3 = snoise(vec3(p.x, p.y, p.z + e));\n    float  n4 = snoise(vec3(p.x, p.y, p.z - e));\n    float  n5 = snoise(vec3(p.x + e, p.y, p.z));\n    float  n6 = snoise(vec3(p.x - e, p.y, p.z));\n\n    float x = n2 - n1 - n4 + n3;\n    float y = n4 - n3 - n6 + n5;\n    float z = n6 - n5 - n2 + n1;\n\n    const float divisor = 1.0 / ( 2.0 * e );\n    return normalize( vec3( x , y , z ) * divisor );\n  }\n\n  vec4 transition (vec2 uv) {\n    float iTime = progress * PIS/2.0;\n    float f = sin(iTime) ;\n    vec3 curl = curlNoise(vec3(uv,1.) *5. + iTime) / 1.;\n\n    vec4 t0 = getFromColor(vec2(uv.x,uv.y + f * (curl.x) ) );\n    vec4 t1 = getToColor(vec2(uv.x,uv.y + (1.-f) * (curl.x) ));\n  \n    uv.x += curl.x;\n    return mix(t0,t1,f);\n  }\n",author:"https://www.shadertoy.com/view/tdj3W3"}},t=>{"use strict";t.exports={name:"Radiation",paramsTypes:{},defaultParams:{},glsl:"\n  #define MPI 3.14159265\n  float cprogress;\n  float randomSeed;\n  float PHI = 1.61803398874989484820459; \n      \n  float LinearTween(float t, float start, float end){\n    return t * start + (1. - t) * end;\n  }\n      \n  float quadraticEaseIn(float t, float start, float end){\n    return LinearTween(t * t, start, end);\n  }\n      \n  vec4 radialWiggle(vec2 uv){\n      vec2 center = vec2(0.5,0.5);\n      vec2 toUV = uv - center;\n      float distanceFromCenter = length(toUV);\n      vec2  normToUV = toUV / distanceFromCenter;\n      float angle = (cos(MPI/2.0*cprogress) + MPI) / (0.2 * MPI);\n      float offset1 = getFromColor(vec2(angle, fract(cprogress/3. + distanceFromCenter/5. + randomSeed))).x * 3.0 - 1.0;\n      float offset2 = offset1 * 2.0 * min(0.3, (1.-cprogress)) * distanceFromCenter;\n      offset1 = offset1 * 2.0 * min(0.3, cprogress) * distanceFromCenter;\n      \n      vec4 c1 = getToColor(fract(center + normToUV * (distanceFromCenter + offset1)));\n      vec4 c2 = getFromColor(fract(center + normToUV * (distanceFromCenter + offset2)));\n      return mix(c1, c2, cprogress);\n  }\n      \n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    randomSeed = MPI ;\n    cprogress  = quadraticEaseIn(progress, 0.0, 1.0);\n    return radialWiggle(uv);\n  }\n"}},t=>{"use strict";t.exports={name:"Quicksand",paramsTypes:{},defaultParams:{},glsl:"\n  #define M_PI 3.1415926535897932384626433832795\n\n  vec4 transition (vec2 uv) {\n    vec4 color1 = getFromColor(uv+(getToColor(uv).rb)*progress);\n    return mix(color1, getToColor(uv), progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Magnifier",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  const float radius = .3;\n  const float width = .35;\n\n  float quarticIn(float t) {\n      return pow(t, 4.0);\n  }\n\n  float parabola( float x, float k ) {\n    return pow( 4. * x * ( 1. - x ), k );\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 cuv = (uv - vec2(0.5)) + vec2(0.5);\n    vec2 start = vec2(0.5,0.5);\n    vec2 aspect = vec2(1.);\n    float dt = parabola(progress, 1.);\n    float time = quarticIn(progress);\n    vec4 bg = getFromColor(fract(cuv+time*0.04));\n    float prog = progress*0.66 + bg.g * 0.04;\n    float circ = 1. - smoothstep(-width, 0.0, radius * distance(start*aspect, cuv*aspect) - prog*(1.+width));\n    float intpl = pow(abs(circ), 1.);\n\n    vec4 t1 = getFromColor((cuv - 0.5) * (1.0 - intpl) + 0.5 ) ;\n    vec4 t2 = getToColor((cuv - 0.5) * intpl + 0.5 );\n    return mix( t1, t2, intpl );\n  }\n"}},t=>{"use strict";t.exports={name:"FastSwitch",paramsTypes:{},defaultParams:{},glsl:"\n  #define PIS 3.141592653589793\n\n  float sineInOut(float t) {\n    return -0.5 * (cos(PIS * t) - 1.0);\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float iTime = progress;\n\n    vec4 _currentImage;\n    vec4 _nextImage;\n    float dispFactor = sineInOut(iTime * 1.);\n\n    float intensity = 0.3;\n\n    vec4 orig1 = getFromColor(uv);\n    vec4 orig2 = getToColor(uv);\n    _currentImage = getFromColor(vec2(uv.x, uv.y + dispFactor * (orig2.r * intensity)));\n    _nextImage = getToColor(vec2(uv.x, uv.y + (1.0 - dispFactor) * (orig1.r * intensity)));\n\n    vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n\n    return finalTexture;\n  }\n"}},t=>{"use strict";t.exports={name:"HangAround",paramsTypes:{},defaultParams:{},glsl:"\n  vec2 direction = vec2(-1.0, 0.0);\n  const float PI = 3.1415927;\n\n  float backIn(float t) {\n    return pow(t, 3.0) - t * sin(t * PI);\n  }\n\n  float backOut(float t) {\n    float f = 1.0 - t;\n    return 1.0 - (pow(f, 3.0) - f * sin(f * PI));\n  }\n\n  vec4 transition(vec2 uv) {\n    for(float i=0.;i<=1.1;i+=1./40.){\n      float d = .3;\n      float k = 1./d;\n      float ds = i*(1.-d)/10.;\n      float time = k*(progress-ds);\n      time = clamp(time,0.,1.);\n      //time = pow(time, .7);\n      time = backOut(time);\n\n      vec2 p = uv + time * sign(direction);\n      vec2 f = fract(p);\n      vec4 color = mix(\n        getToColor(f),\n        getFromColor(f),\n        step(0.0, p.x) * step(p.y, 1.0) * step(0.0, p.x) * step(p.x, 1.0)\n      );\n\n      if((1.-uv.y)<=i) return color;\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"CircleCrop",paramsTypes:{bgcolor:"vec4"},defaultParams:{bgcolor:[0,0,0,1]},glsl:"\n  uniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\n\n  vec2 ratio2 = vec2(1.0, 1.0 / ratio);\n  float s = pow(2.0 * abs(progress - 0.5), 3.0);\n\n  vec4 transition(vec2 p) {\n    float dist = length((vec2(p) - 0.5) * ratio2);\n\n    return mix(\n      progress < 0.5 ? getFromColor(p) : getToColor(p),\n      bgcolor,\n      smoothstep(s, s+0.01, dist)\n    );\n  }\n"}},t=>{"use strict";t.exports={name:"WindowShades",paramsTypes:{},defaultParams:{},glsl:"\n  float getSpeed(float t, float speed){\n    float d = 0.7*speed;\n    float k = 1./(1.-d);\n    float b = -1./(1.-d)*d;\n    float y = k*t+b; \n    y = clamp(y, 0., 1.);\n    return y*y;\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float t = progress;\n      \n    vec4 result = getToColor(uv);\n    vec4 result2 = getToColor(uv);\n    vec2 translate = vec2(uv.x,uv.y);\n        \n    float div = 2.0;\n    float num = 20.0;\n    float fy = floor(uv.y * num);\n    float odd = fy - (div * floor(fy/div));\n    float speed = (fy/num);\n      \n    if( odd == 0.0){\n      translate.x = translate.x - getSpeed(t, speed);    \n      result = getFromColor(translate);\n      if(translate.x<0.0){\n        result.rgb = result2.rgb;\n      }\n    }else{\n      translate.x = translate.x + getSpeed(t, speed);    \n      result = getFromColor(translate);\n      if(translate.x>1.0){\n        result.rgb = result2.rgb;\n      }\n    }\n    \n    return result;\n  }\n"}},t=>{"use strict";t.exports={name:"TricolorCircle",paramsTypes:{},defaultParams:{},glsl:"\n  #define D120 2.09439510239\n  #define D240 4.18879020479\n      \n  bool inEllipse(vec3 circle, vec2 point){\n    float a,b;\n    if(ratio>1.){\n      a = circle.z; \n      b = circle.z*ratio;\n    }else{\n      a = circle.z / ratio; \n      b = circle.z;\n    }\n    float aa = a*a;\n    float bb = b*b;\n    float xx = pow(point.x-circle.x, 2.0);\n    float yy = pow(point.y-circle.y, 2.0);\n    \n    if(xx/aa + yy/bb <= 1.0)\n      return true; \n    return false;\n  }\n      \n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    vec2 po = uv.xy;\n    vec2 sc = vec2(0.5);   \n    float r = progress;       //Radius\n    float d = 0.3;            //Distance\n    float a = progress * 4.0; //Angle progress\n\n    vec3 rC = vec3(sc.x + d * sin(a),         sc.y + d * cos(a),      r);\n    vec3 gC = vec3(sc.x + d * sin(a + D120),  sc.y + d * cos(a + D120),   r);\n    vec3 bC = vec3(sc.x + d * sin(a + D240),  sc.y + d * cos(a + D240),   r);\n\n    vec4 col1 = getFromColor(uv);\n    vec4 col0 = getToColor(uv);\n\n    if(!inEllipse(rC, po))\n      col0.r = col1.r;\n    if(!inEllipse(gC, po))\n      col0.g = col1.g;\n    if(!inEllipse(bC, po))\n      col0.b = col1.b;\n      \n    if(progress>=1.0) return col0;\n    return col0;\n  }\n",author:"https://www.shadertoy.com/view/WdsyRX"}},(t,e,r)=>{"use strict";r(319);const n=r(312),i=r(556),{DisplayObject:s,BLEND_MODES:o}=r(14);t.exports=class extends n{constructor(t={}){super({type:"node",...t}),this.preload=!!t.preload,this.setScale(this.conf.scale||1),this.updateAttr(),this.updateAnimations(),t.width&&(this.conf.width=this.vu(t.width)),t.height&&(this.conf.height=this.vu(t.height))}updateMaterialTime(){}set audio(t){}get audio(){return!1}get blend(){return this.conf.blend||"NORMAL"}updateAttr(){const{x:t=0,y:e=0,rotate:r=0,opacity:n=1,anchor:i=.5,blend:s}=this.conf;this.setXY(t,e),this.setRotate(r),this.setAnchor(i),this.addBlend(s),this.setChromaKey(),this.setColor(),this.setOpacity(n)}updateAnimations(){if(this.animations&&(this.animations.destroy(),this.updateAttr()),this.animations=new i(this),Array.isArray(this.conf.animate)?this.conf.animate.map((t=>this.addAnimate(t))):this.conf.animate&&"object"==typeof this.conf.animate&&this.addAnimate(this.conf.animate),this.conf.effect)if("object"==typeof this.conf.effect&&this.conf.effect.name&&(this.conf.effect=[this.conf.effect]),Array.isArray(this.conf.effect))this.conf.effect.map((t=>{this.addEffect(t.name.split(","),t.time,t.delay)}));else if(this.conf.effect&&this.conf.effectTime){const{effect:t,effectTime:e,effectDelay:r}=this.conf;this.addEffect(t.split(","),e,r)}}show(){super.show(),this.animations.start()}hide(){super.hide(),this.animations.stop()}setAnchor(t,e){this.display?.anchor&&(Array.isArray(t)&&(e=t[1],t=t[0]),e=void 0===e?t:e,this.display.anchor.set(t,e),.5==t&&.5==e?delete this.conf.anchor:this.conf.anchor=[t,e])}setScale(t=1){!isNaN(t)&&this.display&&(this.scale=t,this.display.scale.set(t,t))}setRotate(t=0){!isNaN(t)&&this.display&&(Math.abs(t)<1e-4&&(t=0),this.display.rotation=t,0===t?delete this.conf.rotate:this.conf.rotate=t)}setDuration(t){this.duration=t}setXY(t=0,e=0){this.display&&(this.display.x=this.px(t),this.display.y=this.px(e),this.setConfRpx("x",this.display.x),this.setConfRpx("y",this.display.y))}set opacity(t){this.display&&(this.display.alpha=t,1===t?delete this.conf.opacity:this.conf.opacity=t)}get opacity(){return this.conf.opacity||1}setWH(t,e){this.setSize(t,e)}setSize(t,e){this.setConfRpx("width",t),this.setConfRpx("height",e)}addBlend(t=""){const e=o[t.toUpperCase()];e&&(this.display.blendMode=e)}setOpacity(t){this.opacity=t}setColor(){let t=this.conf.color;if(!Array.isArray(t)){if(!t?.key)return void(this.display&&this.display.setColorMatrix(null));t=[t]}const e=isNaN(this.conf.colorAlpha)?1:Number(this.conf.colorAlpha);this.display.setColorMatrix(t,Math.min(1,Math.max(e,0)))}setChromaKey(){const{chromaKey:t,chromaSimilarity:e,chromaSmoothness:r,chromaSaturation:n,chromaShadowness:i}=this;t&&this.display?this.display.chroma={color:t,similarity:e,smoothness:r,saturation:n,shadowness:i}:this.display&&(this.display.chroma=null)}get chromaKey(){return this.conf.chromaKey}get chromaSimilarity(){return this.conf.chromaSimilarity||.2}get chromaSmoothness(){return this.conf.chromaSmoothness||.1}get chromaSaturation(){return this.conf.chromaSaturation||.1}get chromaShadowness(){return this.conf.chromaShadowness||.1}get rotate(){return this.getRotation()}get rotation(){return this.getRotation()}get x(){return this.getX()}get y(){return this.getY()}get width(){return this.getWidth()}get height(){return this.getHeight()}get anchorX(){return this.getAnchor().x}get anchorY(){return this.getAnchor().y}getAnchor(){return this.display.anchor}getRotation(){return this.display.rotation||0}getX(){return this.display.x}getY(){return this.display.y}getXY(){return[this.display.x,this.display.y]}getWH(){const{width:t=0,height:e=0}=this.conf;return t&&e?this.px([t,e]):[this.display.width,this.display.height]}getWidth(){return this.getWH()[0]}getHeight(){return this.getWH()[1]}getProp(t){return this.display[t]}fitSize(){let{width:t,height:e}=this.conf;this.display.attr(this.px({width:t,height:e}))}fitTexture(){}setAnimations(t){this.animations.setAnimations(t)}addEffect(t,e,r){this.animations.addEffect(t,e,r)}addAnimate(t){return this.animations.addAnimate(t)}destroy(){this.animations&&this.animations.destroy(),super.destroy(),this.animations=null,this.display=null,this.parent=null}}},(t,e,r)=>{"use strict";const n=r(557),i=r(347),s=r(379),o=r(558);t.exports=class{constructor(t){this.animations=[],this.list=[],this.target=t}async apply(t,e){for(const r of this.list)await r.apply(t,e)}setAnimations(t=[]){i(t,(t=>this.addAnimate(t)))}addAnimate(t){this.animations.push(t)}addEffect(t,e,r){const{display:i}=this.target,o=void 0===e?n(t):{type:t,time:e,delay:r},a=s.getAnimation(o,i);a&&this.addAnimate(a)}initAnimation(t){if(!t.isFFAni){const e=this.target;t=new o({...t,parent:e})}return t.init(),this.list.push(t),t}start(){if(this.started||(i(this.animations,(t=>this.initAnimation(t))),this.started=!0),!this.list.length)return;const t=this.getFirstAni();t.mayStart()?i(this.list,(t=>t.start())):t.setAttr()}stop(){i(this.list,(t=>t.stop()))}onAniStart(t){if(!this.getDelayTime())return t();this.getFirstAni().on("start",t)}getDurationTime(){let t=Math.pow(10,9);return this.list.length?(i(this.list,(e=>{e.to&&"out"===e.to.type&&(t=e.delay+e.time)})),t):t}getDelayTime(){if(!this.list.length)return 0;const t=this.getFirstAni();return t.to&&"in"===t.to.type?t.delay:0}getFirstAni(){let t=this.list[0];return i(this.list,(e=>{t.delay>e.delay&&(t=e)})),t}destroy(){this.target=null,i(this.list,(t=>t.destroy())),this.list.length=0,this.animations=[]}}},(t,e,r)=>{var n=r(468);t.exports=function(t){return n(t,4)}},(t,e,r)=>{"use strict";const n=r(559),i=r(557),s=r(313),o=r(235),a=r(331),{isBrowser:A}=r(13),u=r(A?489:490);t.exports=class extends s{constructor(t={time:.7,delay:0,ease:"Linear.None"}){super({type:"animation"});const{from:e,to:r,type:n,time:s=.7,delay:o=0,ease:A="Linear.None",parent:u}=t;this.baseAttr={};for(const t of Object.keys(e))this.baseAttr[t]=u.display.getAttr(t);this.from=this.adjustAttr(e),this.to=this.adjustAttr(r),this.origFrom=i(this.from),this.to.type=n,this.ease=A,this.parent=u,this.proxyAttr={},this.isFFAni=!0,this.autoAlpha=!1,this.absTimeOffset=0,this.time=a.toMilliseconds(s),this.delay=a.toMilliseconds(o),this.tweenGroup=this.root().tweenGroup}startTime(){return this._startTime?this._startTime:this._startTime=this.absTimeOffset+this.delay>>0}mayStart(){return this.tweenGroup.now()>this.startTime()}adjustAttr(t){for(const e of Object.keys(this.baseAttr))e in t&&["scale","alpha"].includes(e)&&(t[e]*=this.baseAttr[e]);return t}async apply(t,e){return new Promise((r=>{const s=new u.Group;s.now=()=>0;const{origFrom:o,to:a}=this.getFromTo(),A=i(o),l=i(a),c=n(u.Easing,this.ease),h=this.startTime();if(e<=h)t.attr(A);else if(e>=h+this.time)t.attr(l);else{const n=new u.Tween(A,s).to(l,this.time).delay(this.startTime()).easing(c).onStart((()=>{this.autoAlpha&&void 0===from.alpha&&(t.alpha=1)})).onUpdate((e=>{r(t.attr(e))}));n.start(),n._startTime=this.startTime(),s.update(e)}s.removeAll()}))}init(){this.absTimeOffset=a.toMilliseconds(this.parent.absStartTime);const t=this.startTime(),{from:e,to:r}=this.getFromTo(),s=n(u.Easing,this.ease);this.complement(e,r),this.proxyAttr=i(e),this.tween=new u.Tween(e,this.tweenGroup).to(r,this.time).delay(t).easing(s).onStart((()=>{if(this.autoAlpha){const{display:t}=this.parent;void 0===e.alpha&&(t.alpha=1)}this.emit("start")})).onUpdate((()=>{if(!this.proxyAttr)return;const{display:t}=this.parent;this.copyAndResetAttr(this.proxyAttr,e),t.attr(this.proxyAttr)})).onComplete((()=>{this.emit("complete",this)}))}copyAndResetAttr(t,e){return this.copyAttr(t,e),void 0!==e.alpha&&(t.alpha=o.floor(e.alpha,2),t.alpha=Math.max(t.alpha,0),t.alpha=Math.min(t.alpha,1)),t}setAttr(){const{display:t}=this.parent,{origFrom:e,to:r}=this.getFromTo();this.complement(e,r),this.copyAndResetAttr(this.proxyAttr,e),t.attr(this.proxyAttr)}complement(t,e){const{display:r}=this.parent;for(let n in t)void 0===e[n]&&"type"!==n&&(e[n]=r.getAttr(n));for(let n in e)void 0===t[n]&&"type"!==n&&(t[n]=r.getAttr(n))}getFromTo(){const{display:t}=this.parent,e=this.from||this.cloneFromSprite(t),r=this.origFrom||this.cloneFromSprite(t);return{from:e,to:this.to||this.cloneFromSprite(t),origFrom:r}}start(){this.tween.start(),this.tween._startTime=this.startTime()}stop(){this.tween.stop()}cloneFromSprite(t){return{x:t.x,y:t.y,alpha:t.alpha,rotation:t.rotation,scale:t.scale.x}}copyAttr(t,e){for(let r in e)t[r]=e[r]}destroy(){this.stop(),this.proxyAttr=null,this.tween=null,this.parent=null,this.from=null,this.to=null,super.destroy()}}},(t,e,r)=>{var n=r(560);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},(t,e,r)=>{var n=r(561),i=r(568);t.exports=function(t,e){for(var r=0,s=(e=n(e,t)).length;null!=t&&r<s;)t=t[i(e[r++])];return r&&r==s?t:void 0}},(t,e,r)=>{var n=r(358),i=r(562),s=r(563),o=r(566);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:s(o(t))}},(t,e,r)=>{var n=r(358),i=r(321),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||o.test(t)||!s.test(t)||null!=e&&t in Object(e)}},(t,e,r)=>{var n=r(564),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(s,"$1"):r||t)})),e}));t.exports=o},(t,e,r)=>{var n=r(565);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},(t,e,r)=>{var n=r(403);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},(t,e,r)=>{var n=r(567);t.exports=function(t){return null==t?"":n(t)}},(t,e,r)=>{var n=r(323),i=r(466),s=r(358),o=r(321),a=n?n.prototype:void 0,A=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(s(e))return i(e,t)+"";if(o(e))return A?A.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},(t,e,r)=>{var n=r(321);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},(t,e,r)=>{"use strict";const n=r(555),{createCanvas:i,createImageData:s,Texture:o,Graphics:a,Sprite:A,RenderTexture:u,CanvasRenderer:l}=r(14),{STR2RGB:c,RGB2HEX:h}=r(570);t.exports=class extends n{constructor(t={}){super({type:"graph",...t})}createDisplay(){this.graph=new a;const{shape:t,color:e="#FFF",opacity:r=1}=this.conf;this.graph.beginFill(h(c(e,"#FFF")),r),Array.isArray(t)?t.map((t=>this.draw(t))):this.draw(t),this.display=this.getSprite()}async getDisplay(t,e){const r=this.getSprite();if(r.copyFromProxy(this.display),this.animations){const n=1e3*("rel"===e.timing?t+this.absStartTime:t)>>0;this.animations.apply(r,n)}return r}getSprite(){const t=Number(this.conf.blur),e=this.creator().app.renderer,r=this.graph.generateTexture(e,0,2),n=r.baseTexture._glRenderTargets[0].frameBuffer.gl,[a,u]=[2*r.baseTexture.width,2*r.baseTexture.height],l=new Uint8Array(a*u*4);n.readPixels(0,0,a,u,n.RGBA,n.UNSIGNED_BYTE,l);const c=s(new Uint8ClampedArray(l),a,u);let h=i(a,u);if(h.getContext("2d").putImageData(c,0,0),t){const e=2*t,r=i(a+2*e,u+2*e),n=r.getContext("2d");n.filter=`blur(${t}px)`,n.drawImage(h,e,e,a,u),h=r}return new A(o.fromCanvas(h))}draw(t){let e=null,r=[];if("string"==typeof t)e=this[t];else if("object"==typeof t){e=this[t.shape],r.push(t);const{color:n,opacity:i=this.conf.opacity||1}=t,s=c(n);isNaN(s[0])||this.graph.beginFill(h(s),i)}e&&"function"==typeof e&&e.call(this,...r)}rect(t){let{x:e,y:r,width:n,height:i}=t||this.conf;t||(e=0,r=0),this.graph.drawRect(this.px(e),this.px(r),this.px(n),this.px(i))}roundedrect(t){let{x:e,y:r,width:n,height:i,radius:s}=t||this.conf;t||(e=0,r=0),this.graph.drawRoundedRect(this.px(e),this.px(r),this.px(n),this.px(i),this.px(s))}circle(t){let{x:e,y:r,radius:n}=t||this.conf;t||(e=0,r=0),this.graph.drawCircle(this.px(e),this.px(r),this.px(n))}ellipse(t){let{x:e,y:r,width:n,height:i}=t||this.conf;t||(e=0,r=0),this.graph.drawEllipse(this.px(e),this.px(r),this.px(n),this.px(i))}polygon(t){let{points:e}=t||this.conf;this.graph.drawPolygon(e)}star(t){let{x:e,y:r,points:n,radius:i,innerRadius:s,rotation:o}=t||this.conf;t||(e=0,r=0),this.graph.drawStar(this.px(e),this.px(r),n,this.px(i),this.px(s),o)}async drawing(t,e){let r=await super.drawing(t,e),{width:n,height:i}=this;return this.display.width===n&&this.display.height===i||this.display.attr({width:n,height:i}),r}}},(t,e,r)=>{"use strict";const{utils:n}=r(14),i={HSL2RGB:(t,e,r)=>{let n,i,s;if(0==e)n=i=s=r;else{const o=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t);let a=r<.5?r*(1+e):r+e-r*e,A=2*r-a;n=o(A,a,t+1/3),i=o(A,a,t),s=o(A,a,t-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*s)]},RGB2HSL:(t,e,r)=>n.rgb2hsl(t,e,r),STR2RGB:(t,e=null)=>{let r,n,s;return 4===t.length?(r="0x"+t[1]+t[1],n="0x"+t[2]+t[2],s="0x"+t[3]+t[3]):7===t.length&&(r="0x"+t[1]+t[2],n="0x"+t[3]+t[4],s="0x"+t[5]+t[6]),isNaN(r)||isNaN(n)||isNaN(s)?i.STR2RGB(e):[Number(r),Number(n),Number(s)]},RGB2HEX:t=>(t[0]<<16)+(t[1]<<8)+(0|t[2])};t.exports=i},(t,e,r)=>{"use strict";const n=r(311),{createCanvas:i,Sprite:s,Texture:o}=(r(338),r(14));t.exports=class extends n{constructor(t={}){super({type:"cover",...t})}get canvasEditNode(){return this.mask}get audio(){}async getPreview(t,e){return await super.getPreview(t,e)}createDisplay(){super.createDisplay(),this.bgCanvas=i(this.canvasWidth,this.canvasHeight),this.background&&this.display.removeChild(this.background),this.background=new s(o.fromCanvas(this.bgCanvas)),this.display.addChild(this.background)}show(){super.show();const t=this.display.parent;for(const e of[...t.children])e===this.display||e.zIndex>this.zIndex||e.isMask||e.parent!==this.display&&(this.display.addChild(e),e.locked=!0)}hide(){const t=this.display.parent;super.hide();for(const e of[...this.display.children])e.locked&&(t.addChild(e),e.locked=!1)}}},(t,e,r)=>{"use strict";const n=r(555),i=r(358),s=r(338),o=r(343),{ProxyObj:a,Text:A}=r(14),{isBrowser:u}=r(13),{nodeRequire:l}=r(235),c=r(573),{STR2RGB:h,RGB2HSL:f}=r(570),p=l("fs-extra"),d={},g={left:0,center:.5,right:1},m={top:0,center:.5,bottom:1};t.exports=class extends n{constructor(t={text:"",style:{fontSize:28}}){!t.text&&t.content?.innerHTML&&(t.text=t.content.innerHTML),super({type:"text",...t}),this.queue=new o,this.setAlign(!0);const e=["fontSize","letterSpacing","lineHeight"];for(const r of e)t[r]&&(this[r]=t[r]);t.stroke?.size&&(this.conf.stroke.size=this.vu(t.stroke?.size,"1%")),t.shadow?.blur&&(this.conf.shadow.blur=this.vu(t.shadow?.blur,"1%")),t.shadow?.offset&&(this.conf.shadow.offset=this.vu(t.shadow?.offset,"1%")),this._selectionBgColor="#CCC",this.editMode=!1}get cursorIndex(){return this.display.cursor().ci}set cursorIndex(t){this.display.cursor(t)}get selectionBgColor(){return this._selectionBgColor}set selectionBgColor(t){this._selectionBgColor=t,this.display._style.selectionBgColor=t}get material(){return this.speech?.material}get volume(){return this.speech?.volume}get buffer(){return this.speech?.buffer}get speech(){const t=this.children.filter((t=>"speech"===t.type));return t.length>0?t[t.length-1]:null}get audio(){const t=this.speech;return!!t&&t.audio}set audio(t){const e=this.speech;e&&(e.audio=t)}get wrap(){return!!this.conf.wrap}set wrap(t){this.conf.wrap=!!t}get useFontFamily(){return this.cachedFontFamily||this.conf.fontFamily}get fontFamily(){return this.conf.fontFamily}set fontFamily(t){this.conf.fontFamily=t}get fontSize(){return super.px(this.conf.fontSize)}set fontSize(t){this.conf.fontSize=super.vu(t,this.conf.fontSize)}get letterSpacing(){let t=this.conf.letterSpacing||"0%";return t.endsWith("%")&&!isNaN(t.replace("%",""))?this.fontSize*Number(t.replace("%",""))*.01:this.px(this.conf.letterSpacing)}set letterSpacing(t){this.conf.letterSpacing=this.vu(t,this.conf.letterSpacing||"0%")}get lineHeight(){let t=this.conf.lineHeight||"150%";return t.endsWith("%")&&!isNaN(t.replace("%",""))?this.fontSize*Number(t.replace("%",""))*.01:this.px(this.conf.lineHeight)}set lineHeight(t){this.conf.lineHeight=this.vu(t,this.conf.lineHeight||"150%")}get align(){return this.conf.align||"center"}set align(t){this.conf.align=t}get valign(){return this.conf.valign||"center"}set valign(t){this.conf.valign=t}get color(){return this.conf.color||"#FFFFFF"}set color(t){this.conf.color=t}get backgroundColor(){return this.conf.backgroundColor}set backgroundColor(t){this.conf.backgroundColor=t}get styleStroke(){return{stroke:this.conf.stroke?.color,strokeThickness:this.px(this.conf.stroke?.size)||0}}get stroke(){return this.conf.stroke}set stroke(t){this.conf.stroke=t}get styleShadow(){const t=void 0!==this.conf.shadow?.angle?Number(this.conf.shadow?.angle):45;return{dropShadow:this.conf.shadow&&this.conf.shadow?.color,dropShadowColor:this.conf.shadow?.color,dropShadowAlpha:Number(this.conf.shadow?.alpha)||0,dropShadowBlur:this.px(this.conf.shadow?.blur)||0,dropShadowDistance:this.px(this.conf.shadow?.offset)||0,dropShadowAngle:t*(Math.PI/180)}}get shadow(){return this.conf.shadow}set shadow(t){this.conf.shadow=t}get text(){return this.conf.text}set text(t){this.conf.text=t,this.display.text=t,this.display.updateText(!1)}toJson(t=!1){const e=super.toJson(t);return t&&(delete e.height,delete e.viewWidth,delete e.viewHeight,this.wrap||delete e.width),e}px(t){return"string"==typeof t&&t.endsWith("%")&&!isNaN(t.replace("%",""))?Math.round(this.fontSize*Number(t.replace("%",""))*.01):super.px(t)}vu(t,e){if("string"==typeof t&&t.endsWith("%"))return t;const r=this.px(t);return"string"==typeof e&&e.endsWith("%")&&!isNaN(r)?`${Math.round(r/this.fontSize*100)}%`:super.vu(t,e)}createDisplay(){let{text:t,fontSize:e}=this;this.display=new A,this.display.text=t}async getDisplay(t,e){const r=new A;if(r.copyFromProxy(this.display),this.animations){const n=1e3*("rel"===e.timing?t+this.absStartTime:t)>>0;this.animations.apply(r,n)}return r}async preProcessing(){if(this.conf.image&&this.conf.image!==this.imageMat?.path&&(this.imageMat&&this.material.destroy(),this.imageMat=new c({src:this.conf.image}),await this.imageMat.init(),this.image=this.imageMat.canvas),u)await this.queuedFitSize("preProcessing");else{if(this.useFontFamily.startsWith("http")||!p.existsSync(this.useFontFamily))throw new Error(`Font not exists: ${this.useFontFamily}`);try{await this.setFont(this.useFontFamily)}catch(t){if(!this.useFontFamily.startsWith("http")&&p.existsSync(this.useFontFamily))throw p.unlinkSync(this.useFontFamily),new Error(`Set font fail: ${this.useFontFamily}`)}this.updateStyle();const t=this.display;this.display=new A,this.display.substitute(t),this.setChromaKey(),this.setColor(),this.display.updateText(!1),t.destroy()}}setColor(){}async setFont(t){return new Promise((e=>{s.setFont(t,(r=>{this.font={font:t,fontFamily:r},e()}))}))}setStyle(t){t.image?t.fillImage=t.image:t.color&&(t.fill=t.color),i(t.padding)&&(t.padding=t.padding[0]);for(const[e,r]of Object.entries(t))void 0===r&&delete t[e];this.display.updateStyle(t),this.display.updateText(!1)}setWH(t,e){let{width:r,height:n,fontSize:i}=this;r&&n&&t&&e&&i&&(t/r).toFixed(6)===(e/n).toFixed(6)&&this.setConfRpx("fontSize",i*(t/r)),super.setWH(t,e)}fitSize(t){this.queuedFitSize(t)}queuedFitSize(t){return this.queue.enqueue((async()=>{if(this.font?.fontFamily!=this.useFontFamily)if(d[this.useFontFamily])this.font=d[this.useFontFamily];else{await this.setFont(this.useFontFamily);const t=new FontFace(this.font.fontFamily,`url("${this.font.font}")`),e=await t.load();document.fonts.add(e),d[this.useFontFamily]=this.font,await document.fonts.ready}this.updateStyle()}))}updateStyle(){const{fontSize:t,color:e,image:r,backgroundColor:n,wrap:i,align:s,lineHeight:o,styleStroke:a,styleShadow:A,letterSpacing:l,selectionBgColor:c}=this,h=this.px(this.conf.width),f=this.font?.fontFamily,p={selectionBgColor:c,fontFamily:f,fontSize:t,color:e,image:r,backgroundColor:n,align:s,lineHeight:o,letterSpacing:l,wordWrapWidth:h,wordWrap:i&&h>0,breakWords:!0,lineJoin:"round",...a,...A};if(this.setStyle(p),this.setConfRpx("height",this.display.height),this.conf.width||this.setConfRpx("width",this.display.width),u)this.conf.viewWidth=this.vu(this.display.width,"0%"),this.conf.viewHeight=this.vu(this.display.height,"0%");else if(this.conf.viewWidth&&this.conf.viewHeight){const t=this.px(this.conf.viewWidth)/this.display.width,e=this.px(this.conf.viewHeight)/this.display.height;this.display.scale={x:t,y:e}}this.setAlign()}setAlign(t=!1){const{align:e,valign:r}=this,n=void 0!==g[e]?g[e]:.5,i=void 0!==m[r]?m[r]:.5;if(this.anchorX!=n||this.anchorY!=i){if(!t){let{x:t,y:e,width:r,height:s}=this;t+=(n-this.anchorX)*r,e+=(i-this.anchorY)*s,this.setXY(t,e)}this.setAnchor(n,i)}}selectStart(t){const{dx:e,dy:r}=this.displayOffset;this.display.selectStart({x:t.x-e,y:t.y-r})}selectEnd(t){const{dx:e,dy:r}=this.displayOffset;this.display.selectEnd({x:t.x-e,y:t.y-r}),this.creator().render()}selectMove({x:t,y:e},r,n){this.display.selectMove(t,e,r,n),this.creator().render()}selectClean(){this.display.selectStart({x:0,y:0}),this.display.selectEnd({x:0,y:0}),this.creator().render()}delete(){return this.display.delete()}selection(){return this.display.selectionText()}input(t){return this.display.input(t)}cursor(){let{x:t,y:e,height:r}=this.display.cursor();const{dx:n,dy:i}=this.displayOffset;return{x:t+n,y:e+i,height:r}}get displayOffset(){const{x:t,y:e}=this.display.anchor,{width:r,height:n}=this,{width:i,height:s}=this.display;return{dx:(r-i)*t,dy:(n-s)*e}}destroy(){this.display.text="",super.destroy()}}},(t,e,r)=>{"use strict";const n=r(318),{isBrowser:i}=r(13),{getRemote:s}=r(333),{getPixels:o}=r(235),{utils:a,createCanvas:A,createImageData:u}=r(14);t.exports=class extends n{async init(){if(!this.path)return;let t=this.path;if(i&&t.startsWith("http")){const e=await s(t,this.creator.uuid);t=URL.createObjectURL(e.data)}const{pixels:e}=await o(t);if(!e||!e.shape||e.shape.length<3)return;let r=e.shape;r.length>3&&(r=r.slice(r.length-3));const n=this.info.width=r[0],a=this.info.height=r[1],A=new Uint8ClampedArray(e.data.buffer).slice(0,n*a*4);this.imageData=u(A,n,a),this.canvas=this.initCanvas(n,a),this.canvasContext=this.canvas.getContext("2d"),this.drawCanvas(this.imageData,n,a)}drawCanvas(t,e,r){if(this.canvasContext){if(this.conf.blur&&this.creator){const t=this.creator.px(this.conf.blur);t>0&&(this.canvasContext.filter=`blur(${t}px)`)}return this.canvasContext.drawImage(this.getImage(t),0,0,e,r),this.canvas}}getImage(t){if("ImageData"!==t.constructor.name)return t;const e=A(t.width,t.height);return e.getContext("2d").putImageData(t,0,0),e}initCanvas(t,e){return A(t,e)}clearCanvas(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}getImageData(t){const{width:e,height:r}=this.info;return this.tmpCanvas&&this.tmpCanvasContext||(this.tmpCanvas=this.initCanvas(e,r),this.tmpCanvasContext=this.tmpCanvas.getContext("2d")),this.tmpCanvasContext.drawImage(t,0,0,e,r),this.tmpCanvasContext.getImageData(0,0,e,r)}width(){return this.info.width||0}height(){return this.info.height||0}destroy(){super.destroy(),this.tmpCanvas&&(this.tmpCanvas=null,this.tmpCanvasContext=null)}}},(t,e,r)=>{"use strict";const n=r(575),i=r(576),{Sprite:s,Texture:o,Rectangle:a,createCanvas:A}=r(14),{isBrowser:u}=r(13),{nodeRequire:l}=r(235),c={".svg":{mediaType:"image/svg+xml",format:"svg"},".ttf":{mediaType:"font/truetype",format:"truetype"},".otf":{mediaType:"font/opentype",format:"opentype"},".eot":{mediaType:"application/vnd.ms-fontobject",format:"embedded-opentype"},".sfnt":{mediaType:"application/font-sfnt",format:"sfnt"},".woff2":{mediaType:"application/font-woff2",format:"woff2"},".woff":{mediaType:"application/font-woff",format:"woff"}};t.exports=class extends n{constructor(t){super({type:"richtext",...t})}createMaterial(t){if(!u){const e=this.rootConf("detailedCacheDir"),r=`rt_${this.id}`;t={...t,cacheDir:e,cacheFile:r}}return new i(t)}base64path(t){const e=l("fs").readFileSync(t).toString("base64");return`data:${this.fontMeta(t).mediaType};charset=utf-8;base64,${e}`}fontFormat(t){const e=this.fontMeta(t.src);return t.format||e&&e.format}fontMeta(t){const e=t.split(".").slice(-1)[0].toLowerCase();return c[`.${e}`]||{format:e}}destroy(){super.destroy()}}},(t,e,r)=>{"use strict";const n=r(555),i=r(573),{Sprite:s,Texture:o,Rectangle:a,createCanvas:A}=r(14),{isBrowser:u}=r(13);t.exports=class extends n{constructor(t={animations:[]}){super({type:"image",...t})}get audio(){}get frame(){if(this.conf.pframe){const[t,e]=[this.material.width(),this.material.height()],[r,n,i,s]=[this.conf.pframe.x*t,this.conf.pframe.y*e,this.conf.pframe.w*t,this.conf.pframe.h*e];return{x:r,y:n,w:i,h:s}}return this.conf.frame?.w&&this.conf.frame?.h?{...this.conf.frame}:null}set frame(t){const[e,r]=[this.material.width(),this.material.height()],[n,i,s,o]=[t.x/e,t.y/r,t.w/e,t.h/r];this.conf.pframe={x:n,y:i,w:s,h:o}}setFrame(t,e,r,n){"object"==typeof t&&void 0!==t.x?this.frame=t:this.frame={x:t,y:e,w:r,h:n}}getFrame(){if(this.frame)return this.frame;let[t,e,r,n]=[0,0,this.material.width(),this.material.height()];const{"object-fit":i,"object-position":s}=this.conf;if(!i||"cover"===i){const[i,s]=this.getObjectPosition(),[o,a]=this.getWH(),A=Math.min(r/o,n/a),u=o*A,l=a*A;t+=(r-u)*i,e+=(n-l)*s,r=u,n=l}return{x:t,y:e,w:r,h:n}}materialTime(t,e=!1){return{time:0,loops:0}}async getFrameByTime(t){return this.material.canvas}async getDisplay(t,e){const r=await this.getPreview(t,{...e,format:"canvas",rawFrame:!1});if(!r)throw new Error("null");const n=new s(o.fromCanvas(r));if(n.copyFromProxy(this.display),this.animations){const r=1e3*("rel"===e.timing?t+this.absStartTime:t)>>0;this.animations.apply(n,r)}return n}async getPreview(t,{width:e,height:r,format:n="jpeg",timing:i="mat",rawFrame:s=!1}={}){let o=t;"abs"!==i&&"rel"!==i||(o=this.materialTime("rel"===i?t+this.absStartTime:t,!0).time);const a=await this.getFrameByTime(o);if(!a)return null;let A=this.getFrame();s&&(A={x:0,y:0,w:this.material.width(),h:this.material.height()});const u="video"===this.type?"cover":"contain";return this.subImage(a,A,{width:e,height:r,fit:u,format:n})}getObjectPosition(){let{"object-position":t}=this.conf;const{x:e,y:r}=this.getAnchor();Array.isArray(t)&&2==t.length||(t=[e,r]);let[n,i]=t;return n=isNaN(Number(n))?e:Math.max(0,Math.min(1,Number(n))),i=isNaN(Number(i))?r:Math.max(0,Math.min(1,Number(i))),[n,i]}createMaterial(t){return new i(t)}updateMaterialTime(){this.material.parseTimeConf(this.conf)}createDisplay(){this.display=new s(o.fromCanvas(A(1,1)))}annotate(){super.annotate(),this.material.duration=this.duration}async prepareMaterial(){await super.prepareMaterial()}async preProcessing(){this.material&&this.material.destroy(),this.material=this.createMaterial(this.conf),this.material.holderId=this.id,this.material.duration=this.duration,this.material.creator=this.root();const t=this.rootConf("fps");await this.material.init({fps:t}),this.fitSize(),this.display.texture.destroy(!0),this.display.attr({texture:o.fromCanvas(this.material.canvas)}),this.fitTexture(),await this.setMotion()}async setMotion(t){if(!this.conf.motion)return void(this.motionMask&&this.motionFilter&&(this.display.setMotion(null),this.motionFilter=null,this.motionMask=null));this.motionMaterial&&this.motionMaterial.destroy(),this.motionMaterial=this.createMaterial(this.conf.motion),await this.motionMaterial.init(),this.motionMask=new s(o.fromCanvas(this.motionMaterial.canvas)),this.motionFilter=this.display.setMotion(this.motionMask);const{width:e,height:r}=this.motionMaterial.info;this.motionMask.x=-e/2,this.motionMask.y=-r/2,this.motionMask.width=e,this.motionMask.height=r,this.display.addChild(this.motionMask)}fitSize(){let{width:t,height:e}=this.conf;t=this.px(t),e=this.px(e);const r=this.display;let n,i=this.material.width(),s=this.material.height();if(this.frame&&(i=this.frame.w,s=this.frame.h),i&&s){if(t&&e){const o=this.conf["object-fit"];if(o&&"cover"!==o){if("contain"===o)n=Math.min(t/i,e/s);else if("none"===o)n=1;else if("scale-down"===o)n=Math.min(1,Math.min(t/i,e/s));else if("fill"===o)return r.attr({width:t,height:e})}else n=Math.max(t/i,e/s);t=i*n,e=s*n}else t?(n=t/i,e=n*s):e?(n=e/s,t=n*i):(n=this.scale||1,t=i*n,e=s*n);r.attr({width:t,height:e}),this.setScale(n)}}fitTexture(t){let{"object-fit":e}=this.conf;this.frame&&this.setScale(this.scale);let{width:r,height:n}=this.conf,i=r=this.px(r),s=n=this.px(n);if((t=t||this.display).scale.x<=0||t.scale.y<=0)return;let o=this.material.width(),A=this.material.height(),u=0,l=0;if(this.frame&&(u=this.frame.x,l=this.frame.y,o=this.frame.w,A=this.frame.h),r/=t.scale.x,n/=t.scale.y,!r||!n)return t.texture.frame=new a(u,l,o,A);const[c,h]=this.getObjectPosition();if("fill"===e)t.texture.frame=new a(u,l,o,A),t.width=i,t.height=s;else{const e=Math.min(r,o),i=Math.min(n,A);u+=(o-e)*c,l+=(A-i)*h,t.texture.frame=new a(u,l,e,i)}}draw({display:t,texture:e,useCache:r=!1}){e&&!u&&(t=t||this.display,"ImageData"===e.constructor.name?(t.texture.baseTexture.source=e,t.texture.baseTexture.update()):e instanceof o?(t.texture.destroy(!0),t.texture=e,this.fitTexture(t)):t.texture.updateSource(e,r))}deleteTexture(t){this.parent&&t.texture}async drawing(t,e){let r=await super.drawing(t,e);if(!r)return!1;if(this.conf.motion&&this.motionFilter){const e=Math.pow(this.absEndTime-.001*t,this.conf.motion.curve),[r,n]=[this.px(this.conf.motion.x)*e,this.px(this.conf.motion.y)*e];this.motionFilter.setScale(r,n)}return r}destroy(){super.destroy(),this.material&&this.material.destroy()}}},(t,e,r)=>{"use strict";const n=r(573),{utils:i,createCanvas:s,createImageData:o}=r(14),{isBrowser:a}=r(13),{nodeRequire:A}=r(235),u="mirap-node-to-image",l=`\n* {\n  margin: 0;\n  padding: 0;\n}\n#${u} * {\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  line-height: 150%;\n  letter-spacing: 0px;\n}\n#${u} article, aside, details, figcaption, figure, div, footer, header, hgroup, menu, nav, section {\n  display: block;\n}\n#${u} ol, ul {\n  list-style: none;\n}\n#${u} blockquote, q {\n  quotes: none;\n}\n#${u} blockquote:before, blockquote:after, q:before, q:after {\n  content: '';\n  content: none;\n}\n#${u} table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n`;t.exports=class extends n{async init(){const{width:t,height:e}=this.conf;this.quality=Math.pow(2,Math.max(1,Math.round(this.conf.quality)||1));let r=this.conf.html,n=`font-size:15px;width:${t}px;`;if("object"==typeof r&&r.innerHTML&&("string"==typeof r.style&&(n+=r.style),r=r.innerHTML),!r)return;let i="";if(this.conf.font){const t=Array.isArray(this.conf.font)?this.conf.font:[this.conf.font];for(const e of t){if(!e.name||!e.src||!e.format)continue;const t=e.cachedSrc||e.src;i+=`@font-face {\n          font-family: '${e.name}';\n          src: url('${t}') format('${e.format}');\n        }\n`}}r=`<style>${l}\n${i}</style>`+r,a?await this.browserRender(r,n):await this.nodeRender(r,n)}async nodeRender(t,e){const r=A("node-html-to-image");this.path=this.getOutputPath(this.conf.cacheDir,`${this.conf.cacheFile}.png`),await r({output:this.path,transparent:!0,puppeteerArgs:{defaultViewport:{deviceScaleFactor:this.quality,width:1024,height:768}},selector:`div#${u}`,html:`<html><body><div id="${u}" style="${e}">${t}</div></body></html>`}),await super.init()}async browserRender(t,e){const n=r(577),i=document.createElement("div"),s=document.createElement("div");i.style="width: 0; height: 0; overflow: hidden;",i.id=u,s.style=e,s.innerHTML=t,i.appendChild(s),document.body.appendChild(i),this.canvas=await n(s,{backgroundColor:null,scale:this.quality}),this.info={width:this.canvas.width,height:this.canvas.height},document.body.removeChild(i);const o=document.getElementById("mira-player-debug-richtext");o&&o.appendChild(this.canvas)}width(){return this.info.width||0}height(){return this.info.height||0}destroy(){super.destroy(),this.tmpCanvas&&(this.tmpCanvas=null,this.tmpCanvasContext=null)}}},function(t){t.exports=function(){"use strict";var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};function e(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};function n(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{A(n.next(t))}catch(t){s(t)}}function a(t){try{A(n.throw(t))}catch(t){s(t)}}function A(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}A((n=n.apply(t,e||[])).next())}))}function i(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function s(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||e)}for(var o=function(){function t(t,e,r,n){this.left=t,this.top=e,this.width=r,this.height=n}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find((function(t){return 0!==t.width}));return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),a=function(t,e){return o.fromClientRect(t,e.getBoundingClientRect())},A=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),r--)}else e.push(i)}return e},u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push(55296+(o>>10),o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="undefined"==typeof Uint8Array?[]:new Uint8Array(256),h=0;h<l.length;h++)c[l.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<f.length;d++)p[f.charCodeAt(d)]=d;for(var g=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},m=function(){function t(t,e,r,n,i,s){this.initialValue=t,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="undefined"==typeof Uint8Array?[]:new Uint8Array(256),_=0;_<v.length;_++)y[v.charCodeAt(_)]=_;var b=10,w=13,B=15,x=17,E=18,C=19,T=20,I=21,F=22,S=24,U=25,M=26,O=27,P=28,R=30,L=32,D=33,Q=34,N=35,k=37,H=38,j=39,V=40,G=42,K=[9001,65288],W="",z="",X=function(t,e){var r,n,i,s=function(t){var e,r,n,i,s,o=.75*t.length,a=t.length,A=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(u)?u:new Uint8Array(u);for(e=0;e<a;e+=4)r=p[t.charCodeAt(e)],n=p[t.charCodeAt(e+1)],i=p[t.charCodeAt(e+2)],s=p[t.charCodeAt(e+3)],l[A++]=r<<2|n>>4,l[A++]=(15&n)<<4|i>>2,l[A++]=(3&i)<<6|63&s;return u}(t),o=Array.isArray(s)?function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r}(s):new Uint32Array(s),a=Array.isArray(s)?function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r}(s):new Uint16Array(s),A=g(a,12,o[4]/2),u=2===o[5]?g(a,(24+o[4])/2):(r=o,n=Math.ceil((24+o[4])/4),r.slice?r.slice(n,i):new Uint32Array(Array.prototype.slice.call(r,n,i)));return new m(o[0],o[1],o[2],o[3],A,u)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Y=[R,36],q=[1,2,3,5],$=[b,8],J=[O,M],Z=q.concat($),tt=[H,j,V,Q,N],et=[B,w],rt=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?-1!==t.indexOf(i):t===i)for(var s=r;s<=n.length;){if((A=n[++s])===e)return!0;if(A!==b)break}if(i===b)for(s=r;s>0;){var o=n[--s];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var a=r;a<=n.length;){var A;if((A=n[++a])===e)return!0;if(A!==b)break}if(o!==b)break}return!1},nt=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n!==b)return n;r--}return 0},it=function(t,e,r,n,i){if(0===r[n])return W;var s=n-1;if(Array.isArray(i)&&!0===i[s])return W;var o=s-1,a=s+1,A=e[s],u=o>=0?e[o]:0,l=e[a];if(2===A&&3===l)return W;if(-1!==q.indexOf(A))return"!";if(-1!==q.indexOf(l))return W;if(-1!==$.indexOf(l))return W;if(8===nt(s,e))return z;if(11===X.get(t[s]))return W;if((A===L||A===D)&&11===X.get(t[a]))return W;if(7===A||7===l)return W;if(9===A)return W;if(-1===[b,w,B].indexOf(A)&&9===l)return W;if(-1!==[x,E,C,S,P].indexOf(l))return W;if(nt(s,e)===F)return W;if(rt(23,F,s,e))return W;if(rt([x,E],I,s,e))return W;if(rt(12,12,s,e))return W;if(A===b)return z;if(23===A||23===l)return W;if(16===l||16===A)return z;if(-1!==[w,B,I].indexOf(l)||14===A)return W;if(36===u&&-1!==et.indexOf(A))return W;if(A===P&&36===l)return W;if(l===T)return W;if(-1!==Y.indexOf(l)&&A===U||-1!==Y.indexOf(A)&&l===U)return W;if(A===O&&-1!==[k,L,D].indexOf(l)||-1!==[k,L,D].indexOf(A)&&l===M)return W;if(-1!==Y.indexOf(A)&&-1!==J.indexOf(l)||-1!==J.indexOf(A)&&-1!==Y.indexOf(l))return W;if(-1!==[O,M].indexOf(A)&&(l===U||-1!==[F,B].indexOf(l)&&e[a+1]===U)||-1!==[F,B].indexOf(A)&&l===U||A===U&&-1!==[U,P,S].indexOf(l))return W;if(-1!==[U,P,S,x,E].indexOf(l))for(var c=s;c>=0;){if((h=e[c])===U)return W;if(-1===[P,S].indexOf(h))break;c--}if(-1!==[O,M].indexOf(l))for(c=-1!==[x,E].indexOf(A)?o:s;c>=0;){var h;if((h=e[c])===U)return W;if(-1===[P,S].indexOf(h))break;c--}if(H===A&&-1!==[H,j,Q,N].indexOf(l)||-1!==[j,Q].indexOf(A)&&-1!==[j,V].indexOf(l)||-1!==[V,N].indexOf(A)&&l===V)return W;if(-1!==tt.indexOf(A)&&-1!==[T,M].indexOf(l)||-1!==tt.indexOf(l)&&A===O)return W;if(-1!==Y.indexOf(A)&&-1!==Y.indexOf(l))return W;if(A===S&&-1!==Y.indexOf(l))return W;if(-1!==Y.concat(U).indexOf(A)&&l===F&&-1===K.indexOf(t[a])||-1!==Y.concat(U).indexOf(l)&&A===E)return W;if(41===A&&41===l){for(var f=r[s],p=1;f>0&&41===e[--f];)p++;if(p%2!=0)return W}return A===L&&l===D?W:z},st=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=function(t,e){void 0===e&&(e="strict");var r=[],n=[],i=[];return t.forEach((function(t,s){var o=X.get(t);if(o>50?(i.push(!0),o-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return n.push(s),r.push(16);if(4===o||11===o){if(0===s)return n.push(s),r.push(R);var a=r[s-1];return-1===Z.indexOf(a)?(n.push(n[s-1]),r.push(a)):(n.push(s),r.push(R))}return n.push(s),31===o?r.push("strict"===e?I:k):o===G||29===o?r.push(R):43===o?t>=131072&&t<=196605||t>=196608&&t<=262141?r.push(k):r.push(R):void r.push(o)})),[n,r,i]}(t,e.lineBreak),n=r[0],i=r[1],s=r[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map((function(t){return-1!==[U,R,G].indexOf(t)?k:t})));var o="keep-all"===e.wordBreak?s.map((function(e,r){return e&&t[r]>=19968&&t[r]<=40959})):void 0;return[n,i,o]},ot=function(){function t(t,e,r,n){this.codePoints=t,this.required="!"===e,this.start=r,this.end=n}return t.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),at=45,At=43,ut=-1,lt=function(t){return t>=48&&t<=57},ct=function(t){return lt(t)||t>=65&&t<=70||t>=97&&t<=102},ht=function(t){return 10===t||9===t||32===t},ft=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},pt=function(t){return ft(t)||lt(t)||t===at},dt=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},gt=function(t,e){return 92===t&&10!==e},mt=function(t,e,r){return t===at?ft(e)||gt(e,r):!!ft(t)||!(92!==t||!gt(t,e))},vt=function(t,e,r){return t===At||t===at?!!lt(e)||46===e&&lt(r):lt(46===t?e:t)},yt=function(t){var e=0,r=1;t[e]!==At&&t[e]!==at||(t[e]===at&&(r=-1),e++);for(var n=[];lt(t[e]);)n.push(t[e++]);var i=n.length?parseInt(u.apply(void 0,n),10):0;46===t[e]&&e++;for(var s=[];lt(t[e]);)s.push(t[e++]);var o=s.length,a=o?parseInt(u.apply(void 0,s),10):0;69!==t[e]&&101!==t[e]||e++;var A=1;t[e]!==At&&t[e]!==at||(t[e]===at&&(A=-1),e++);for(var l=[];lt(t[e]);)l.push(t[e++]);var c=l.length?parseInt(u.apply(void 0,l),10):0;return r*(i+a*Math.pow(10,-o))*Math.pow(10,A*c)},_t={type:2},bt={type:3},wt={type:4},Bt={type:13},xt={type:8},Et={type:21},Ct={type:9},Tt={type:10},It={type:11},Ft={type:12},St={type:14},Ut={type:23},Mt={type:1},Ot={type:25},Pt={type:24},Rt={type:26},Lt={type:27},Dt={type:28},Qt={type:29},Nt={type:31},kt={type:32},Ht=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(A(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==kt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(pt(e)||gt(r,n)){var i=mt(e,r,n)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Bt;break;case 39:return this.consumeStringToken(39);case 40:return _t;case 41:return bt;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),St;break;case At:if(vt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return wt;case at:var s=t,o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(vt(s,o,a))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(mt(s,o,a))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(o===at&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),Pt;break;case 46:if(vt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(42===A&&47===(A=this.consumeCodePoint()))return this.consumeToken();if(A===ut)return this.consumeToken()}break;case 58:return Rt;case 59:return Lt;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),Ot;break;case 64:var l=this.peekCodePoint(0),c=this.peekCodePoint(1),h=this.peekCodePoint(2);if(mt(l,c,h))return{type:7,value:this.consumeName()};break;case 91:return Dt;case 92:if(gt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Qt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),xt;break;case 123:return It;case 125:return Ft;case 117:case 85:var f=this.peekCodePoint(0),p=this.peekCodePoint(1);return f!==At||!ct(p)&&63!==p||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ct;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Et;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Tt;break;case ut:return kt}return ht(t)?(this.consumeWhiteSpace(),Nt):lt(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ft(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:u(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();ct(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var r=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),r=!0;if(r)return{type:30,start:parseInt(u.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),end:parseInt(u.apply(void 0,t.map((function(t){return 63===t?70:t}))),16)};var n=parseInt(u.apply(void 0,t),16);if(this.peekCodePoint(0)===at&&ct(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var i=[];ct(e)&&i.length<6;)i.push(e),e=this.consumeCodePoint();return{type:30,start:n,end:parseInt(u.apply(void 0,i),16)}}return{type:30,start:n,end:n}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ut)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var r=this.consumeStringToken(this.consumeCodePoint());return 0===r.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ut||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Ut)}for(;;){var n=this.consumeCodePoint();if(n===ut||41===n)return{type:22,value:u.apply(void 0,t)};if(ht(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ut||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Ut);if(34===n||39===n||40===n||dt(n))return this.consumeBadUrlRemnants(),Ut;if(92===n){if(!gt(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Ut;t.push(this.consumeEscapedCodePoint())}else t.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;ht(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===ut)return;gt(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var r=Math.min(5e4,t);e+=u.apply(void 0,this._value.splice(0,r)),t-=r}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",r=0;;){var n=this._value[r];if(n===ut||void 0===n||n===t)return{type:0,value:e+=this.consumeStringSlice(r)};if(10===n)return this._value.splice(0,r),Mt;if(92===n){var i=this._value[r+1];i!==ut&&void 0!==i&&(10===i?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):gt(n,i)&&(e+=this.consumeStringSlice(r),e+=u(this.consumeEscapedCodePoint()),r=-1))}r++}},t.prototype.consumeNumber=function(){var t=[],e=4,r=this.peekCodePoint(0);for(r!==At&&r!==at||t.push(this.consumeCodePoint());lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===r&&lt(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===r||101===r)&&((n===At||n===at)&&lt(i)||lt(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[yt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],r=t[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);return mt(n,i,s)?{type:15,number:e,flags:r,unit:this.consumeName()}:37===n?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(ct(t)){for(var e=u(t);ct(this.peekCodePoint(0))&&e.length<6;)e+=u(this.consumeCodePoint());ht(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return 0===r||function(t){return t>=55296&&t<=57343}(r)||r>1114111?65533:r}return t===ut?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(pt(e))t+=u(e);else{if(!gt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=u(this.consumeEscapedCodePoint())}}},t}(),jt=function(){function t(t){this._tokens=t}return t.create=function(e){var r=new Ht;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},r=this.consumeToken();;){if(32===r.type||$t(r,t))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(32===r.type||3===r.type)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?kt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Vt=function(t){return 15===t.type},Gt=function(t){return 17===t.type},Kt=function(t){return 20===t.type},Wt=function(t){return 0===t.type},zt=function(t,e){return Kt(t)&&t.value===e},Xt=function(t){return 31!==t.type},Yt=function(t){return 31!==t.type&&4!==t.type},qt=function(t){var e=[],r=[];return t.forEach((function(t){if(4===t.type){if(0===r.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(r),void(r=[])}31!==t.type&&r.push(t)})),r.length&&e.push(r),e},$t=function(t,e){return 11===e&&12===t.type||28===e&&29===t.type||2===e&&3===t.type},Jt=function(t){return 17===t.type||15===t.type},Zt=function(t){return 16===t.type||Jt(t)},te=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ee={type:17,number:0,flags:4},re={type:16,number:50,flags:4},ne={type:16,number:100,flags:4},ie=function(t,e,r){var n=t[0],i=t[1];return[se(n,e),se(void 0!==i?i:n,r)]},se=function(t,e){if(16===t.type)return t.number/100*e;if(Vt(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},oe="grad",ae="turn",Ae=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case oe:return Math.PI/200*e.number;case"rad":return e.number;case ae:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},ue=function(t){return 15===t.type&&("deg"===t.unit||t.unit===oe||"rad"===t.unit||t.unit===ae)},le=function(t){switch(t.filter(Kt).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ee,ee];case"to top":case"bottom":return ce(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ee,ne];case"to right":case"left":return ce(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ne,ne];case"to bottom":case"top":return ce(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ne,ee];case"to left":case"right":return ce(270)}return 0},ce=function(t){return Math.PI*t/180},he=function(t,e){if(18===e.type){var r=_e[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(5===e.type){if(3===e.value.length){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return de(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(4===e.value.length){n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);var o=e.value.substring(3,4);return de(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(6===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),de(parseInt(n,16),parseInt(i,16),parseInt(s,16),1);if(8===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8),de(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}if(20===e.type){var a=we[e.value.toUpperCase()];if(void 0!==a)return a}return we.TRANSPARENT},fe=function(t){return 0==(255&t)},pe=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},de=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(255*n)<<0)>>>0},ge=function(t,e){if(17===t.type)return t.number;if(16===t.type){var r=3===e?1:255;return 3===e?t.number/100*r:Math.round(t.number/100*r)}return 0},me=function(t,e){var r=e.filter(Yt);if(3===r.length){var n=r.map(ge),i=n[0],s=n[1],o=n[2];return de(i,s,o,1)}if(4===r.length){var a=r.map(ge),A=(i=a[0],s=a[1],o=a[2],a[3]);return de(i,s,o,A)}return 0};function ve(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<.5?e:r<2/3?6*(e-t)*(2/3-r)+t:t}var ye=function(t,e){var r=e.filter(Yt),n=r[0],i=r[1],s=r[2],o=r[3],a=(17===n.type?ce(n.number):Ae(t,n))/(2*Math.PI),A=Zt(i)?i.number/100:0,u=Zt(s)?s.number/100:0,l=void 0!==o&&Zt(o)?se(o,1):1;if(0===A)return de(255*u,255*u,255*u,1);var c=u<=.5?u*(A+1):u+A-u*A,h=2*u-c,f=ve(h,c,a+1/3),p=ve(h,c,a),d=ve(h,c,a-1/3);return de(255*f,255*p,255*d,l)},_e={hsl:ye,hsla:ye,rgb:me,rgba:me},be=function(t,e){return he(t,jt.create(e).parseComponentValue())},we={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Be={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Kt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},xe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ee=function(t,e){var r=he(t,e[0]),n=e[1];return n&&Zt(n)?{color:r,stop:n}:{color:r,stop:null}},Ce=function(t,e){var r=t[0],n=t[t.length-1];null===r.stop&&(r.stop=ee),null===n.stop&&(n.stop=ne);for(var i=[],s=0,o=0;o<t.length;o++){var a=t[o].stop;if(null!==a){var A=se(a,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}var u=null;for(o=0;o<i.length;o++){var l=i[o];if(null===l)null===u&&(u=o);else if(null!==u){for(var c=o-u,h=(l-i[u-1])/(c+1),f=1;f<=c;f++)i[u+f-1]=h*f;u=null}}return t.map((function(t,r){return{color:t.color,stop:Math.max(Math.min(1,i[r]/e),0)}}))},Te=function(t,e,r){var n="number"==typeof t?t:function(t,e,r){var n=e/2,i=r/2,s=se(t[0],e)-n,o=i-se(t[1],r);return(Math.atan2(o,s)+2*Math.PI)%(2*Math.PI)}(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,o=r/2,a=i/2,A=Math.sin(n-Math.PI/2)*a,u=Math.cos(n-Math.PI/2)*a;return[i,s-u,s+u,o-A,o+A]},Ie=function(t,e){return Math.sqrt(t*t+e*e)},Fe=function(t,e,r,n,i){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var s=e[0],o=e[1],a=Ie(r-s,n-o);return(i?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Se=function(t,e){var r=ce(180),n=[];return qt(e).forEach((function(e,i){if(0===i){var s=e[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(r=le(e));if(ue(s))return void(r=(Ae(t,s)+ce(270))%ce(360))}var o=Ee(t,e);n.push(o)})),{angle:r,stops:n,type:1}},Ue="closest-side",Me="farthest-side",Oe="closest-corner",Pe="farthest-corner",Re="circle",Le="ellipse",De="cover",Qe="contain",Ne=function(t,e){var r=0,n=3,i=[],s=[];return qt(e).forEach((function(e,o){var a=!0;if(0===o?a=e.reduce((function(t,e){if(Kt(e))switch(e.value){case"center":return s.push(re),!1;case"top":case"left":return s.push(ee),!1;case"right":case"bottom":return s.push(ne),!1}else if(Zt(e)||Jt(e))return s.push(e),!1;return t}),a):1===o&&(a=e.reduce((function(t,e){if(Kt(e))switch(e.value){case Re:return r=0,!1;case Le:return r=1,!1;case Qe:case Ue:return n=0,!1;case Me:return n=1,!1;case Oe:return n=2,!1;case De:case Pe:return n=3,!1}else if(Jt(e)||Zt(e))return Array.isArray(n)||(n=[]),n.push(e),!1;return t}),a)),a){var A=Ee(t,e);i.push(A)}})),{size:n,shape:r,stops:i,position:s,type:2}},ke=function(t,e){if(22===e.type){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(18===e.type){var n=je[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)};var He,je={"linear-gradient":function(t,e){var r=ce(180),n=[];return qt(e).forEach((function(e,i){if(0===i){var s=e[0];if(20===s.type&&"to"===s.value)return void(r=le(e));if(ue(s))return void(r=Ae(t,s))}var o=Ee(t,e);n.push(o)})),{angle:r,stops:n,type:1}},"-moz-linear-gradient":Se,"-ms-linear-gradient":Se,"-o-linear-gradient":Se,"-webkit-linear-gradient":Se,"radial-gradient":function(t,e){var r=0,n=3,i=[],s=[];return qt(e).forEach((function(e,o){var a=!0;if(0===o){var A=!1;a=e.reduce((function(t,e){if(A)if(Kt(e))switch(e.value){case"center":return s.push(re),t;case"top":case"left":return s.push(ee),t;case"right":case"bottom":return s.push(ne),t}else(Zt(e)||Jt(e))&&s.push(e);else if(Kt(e))switch(e.value){case Re:return r=0,!1;case Le:return r=1,!1;case"at":return A=!0,!1;case Ue:return n=0,!1;case De:case Me:return n=1,!1;case Qe:case Oe:return n=2,!1;case Pe:return n=3,!1}else if(Jt(e)||Zt(e))return Array.isArray(n)||(n=[]),n.push(e),!1;return t}),a)}if(a){var u=Ee(t,e);i.push(u)}})),{size:n,shape:r,stops:i,position:s,type:2}},"-moz-radial-gradient":Ne,"-ms-radial-gradient":Ne,"-o-radial-gradient":Ne,"-webkit-radial-gradient":Ne,"-webkit-gradient":function(t,e){var r=ce(180),n=[],i=1;return qt(e).forEach((function(e,r){var s=e[0];if(0===r){if(Kt(s)&&"linear"===s.value)return void(i=1);if(Kt(s)&&"radial"===s.value)return void(i=2)}if(18===s.type)if("from"===s.name){var o=he(t,s.values[0]);n.push({stop:ee,color:o})}else if("to"===s.name)o=he(t,s.values[0]),n.push({stop:ne,color:o});else if("color-stop"===s.name){var a=s.values.filter(Yt);if(2===a.length){o=he(t,a[1]);var A=a[0];Gt(A)&&n.push({stop:{type:16,number:100*A.number,flags:A.flags},color:o})}}})),1===i?{angle:(r+ce(180))%ce(360),stops:n,type:i}:{size:3,shape:0,stops:n,position:[],type:i}}},Ve={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var r=e[0];return 20===r.type&&"none"===r.value?[]:e.filter((function(t){return Yt(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!je[t.name])}(t)})).map((function(e){return ke(t,e)}))}},Ge={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Kt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Ke={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return qt(e).map((function(t){return t.filter(Zt)})).map(te)}},We={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return qt(e).map((function(t){return t.filter(Kt).map((function(t){return t.value})).join(" ")})).map(ze)}},ze=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(He||(He={}));var Xe,Ye={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return qt(e).map((function(t){return t.filter(qe)}))}},qe=function(t){return Kt(t)||Zt(t)},$e=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Je=$e("top"),Ze=$e("right"),tr=$e("bottom"),er=$e("left"),rr=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return te(e.filter(Zt))}}},nr=rr("top-left"),ir=rr("top-right"),sr=rr("bottom-right"),or=rr("bottom-left"),ar=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ar=ar("top"),ur=ar("right"),lr=ar("bottom"),cr=ar("left"),hr=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Vt(e)?e.number:0}}},fr=hr("top"),pr=hr("right"),dr=hr("bottom"),gr=hr("left"),mr={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},yr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Kt).reduce((function(t,e){return t|_r(e.value)}),0)}},_r=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},br={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},wr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(Xe||(Xe={}));var Br,xr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?Xe.STRICT:Xe.NORMAL}},Er={name:"line-height",initialValue:"normal",prefix:!1,type:4},Cr=function(t,e){return Kt(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:Zt(t)?se(t,e):e},Tr={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:ke(t,e)}},Ir={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},Fr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Sr=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ur=Sr("top"),Mr=Sr("right"),Or=Sr("bottom"),Pr=Sr("left"),Rr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Kt).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Lr={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},Dr=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Qr=Dr("top"),Nr=Dr("right"),kr=Dr("bottom"),Hr=Dr("left"),jr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Vr={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Gr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&zt(e[0],"none")?[]:qt(e).map((function(e){for(var r={color:we.TRANSPARENT,offsetX:ee,offsetY:ee,blur:ee},n=0,i=0;i<e.length;i++){var s=e[i];Jt(s)?(0===n?r.offsetX=s:1===n?r.offsetY=s:r.blur=s,n++):r.color=he(t,s)}return r}))}},Kr={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Wr={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var r=zr[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},zr={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],16===e.length?[r,n,i,s,o,a]:null}},Xr={type:16,number:50,flags:4},Yr=[Xr,Xr],qr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Zt);return 2!==r.length?Yr:[r[0],r[1]]}},$r={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(Br||(Br={}));for(var Jr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Br.BREAK_ALL;case"keep-all":return Br.KEEP_ALL;default:return Br.NORMAL}}},Zr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(Gt(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},tn={name:"time",parse:function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},en={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Gt(e)?e.number:1}},rn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Kt).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},sn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach((function(t){switch(t.type){case 20:case 0:r.push(t.value);break;case 17:r.push(t.number.toString());break;case 4:n.push(r.join(" ")),r.length=0}})),r.length&&n.push(r.join(" ")),n.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},on={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},an={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Gt(e)?e.number:Kt(e)&&"bold"===e.value?700:400}},An={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Kt).map((function(t){return t.value}))}},un={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ln=function(t,e){return 0!=(t&e)},cn={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var r=e[0];return 20===r.type&&"none"===r.value?[]:e}},hn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var r=e[0];if(20===r.type&&"none"===r.value)return null;for(var n=[],i=e.filter(Xt),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(20===o.type){var A=a&&Gt(a)?a.number:1;n.push({counter:o.value,increment:A})}}return n}},fn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var r=[],n=e.filter(Xt),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(Kt(s)&&"none"!==s.value){var a=o&&Gt(o)?o.number:0;r.push({counter:s.value,reset:a})}}return r}},pn={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Vt).map((function(e){return tn.parse(t,e)}))}},dn={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var r=e[0];if(20===r.type&&"none"===r.value)return null;var n=[],i=e.filter(Wt);if(i.length%2!=0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;n.push({open:o,close:a})}return n}},gn=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},mn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&zt(e[0],"none")?[]:qt(e).map((function(e){for(var r={color:255,offsetX:ee,offsetY:ee,blur:ee,spread:ee,inset:!1},n=0,i=0;i<e.length;i++){var s=e[i];zt(s,"inset")?r.inset=!0:Jt(s)?(0===n?r.offsetX=s:1===n?r.offsetY=s:2===n?r.blur=s:r.spread=s,n++):r.color=he(t,s)}return r}))}},vn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[];return e.filter(Kt).forEach((function(t){switch(t.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),[0,1,2].forEach((function(t){-1===r.indexOf(t)&&r.push(t)})),r}},yn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_n={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Vt(e)?e.number:0}},bn=function(){function t(t,e){var r,n;this.animationDuration=xn(t,pn,e.animationDuration),this.backgroundClip=xn(t,Be,e.backgroundClip),this.backgroundColor=xn(t,xe,e.backgroundColor),this.backgroundImage=xn(t,Ve,e.backgroundImage),this.backgroundOrigin=xn(t,Ge,e.backgroundOrigin),this.backgroundPosition=xn(t,Ke,e.backgroundPosition),this.backgroundRepeat=xn(t,We,e.backgroundRepeat),this.backgroundSize=xn(t,Ye,e.backgroundSize),this.borderTopColor=xn(t,Je,e.borderTopColor),this.borderRightColor=xn(t,Ze,e.borderRightColor),this.borderBottomColor=xn(t,tr,e.borderBottomColor),this.borderLeftColor=xn(t,er,e.borderLeftColor),this.borderTopLeftRadius=xn(t,nr,e.borderTopLeftRadius),this.borderTopRightRadius=xn(t,ir,e.borderTopRightRadius),this.borderBottomRightRadius=xn(t,sr,e.borderBottomRightRadius),this.borderBottomLeftRadius=xn(t,or,e.borderBottomLeftRadius),this.borderTopStyle=xn(t,Ar,e.borderTopStyle),this.borderRightStyle=xn(t,ur,e.borderRightStyle),this.borderBottomStyle=xn(t,lr,e.borderBottomStyle),this.borderLeftStyle=xn(t,cr,e.borderLeftStyle),this.borderTopWidth=xn(t,fr,e.borderTopWidth),this.borderRightWidth=xn(t,pr,e.borderRightWidth),this.borderBottomWidth=xn(t,dr,e.borderBottomWidth),this.borderLeftWidth=xn(t,gr,e.borderLeftWidth),this.boxShadow=xn(t,mn,e.boxShadow),this.color=xn(t,mr,e.color),this.direction=xn(t,vr,e.direction),this.display=xn(t,yr,e.display),this.float=xn(t,br,e.cssFloat),this.fontFamily=xn(t,sn,e.fontFamily),this.fontSize=xn(t,on,e.fontSize),this.fontStyle=xn(t,un,e.fontStyle),this.fontVariant=xn(t,An,e.fontVariant),this.fontWeight=xn(t,an,e.fontWeight),this.letterSpacing=xn(t,wr,e.letterSpacing),this.lineBreak=xn(t,xr,e.lineBreak),this.lineHeight=xn(t,Er,e.lineHeight),this.listStyleImage=xn(t,Tr,e.listStyleImage),this.listStylePosition=xn(t,Ir,e.listStylePosition),this.listStyleType=xn(t,Fr,e.listStyleType),this.marginTop=xn(t,Ur,e.marginTop),this.marginRight=xn(t,Mr,e.marginRight),this.marginBottom=xn(t,Or,e.marginBottom),this.marginLeft=xn(t,Pr,e.marginLeft),this.opacity=xn(t,en,e.opacity);var i=xn(t,Rr,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=xn(t,Lr,e.overflowWrap),this.paddingTop=xn(t,Qr,e.paddingTop),this.paddingRight=xn(t,Nr,e.paddingRight),this.paddingBottom=xn(t,kr,e.paddingBottom),this.paddingLeft=xn(t,Hr,e.paddingLeft),this.paintOrder=xn(t,vn,e.paintOrder),this.position=xn(t,Vr,e.position),this.textAlign=xn(t,jr,e.textAlign),this.textDecorationColor=xn(t,rn,null!==(r=e.textDecorationColor)&&void 0!==r?r:e.color),this.textDecorationLine=xn(t,nn,null!==(n=e.textDecorationLine)&&void 0!==n?n:e.textDecoration),this.textShadow=xn(t,Gr,e.textShadow),this.textTransform=xn(t,Kr,e.textTransform),this.transform=xn(t,Wr,e.transform),this.transformOrigin=xn(t,qr,e.transformOrigin),this.visibility=xn(t,$r,e.visibility),this.webkitTextStrokeColor=xn(t,yn,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=xn(t,_n,e.webkitTextStrokeWidth),this.wordBreak=xn(t,Jr,e.wordBreak),this.zIndex=xn(t,Zr,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return fe(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return ln(this.display,4)||ln(this.display,33554432)||ln(this.display,268435456)||ln(this.display,536870912)||ln(this.display,67108864)||ln(this.display,134217728)},t}(),wn=function(t,e){this.content=xn(t,cn,e.content),this.quotes=xn(t,dn,e.quotes)},Bn=function(t,e){this.counterIncrement=xn(t,hn,e.counterIncrement),this.counterReset=xn(t,fn,e.counterReset)},xn=function(t,e,r){var n=new Ht,i=null!=r?r.toString():e.initialValue;n.write(i);var s=new jt(n.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,Kt(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Ae(t,s.parseComponentValue());case"color":return he(t,s.parseComponentValue());case"image":return ke(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Jt(a)?a:ee;case"length-percentage":var A=s.parseComponentValue();return Zt(A)?A:ee;case"time":return tn.parse(t,s.parseComponentValue())}}},En=function(t,e){var r=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===r||e===r},Cn=function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,En(e,3),this.styles=new bn(t,window.getComputedStyle(e,null)),Si(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=a(this.context,e),En(e,4)&&(this.flags|=16)},Tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",In="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Fn=0;Fn<Tn.length;Fn++)In[Tn.charCodeAt(Fn)]=Fn;for(var Sn=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Un=function(){function t(t,e,r,n,i,s){this.initialValue=t,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",On="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Pn=0;Pn<Mn.length;Pn++)On[Mn.charCodeAt(Pn)]=Pn;var Rn,Ln=8,Dn=9,Qn=11,Nn=12,kn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push(55296+(o>>10),o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Hn=function(t,e){var r,n,i,s=function(t){var e,r,n,i,s,o=.75*t.length,a=t.length,A=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(u)?u:new Uint8Array(u);for(e=0;e<a;e+=4)r=In[t.charCodeAt(e)],n=In[t.charCodeAt(e+1)],i=In[t.charCodeAt(e+2)],s=In[t.charCodeAt(e+3)],l[A++]=r<<2|n>>4,l[A++]=(15&n)<<4|i>>2,l[A++]=(3&i)<<6|63&s;return u}(t),o=Array.isArray(s)?function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r}(s):new Uint32Array(s),a=Array.isArray(s)?function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r}(s):new Uint16Array(s),A=Sn(a,12,o[4]/2),u=2===o[5]?Sn(a,(24+o[4])/2):(r=o,n=Math.ceil((24+o[4])/4),r.slice?r.slice(n,i):new Uint32Array(Array.prototype.slice.call(r,n,i)));return new Un(o[0],o[1],o[2],o[3],A,u)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),jn="",Vn=function(t){return Hn.get(t)},Gn=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],o=e[r];if(2===s&&3===o)return jn;if(2===s||3===s||4===s)return"";if(2===o||3===o||4===o)return"";if(s===Ln&&-1!==[Ln,Dn,Qn,Nn].indexOf(o))return jn;if(!(s!==Qn&&s!==Dn||o!==Dn&&10!==o))return jn;if((s===Nn||10===s)&&10===o)return jn;if(13===o||5===o)return jn;if(7===o)return jn;if(1===s)return jn;if(13===s&&14===o){for(;5===i;)i=e[--n];if(14===i)return jn}if(15===s&&15===o){for(var a=0;15===i;)a++,i=e[--n];if(a%2==0)return jn}return""},Kn=function(t){var e=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),r--)}else e.push(i)}return e}(t),r=e.length,n=0,i=0,s=e.map(Vn);return{next:function(){if(n>=r)return{done:!0,value:null};for(var t=jn;n<r&&(t=Gn(0,s,++n))===jn;);if(t!==jn||n===r){var o=kn.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},Wn=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},zn=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},Xn=function(t){return new Promise((function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Yn={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height="123px",r.style.display="block",t.body.appendChild(r),e.selectNode(r);var n=e.getBoundingClientRect(),i=Math.round(n.height);if(t.body.removeChild(r),123===i)return!0}}return!1}(document);return Object.defineProperty(Yn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Yn.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=e.firstChild,i=A(n.data).map((function(t){return u(t)})),s=0,o={},a=i.every((function(t,e){r.setStart(n,s),r.setEnd(n,s+t.length);var i=r.getBoundingClientRect();s+=t.length;var a=i.x>o.x||i.y>o.y;return o=i,0===e||a}));return t.body.removeChild(e),a}(document);return Object.defineProperty(Yn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Yn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var o=zn(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),Xn(o).then((function(e){n.drawImage(e,0,0);var i=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var o=t.createElement("div");return o.style.backgroundImage="url("+s+")",o.style.height="100px",Wn(i)?Xn(zn(r,r,0,0,o)):Promise.reject(!1)})).then((function(t){return n.drawImage(t,0,0),Wn(n.getImageData(0,0,r,r).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Yn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Yn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Yn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Yn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Yn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},qn=function(t,e){this.text=t,this.bounds=e},$n=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=a(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return o.EMPTY},Jn=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},Zn=function(t){if(Yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return function(t){for(var e,r=Kn(t),n=[];!(e=r.next()).done;)e.value&&n.push(e.value.slice());return n}(t)},ti=function(t,e){return 0!==e.letterSpacing?Zn(t):function(t,e){if(Yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map((function(t){return t.segment}))}return ri(t,e)}(t,e)},ei=[32,160,4961,65792,65793,4153,4241],ri=function(t,e){for(var r,n=function(t,e){var r=A(t),n=st(r,e),i=n[0],s=n[1],o=n[2],a=r.length,u=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var t=W;l<a&&(t=it(r,s,i,++l,o))===W;);if(t!==W||l===a){var e=new ot(r,t,u,l);return u=l,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),i=[],s=function(){if(r.value){var t=r.value.slice(),e=A(t),n="";e.forEach((function(t){-1===ei.indexOf(t)?n+=u(t):(n.length&&i.push(n),i.push(u(t)),n="")})),n.length&&i.push(n)}};!(r=n.next()).done;)s();return i},ni=function(t,e,r){this.text=ii(e.data,r.textTransform),this.textBounds=function(t,e,r,n){var i=ti(e,r),s=[],a=0;return i.forEach((function(e){if(r.textDecorationLine.length||e.trim().length>0)if(Yn.SUPPORT_RANGE_BOUNDS){var i=Jn(n,a,e.length).getClientRects();if(i.length>1){var A=Zn(e),u=0;A.forEach((function(e){s.push(new qn(e,o.fromDOMRectList(t,Jn(n,u+a,e.length).getClientRects()))),u+=e.length}))}else s.push(new qn(e,o.fromDOMRectList(t,i)))}else{var l=n.splitText(e.length);s.push(new qn(e,$n(t,n))),n=l}else Yn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));a+=e.length})),s}(t,this.text,r,e)},ii=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(si,oi);case 2:return t.toUpperCase();default:return t}},si=/(^|\s|:|-|\(|\))([a-z])/g,oi=function(t,e,r){return t.length>0?e+r.toUpperCase():t},ai=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return e(r,t),r}(Cn),Ai=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return e(r,t),r}(Cn),ui=function(t){function r(e,r){var n=t.call(this,e,r)||this,i=new XMLSerializer,s=a(e,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return e(r,t),r}(Cn),li=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return e(r,t),r}(Cn),ci=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.start=r.start,n.reversed="boolean"==typeof r.reversed&&!0===r.reversed,n}return e(r,t),r}(Cn),hi=[{type:15,flags:0,unit:"px",number:3}],fi=[{type:16,flags:0,number:50}],pi="checkbox",di="radio",gi="password",mi=707406591,vi=function(t){function r(e,r){var n,i,s,a=t.call(this,e,r)||this;switch(a.type=r.type.toLowerCase(),a.checked=r.checked,a.value=0===(s=(i=r).type===gi?new Array(i.value.length+1).join(""):i.value).length?i.placeholder||"":s,a.type!==pi&&a.type!==di||(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=(n=a.bounds).width>n.height?new o(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new o(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n),a.type){case pi:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=hi;break;case di:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=fi}return a}return e(r,t),r}(Cn),yi=function(t){function r(e,r){var n=t.call(this,e,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return e(r,t),r}(Cn),_i=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return e(r,t),r}(Cn),bi=function(t){function r(e,r){var n=t.call(this,e,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=Ei(e,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?be(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):we.TRANSPARENT,s=r.contentWindow.document.body?be(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):we.TRANSPARENT;n.backgroundColor=fe(i)?fe(s)?n.styles.backgroundColor:s:i}}catch(t){}return n}return e(r,t),r}(Cn),wi=["OL","UL","MENU"],Bi=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Ii(i)&&i.data.trim().length>0)r.textNodes.push(new ni(t,i,r.styles));else if(Fi(i))if(Gi(i)&&i.assignedNodes)i.assignedNodes().forEach((function(e){return Bi(t,e,r,n)}));else{var o=xi(t,i);o.styles.isVisible()&&(Ci(i,o,n)?o.flags|=4:Ti(o.styles)&&(o.flags|=2),-1!==wi.indexOf(i.tagName)&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?Bi(t,i.shadowRoot,o,n):ji(i)||Ri(i)||Vi(i)||Bi(t,i,o,n))}},xi=function(t,e){return Ni(e)?new ai(t,e):Di(e)?new Ai(t,e):Ri(e)?new ui(t,e):Mi(e)?new li(t,e):Oi(e)?new ci(t,e):Pi(e)?new vi(t,e):Vi(e)?new yi(t,e):ji(e)?new _i(t,e):ki(e)?new bi(t,e):new Cn(t,e)},Ei=function(t,e){var r=xi(t,e);return r.flags|=4,Bi(t,e,r,r),r},Ci=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Li(t)&&r.styles.isTransparent()},Ti=function(t){return t.isPositioned()||t.isFloating()},Ii=function(t){return t.nodeType===Node.TEXT_NODE},Fi=function(t){return t.nodeType===Node.ELEMENT_NODE},Si=function(t){return Fi(t)&&void 0!==t.style&&!Ui(t)},Ui=function(t){return"object"==typeof t.className},Mi=function(t){return"LI"===t.tagName},Oi=function(t){return"OL"===t.tagName},Pi=function(t){return"INPUT"===t.tagName},Ri=function(t){return"svg"===t.tagName},Li=function(t){return"BODY"===t.tagName},Di=function(t){return"CANVAS"===t.tagName},Qi=function(t){return"VIDEO"===t.tagName},Ni=function(t){return"IMG"===t.tagName},ki=function(t){return"IFRAME"===t.tagName},Hi=function(t){return"STYLE"===t.tagName},ji=function(t){return"TEXTAREA"===t.tagName},Vi=function(t){return"SELECT"===t.tagName},Gi=function(t){return"SLOT"===t.tagName},Ki=function(t){return t.tagName.indexOf("-")>0},Wi=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){return this.counters[t]||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,r=t.counterIncrement,n=t.counterReset,i=!0;null!==r&&r.forEach((function(t){var r=e.counters[t.counter];r&&0!==t.increment&&(i=!1,r.length||r.push(1),r[Math.max(0,r.length-1)]+=t.increment)}));var s=[];return i&&n.forEach((function(t){var r=e.counters[t.counter];s.push(t.counter),r||(r=e.counters[t.counter]=[]),r.push(t.reset)})),s},t}(),zi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Xi={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Yi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$i=function(t,e,r,n,i,s){return t<e||t>r?os(t,i,s.length>0):n.integers.reduce((function(e,r,i){for(;t>=r;)t-=r,e+=n.values[i];return e}),"")+s},Ji=function(t,e,r,n){var i="";do{r||t--,i=n(t)+i,t/=e}while(t*e>=e);return i},Zi=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(Ji(Math.abs(t),s,n,(function(t){return u(Math.floor(t%s)+e)}))+i)},ts=function(t,e,r){void 0===r&&(r=". ");var n=e.length;return Ji(Math.abs(t),n,!1,(function(t){return e[Math.floor(t%n)]}))+r},es=function(t,e,r,n,i,s){if(t<-9999||t>9999)return os(t,4,i.length>0);var o=Math.abs(t),a=i;if(0===o)return e[0]+a;for(var A=0;o>0&&A<=4;A++){var u=o%10;0===u&&ln(s,1)&&""!==a?a=e[u]+a:u>1||1===u&&0===A||1===u&&1===A&&ln(s,2)||1===u&&1===A&&ln(s,4)&&t>100||1===u&&A>1&&ln(s,8)?a=e[u]+(A>0?r[A-1]:"")+a:1===u&&A>0&&(a=r[A-1]+a),o=Math.floor(o/10)}return(t<0?n:"")+a},rs="",ns="",is="",ss="",os=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=Zi(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return ts(t,"",i);case 6:return $i(t,1,3999,zi,3,n).toLowerCase();case 7:return $i(t,1,3999,zi,3,n);case 8:return Zi(t,945,969,!1,n);case 9:return Zi(t,97,122,!1,n);case 10:return Zi(t,65,90,!1,n);case 11:return Zi(t,1632,1641,!0,n);case 12:case 49:return $i(t,1,9999,Xi,3,n);case 35:return $i(t,1,9999,Xi,3,n).toLowerCase();case 13:return Zi(t,2534,2543,!0,n);case 14:case 30:return Zi(t,6112,6121,!0,n);case 15:return ts(t,"",i);case 16:return ts(t,"",i);case 17:case 48:return es(t,"",rs,"",i,14);case 47:return es(t,"",ns,"",i,15);case 42:return es(t,"",rs,"",i,14);case 41:return es(t,"",ns,"",i,15);case 26:return es(t,"","",is,i,0);case 25:return es(t,"","",is,i,7);case 31:return es(t,"","",ss,s,7);case 33:return es(t,"","",ss,s,0);case 32:return es(t,"","",ss,s,7);case 18:return Zi(t,2406,2415,!0,n);case 20:return $i(t,1,19999,qi,3,n);case 21:return Zi(t,2790,2799,!0,n);case 22:return Zi(t,2662,2671,!0,n);case 22:return $i(t,1,10999,Yi,3,n);case 23:return ts(t,"");case 24:return ts(t,"");case 27:return Zi(t,3302,3311,!0,n);case 28:return ts(t,"",i);case 29:return ts(t,"",i);case 34:return Zi(t,3792,3801,!0,n);case 37:return Zi(t,6160,6169,!0,n);case 38:return Zi(t,4160,4169,!0,n);case 39:return Zi(t,2918,2927,!0,n);case 40:return Zi(t,1776,1785,!0,n);case 43:return Zi(t,3046,3055,!0,n);case 44:return Zi(t,3174,3183,!0,n);case 45:return Zi(t,3664,3673,!0,n);case 46:return Zi(t,3872,3881,!0,n);default:return Zi(t,48,57,!0,n)}},as="data-html2canvas-ignore",As=function(){function t(t,e,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=e,this.counters=new Wi,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var r=this,s=ls(t,e);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,A=s.contentWindow,u=A.document,l=fs(s).then((function(){return n(r,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(vs),A&&(A.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===e.top&&A.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-e.left,A.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(r=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hs(u)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(u,r)})).then((function(){return s}))]:[2,s]}}))}))}));return u.open(),u.write(gs(document.doctype)+"<html></html>"),ms(this.referenceElement.ownerDocument,o,a),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),l},t.prototype.createElementClone=function(t){if(En(t,2),Di(t))return this.createCanvasClone(t);if(Qi(t))return this.createVideoClone(t);if(Hi(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return Ni(e)&&(Ni(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),Ki(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return ds(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var r=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),n=t.cloneNode(!1);return n.textContent=r,n}}catch(t){if(this.context.logger.error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var i=t.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var o=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(o){var a=o.getContextAttributes();!1===(null==a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}s.drawImage(t,0,0)}return n}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var r=e.getContext("2d");try{return r&&(r.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||r.getImageData(0,0,e.width,e.height)),e}catch(e){this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},t.prototype.appendChildNode=function(t,e,r){Fi(e)&&("SCRIPT"===e.tagName||e.hasAttribute(as)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&Fi(e)&&Hi(e)||t.appendChild(this.cloneNode(e,r))},t.prototype.cloneChildNodes=function(t,e,r){for(var n=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(Fi(i)&&Gi(i)&&"function"==typeof i.assignedNodes){var s=i.assignedNodes();s.length&&s.forEach((function(t){return n.appendChildNode(e,t,r)}))}else this.appendChildNode(e,i,r)},t.prototype.cloneNode=function(t,e){if(Ii(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&Fi(t)&&(Si(t)||Ui(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var i=r.getComputedStyle(t),s=r.getComputedStyle(t,":before"),o=r.getComputedStyle(t,":after");this.referenceElement===t&&Si(n)&&(this.clonedReferenceElement=n),Li(n)&&ws(n);var a=this.counters.parse(new Bn(this.context,i)),A=this.resolvePseudoContent(t,n,s,Rn.BEFORE);Ki(t)&&(e=!0),Qi(t)||this.cloneChildNodes(t,n,e),A&&n.insertBefore(A,n.firstChild);var u=this.resolvePseudoContent(t,n,o,Rn.AFTER);return u&&n.appendChild(u),this.counters.pop(a),(i&&(this.options.copyStyles||Ui(t))&&!ki(t)||e)&&ds(i,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(ji(t)||Vi(t))&&(ji(n)||Vi(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,r,n){var i=this;if(r){var s=r.content,o=e.ownerDocument;if(o&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==r.display){this.counters.parse(new Bn(this.context,r));var a=new wn(this.context,r),A=o.createElement("html2canvaspseudoelement");ds(r,A),a.content.forEach((function(e){if(0===e.type)A.appendChild(o.createTextNode(e.value));else if(22===e.type){var r=o.createElement("img");r.src=e.value,r.style.opacity="1",A.appendChild(r)}else if(18===e.type){if("attr"===e.name){var n=e.values.filter(Kt);n.length&&A.appendChild(o.createTextNode(t.getAttribute(n[0].value)||""))}else if("counter"===e.name){var s=e.values.filter(Yt),u=s[0],l=s[1];if(u&&Kt(u)){var c=i.counters.getCounterValue(u.value),h=l&&Kt(l)?Fr.parse(i.context,l.value):3;A.appendChild(o.createTextNode(os(c,h,!1)))}}else if("counters"===e.name){var f=e.values.filter(Yt),p=(u=f[0],f[1]);if(l=f[2],u&&Kt(u)){var d=i.counters.getCounterValues(u.value),g=l&&Kt(l)?Fr.parse(i.context,l.value):3,m=p&&0===p.type?p.value:"",v=d.map((function(t){return os(t,g,!1)})).join(m);A.appendChild(o.createTextNode(v))}}}else if(20===e.type)switch(e.value){case"open-quote":A.appendChild(o.createTextNode(gn(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(gn(a.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(e.value))}})),A.className=ys+" "+_s;var u=n===Rn.BEFORE?" "+ys:" "+_s;return Ui(e)?e.className.baseValue+=u:e.className+=u,A}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(Rn||(Rn={}));var us,ls=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(as,"true"),t.body.appendChild(r),r},cs=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},hs=function(t){return Promise.all([].slice.call(t.images,0).map(cs))},fs=function(t){return new Promise((function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var r=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(r),e(t))}),50)}}))},ps=["all","d","content"],ds=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);-1===ps.indexOf(n)&&e.style.setProperty(n,t.getPropertyValue(n))}return e},gs=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},ms=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},vs=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},ys="___html2canvas___pseudoelement_before",_s="___html2canvas___pseudoelement_after",bs='{\n    content: "" !important;\n    display: none !important;\n}',ws=function(t){Bs(t,"."+ys+":before"+bs+"\n         ."+_s+":after"+bs)},Bs=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},xs=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Es=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Ms(t)||Fs(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return n(this,void 0,void 0,(function(){var e,r,n,s,o=this;return i(this,(function(i){switch(i.label){case 0:return e=xs.isSameOrigin(t),r=!Ss(t)&&!0===this._options.useCORS&&Yn.SUPPORT_CORS_IMAGES&&!e,n=!Ss(t)&&!e&&!Ms(t)&&"string"==typeof this._options.proxy&&Yn.SUPPORT_CORS_XHR&&!r,e||!1!==this._options.allowTaint||Ss(t)||Ms(t)||n||r?(s=t,n?[4,this.proxy(s)]:[3,2]):[2];case 1:s=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,(Us(s)||r)&&(n.crossOrigin="anonymous"),n.src=s,!0===n.complete&&setTimeout((function(){return t(n)}),500),o._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise((function(i,s){var o=Yn.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===o)i(a.response);else{var t=new FileReader;t.addEventListener("load",(function(){return i(t.result)}),!1),t.addEventListener("error",(function(t){return s(t)}),!1),t.readAsDataURL(a.response)}else s("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=s;var A=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+A+"url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),e._options.imageTimeout){var u=e._options.imageTimeout;a.timeout=u,a.ontimeout=function(){return s("Timed out ("+u+"ms) proxying "+n)}}a.send()}))},t}(),Cs=/^data:image\/svg\+xml/i,Ts=/^data:image\/.*;base64,/i,Is=/^data:image\/.*/i,Fs=function(t){return Yn.SUPPORT_SVG_DRAWING||!Os(t)},Ss=function(t){return Is.test(t)},Us=function(t){return Ts.test(t)},Ms=function(t){return"blob"===t.substr(0,4)},Os=function(t){return"svg"===t.substr(-3).toLowerCase()||Cs.test(t)},Ps=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Rs=function(t,e,r){return new Ps(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Ls=function(){function t(t,e,r,n){this.type=1,this.start=t,this.startControl=e,this.endControl=r,this.end=n}return t.prototype.subdivide=function(e,r){var n=Rs(this.start,this.startControl,e),i=Rs(this.startControl,this.endControl,e),s=Rs(this.endControl,this.end,e),o=Rs(n,i,e),a=Rs(i,s,e),A=Rs(o,a,e);return r?new t(this.start,n,o,A):new t(A,a,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ds=function(t){return 1===t.type},Qs=function(t){var e=t.styles,r=t.bounds,n=ie(e.borderTopLeftRadius,r.width,r.height),i=n[0],s=n[1],o=ie(e.borderTopRightRadius,r.width,r.height),a=o[0],A=o[1],u=ie(e.borderBottomRightRadius,r.width,r.height),l=u[0],c=u[1],h=ie(e.borderBottomLeftRadius,r.width,r.height),f=h[0],p=h[1],d=[];d.push((i+a)/r.width),d.push((f+l)/r.width),d.push((s+p)/r.height),d.push((A+c)/r.height);var g=Math.max.apply(Math,d);g>1&&(i/=g,s/=g,a/=g,A/=g,l/=g,c/=g,f/=g,p/=g);var m=r.width-a,v=r.height-c,y=r.width-l,_=r.height-p,b=e.borderTopWidth,w=e.borderRightWidth,B=e.borderBottomWidth,x=e.borderLeftWidth,E=se(e.paddingTop,t.bounds.width),C=se(e.paddingRight,t.bounds.width),T=se(e.paddingBottom,t.bounds.width),I=se(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?Ns(r.left+x/3,r.top+b/3,i-x/3,s-b/3,us.TOP_LEFT):new Ps(r.left+x/3,r.top+b/3),this.topRightBorderDoubleOuterBox=i>0||s>0?Ns(r.left+m,r.top+b/3,a-w/3,A-b/3,us.TOP_RIGHT):new Ps(r.left+r.width-w/3,r.top+b/3),this.bottomRightBorderDoubleOuterBox=l>0||c>0?Ns(r.left+y,r.top+v,l-w/3,c-B/3,us.BOTTOM_RIGHT):new Ps(r.left+r.width-w/3,r.top+r.height-B/3),this.bottomLeftBorderDoubleOuterBox=f>0||p>0?Ns(r.left+x/3,r.top+_,f-x/3,p-B/3,us.BOTTOM_LEFT):new Ps(r.left+x/3,r.top+r.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?Ns(r.left+2*x/3,r.top+2*b/3,i-2*x/3,s-2*b/3,us.TOP_LEFT):new Ps(r.left+2*x/3,r.top+2*b/3),this.topRightBorderDoubleInnerBox=i>0||s>0?Ns(r.left+m,r.top+2*b/3,a-2*w/3,A-2*b/3,us.TOP_RIGHT):new Ps(r.left+r.width-2*w/3,r.top+2*b/3),this.bottomRightBorderDoubleInnerBox=l>0||c>0?Ns(r.left+y,r.top+v,l-2*w/3,c-2*B/3,us.BOTTOM_RIGHT):new Ps(r.left+r.width-2*w/3,r.top+r.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=f>0||p>0?Ns(r.left+2*x/3,r.top+_,f-2*x/3,p-2*B/3,us.BOTTOM_LEFT):new Ps(r.left+2*x/3,r.top+r.height-2*B/3),this.topLeftBorderStroke=i>0||s>0?Ns(r.left+x/2,r.top+b/2,i-x/2,s-b/2,us.TOP_LEFT):new Ps(r.left+x/2,r.top+b/2),this.topRightBorderStroke=i>0||s>0?Ns(r.left+m,r.top+b/2,a-w/2,A-b/2,us.TOP_RIGHT):new Ps(r.left+r.width-w/2,r.top+b/2),this.bottomRightBorderStroke=l>0||c>0?Ns(r.left+y,r.top+v,l-w/2,c-B/2,us.BOTTOM_RIGHT):new Ps(r.left+r.width-w/2,r.top+r.height-B/2),this.bottomLeftBorderStroke=f>0||p>0?Ns(r.left+x/2,r.top+_,f-x/2,p-B/2,us.BOTTOM_LEFT):new Ps(r.left+x/2,r.top+r.height-B/2),this.topLeftBorderBox=i>0||s>0?Ns(r.left,r.top,i,s,us.TOP_LEFT):new Ps(r.left,r.top),this.topRightBorderBox=a>0||A>0?Ns(r.left+m,r.top,a,A,us.TOP_RIGHT):new Ps(r.left+r.width,r.top),this.bottomRightBorderBox=l>0||c>0?Ns(r.left+y,r.top+v,l,c,us.BOTTOM_RIGHT):new Ps(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=f>0||p>0?Ns(r.left,r.top+_,f,p,us.BOTTOM_LEFT):new Ps(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||s>0?Ns(r.left+x,r.top+b,Math.max(0,i-x),Math.max(0,s-b),us.TOP_LEFT):new Ps(r.left+x,r.top+b),this.topRightPaddingBox=a>0||A>0?Ns(r.left+Math.min(m,r.width-w),r.top+b,m>r.width+w?0:Math.max(0,a-w),Math.max(0,A-b),us.TOP_RIGHT):new Ps(r.left+r.width-w,r.top+b),this.bottomRightPaddingBox=l>0||c>0?Ns(r.left+Math.min(y,r.width-x),r.top+Math.min(v,r.height-B),Math.max(0,l-w),Math.max(0,c-B),us.BOTTOM_RIGHT):new Ps(r.left+r.width-w,r.top+r.height-B),this.bottomLeftPaddingBox=f>0||p>0?Ns(r.left+x,r.top+Math.min(_,r.height-B),Math.max(0,f-x),Math.max(0,p-B),us.BOTTOM_LEFT):new Ps(r.left+x,r.top+r.height-B),this.topLeftContentBox=i>0||s>0?Ns(r.left+x+I,r.top+b+E,Math.max(0,i-(x+I)),Math.max(0,s-(b+E)),us.TOP_LEFT):new Ps(r.left+x+I,r.top+b+E),this.topRightContentBox=a>0||A>0?Ns(r.left+Math.min(m,r.width+x+I),r.top+b+E,m>r.width+x+I?0:a-x+I,A-(b+E),us.TOP_RIGHT):new Ps(r.left+r.width-(w+C),r.top+b+E),this.bottomRightContentBox=l>0||c>0?Ns(r.left+Math.min(y,r.width-(x+I)),r.top+Math.min(v,r.height+b+E),Math.max(0,l-(w+C)),c-(B+T),us.BOTTOM_RIGHT):new Ps(r.left+r.width-(w+C),r.top+r.height-(B+T)),this.bottomLeftContentBox=f>0||p>0?Ns(r.left+x+I,r.top+_,Math.max(0,f-(x+I)),p-(B+T),us.BOTTOM_LEFT):new Ps(r.left+x+I,r.top+r.height-(B+T))};!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(us||(us={}));var Ns=function(t,e,r,n,i){var s=(Math.sqrt(2)-1)/3*4,o=r*s,a=n*s,A=t+r,u=e+n;switch(i){case us.TOP_LEFT:return new Ls(new Ps(t,u),new Ps(t,u-a),new Ps(A-o,e),new Ps(A,e));case us.TOP_RIGHT:return new Ls(new Ps(t,e),new Ps(t+o,e),new Ps(A,u-a),new Ps(A,u));case us.BOTTOM_RIGHT:return new Ls(new Ps(A,e),new Ps(A,e+a),new Ps(t+o,u),new Ps(t,u));case us.BOTTOM_LEFT:default:return new Ls(new Ps(A,u),new Ps(A-o,u),new Ps(t,e+a),new Ps(t,e))}},ks=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Hs=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},js=function(t,e,r){this.offsetX=t,this.offsetY=e,this.matrix=r,this.type=0,this.target=6},Vs=function(t,e){this.path=t,this.target=e,this.type=1},Gs=function(t){this.opacity=t,this.type=2,this.target=6},Ks=function(t){return 1===t.type},Ws=function(t,e){return t.length===e.length&&t.some((function(t,r){return t===e[r]}))},zs=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Xs=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new Qs(this.container),this.container.styles.opacity<1&&this.effects.push(new Gs(this.container.styles.opacity)),null!==this.container.styles.transform){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new js(r,n,i))}if(0!==this.container.styles.overflowX){var s=ks(this.curves),o=Hs(this.curves);Ws(s,o)?this.effects.push(new Vs(s,6)):(this.effects.push(new Vs(s,2)),this.effects.push(new Vs(o,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter((function(t){return!Ks(t)}));if(e||0!==r.container.styles.position||!r.parent){if(n.unshift.apply(n,i),e=-1===[2,3].indexOf(r.container.styles.position),0!==r.container.styles.overflowX){var s=ks(r.curves),o=Hs(r.curves);Ws(s,o)||n.unshift(new Vs(o,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter((function(e){return ln(e.target,t)}))},t}(),Ys=function(t,e,r,n){t.container.elements.forEach((function(i){var s=ln(i.flags,4),o=ln(i.flags,2),a=new Xs(i,t);ln(i.styles.display,2048)&&n.push(a);var A=ln(i.flags,8)?[]:n;if(s||o){var u=s||i.styles.isPositioned()?r:e,l=new zs(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var c=i.styles.zIndex.order;if(c<0){var h=0;u.negativeZIndex.some((function(t,e){return c>t.element.container.styles.zIndex.order?(h=e,!1):h>0})),u.negativeZIndex.splice(h,0,l)}else if(c>0){var f=0;u.positiveZIndex.some((function(t,e){return c>=t.element.container.styles.zIndex.order?(f=e+1,!1):f>0})),u.positiveZIndex.splice(f,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);Ys(a,l,s?l:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Ys(a,e,r,A);ln(i.flags,8)&&qs(i,A)}))},qs=function(t,e){for(var r=t instanceof ci?t.start:1,n=t instanceof ci&&t.reversed,i=0;i<e.length;i++){var s=e[i];s.container instanceof li&&"number"==typeof s.container.value&&0!==s.container.value&&(r=s.container.value),s.listValue=os(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},$s=function(t,e){switch(e){case 0:return Zs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Zs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Zs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return Zs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Js=function(t,e){var r=[];return Ds(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ds(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Zs=function(t,e,r,n){var i=[];return Ds(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ds(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ds(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ds(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},to=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},eo=function(t){var e=t.styles,r=t.bounds,n=se(e.paddingLeft,r.width),i=se(e.paddingRight,r.width),s=se(e.paddingTop,r.width),o=se(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},ro=function(t,e,r){var n=function(t,e){return 0===t?e.bounds:2===t?eo(e):to(e)}(oo(t.styles.backgroundOrigin,e),t),i=function(t,e){return 0===t?e.bounds:2===t?eo(e):to(e)}(oo(t.styles.backgroundClip,e),t),s=so(oo(t.styles.backgroundSize,e),r,n),o=s[0],a=s[1],A=ie(oo(t.styles.backgroundPosition,e),n.width-o,n.height-a);return[ao(oo(t.styles.backgroundRepeat,e),A,s,n,i),Math.round(n.left+A[0]),Math.round(n.top+A[1]),o,a]},no=function(t){return Kt(t)&&t.value===He.AUTO},io=function(t){return"number"==typeof t},so=function(t,e,r){var n=e[0],i=e[1],s=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(Zt(o)&&a&&Zt(a))return[se(o,r.width),se(a,r.height)];var A=io(s);if(Kt(o)&&(o.value===He.CONTAIN||o.value===He.COVER))return io(s)?r.width/r.height<s!=(o.value===He.COVER)?[r.width,r.width/s]:[r.height*s,r.height]:[r.width,r.height];var u=io(n),l=io(i),c=u||l;if(no(o)&&(!a||no(a)))return u&&l?[n,i]:A||c?c&&A?[u?n:i*s,l?i:n/s]:[u?n:r.width,l?i:r.height]:[r.width,r.height];if(A){var h=0,f=0;return Zt(o)?h=se(o,r.width):Zt(a)&&(f=se(a,r.height)),no(o)?h=f*s:a&&!no(a)||(f=h/s),[h,f]}var p=null,d=null;if(Zt(o)?p=se(o,r.width):a&&Zt(a)&&(d=se(a,r.height)),null===p||a&&!no(a)||(d=u&&l?p/n*i:r.height),null!==d&&no(o)&&(p=u&&l?d/i*n:r.width),null!==p&&null!==d)return[p,d];throw new Error("Unable to calculate background-size for element")},oo=function(t,e){var r=t[e];return void 0===r?t[0]:r},ao=function(t,e,r,n,i){var s=e[0],o=e[1],a=r[0],A=r[1];switch(t){case 2:return[new Ps(Math.round(n.left),Math.round(n.top+o)),new Ps(Math.round(n.left+n.width),Math.round(n.top+o)),new Ps(Math.round(n.left+n.width),Math.round(A+n.top+o)),new Ps(Math.round(n.left),Math.round(A+n.top+o))];case 3:return[new Ps(Math.round(n.left+s),Math.round(n.top)),new Ps(Math.round(n.left+s+a),Math.round(n.top)),new Ps(Math.round(n.left+s+a),Math.round(n.height+n.top)),new Ps(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ps(Math.round(n.left+s),Math.round(n.top+o)),new Ps(Math.round(n.left+s+a),Math.round(n.top+o)),new Ps(Math.round(n.left+s+a),Math.round(n.top+o+A)),new Ps(Math.round(n.left+s),Math.round(n.top+o+A))];default:return[new Ps(Math.round(i.left),Math.round(i.top)),new Ps(Math.round(i.left+i.width),Math.round(i.top)),new Ps(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ps(Math.round(i.left),Math.round(i.height+i.top))]}},Ao="Hidden Text",uo=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Ao)),r.appendChild(i),r.appendChild(n);var o=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Ao)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:a}},t.prototype.getMetrics=function(t,e){var r=t+" "+e;return void 0===this._data[r]&&(this._data[r]=this.parseMetrics(t,e)),this._data[r]},t}(),lo=function(t,e){this.context=t,this.options=e},co=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new uo(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return e(r,t),r.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},r.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Ks(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},r.prototype.renderNode=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return ln(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},r.prototype.renderTextWithLetterSpacing=function(t,e,r){var n=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r):Zn(t.text).reduce((function(e,i){return n.ctx.fillText(i,e,t.bounds.top+r),e+n.ctx.measureText(i).width}),t.bounds.left)},r.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),r=mo(t.fontFamily).join(", "),n=Vt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,n,r].join(" "),r,n]},r.prototype.renderTextNode=function(t,e){return n(this,void 0,void 0,(function(){var r,n,s,o,a,A,u,l,c=this;return i(this,(function(i){return r=this.createFontStyle(e),n=r[0],s=r[1],o=r[2],this.ctx.font=n,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),A=a.baseline,u=a.middle,l=e.paintOrder,t.textBounds.forEach((function(t){l.forEach((function(r){switch(r){case 0:c.ctx.fillStyle=pe(e.color),c.renderTextWithLetterSpacing(t,e.letterSpacing,A);var n=e.textShadow;n.length&&t.text.trim().length&&(n.slice(0).reverse().forEach((function(r){c.ctx.shadowColor=pe(r.color),c.ctx.shadowOffsetX=r.offsetX.number*c.options.scale,c.ctx.shadowOffsetY=r.offsetY.number*c.options.scale,c.ctx.shadowBlur=r.blur.number,c.renderTextWithLetterSpacing(t,e.letterSpacing,A)})),c.ctx.shadowColor="",c.ctx.shadowOffsetX=0,c.ctx.shadowOffsetY=0,c.ctx.shadowBlur=0),e.textDecorationLine.length&&(c.ctx.fillStyle=pe(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:c.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+A),t.bounds.width,1);break;case 2:c.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:c.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+u),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(c.ctx.strokeStyle=pe(e.webkitTextStrokeColor),c.ctx.lineWidth=e.webkitTextStrokeWidth,c.ctx.lineJoin=window.chrome?"miter":"round",c.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+A)),c.ctx.strokeStyle="",c.ctx.lineWidth=0,c.ctx.lineJoin="miter"}}))})),[2]}))}))},r.prototype.renderReplacedElement=function(t,e,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var n=eo(t),i=Hs(e);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(t){return n(this,void 0,void 0,(function(){var e,n,s,a,A,u,l,c,h,f,p,d,g,m,v,y,_,b;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(t.getEffects(4)),e=t.container,n=t.curves,s=e.styles,a=0,A=e.textNodes,i.label=1;case 1:return a<A.length?(u=A[a],[4,this.renderTextNode(u,s)]):[3,4];case 2:i.sent(),i.label=3;case 3:return a++,[3,1];case 4:if(!(e instanceof ai))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return v=i.sent(),this.renderReplacedElement(e,n,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof Ai&&this.renderReplacedElement(e,n,e.canvas),!(e instanceof ui))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return v=i.sent(),this.renderReplacedElement(e,n,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof bi&&e.tree?[4,new r(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:l=i.sent(),e.width&&e.height&&this.ctx.drawImage(l,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),i.label=14;case 14:if(e instanceof vi&&(c=Math.min(e.bounds.width,e.bounds.height),e.type===pi?e.checked&&(this.ctx.save(),this.path([new Ps(e.bounds.left+.39363*c,e.bounds.top+.79*c),new Ps(e.bounds.left+.16*c,e.bounds.top+.5549*c),new Ps(e.bounds.left+.27347*c,e.bounds.top+.44071*c),new Ps(e.bounds.left+.39694*c,e.bounds.top+.5649*c),new Ps(e.bounds.left+.72983*c,e.bounds.top+.23*c),new Ps(e.bounds.left+.84*c,e.bounds.top+.34085*c),new Ps(e.bounds.left+.39363*c,e.bounds.top+.79*c)]),this.ctx.fillStyle=pe(mi),this.ctx.fill(),this.ctx.restore()):e.type===di&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+c/2,e.bounds.top+c/2,c/4,0,2*Math.PI,!0),this.ctx.fillStyle=pe(mi),this.ctx.fill(),this.ctx.restore())),ho(e)&&e.value.length){switch(h=this.createFontStyle(s),_=h[0],f=h[1],p=this.fontMetrics.getMetrics(_,f).baseline,this.ctx.font=_,this.ctx.fillStyle=pe(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=po(e.styles.textAlign),b=eo(e),d=0,e.styles.textAlign){case 1:d+=b.width/2;break;case 2:d+=b.width}g=b.add(d,0,0,-b.height/2+1),this.ctx.save(),this.path([new Ps(b.left,b.top),new Ps(b.left+b.width,b.top),new Ps(b.left+b.width,b.top+b.height),new Ps(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qn(e.value,g),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ln(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(m=e.styles.listStyleImage).type)return[3,18];v=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=i.sent(),this.ctx.drawImage(v,e.bounds.left-(v.width+10),e.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==e.styles.listStyleType&&(_=this.createFontStyle(s)[0],this.ctx.font=_,this.ctx.fillStyle=pe(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new o(e.bounds.left,e.bounds.top+se(e.styles.paddingTop,e.bounds.width),e.bounds.width,Cr(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qn(t.listValue,b),s.letterSpacing,Cr(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},r.prototype.renderStackContent=function(t){return n(this,void 0,void 0,(function(){var e,r,n,s,o,a,A,u,l,c,h,f,p,d,g;return i(this,(function(i){switch(i.label){case 0:return ln(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:i.sent(),e=0,r=t.negativeZIndex,i.label=2;case 2:return e<r.length?(g=r[e],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:i.sent(),n=0,s=t.nonInlineLevel,i.label=7;case 7:return n<s.length?(g=s[n],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return n++,[3,7];case 10:o=0,a=t.nonPositionedFloats,i.label=11;case 11:return o<a.length?(g=a[o],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:A=0,u=t.nonPositionedInlineLevel,i.label=15;case 15:return A<u.length?(g=u[A],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return A++,[3,15];case 18:l=0,c=t.inlineLevel,i.label=19;case 19:return l<c.length?(g=c[l],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:h=0,f=t.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:p=0,d=t.positiveZIndex,i.label=27;case 27:return p<d.length?(g=d[p],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},r.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},r.prototype.formatPath=function(t){var e=this;t.forEach((function(t,r){var n=Ds(t)?t.start:t;0===r?e.ctx.moveTo(n.x,n.y):e.ctx.lineTo(n.x,n.y),Ds(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},r.prototype.renderRepeat=function(t,e,r,n){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(r,n),this.ctx.fill(),this.ctx.translate(-r,-n)},r.prototype.resizeImage=function(t,e,r){var n;if(t.width===e&&t.height===r)return t;var i=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return i.width=Math.max(1,e),i.height=Math.max(1,r),i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,r),i},r.prototype.renderBackgroundImage=function(t){return n(this,void 0,void 0,(function(){var e,r,n,s,o,a;return i(this,(function(A){switch(A.label){case 0:e=t.styles.backgroundImage.length-1,r=function(r){var s,o,a,A,u,l,c,h,f,p,d,g,m,v,y,_,b,w,B,x,E,C,T,I,F,S,U,M,O,P,R;return i(this,(function(i){switch(i.label){case 0:if(0!==r.type)return[3,5];s=void 0,o=r.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.context.cache.match(o)];case 2:return s=i.sent(),[3,4];case 3:return i.sent(),n.context.logger.error("Error loading background-image "+o),[3,4];case 4:return s&&(a=ro(t,e,[s.width,s.height,s.width/s.height]),_=a[0],C=a[1],T=a[2],B=a[3],x=a[4],v=n.ctx.createPattern(n.resizeImage(s,B,x),"repeat"),n.renderRepeat(_,v,C,T)),[3,6];case 5:1===r.type?(A=ro(t,e,[null,null,null]),_=A[0],C=A[1],T=A[2],B=A[3],x=A[4],u=Te(r.angle,B,x),l=u[0],c=u[1],h=u[2],f=u[3],p=u[4],(d=document.createElement("canvas")).width=B,d.height=x,g=d.getContext("2d"),m=g.createLinearGradient(c,f,h,p),Ce(r.stops,l).forEach((function(t){return m.addColorStop(t.stop,pe(t.color))})),g.fillStyle=m,g.fillRect(0,0,B,x),B>0&&x>0&&(v=n.ctx.createPattern(d,"repeat"),n.renderRepeat(_,v,C,T))):function(t){return 2===t.type}(r)&&(y=ro(t,e,[null,null,null]),_=y[0],b=y[1],w=y[2],B=y[3],x=y[4],E=0===r.position.length?[re]:r.position,C=se(E[0],B),T=se(E[E.length-1],x),I=function(t,e,r,n,i){var s=0,o=0;switch(t.size){case 0:0===t.shape?s=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):1===t.shape&&(s=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(0===t.shape)s=o=Math.min(Ie(e,r),Ie(e,r-i),Ie(e-n,r),Ie(e-n,r-i));else if(1===t.shape){var a=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=Fe(n,i,e,r,!0),u=A[0],l=A[1];o=a*(s=Ie(u-e,(l-r)/a))}break;case 1:0===t.shape?s=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):1===t.shape&&(s=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(0===t.shape)s=o=Math.max(Ie(e,r),Ie(e,r-i),Ie(e-n,r),Ie(e-n,r-i));else if(1===t.shape){a=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n));var c=Fe(n,i,e,r,!1);u=c[0],l=c[1],o=a*(s=Ie(u-e,(l-r)/a))}}return Array.isArray(t.size)&&(s=se(t.size[0],n),o=2===t.size.length?se(t.size[1],i):s),[s,o]}(r,C,T,B,x),F=I[0],S=I[1],F>0&&S>0&&(U=n.ctx.createRadialGradient(b+C,w+T,0,b+C,w+T,F),Ce(r.stops,2*F).forEach((function(t){return U.addColorStop(t.stop,pe(t.color))})),n.path(_),n.ctx.fillStyle=U,F!==S?(M=t.bounds.left+.5*t.bounds.width,O=t.bounds.top+.5*t.bounds.height,R=1/(P=S/F),n.ctx.save(),n.ctx.translate(M,O),n.ctx.transform(1,0,0,P,0,0),n.ctx.translate(-M,-O),n.ctx.fillRect(b,R*(w-O)+O,B,x*R),n.ctx.restore()):n.ctx.fill())),i.label=6;case 6:return e--,[2]}}))},n=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return s<o.length?(a=o[s],[5,r(a)]):[3,4];case 2:A.sent(),A.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},r.prototype.renderSolidBorder=function(t,e,r){return n(this,void 0,void 0,(function(){return i(this,(function(n){return this.path($s(r,e)),this.ctx.fillStyle=pe(t),this.ctx.fill(),[2]}))}))},r.prototype.renderDoubleBorder=function(t,e,r,s){return n(this,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return e<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return i.sent(),[2];case 2:return n=function(t,e){switch(e){case 0:return Zs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Zs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Zs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return Zs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(s,r),this.path(n),this.ctx.fillStyle=pe(t),this.ctx.fill(),o=function(t,e){switch(e){case 0:return Zs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Zs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Zs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return Zs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(s,r),this.path(o),this.ctx.fill(),[2]}}))}))},r.prototype.renderNodeBackgroundAndBorders=function(t){return n(this,void 0,void 0,(function(){var e,r,n,s,o,a,A,u,l=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,r=!fe(e.backgroundColor)||e.backgroundImage.length,n=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],s=fo(oo(e.backgroundClip,0),t.curves),r||e.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),fe(e.backgroundColor)||(this.ctx.fillStyle=pe(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){l.ctx.save();var r,n,i,s,o,a=ks(t.curves),A=e.inset?0:1e4,u=(r=a,n=-A+(e.inset?1:-1)*e.spread.number,i=(e.inset?1:-1)*e.spread.number,s=e.spread.number*(e.inset?-2:2),o=e.spread.number*(e.inset?-2:2),r.map((function(t,e){switch(e){case 0:return t.add(n,i);case 1:return t.add(n+s,i);case 2:return t.add(n+s,i+o);case 3:return t.add(n,i+o)}return t})));e.inset?(l.path(a),l.ctx.clip(),l.mask(u)):(l.mask(a),l.ctx.clip(),l.path(u)),l.ctx.shadowOffsetX=e.offsetX.number+A,l.ctx.shadowOffsetY=e.offsetY.number,l.ctx.shadowColor=pe(e.color),l.ctx.shadowBlur=e.blur.number,l.ctx.fillStyle=e.inset?pe(e.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),i.label=2;case 2:o=0,a=0,A=n,i.label=3;case 3:return a<A.length?0!==(u=A[a]).style&&!fe(u.color)&&u.width>0?2!==u.style?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,t.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==u.style?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,t.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==u.style?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,t.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,t.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},r.prototype.renderDashedDottedBorder=function(t,e,r,s,o){return n(this,void 0,void 0,(function(){var n,a,A,u,l,c,h,f,p,d,g,m,v,y,_,b;return i(this,(function(i){return this.ctx.save(),n=function(t,e){switch(e){case 0:return Js(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Js(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Js(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return Js(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(s,r),a=$s(s,r),2===o&&(this.path(a),this.ctx.clip()),Ds(a[0])?(A=a[0].start.x,u=a[0].start.y):(A=a[0].x,u=a[0].y),Ds(a[1])?(l=a[1].end.x,c=a[1].end.y):(l=a[1].x,c=a[1].y),h=0===r||2===r?Math.abs(A-l):Math.abs(u-c),this.ctx.beginPath(),3===o?this.formatPath(n):this.formatPath(a.slice(0,2)),f=e<3?3*e:2*e,p=e<3?2*e:e,3===o&&(f=e,p=e),d=!0,h<=2*f?d=!1:h<=2*f+p?(f*=g=h/(2*f+p),p*=g):(m=Math.floor((h+p)/(f+p)),v=(h-m*f)/(m-1),p=(y=(h-(m+1)*f)/m)<=0||Math.abs(p-v)<Math.abs(p-y)?v:y),d&&(3===o?this.ctx.setLineDash([0,f+p]):this.ctx.setLineDash([f,p])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=pe(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(Ds(a[0])&&(_=a[3],b=a[0],this.ctx.beginPath(),this.formatPath([new Ps(_.end.x,_.end.y),new Ps(b.start.x,b.start.y)]),this.ctx.stroke()),Ds(a[1])&&(_=a[1],b=a[2],this.ctx.beginPath(),this.formatPath([new Ps(_.end.x,_.end.y),new Ps(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},r.prototype.render=function(t){return n(this,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=new Xs(t,null),i=new zs(n),Ys(n,i,i,s=[]),qs(n.container,s),e=i,[4,this.renderStack(e)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}var n,i,s}))}))},r}(lo),ho=function(t){return t instanceof _i||t instanceof yi||t instanceof vi&&t.type!==di&&t.type!==pi},fo=function(t,e){switch(t){case 0:return ks(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return Hs(e)}},po=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},go=["-apple-system","system-ui"],mo=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===go.indexOf(t)})):t},vo=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return e(r,t),r.prototype.render=function(t){return n(this,void 0,void 0,(function(){var e,r;return i(this,(function(n){switch(n.label){case 0:return e=zn(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,yo(e)];case 1:return r=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},r}(lo),yo=function(t){return new Promise((function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},_o=function(){function t(t){var e=t.id,r=t.enabled;this.id=e,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),bo=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new _o({id:this.instanceName,enabled:e.logging}),this.cache=null!==(n=e.cache)&&void 0!==n?n:new Es(this,e)}return t.instanceCount=1,t}();"undefined"!=typeof window&&xs.setContext(window);var wo=function(t,e){return n(void 0,void 0,void 0,(function(){var n,s,A,u,l,c,h,f,p,d,g,m,v,y,_,b,w,B,x,E,C,T,I,F,S,U,M,O,P,R,L,D,Q,N,k,H,j,V;return i(this,(function(i){switch(i.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=n.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(T=e.allowTaint)&&void 0!==T&&T,imageTimeout:null!==(I=e.imageTimeout)&&void 0!==I?I:15e3,proxy:e.proxy,useCORS:null!==(F=e.useCORS)&&void 0!==F&&F},u=r({logging:null===(S=e.logging)||void 0===S||S,cache:e.cache},A),l={windowWidth:null!==(U=e.windowWidth)&&void 0!==U?U:s.innerWidth,windowHeight:null!==(M=e.windowHeight)&&void 0!==M?M:s.innerHeight,scrollX:null!==(O=e.scrollX)&&void 0!==O?O:s.pageXOffset,scrollY:null!==(P=e.scrollY)&&void 0!==P?P:s.pageYOffset},c=new o(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),h=new bo(u,c),f=null!==(R=e.foreignObjectRendering)&&void 0!==R&&R,p={allowTaint:null!==(L=e.allowTaint)&&void 0!==L&&L,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),d=new As(h,t,p),(g=d.clonedReferenceElement)?[4,d.toIFrame(n,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=i.sent(),v=Li(g)||"HTML"===g.tagName?function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new o(0,0,n,i)}(g.ownerDocument):a(h,g),y=v.width,_=v.height,b=v.left,w=v.top,B=Bo(h,g,e.backgroundColor),x={canvas:e.canvas,backgroundColor:B,scale:null!==(Q=null!==(D=e.scale)&&void 0!==D?D:s.devicePixelRatio)&&void 0!==Q?Q:1,x:(null!==(N=e.x)&&void 0!==N?N:0)+b,y:(null!==(k=e.y)&&void 0!==k?k:0)+w,width:null!==(H=e.width)&&void 0!==H?H:Math.ceil(y),height:null!==(j=e.height)&&void 0!==j?j:Math.ceil(_)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new vo(h,x).render(g)]):[3,3];case 2:return E=i.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+b+","+w+" with size "+y+"x"+_+" using computed rendering"),h.logger.debug("Starting DOM parsing"),C=Ei(h,g),B===C.styles.backgroundColor&&(C.styles.backgroundColor=we.TRANSPARENT),h.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),[4,new co(h,x).render(C)];case 4:E=i.sent(),i.label=5;case 5:return(null===(V=e.removeContainer)||void 0===V||V)&&(As.destroy(m)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,E]}}))}))},Bo=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?be(t,getComputedStyle(n.documentElement).backgroundColor):we.TRANSPARENT,s=n.body?be(t,getComputedStyle(n.body).backgroundColor):we.TRANSPARENT,o="string"==typeof r?be(t,r):null===r?we.TRANSPARENT:4294967295;return e===n.documentElement?fe(i)?fe(s)?o:s:i:o};return function(t,e){return void 0===e&&(e={}),wo(t,e)}}()},(t,e,r)=>{"use strict";const n=r(579),i=r(317),s=r(581),o=r(346),{isBrowser:a}=r(13);r(338),t.exports=class extends n{constructor(t){super({type:"video",loop:!1,audio:!0,...t}),this.useCache=!1}createMaterial(t){const e=new s(t);return this.muted&&e.setAudio(!1),e}mute(t){this.material&&this.material.setAudio(this.conf.audio&&!t)}resetMute(){this.material&&this.material.setAudio(this.conf.audio)}set audio(t){this.conf.audio=!!t,this.resetMute()}get audio(){return!!this.conf.audio}get volume(){return isNaN(this.conf.volume)?1:Math.max(Number(this.conf.volume),0)}set volume(t){this.conf.volume=t,this.material&&this.material.setVolume(this.volume)}grantPlay(){return this.material.grantPlay()}async getFrameByTime(t){return await this.material.queuedSeekTo(t,"preview")}async prepareMaterial(){if(!a){const{start:t,end:e}=this.creator().outputTime;if(!this.active||this.absStartTime>e||this.absEndTime<t)return this.disable(),void console.log(`ignore prepareMaterial ${this.id} [${this.absStartTime}, ${this.absEndTime}]`);const r=this.rootConf("detailedCacheDir");if(await this.material.extract(r,!this.creator().audioOnly),this.material.useAudio&&this.material.hasAudio){const t=new i({id:`${this.id}_audio`,path:this.material.path,loop:this.loop,speed:this.speed,volume:this.volume,duration:this.duration,ss:this.conf.ss,to:this.conf.to});this.addChild(t),await t.preProcessing(),t.annotate(),o.info({pos:"Video",msg:`Add audio track ${t.id.padEnd(10," ")}: time:[${t.absStartTime.toFixed(2).padStart(6," ")}, ${t.absEndTime.toFixed(2).padStart(6," ")})  `})}}await super.prepareMaterial()}async drawing(t,e){if(!this.creator().audioOnly&&!await super.drawing(t,e)){const r=t/1e3-this.absStartTime;-1<r&&r<0&&e>0?this.material.perpare():this.material.pause(),!a&&t/1e3>this.absEndTime&&this.material.destroy()}}canFastRender(t=[]){if(0===this.absStartTime||!this.active||!1===this.rootConf("fast"))return!1;if(0!==this.rotate||this.animations.animations.length>0||this.display?.mask||this.display?.hasFilters()||this.display?.blendMode)return!1;const e=this.parents.find((t=>"scene"===t.type));if(e&&(e.display?.mask||e.display?.hasFilters()||e.display?.blendMode))return!1;const r=1/this.rootConf("fps");return this.creator().allNodes.filter((e=>{if(e===this||t.includes(e))return!1;if("trans"===e.type&&(e.prevSibling===this||e.nextSibling===this))return!0;if(["scene"].includes(e.type)||!e.display)return!1;if(e.zIndex>this.zIndex&&!e.display?.blendMode&&"cover"!==e.type)return!1;const n=Math.max(e.absStartTime,this.absStartTime);if(Math.min(e.absEndTime,this.absEndTime)-n<r)return!1;if("video"===e.type){const r=[...t,this];return(e.zIndex<this.zIndex||e.display?.blendMode)&&!e.canFastRender(r)}return!0})).length<=0}addInput(t){t.addInput(this.material.path);let e=["-an"];const r=this.material.getSliceOpts(!this.loop);r&&(e=e.concat(r)),t.addInputOptions(e)}toFilters({input:t,output:e,background:r}){const n=this.rootConf("fps"),{start:i,end:s}=this.creator().outputTime,o=this.absStartTime-i,a=this.absEndTime-i,A=[];let u="",[l,c]=this.getWH(),[h,f]=this.getXY();const{x:p,y:d}=this.getAnchor();h-=p*l,f-=d*c;const{x:g,y:m,width:v,height:y}=this.display.texture.frame,{width:_,height:b}=this.display,[w,B]=this.getObjectPosition();h+=Math.max(0,l-_)*w,f+=Math.max(0,c-b)*B;const x=this.conf["object-fit"];let E;["contain","scale-down"].includes(x)&&(l=_,c=b),u+=`crop=w=${v.toFixed(1)}:h=${y.toFixed(1)}:x=${g.toFixed(1)}:y=${m.toFixed(1)},`,this.loop&&(u+=`loop=-1:size=${((this.material.getEndOffset(!0)-this.material.getStartOffset())*n).toFixed(0)},`),this.opacity<1&&(E||(u+=E="format=bgra,"),u+=`colorchannelmixer=aa=${this.opacity.toFixed(2)},`),0!=o?u+=`setpts=${(1/this.speed).toFixed(3)}*PTS-STARTPTS${o>0?"+":"-"}${Math.abs(o).toFixed(3)}/TB,`:1!==this.speed&&(u+=`setpts=${(1/this.speed).toFixed(3)}*PTS,`);let C=`tmp1_${e}`;A.push(`[${t}]${u}scale=${l.toFixed(1)}:${c.toFixed(1)}[${C}]`);const T=`overlay=${h.toFixed(1)}:${f.toFixed(1)}`,I=`:enable='between(t,${Math.max(o,0).toFixed(3)},${a.toFixed(3)})'`;return A.push(`[${r}][${C}]${T}${I}[${e}]`),this.disable(),A}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(575),s=r(580);r(235),t.exports=class extends i{constructor(t={list:[]}){super({type:"gif",...t}),this.currentTime=0,this.loops=0,this.loop=void 0===t.loop||t.loop}get default(){const t=super.default;return{startTime:t.startTime,endTime:this.loop?t.endTime:void 0,duration:this.loop?void 0:this.material.getDuration()}}get speed(){return this.material.speed}set speed(t){this.conf.speed=t,this.material.setSpeed(t)}createMaterial(t){const e=Number(this.conf.speed)||1;return new s({speed:e,...t})}setLoop(t){this.loop=!!t,this.material&&(this.material.loop=this.loop)}setSpeed(t){this.conf.speed=Number(t)||1,this.material&&(this.material.speed=this.conf.speed)}materialTime(t,e=!1){let r=t-this.absStartTime;const n=this.material.getDuration();let i=0;for(;this.loop&&r>=n;)r=Math.max(0,r-n),i++;return e&&(r=this.material.seekTime(r)),{time:r,loops:i}}async getFrameByTime(t){const e=await this.material.getFrameByTime(t);return this.material.getImage(e)}async drawing(t,e){let r=await super.drawing(t,e);if(!r)return!1;const{time:i,loops:s}=this.materialTime(t/1e3);return this.currentTime=i,this.loops!==s&&(await this.material.getFrameByTime(this.currentTime,0),this.loops=s),r=await this.material.getFrameByTime(this.currentTime,e/1e3),n||!r?this.display.texture.baseTexture.update():this.draw({texture:r,useCache:this.useCache}),r}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(581),s=r(235),{getRemote:o}=r(333),{createImageData:a}=r(14);t.exports=class extends i{async init(t){const{fps:e}=t;let r;this.disposal=2,this.fps=e;let i=this.path;n&&i.startsWith("http")&&(r=await o(i,this.creator.uuid),i=URL.createObjectURL(r.data));try{r=await s.getPixels(this.path,this.conf.srcType||".GIF")}catch(t){r=await s.getPixels(this.path)}const{pixels:A,frameInfo:u}=r;let l=1;if(u&&u.length)this.frameInfo=u;else{if(!A||3!==A.shape.length)throw new Error("Invalid gif frame info: ",u);this.frameInfo=[{delay:Math.pow(10,9),disposal:1}],l=0}const c=[],h=this.info.width=A.shape[l+0],f=this.info.height=A.shape[l+1],p=h*f*A.shape[l+2];for(let t=0;t<this.frameInfo.length;t++){this.frameInfo[t].delay=this.frameInfo[t].delay/100;const e=A.data.slice(t*p,(t+1)*p),r=a(new Uint8ClampedArray(e.buffer),h,f);c.push(r)}this.length=this.info.duration=this.frameInfo.reduce(((t,e)=>t+e.delay),0),this.frames=this.frameInfo.length,this.canvas=this.initCanvas(h,f),this.canvasContext=this.canvas.getContext("2d"),this.imageData=[];for(let t=0;t<this.frameInfo.length;t++){let e=this.frameInfo[t].disposal>2?2:this.frameInfo[t].disposal;const r=this.initCanvas(h,f),i=r.getContext("2d");1===e?(this.drawCanvas(c[t],h,f),n?i.drawImage(this.canvas,0,0,h,f):this.imageData.push(this.canvasContext.getImageData(0,0,h,f))):n?i.putImageData(c[t],0,0):this.imageData.push(c[t]),n&&this.imageData.push(r)}}getFrame(t){const e=t<this.frames?t:this.frames-1;return this.imageData[e]}getIndex(t){let e=0,r=0;for(let n=0;n<this.frameInfo.length&&(e+=this.frameInfo[n].delay/this.speed,!(e>t));n++)r=n;return r}async getFrameByTime(t){const{width:e,height:r}=this.canvas||{};this.clearCanvas();const n=this.getFrame(this.getIndex(t));return n&&this.drawCanvas(n,e,r),n}destroy(){super.destroy(),this.imageData=null,this.frameInfo=null}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(573),s=(r(319),r(346)),o=r(334),{nodeRequire:a,isUA:A}=r(235),{times:u}=r(582),l=r(342),c=r(343),h=a("ffmpeg-probe"),f=a("../utils/ffmpeg"),p=a("../utils/opencv"),d=a("../utils/fs"),g="player",m="init",v={};class y extends i{constructor(t){super(t),this.setVolume(t.volume),this.setAudio(void 0===t.audio||!!t.audio),this.time=0,this.playing=!1,this.perpared=!1,this.queue=new c,this.$vh={},this.codec=t.codec,this.clarity=t.qscale||t.clarity||2,this.voImageExtra=void 0===t.voImageExtra?"jpg":t.voImageExtra}setVolume(t){this.volume=Number(t),isNaN(this.volume)&&(this.volume=1)}setAudio(t){this.useAudio=t;const e=this.$vh&&this.$vh.player?.$video;e&&(e.muted=!this.useAudio)}async init(t){const{fps:e}=t;if(this.fps=e,n)await this.valloc(m),this.info=await this.$vh.init.getInfo(),this.velease(m),this.creator.mVIDEOS.push(this);else{v[this.path]||(v[this.path]=await h(this.path)),this.info={...v[this.path]},this.info.duration/=1e3;try{this.videoCap=p.VideoCapture(this.path)}catch(t){}this.acommand=f.createCommand(),this.vcommand=f.createCommand()}this.canvas=this.initCanvas(this.info.width,this.info.height),this.canvasContext=this.canvas.getContext("2d"),this.length=this.info.duration}get hasAudio(){return this.info?.streams&&this.info.streams.some((t=>"audio"===t.codec_type))}async grantPlay(){}async valloc(t){if(this.$vh[t])return this.$vh[t].$video;try{this.$vh[t]=await l.get(this.path,this.creator.uuid,`${this.holderId}-${t}`)}catch(t){return null}const e=this.$vh[t].$video;return e.muted=t!==g||!this.useAudio,e.muted||this.$vh[t].setVolume(this.volume),e}velease(t){this.$vh[t]&&(this.$vh[t].release(),this.$vh[t]=null)}async play(t){if(this.playing)return;const e=await this.valloc(g);return e.currentTime=t,e.playbackRate=this.playrate,new Promise((t=>{y.playing(e)?(this.playing=!0,t()):(e.addEventListener("playing",(()=>{this.playing=!0,t()}),{once:!0}),e.play())}))}pause(){if(!this.playing&&!this.perpared)return;const t=this.$vh.player?.$video,e=()=>{this.playing=!1,this.perpared=!1,this.velease(g)};t&&y.playing(t)?(t.addEventListener("pause",(t=>e()),{once:!0}),t.pause()):e()}async perpare(){if(this.perpared||!n)return;this.perpared=!0;const t=await this.valloc(g),e=this.seekTime(0);Math.abs(t.currentTime-e)>.1&&(t.currentTime=e)}async seekTo(t,e="seeker"){return new Promise((async(r,n)=>{const i=await this.valloc(e);if(!i)return r();i.currentTime.toFixed(2)==t.toFixed(2)?(r(i),this.velease(e)):(i.currentTime=t,i.addEventListener("seeked",(()=>{r(i),this.velease(e)}),{once:!0}))}))}async queuedSeekTo(t,e="seeker"){return new Promise((async(r,n)=>{this.queue.enqueue((async()=>{r(await this.seekTo(t,e))}))}))}get playrate(){return this.creator.playbackRate*this.speed}seekTime(t,e={}){return super.seekTime(n?t+.05:t,e)}async getFrameByTime(t,e=0){this.time=t;const r={},i=this.seekTime(t,r);return n?(r.overflow&&(e=0),e>0?await this.play(i):this.pause(),new Promise((async(t,r)=>{const n=this.canvas.width,s=this.canvas.height;if(e>0){const e=this.$vh.player?.$video;if(!e)return t();if(this.playerDelay=i-e.currentTime,Math.abs(this.playerDelay)>.05){const t=this.playerDelay>0?1.05:.95;e.playbackRate=this.playrate*t}else e.playbackRate=this.playrate;t(this.drawCanvas(e,n,s))}else t(this.drawCanvas(await this.queuedSeekTo(i),n,s))}))):this.videoCap?p.getFrameByTime(this.videoCap,i):this.getFrame(Math.max(0,t*this.fps>>0))}delay(){return this.playerDelay}getFrame(t){let e=this.vpath.replace("%d",t);return d.exists(e)||(e=this.lastPath),this.lastPath=e,e}async extract(t,e){const r=o(`${this.path}-${this.getStartHms()}-${this.getEndHms(!0)}`);if(!this.videoCap&&e){console.log("---------------- extract video ----------------",this.holderId);const e=Date.now();await this.extractVideo(t,`${r}_video`),p.timer+=Date.now()-e}}async extractAudio(t,e){const r=this.getOutputPath(t,`${e}.mp3`);if(d.exists(r))return this.apath=r;let n="-loglevel info".split(" ");n=n.concat(`-af atempo=${this.speed}`.split(" "));const i=this.getSliceOpts(),s=this.acommand.noVideo().audioCodec("libmp3lame");return this.apath=await this.ffCmdExec({command:s,inOpts:i,output:r,outOpts:n}),this.apath}async extractVideo(t,e){let r="-loglevel info -pix_fmt rgba -start_number 0".split(" ");const n=`-qscale:v ${this.clarity} -filter_complex [0:v]setpts=PTS/${this.speed}[sv];[sv]fps=${this.fps}[ov] -map [ov]`;r=r.concat(n.split(" "));let i=this.codec?`-c:v ${this.codec}`.split(" "):[];i=i.concat(this.getSliceOpts());const s=this.getOutputPath(t,`${e}_%d.${this.voImageExtra}`);return d.exists(s.replace("%d","0"))?this.vpath=s:(this.vpath=await this.ffCmdExec({command:this.vcommand,output:s,inOpts:i,outOpts:r}),this.vpath)}ffCmdExec({command:t,output:e,inOpts:r,outOpts:n,onProgress:i}){const o=function(t){return"string"==typeof t&&(t=t.split(" ")),t instanceof Array&&(t=t.filter((t=>""!==t))),t};return t.addInput(this.path).output(e),r&&t.inputOptions(o(r)),n&&t.outputOptions(o(n)),new Promise(((r,n)=>{t.on("start",(t=>{s.info({pos:"Material",msg:`${this.type} preProcessing start: ${t}`})})).on("progress",(t=>{i&&i(t)})).on("end",(()=>{s.info({pos:"Material",msg:`${this.type} preProcessing completed: ${this}`}),r(e)})).on("error",(t=>{s.error({pos:"Material",msg:`${this.type} preProcessing error: `,error:t}),n(t)})),t.run()}))}destroy(){for(const t of Object.keys(this.$vh))this.$vh[t]&&this.velease(t);this.canvas&&(this.canvas=null,this.canvasContext=null,this.playing=!1),this.acommand&&f.destroy(this.acommand),this.vcommand&&f.destroy(this.vcommand),this.videoCap&&p.destroy(this.videoCap),this.queue&&this.queue.destroy(),this.queue=null,super.destroy()}}t.exports=y},function(t,e,r){var n;t=r.nmd(t),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",A=32,u=128,l=1/0,c=9007199254740991,h=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",A],["partialRight",64],["rearg",256]],d="[object Arguments]",g="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",_="[object Function]",b="[object GeneratorFunction]",w="[object Map]",B="[object Number]",x="[object Object]",E="[object Promise]",C="[object RegExp]",T="[object Set]",I="[object String]",F="[object Symbol]",S="[object WeakMap]",U="[object ArrayBuffer]",M="[object DataView]",O="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",Q="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",H="[object Uint32Array]",j=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,z=RegExp(K.source),X=RegExp(W.source),Y=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),nt=/^\s+/,it=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,At=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",wt="a-z\\xdf-\\xf6\\xf8-\\xff",Bt="A-Z\\xc0-\\xd6\\xd8-\\xde",xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="["+xt+"]",Ct="["+bt+"]",Tt="\\d+",It="["+wt+"]",Ft="[^\\ud800-\\udfff"+xt+Tt+"\\u2700-\\u27bf"+wt+Bt+"]",St="\\ud83c[\\udffb-\\udfff]",Ut="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt="["+Bt+"]",Rt="(?:"+It+"|"+Ft+")",Lt="(?:"+Pt+"|"+Ft+")",Dt="(?:['](?:d|ll|m|re|s|t|ve))?",Qt="(?:['](?:D|LL|M|RE|S|T|VE))?",Nt="(?:"+Ct+"|"+St+")?",kt="[\\ufe0e\\ufe0f]?",Ht=kt+Nt+"(?:\\u200d(?:"+[Ut,Mt,Ot].join("|")+")"+kt+Nt+")*",jt="(?:"+["[\\u2700-\\u27bf]",Mt,Ot].join("|")+")"+Ht,Vt="(?:"+[Ut+Ct+"?",Ct,Mt,Ot,"[\\ud800-\\udfff]"].join("|")+")",Gt=RegExp("[']","g"),Kt=RegExp(Ct,"g"),Wt=RegExp(St+"(?="+St+")|"+Vt+Ht,"g"),zt=RegExp([Pt+"?"+It+"+"+Dt+"(?="+[Et,Pt,"$"].join("|")+")",Lt+"+"+Qt+"(?="+[Et,Pt+Rt,"$"].join("|")+")",Pt+"?"+Rt+"+"+Dt,Pt+"+"+Qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt,jt].join("|"),"g"),Xt=RegExp("[\\u200d\\ud800-\\udfff"+bt+"\\ufe0e\\ufe0f]"),Yt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$t=-1,Jt={};Jt[O]=Jt[P]=Jt[R]=Jt[L]=Jt[D]=Jt[Q]=Jt[N]=Jt[k]=Jt[H]=!0,Jt[d]=Jt[g]=Jt[U]=Jt[m]=Jt[M]=Jt[v]=Jt[y]=Jt[_]=Jt[w]=Jt[B]=Jt[x]=Jt[C]=Jt[T]=Jt[I]=Jt[S]=!1;var Zt={};Zt[d]=Zt[g]=Zt[U]=Zt[M]=Zt[m]=Zt[v]=Zt[O]=Zt[P]=Zt[R]=Zt[L]=Zt[D]=Zt[w]=Zt[B]=Zt[x]=Zt[C]=Zt[T]=Zt[I]=Zt[F]=Zt[Q]=Zt[N]=Zt[k]=Zt[H]=!0,Zt[y]=Zt[_]=Zt[S]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,re=parseInt,ne="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ie="object"==typeof self&&self&&self.Object===Object&&self,se=ne||ie||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&t&&!t.nodeType&&t,Ae=ae&&ae.exports===oe,ue=Ae&&ne.process,le=function(){try{return ae&&ae.require&&ae.require("util").types||ue&&ue.binding&&ue.binding("util")}catch(t){}}(),ce=le&&le.isArrayBuffer,he=le&&le.isDate,fe=le&&le.isMap,pe=le&&le.isRegExp,de=le&&le.isSet,ge=le&&le.isTypedArray;function me(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function ve(t,e,r,n){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}function ye(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function _e(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function be(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function we(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Be(t,e){return!(null==t||!t.length)&&Oe(t,e,0)>-1}function xe(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ee(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Ce(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Te(t,e,r,n){var i=-1,s=null==t?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}function Ie(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Fe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Se=De("length");function Ue(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Me(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Oe(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Me(t,Re,r)}function Pe(t,e,r,n){for(var i=r-1,s=t.length;++i<s;)if(n(t[i],e))return i;return-1}function Re(t){return t!=t}function Le(t,e){var r=null==t?0:t.length;return r?ke(t,e)/r:h}function De(t){return function(e){return null==e?i:e[t]}}function Qe(t){return function(e){return null==t?i:t[e]}}function Ne(t,e,r,n,i){return i(t,(function(t,i,s){r=n?(n=!1,t):e(r,t,i,s)})),r}function ke(t,e){for(var r,n=-1,s=t.length;++n<s;){var o=e(t[n]);o!==i&&(r=r===i?o:r+o)}return r}function He(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function je(t){return t?t.slice(0,or(t)+1).replace(nt,""):t}function Ve(t){return function(e){return t(e)}}function Ge(t,e){return Ee(e,(function(e){return t[e]}))}function Ke(t,e){return t.has(e)}function We(t,e){for(var r=-1,n=t.length;++r<n&&Oe(e,t[r],0)>-1;);return r}function ze(t,e){for(var r=t.length;r--&&Oe(e,t[r],0)>-1;);return r}function Xe(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var Ye=Qe({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),qe=Qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $e(t){return"\\"+te[t]}function Je(t){return Xt.test(t)}function Ze(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function tr(t,e){return function(r){return t(e(r))}}function er(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r];o!==e&&o!==a||(t[r]=a,s[i++]=r)}return s}function rr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function nr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function ir(t){return Je(t)?function(t){for(var e=Wt.lastIndex=0;Wt.test(t);)++e;return e}(t):Se(t)}function sr(t){return Je(t)?function(t){return t.match(Wt)||[]}(t):function(t){return t.split("")}(t)}function or(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var ar=Qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ar=function t(e){var r,n=(e=null==e?se:Ar.defaults(se.Object(),e,Ar.pick(se,qt))).Array,it=e.Date,bt=e.Error,wt=e.Function,Bt=e.Math,xt=e.Object,Et=e.RegExp,Ct=e.String,Tt=e.TypeError,It=n.prototype,Ft=wt.prototype,St=xt.prototype,Ut=e["__core-js_shared__"],Mt=Ft.toString,Ot=St.hasOwnProperty,Pt=0,Rt=(r=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Lt=St.toString,Dt=Mt.call(xt),Qt=se._,Nt=Et("^"+Mt.call(Ot).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=Ae?e.Buffer:i,Ht=e.Symbol,jt=e.Uint8Array,Vt=kt?kt.allocUnsafe:i,Wt=tr(xt.getPrototypeOf,xt),Xt=xt.create,te=St.propertyIsEnumerable,ne=It.splice,ie=Ht?Ht.isConcatSpreadable:i,oe=Ht?Ht.iterator:i,ae=Ht?Ht.toStringTag:i,ue=function(){try{var t=us(xt,"defineProperty");return t({},"",{}),t}catch(t){}}(),le=e.clearTimeout!==se.clearTimeout&&e.clearTimeout,Se=it&&it.now!==se.Date.now&&it.now,Qe=e.setTimeout!==se.setTimeout&&e.setTimeout,ur=Bt.ceil,lr=Bt.floor,cr=xt.getOwnPropertySymbols,hr=kt?kt.isBuffer:i,fr=e.isFinite,pr=It.join,dr=tr(xt.keys,xt),gr=Bt.max,mr=Bt.min,vr=it.now,yr=e.parseInt,_r=Bt.random,br=It.reverse,wr=us(e,"DataView"),Br=us(e,"Map"),xr=us(e,"Promise"),Er=us(e,"Set"),Cr=us(e,"WeakMap"),Tr=us(xt,"create"),Ir=Cr&&new Cr,Fr={},Sr=Qs(wr),Ur=Qs(Br),Mr=Qs(xr),Or=Qs(Er),Pr=Qs(Cr),Rr=Ht?Ht.prototype:i,Lr=Rr?Rr.valueOf:i,Dr=Rr?Rr.toString:i;function Qr(t){if(ra(t)&&!Ko(t)&&!(t instanceof jr)){if(t instanceof Hr)return t;if(Ot.call(t,"__wrapped__"))return Ns(t)}return new Hr(t)}var Nr=function(){function t(){}return function(e){if(!ea(e))return{};if(Xt)return Xt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function kr(){}function Hr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function jr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Kr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Kr;++e<r;)this.add(t[e])}function zr(t){var e=this.__data__=new Gr(t);this.size=e.size}function Xr(t,e){var r=Ko(t),n=!r&&Go(t),i=!r&&!n&&Yo(t),s=!r&&!n&&!i&&la(t),o=r||n||i||s,a=o?He(t.length,Ct):[],A=a.length;for(var u in t)!e&&!Ot.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gs(u,A))||a.push(u);return a}function Yr(t){var e=t.length;return e?t[Wn(0,e-1)]:i}function qr(t,e){return Os(Ti(t),on(e,0,t.length))}function $r(t){return Os(Ti(t))}function Jr(t,e,r){(r!==i&&!Ho(t[e],r)||r===i&&!(e in t))&&nn(t,e,r)}function Zr(t,e,r){var n=t[e];Ot.call(t,e)&&Ho(n,r)&&(r!==i||e in t)||nn(t,e,r)}function tn(t,e){for(var r=t.length;r--;)if(Ho(t[r][0],e))return r;return-1}function en(t,e,r,n){return cn(t,(function(t,i,s){e(n,t,r(t),s)})),n}function rn(t,e){return t&&Ii(e,Ma(e),t)}function nn(t,e,r){"__proto__"==e&&ue?ue(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function sn(t,e){for(var r=-1,s=e.length,o=n(s),a=null==t;++r<s;)o[r]=a?i:Ta(t,e[r]);return o}function on(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function an(t,e,r,n,s,o){var a,A=1&e,u=2&e,l=4&e;if(r&&(a=s?r(t,n,s,o):r(t)),a!==i)return a;if(!ea(t))return t;var c=Ko(t);if(c){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ot.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!A)return Ti(t,a)}else{var h=hs(t),f=h==_||h==b;if(Yo(t))return bi(t,A);if(h==x||h==d||f&&!s){if(a=u||f?{}:ps(t),!A)return u?function(t,e){return Ii(t,cs(t),e)}(t,function(t,e){return t&&Ii(e,Oa(e),t)}(a,t)):function(t,e){return Ii(t,ls(t),e)}(t,rn(a,t))}else{if(!Zt[h])return s?t:{};a=function(t,e,r){var n,i=t.constructor;switch(e){case U:return wi(t);case m:case v:return new i(+t);case M:return function(t,e){var r=e?wi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case O:case P:case R:case L:case D:case Q:case N:case k:case H:return Bi(t,r);case w:return new i;case B:case I:return new i(t);case C:return function(t){var e=new t.constructor(t.source,ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case T:return new i;case F:return n=t,Lr?xt(Lr.call(n)):{}}}(t,h,A)}}o||(o=new zr);var p=o.get(t);if(p)return p;o.set(t,a),aa(t)?t.forEach((function(n){a.add(an(n,e,r,n,t,o))})):na(t)&&t.forEach((function(n,i){a.set(i,an(n,e,r,i,t,o))}));var g=c?i:(l?u?rs:es:u?Oa:Ma)(t);return ye(g||t,(function(n,i){g&&(n=t[i=n]),Zr(a,i,an(n,e,r,i,t,o))})),a}function An(t,e,r){var n=r.length;if(null==t)return!n;for(t=xt(t);n--;){var s=r[n],o=e[s],a=t[s];if(a===i&&!(s in t)||!o(a))return!1}return!0}function un(t,e,r){if("function"!=typeof t)throw new Tt(s);return Fs((function(){t.apply(i,r)}),e)}function ln(t,e,r,n){var i=-1,s=Be,o=!0,a=t.length,A=[],u=e.length;if(!a)return A;r&&(e=Ee(e,Ve(r))),n?(s=xe,o=!1):e.length>=200&&(s=Ke,o=!1,e=new Wr(e));t:for(;++i<a;){var l=t[i],c=null==r?l:r(l);if(l=n||0!==l?l:0,o&&c==c){for(var h=u;h--;)if(e[h]===c)continue t;A.push(l)}else s(e,c,n)||A.push(l)}return A}Qr.templateSettings={escape:Y,evaluate:q,interpolate:$,variable:"",imports:{_:Qr}},Qr.prototype=kr.prototype,Qr.prototype.constructor=Qr,Hr.prototype=Nr(kr.prototype),Hr.prototype.constructor=Hr,jr.prototype=Nr(kr.prototype),jr.prototype.constructor=jr,Vr.prototype.clear=function(){this.__data__=Tr?Tr(null):{},this.size=0},Vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vr.prototype.get=function(t){var e=this.__data__;if(Tr){var r=e[t];return r===o?i:r}return Ot.call(e,t)?e[t]:i},Vr.prototype.has=function(t){var e=this.__data__;return Tr?e[t]!==i:Ot.call(e,t)},Vr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Tr&&e===i?o:e,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(t){var e=this.__data__,r=tn(e,t);return!(r<0||(r==e.length-1?e.pop():ne.call(e,r,1),--this.size,0))},Gr.prototype.get=function(t){var e=this.__data__,r=tn(e,t);return r<0?i:e[r][1]},Gr.prototype.has=function(t){return tn(this.__data__,t)>-1},Gr.prototype.set=function(t,e){var r=this.__data__,n=tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Kr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Br||Gr),string:new Vr}},Kr.prototype.delete=function(t){var e=as(this,t).delete(t);return this.size-=e?1:0,e},Kr.prototype.get=function(t){return as(this,t).get(t)},Kr.prototype.has=function(t){return as(this,t).has(t)},Kr.prototype.set=function(t,e){var r=as(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Wr.prototype.add=Wr.prototype.push=function(t){return this.__data__.set(t,o),this},Wr.prototype.has=function(t){return this.__data__.has(t)},zr.prototype.clear=function(){this.__data__=new Gr,this.size=0},zr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},zr.prototype.get=function(t){return this.__data__.get(t)},zr.prototype.has=function(t){return this.__data__.has(t)},zr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!Br||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Kr(n)}return r.set(t,e),this.size=r.size,this};var cn=Ui(yn),hn=Ui(_n,!0);function fn(t,e){var r=!0;return cn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function pn(t,e,r){for(var n=-1,s=t.length;++n<s;){var o=t[n],a=e(o);if(null!=a&&(A===i?a==a&&!ua(a):r(a,A)))var A=a,u=o}return u}function dn(t,e){var r=[];return cn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function gn(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=ds),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?gn(a,e-1,r,n,i):Ce(i,a):n||(i[i.length]=a)}return i}var mn=Mi(),vn=Mi(!0);function yn(t,e){return t&&mn(t,e,Ma)}function _n(t,e){return t&&vn(t,e,Ma)}function bn(t,e){return we(e,(function(e){return Jo(t[e])}))}function wn(t,e){for(var r=0,n=(e=mi(e,t)).length;null!=t&&r<n;)t=t[Ds(e[r++])];return r&&r==n?t:i}function Bn(t,e,r){var n=e(t);return Ko(t)?n:Ce(n,r(t))}function xn(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in xt(t)?function(t){var e=Ot.call(t,ae),r=t[ae];try{t[ae]=i;var n=!0}catch(t){}var s=Lt.call(t);return n&&(e?t[ae]=r:delete t[ae]),s}(t):function(t){return Lt.call(t)}(t)}function En(t,e){return t>e}function Cn(t,e){return null!=t&&Ot.call(t,e)}function Tn(t,e){return null!=t&&e in xt(t)}function In(t,e,r){for(var s=r?xe:Be,o=t[0].length,a=t.length,A=a,u=n(a),l=1/0,c=[];A--;){var h=t[A];A&&e&&(h=Ee(h,Ve(e))),l=mr(h.length,l),u[A]=!r&&(e||o>=120&&h.length>=120)?new Wr(A&&h):i}h=t[0];var f=-1,p=u[0];t:for(;++f<o&&c.length<l;){var d=h[f],g=e?e(d):d;if(d=r||0!==d?d:0,!(p?Ke(p,g):s(c,g,r))){for(A=a;--A;){var m=u[A];if(!(m?Ke(m,g):s(t[A],g,r)))continue t}p&&p.push(g),c.push(d)}}return c}function Fn(t,e,r){var n=null==(t=Es(t,e=mi(e,t)))?t:t[Ds(qs(e))];return null==n?i:me(n,t,r)}function Sn(t){return ra(t)&&xn(t)==d}function Un(t,e,r,n,s){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,n,s,o){var a=Ko(t),A=Ko(e),u=a?g:hs(t),l=A?g:hs(e),c=(u=u==d?x:u)==x,h=(l=l==d?x:l)==x,f=u==l;if(f&&Yo(t)){if(!Yo(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new zr),a||la(t)?Zi(t,e,r,n,s,o):function(t,e,r,n,i,s,o){switch(r){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case U:return!(t.byteLength!=e.byteLength||!s(new jt(t),new jt(e)));case m:case v:case B:return Ho(+t,+e);case y:return t.name==e.name&&t.message==e.message;case C:case I:return t==e+"";case w:var a=Ze;case T:var A=1&n;if(a||(a=rr),t.size!=e.size&&!A)return!1;var u=o.get(t);if(u)return u==e;n|=2,o.set(t,e);var l=Zi(a(t),a(e),n,i,s,o);return o.delete(t),l;case F:if(Lr)return Lr.call(t)==Lr.call(e)}return!1}(t,e,u,r,n,s,o);if(!(1&r)){var p=c&&Ot.call(t,"__wrapped__"),_=h&&Ot.call(e,"__wrapped__");if(p||_){var b=p?t.value():t,E=_?e.value():e;return o||(o=new zr),s(b,E,r,n,o)}}return!!f&&(o||(o=new zr),function(t,e,r,n,s,o){var a=1&r,A=es(t),u=A.length;if(u!=es(e).length&&!a)return!1;for(var l=u;l--;){var c=A[l];if(!(a?c in e:Ot.call(e,c)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=a;++l<u;){var g=t[c=A[l]],m=e[c];if(n)var v=a?n(m,g,c,e,t,o):n(g,m,c,t,e,o);if(!(v===i?g===m||s(g,m,r,n,o):v)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,s,o))}(t,e,r,n,Un,s))}function Mn(t,e,r,n){var s=r.length,o=s,a=!n;if(null==t)return!o;for(t=xt(t);s--;){var A=r[s];if(a&&A[2]?A[1]!==t[A[0]]:!(A[0]in t))return!1}for(;++s<o;){var u=(A=r[s])[0],l=t[u],c=A[1];if(a&&A[2]){if(l===i&&!(u in t))return!1}else{var h=new zr;if(n)var f=n(l,c,u,t,e,h);if(!(f===i?Un(c,l,3,n,h):f))return!1}}return!0}function On(t){return!(!ea(t)||(e=t,Rt&&Rt in e))&&(Jo(t)?Nt:dt).test(Qs(t));var e}function Pn(t){return"function"==typeof t?t:null==t?iA:"object"==typeof t?Ko(t)?Nn(t[0],t[1]):Qn(t):fA(t)}function Rn(t){if(!bs(t))return dr(t);var e=[];for(var r in xt(t))Ot.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Ln(t,e){return t<e}function Dn(t,e){var r=-1,i=zo(t)?n(t.length):[];return cn(t,(function(t,n,s){i[++r]=e(t,n,s)})),i}function Qn(t){var e=As(t);return 1==e.length&&e[0][2]?Bs(e[0][0],e[0][1]):function(r){return r===t||Mn(r,t,e)}}function Nn(t,e){return vs(t)&&ws(e)?Bs(Ds(t),e):function(r){var n=Ta(r,t);return n===i&&n===e?Ia(r,t):Un(e,n,3)}}function kn(t,e,r,n,s){t!==e&&mn(e,(function(o,a){if(s||(s=new zr),ea(o))!function(t,e,r,n,s,o,a){var A=Ts(t,r),u=Ts(e,r),l=a.get(u);if(l)Jr(t,r,l);else{var c=o?o(A,u,r+"",t,e,a):i,h=c===i;if(h){var f=Ko(u),p=!f&&Yo(u),d=!f&&!p&&la(u);c=u,f||p||d?Ko(A)?c=A:Xo(A)?c=Ti(A):p?(h=!1,c=bi(u,!0)):d?(h=!1,c=Bi(u,!0)):c=[]:sa(u)||Go(u)?(c=A,Go(A)?c=va(A):ea(A)&&!Jo(A)||(c=ps(u))):h=!1}h&&(a.set(u,c),s(c,u,n,o,a),a.delete(u)),Jr(t,r,c)}}(t,e,a,r,kn,n,s);else{var A=n?n(Ts(t,a),o,a+"",t,e,s):i;A===i&&(A=o),Jr(t,a,A)}}),Oa)}function Hn(t,e){var r=t.length;if(r)return gs(e+=e<0?r:0,r)?t[e]:i}function jn(t,e,r){e=e.length?Ee(e,(function(t){return Ko(t)?function(e){return wn(e,1===t.length?t[0]:t)}:t})):[iA];var n=-1;e=Ee(e,Ve(os()));var i=Dn(t,(function(t,r,i){var s=Ee(e,(function(e){return e(t)}));return{criteria:s,index:++n,value:t}}));return function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,a=r.length;++n<o;){var A=xi(i[n],s[n]);if(A)return n>=a?A:A*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}));n--;)t[n]=t[n].value;return t}(i)}function Vn(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=wn(t,o);r(a,o)&&$n(s,mi(o,t),a)}return s}function Gn(t,e,r,n){var i=n?Pe:Oe,s=-1,o=e.length,a=t;for(t===e&&(e=Ti(e)),r&&(a=Ee(t,Ve(r)));++s<o;)for(var A=0,u=e[s],l=r?r(u):u;(A=i(a,l,A,n))>-1;)a!==t&&ne.call(a,A,1),ne.call(t,A,1);return t}function Kn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==s){var s=i;gs(i)?ne.call(t,i,1):ui(t,i)}}return t}function Wn(t,e){return t+lr(_r()*(e-t+1))}function zn(t,e){var r="";if(!t||e<1||e>c)return r;do{e%2&&(r+=t),(e=lr(e/2))&&(t+=t)}while(e);return r}function Xn(t,e){return Ss(xs(t,e,iA),t+"")}function Yn(t){return Yr(Ha(t))}function qn(t,e){var r=Ha(t);return Os(r,on(e,0,r.length))}function $n(t,e,r,n){if(!ea(t))return t;for(var s=-1,o=(e=mi(e,t)).length,a=o-1,A=t;null!=A&&++s<o;){var u=Ds(e[s]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(s!=a){var c=A[u];(l=n?n(c,u,A):i)===i&&(l=ea(c)?c:gs(e[s+1])?[]:{})}Zr(A,u,l),A=A[u]}return t}var Jn=Ir?function(t,e){return Ir.set(t,e),t}:iA,Zn=ue?function(t,e){return ue(t,"toString",{configurable:!0,enumerable:!1,value:eA(e),writable:!0})}:iA;function ti(t){return Os(Ha(t))}function ei(t,e,r){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(r=r>s?s:r)<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=n(s);++i<s;)o[i]=t[i+e];return o}function ri(t,e){var r;return cn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var s=n+i>>>1,o=t[s];null!==o&&!ua(o)&&(r?o<=e:o<e)?n=s+1:i=s}return i}return ii(t,e,iA,r)}function ii(t,e,r,n){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=r(e))!=e,A=null===e,u=ua(e),l=e===i;s<o;){var c=lr((s+o)/2),h=r(t[c]),f=h!==i,p=null===h,d=h==h,g=ua(h);if(a)var m=n||d;else m=l?d&&(n||f):A?d&&f&&(n||!p):u?d&&f&&!p&&(n||!g):!p&&!g&&(n?h<=e:h<e);m?s=c+1:o=c}return mr(o,4294967294)}function si(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r],a=e?e(o):o;if(!r||!Ho(a,A)){var A=a;s[i++]=0===o?0:o}}return s}function oi(t){return"number"==typeof t?t:ua(t)?h:+t}function ai(t){if("string"==typeof t)return t;if(Ko(t))return Ee(t,ai)+"";if(ua(t))return Dr?Dr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ai(t,e,r){var n=-1,i=Be,s=t.length,o=!0,a=[],A=a;if(r)o=!1,i=xe;else if(s>=200){var u=e?null:zi(t);if(u)return rr(u);o=!1,i=Ke,A=new Wr}else A=e?[]:a;t:for(;++n<s;){var l=t[n],c=e?e(l):l;if(l=r||0!==l?l:0,o&&c==c){for(var h=A.length;h--;)if(A[h]===c)continue t;e&&A.push(c),a.push(l)}else i(A,c,r)||(A!==a&&A.push(c),a.push(l))}return a}function ui(t,e){return null==(t=Es(t,e=mi(e,t)))||delete t[Ds(qs(e))]}function li(t,e,r,n){return $n(t,e,r(wn(t,e)),n)}function ci(t,e,r,n){for(var i=t.length,s=n?i:-1;(n?s--:++s<i)&&e(t[s],s,t););return r?ei(t,n?0:s,n?s+1:i):ei(t,n?s+1:0,n?i:s)}function hi(t,e){var r=t;return r instanceof jr&&(r=r.value()),Te(e,(function(t,e){return e.func.apply(e.thisArg,Ce([t],e.args))}),r)}function fi(t,e,r){var i=t.length;if(i<2)return i?Ai(t[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=t[s],A=-1;++A<i;)A!=s&&(o[s]=ln(o[s]||a,t[A],e,r));return Ai(gn(o,1),e,r)}function pi(t,e,r){for(var n=-1,s=t.length,o=e.length,a={};++n<s;){var A=n<o?e[n]:i;r(a,t[n],A)}return a}function di(t){return Xo(t)?t:[]}function gi(t){return"function"==typeof t?t:iA}function mi(t,e){return Ko(t)?t:vs(t,e)?[t]:Ls(ya(t))}var vi=Xn;function yi(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ei(t,e,r)}var _i=le||function(t){return se.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}function wi(t){var e=new t.constructor(t.byteLength);return new jt(e).set(new jt(t)),e}function Bi(t,e){var r=e?wi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function xi(t,e){if(t!==e){var r=t!==i,n=null===t,s=t==t,o=ua(t),a=e!==i,A=null===e,u=e==e,l=ua(e);if(!A&&!l&&!o&&t>e||o&&a&&u&&!A&&!l||n&&a&&u||!r&&u||!s)return 1;if(!n&&!o&&!l&&t<e||l&&r&&s&&!n&&!o||A&&r&&s||!a&&s||!u)return-1}return 0}function Ei(t,e,r,i){for(var s=-1,o=t.length,a=r.length,A=-1,u=e.length,l=gr(o-a,0),c=n(u+l),h=!i;++A<u;)c[A]=e[A];for(;++s<a;)(h||s<o)&&(c[r[s]]=t[s]);for(;l--;)c[A++]=t[s++];return c}function Ci(t,e,r,i){for(var s=-1,o=t.length,a=-1,A=r.length,u=-1,l=e.length,c=gr(o-A,0),h=n(c+l),f=!i;++s<c;)h[s]=t[s];for(var p=s;++u<l;)h[p+u]=e[u];for(;++a<A;)(f||s<o)&&(h[p+r[a]]=t[s++]);return h}function Ti(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ii(t,e,r,n){var s=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var A=e[o],u=n?n(r[A],t[A],A,r,t):i;u===i&&(u=t[A]),s?nn(r,A,u):Zr(r,A,u)}return r}function Fi(t,e){return function(r,n){var i=Ko(r)?ve:en,s=e?e():{};return i(r,t,os(n,2),s)}}function Si(t){return Xn((function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:i,a=s>2?r[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&ms(r[0],r[1],a)&&(o=s<3?i:o,s=1),e=xt(e);++n<s;){var A=r[n];A&&t(e,A,n,o)}return e}))}function Ui(t,e){return function(r,n){if(null==r)return r;if(!zo(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=xt(r);(e?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function Mi(t){return function(e,r,n){for(var i=-1,s=xt(e),o=n(e),a=o.length;a--;){var A=o[t?a:++i];if(!1===r(s[A],A,s))break}return e}}function Oi(t){return function(e){var r=Je(e=ya(e))?sr(e):i,n=r?r[0]:e.charAt(0),s=r?yi(r,1).join(""):e.slice(1);return n[t]()+s}}function Pi(t){return function(e){return Te(Ja(Ga(e).replace(Gt,"")),t,"")}}function Ri(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Nr(t.prototype),n=t.apply(r,e);return ea(n)?n:r}}function Li(t){return function(e,r,n){var s=xt(e);if(!zo(e)){var o=os(r,3);e=Ma(e),r=function(t){return o(s[t],t,s)}}var a=t(e,r,n);return a>-1?s[o?e[a]:a]:i}}function Di(t){return ts((function(e){var r=e.length,n=r,o=Hr.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Tt(s);if(o&&!A&&"wrapper"==is(a))var A=new Hr([],!0)}for(n=A?n:r;++n<r;){var u=is(a=e[n]),l="wrapper"==u?ns(a):i;A=l&&ys(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?A[is(l[0])].apply(A,l[3]):1==a.length&&ys(a)?A[u]():A.thru(a)}return function(){var t=arguments,n=t[0];if(A&&1==t.length&&Ko(n))return A.plant(n).value();for(var i=0,s=r?e[i].apply(this,t):n;++i<r;)s=e[i].call(this,s);return s}}))}function Qi(t,e,r,s,o,a,A,l,c,h){var f=e&u,p=1&e,d=2&e,g=24&e,m=512&e,v=d?i:Ri(t);return function i(){for(var u=arguments.length,y=n(u),_=u;_--;)y[_]=arguments[_];if(g)var b=ss(i),w=Xe(y,b);if(s&&(y=Ei(y,s,o,g)),a&&(y=Ci(y,a,A,g)),u-=w,g&&u<h){var B=er(y,b);return Ki(t,e,Qi,i.placeholder,r,y,B,l,c,h-u)}var x=p?r:this,E=d?x[t]:t;return u=y.length,l?y=Cs(y,l):m&&u>1&&y.reverse(),f&&c<u&&(y.length=c),this&&this!==se&&this instanceof i&&(E=v||Ri(E)),E.apply(x,y)}}function Ni(t,e){return function(r,n){return function(t,e,r,n){return yn(t,(function(t,i,s){e(n,r(t),i,s)})),n}(r,t,e(n),{})}}function ki(t,e){return function(r,n){var s;if(r===i&&n===i)return e;if(r!==i&&(s=r),n!==i){if(s===i)return n;"string"==typeof r||"string"==typeof n?(r=ai(r),n=ai(n)):(r=oi(r),n=oi(n)),s=t(r,n)}return s}}function Hi(t){return ts((function(e){return e=Ee(e,Ve(os())),Xn((function(r){var n=this;return t(e,(function(t){return me(t,n,r)}))}))}))}function ji(t,e){var r=(e=e===i?" ":ai(e)).length;if(r<2)return r?zn(e,t):e;var n=zn(e,ur(t/ir(e)));return Je(e)?yi(sr(n),0,t).join(""):n.slice(0,t)}function Vi(t){return function(e,r,s){return s&&"number"!=typeof s&&ms(e,r,s)&&(r=s=i),e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r,i){for(var s=-1,o=gr(ur((e-t)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=t,t+=r;return a}(e,r,s=s===i?e<r?1:-1:pa(s),t)}}function Gi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ma(e),r=ma(r)),t(e,r)}}function Ki(t,e,r,n,s,o,a,u,l,c){var h=8&e;e|=h?A:64,4&(e&=~(h?64:A))||(e&=-4);var f=[t,e,s,h?o:i,h?a:i,h?i:o,h?i:a,u,l,c],p=r.apply(i,f);return ys(t)&&Is(p,f),p.placeholder=n,Us(p,t,e)}function Wi(t){var e=Bt[t];return function(t,r){if(t=ma(t),(r=null==r?0:mr(da(r),292))&&fr(t)){var n=(ya(t)+"e").split("e");return+((n=(ya(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var zi=Er&&1/rr(new Er([,-0]))[1]==l?function(t){return new Er(t)}:uA;function Xi(t){return function(e){var r=hs(e);return r==w?Ze(e):r==T?nr(e):function(t,e){return Ee(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,r,o,l,c,h,f){var p=2&e;if(!p&&"function"!=typeof t)throw new Tt(s);var d=o?o.length:0;if(d||(e&=-97,o=l=i),h=h===i?h:gr(da(h),0),f=f===i?f:da(f),d-=l?l.length:0,64&e){var g=o,m=l;o=l=i}var v=p?i:ns(t),y=[t,e,r,o,l,g,m,c,h,f];if(v&&function(t,e){var r=t[1],n=e[1],i=r|n,s=i<131,o=n==u&&8==r||n==u&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!s&&!o)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var A=e[3];if(A){var l=t[3];t[3]=l?Ei(l,A,e[4]):A,t[4]=l?er(t[3],a):e[4]}(A=e[5])&&(l=t[5],t[5]=l?Ci(l,A,e[6]):A,t[6]=l?er(t[5],a):e[6]),(A=e[7])&&(t[7]=A),n&u&&(t[8]=null==t[8]?e[8]:mr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,v),t=y[0],e=y[1],r=y[2],o=y[3],l=y[4],!(f=y[9]=y[9]===i?p?0:t.length:gr(y[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||16==e?function(t,e,r){var s=Ri(t);return function o(){for(var a=arguments.length,A=n(a),u=a,l=ss(o);u--;)A[u]=arguments[u];var c=a<3&&A[0]!==l&&A[a-1]!==l?[]:er(A,l);return(a-=c.length)<r?Ki(t,e,Qi,o.placeholder,i,A,c,i,i,r-a):me(this&&this!==se&&this instanceof o?s:t,this,A)}}(t,e,f):e!=A&&33!=e||l.length?Qi.apply(i,y):function(t,e,r,i){var s=1&e,o=Ri(t);return function e(){for(var a=-1,A=arguments.length,u=-1,l=i.length,c=n(l+A),h=this&&this!==se&&this instanceof e?o:t;++u<l;)c[u]=i[u];for(;A--;)c[u++]=arguments[++a];return me(h,s?r:this,c)}}(t,e,r,o);else var _=function(t,e,r){var n=1&e,i=Ri(t);return function e(){return(this&&this!==se&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Us((v?Jn:Is)(_,y),t,e)}function qi(t,e,r,n){return t===i||Ho(t,St[r])&&!Ot.call(n,r)?e:t}function $i(t,e,r,n,s,o){return ea(t)&&ea(e)&&(o.set(e,t),kn(t,e,i,$i,o),o.delete(e)),t}function Ji(t){return sa(t)?i:t}function Zi(t,e,r,n,s,o){var a=1&r,A=t.length,u=e.length;if(A!=u&&!(a&&u>A))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var h=-1,f=!0,p=2&r?new Wr:i;for(o.set(t,e),o.set(e,t);++h<A;){var d=t[h],g=e[h];if(n)var m=a?n(g,d,h,e,t,o):n(d,g,h,t,e,o);if(m!==i){if(m)continue;f=!1;break}if(p){if(!Fe(e,(function(t,e){if(!Ke(p,e)&&(d===t||s(d,t,r,n,o)))return p.push(e)}))){f=!1;break}}else if(d!==g&&!s(d,g,r,n,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function ts(t){return Ss(xs(t,i,Ks),t+"")}function es(t){return Bn(t,Ma,ls)}function rs(t){return Bn(t,Oa,cs)}var ns=Ir?function(t){return Ir.get(t)}:uA;function is(t){for(var e=t.name+"",r=Fr[e],n=Ot.call(Fr,e)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==t)return i.name}return e}function ss(t){return(Ot.call(Qr,"placeholder")?Qr:t).placeholder}function os(){var t=Qr.iteratee||sA;return t=t===sA?Pn:t,arguments.length?t(arguments[0],arguments[1]):t}function as(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function As(t){for(var e=Ma(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ws(i)]}return e}function us(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return On(r)?r:i}var ls=cr?function(t){return null==t?[]:(t=xt(t),we(cr(t),(function(e){return te.call(t,e)})))}:gA,cs=cr?function(t){for(var e=[];t;)Ce(e,ls(t)),t=Wt(t);return e}:gA,hs=xn;function fs(t,e,r){for(var n=-1,i=(e=mi(e,t)).length,s=!1;++n<i;){var o=Ds(e[n]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&ta(i)&&gs(o,i)&&(Ko(t)||Go(t))}function ps(t){return"function"!=typeof t.constructor||bs(t)?{}:Nr(Wt(t))}function ds(t){return Ko(t)||Go(t)||!!(ie&&t&&t[ie])}function gs(t,e){var r=typeof t;return!!(e=null==e?c:e)&&("number"==r||"symbol"!=r&&mt.test(t))&&t>-1&&t%1==0&&t<e}function ms(t,e,r){if(!ea(r))return!1;var n=typeof e;return!!("number"==n?zo(r)&&gs(e,r.length):"string"==n&&e in r)&&Ho(r[e],t)}function vs(t,e){if(Ko(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ua(t))||Z.test(t)||!J.test(t)||null!=e&&t in xt(e)}function ys(t){var e=is(t),r=Qr[e];if("function"!=typeof r||!(e in jr.prototype))return!1;if(t===r)return!0;var n=ns(r);return!!n&&t===n[0]}(wr&&hs(new wr(new ArrayBuffer(1)))!=M||Br&&hs(new Br)!=w||xr&&hs(xr.resolve())!=E||Er&&hs(new Er)!=T||Cr&&hs(new Cr)!=S)&&(hs=function(t){var e=xn(t),r=e==x?t.constructor:i,n=r?Qs(r):"";if(n)switch(n){case Sr:return M;case Ur:return w;case Mr:return E;case Or:return T;case Pr:return S}return e});var _s=Ut?Jo:mA;function bs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||St)}function ws(t){return t==t&&!ea(t)}function Bs(t,e){return function(r){return null!=r&&r[t]===e&&(e!==i||t in xt(r))}}function xs(t,e,r){return e=gr(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=gr(i.length-e,0),a=n(o);++s<o;)a[s]=i[e+s];s=-1;for(var A=n(e+1);++s<e;)A[s]=i[s];return A[e]=r(a),me(t,this,A)}}function Es(t,e){return e.length<2?t:wn(t,ei(e,0,-1))}function Cs(t,e){for(var r=t.length,n=mr(e.length,r),s=Ti(t);n--;){var o=e[n];t[n]=gs(o,r)?s[o]:i}return t}function Ts(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Is=Ms(Jn),Fs=Qe||function(t,e){return se.setTimeout(t,e)},Ss=Ms(Zn);function Us(t,e,r){var n=e+"";return Ss(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ye(p,(function(r){var n="_."+r[0];e&r[1]&&!Be(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(n),r)))}function Ms(t){var e=0,r=0;return function(){var n=vr(),s=16-(n-r);if(r=n,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Os(t,e){var r=-1,n=t.length,s=n-1;for(e=e===i?n:e;++r<e;){var o=Wn(r,s),a=t[o];t[o]=t[r],t[r]=a}return t.length=e,t}var Ps,Rs,Ls=(Ps=Ro((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,r,n,i){e.push(n?i.replace(lt,"$1"):r||t)})),e}),(function(t){return 500===Rs.size&&Rs.clear(),t})),Rs=Ps.cache,Ps);function Ds(t){if("string"==typeof t||ua(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qs(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ns(t){if(t instanceof jr)return t.clone();var e=new Hr(t.__wrapped__,t.__chain__);return e.__actions__=Ti(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ks=Xn((function(t,e){return Xo(t)?ln(t,gn(e,1,Xo,!0)):[]})),Hs=Xn((function(t,e){var r=qs(e);return Xo(r)&&(r=i),Xo(t)?ln(t,gn(e,1,Xo,!0),os(r,2)):[]})),js=Xn((function(t,e){var r=qs(e);return Xo(r)&&(r=i),Xo(t)?ln(t,gn(e,1,Xo,!0),i,r):[]}));function Vs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:da(r);return i<0&&(i=gr(n+i,0)),Me(t,os(e,3),i)}function Gs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var s=n-1;return r!==i&&(s=da(r),s=r<0?gr(n+s,0):mr(s,n-1)),Me(t,os(e,3),s,!0)}function Ks(t){return null!=t&&t.length?gn(t,1):[]}function Ws(t){return t&&t.length?t[0]:i}var zs=Xn((function(t){var e=Ee(t,di);return e.length&&e[0]===t[0]?In(e):[]})),Xs=Xn((function(t){var e=qs(t),r=Ee(t,di);return e===qs(r)?e=i:r.pop(),r.length&&r[0]===t[0]?In(r,os(e,2)):[]})),Ys=Xn((function(t){var e=qs(t),r=Ee(t,di);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?In(r,i,e):[]}));function qs(t){var e=null==t?0:t.length;return e?t[e-1]:i}var $s=Xn(Js);function Js(t,e){return t&&t.length&&e&&e.length?Gn(t,e):t}var Zs=ts((function(t,e){var r=null==t?0:t.length,n=sn(t,e);return Kn(t,Ee(e,(function(t){return gs(t,r)?+t:t})).sort(xi)),n}));function to(t){return null==t?t:br.call(t)}var eo=Xn((function(t){return Ai(gn(t,1,Xo,!0))})),ro=Xn((function(t){var e=qs(t);return Xo(e)&&(e=i),Ai(gn(t,1,Xo,!0),os(e,2))})),no=Xn((function(t){var e=qs(t);return e="function"==typeof e?e:i,Ai(gn(t,1,Xo,!0),i,e)}));function io(t){if(!t||!t.length)return[];var e=0;return t=we(t,(function(t){if(Xo(t))return e=gr(t.length,e),!0})),He(e,(function(e){return Ee(t,De(e))}))}function so(t,e){if(!t||!t.length)return[];var r=io(t);return null==e?r:Ee(r,(function(t){return me(e,i,t)}))}var oo=Xn((function(t,e){return Xo(t)?ln(t,e):[]})),ao=Xn((function(t){return fi(we(t,Xo))})),Ao=Xn((function(t){var e=qs(t);return Xo(e)&&(e=i),fi(we(t,Xo),os(e,2))})),uo=Xn((function(t){var e=qs(t);return e="function"==typeof e?e:i,fi(we(t,Xo),i,e)})),lo=Xn(io),co=Xn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,so(t,r)}));function ho(t){var e=Qr(t);return e.__chain__=!0,e}function fo(t,e){return e(t)}var po=ts((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,s=function(e){return sn(e,t)};return!(e>1||this.__actions__.length)&&n instanceof jr&&gs(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new Hr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(s)})),go=Fi((function(t,e,r){Ot.call(t,r)?++t[r]:nn(t,r,1)})),mo=Li(Vs),vo=Li(Gs);function yo(t,e){return(Ko(t)?ye:cn)(t,os(e,3))}function _o(t,e){return(Ko(t)?_e:hn)(t,os(e,3))}var bo=Fi((function(t,e,r){Ot.call(t,r)?t[r].push(e):nn(t,r,[e])})),wo=Xn((function(t,e,r){var i=-1,s="function"==typeof e,o=zo(t)?n(t.length):[];return cn(t,(function(t){o[++i]=s?me(e,t,r):Fn(t,e,r)})),o})),Bo=Fi((function(t,e,r){nn(t,r,e)}));function xo(t,e){return(Ko(t)?Ee:Dn)(t,os(e,3))}var Eo=Fi((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),Co=Xn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&ms(t,e[0],e[1])?e=[]:r>2&&ms(e[0],e[1],e[2])&&(e=[e[0]]),jn(t,gn(e,1),[])})),To=Se||function(){return se.Date.now()};function Io(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Yi(t,u,i,i,i,i,e)}function Fo(t,e){var r;if("function"!=typeof e)throw new Tt(s);return t=da(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var So=Xn((function(t,e,r){var n=1;if(r.length){var i=er(r,ss(So));n|=A}return Yi(t,n,e,r,i)})),Uo=Xn((function(t,e,r){var n=3;if(r.length){var i=er(r,ss(Uo));n|=A}return Yi(e,n,t,r,i)}));function Mo(t,e,r){var n,o,a,A,u,l,c=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new Tt(s);function d(e){var r=n,s=o;return n=o=i,c=e,A=t.apply(s,r)}function g(t){return c=t,u=Fs(v,e),h?d(t):A}function m(t){var r=t-l;return l===i||r>=e||r<0||f&&t-c>=a}function v(){var t=To();if(m(t))return y(t);u=Fs(v,function(t){var r=e-(t-l);return f?mr(r,a-(t-c)):r}(t))}function y(t){return u=i,p&&n?d(t):(n=o=i,A)}function _(){var t=To(),r=m(t);if(n=arguments,o=this,l=t,r){if(u===i)return g(l);if(f)return _i(u),u=Fs(v,e),d(l)}return u===i&&(u=Fs(v,e)),A}return e=ma(e)||0,ea(r)&&(h=!!r.leading,a=(f="maxWait"in r)?gr(ma(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),_.cancel=function(){u!==i&&_i(u),c=0,n=l=o=u=i},_.flush=function(){return u===i?A:y(To())},_}var Oo=Xn((function(t,e){return un(t,1,e)})),Po=Xn((function(t,e,r){return un(t,ma(e)||0,r)}));function Ro(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Tt(s);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Ro.Cache||Kr),r}function Lo(t){if("function"!=typeof t)throw new Tt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ro.Cache=Kr;var Do=vi((function(t,e){var r=(e=1==e.length&&Ko(e[0])?Ee(e[0],Ve(os())):Ee(gn(e,1),Ve(os()))).length;return Xn((function(n){for(var i=-1,s=mr(n.length,r);++i<s;)n[i]=e[i].call(this,n[i]);return me(t,this,n)}))})),Qo=Xn((function(t,e){var r=er(e,ss(Qo));return Yi(t,A,i,e,r)})),No=Xn((function(t,e){var r=er(e,ss(No));return Yi(t,64,i,e,r)})),ko=ts((function(t,e){return Yi(t,256,i,i,i,e)}));function Ho(t,e){return t===e||t!=t&&e!=e}var jo=Gi(En),Vo=Gi((function(t,e){return t>=e})),Go=Sn(function(){return arguments}())?Sn:function(t){return ra(t)&&Ot.call(t,"callee")&&!te.call(t,"callee")},Ko=n.isArray,Wo=ce?Ve(ce):function(t){return ra(t)&&xn(t)==U};function zo(t){return null!=t&&ta(t.length)&&!Jo(t)}function Xo(t){return ra(t)&&zo(t)}var Yo=hr||mA,qo=he?Ve(he):function(t){return ra(t)&&xn(t)==v};function $o(t){if(!ra(t))return!1;var e=xn(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!sa(t)}function Jo(t){if(!ea(t))return!1;var e=xn(t);return e==_||e==b||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zo(t){return"number"==typeof t&&t==da(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var na=fe?Ve(fe):function(t){return ra(t)&&hs(t)==w};function ia(t){return"number"==typeof t||ra(t)&&xn(t)==B}function sa(t){if(!ra(t)||xn(t)!=x)return!1;var e=Wt(t);if(null===e)return!0;var r=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Mt.call(r)==Dt}var oa=pe?Ve(pe):function(t){return ra(t)&&xn(t)==C},aa=de?Ve(de):function(t){return ra(t)&&hs(t)==T};function Aa(t){return"string"==typeof t||!Ko(t)&&ra(t)&&xn(t)==I}function ua(t){return"symbol"==typeof t||ra(t)&&xn(t)==F}var la=ge?Ve(ge):function(t){return ra(t)&&ta(t.length)&&!!Jt[xn(t)]},ca=Gi(Ln),ha=Gi((function(t,e){return t<=e}));function fa(t){if(!t)return[];if(zo(t))return Aa(t)?sr(t):Ti(t);if(oe&&t[oe])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[oe]());var e=hs(t);return(e==w?Ze:e==T?rr:Ha)(t)}function pa(t){return t?(t=ma(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function da(t){var e=pa(t),r=e%1;return e==e?r?e-r:e:0}function ga(t){return t?on(da(t),0,f):0}function ma(t){if("number"==typeof t)return t;if(ua(t))return h;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=je(t);var r=pt.test(t);return r||gt.test(t)?re(t.slice(2),r?2:8):ft.test(t)?h:+t}function va(t){return Ii(t,Oa(t))}function ya(t){return null==t?"":ai(t)}var _a=Si((function(t,e){if(bs(e)||zo(e))Ii(e,Ma(e),t);else for(var r in e)Ot.call(e,r)&&Zr(t,r,e[r])})),ba=Si((function(t,e){Ii(e,Oa(e),t)})),wa=Si((function(t,e,r,n){Ii(e,Oa(e),t,n)})),Ba=Si((function(t,e,r,n){Ii(e,Ma(e),t,n)})),xa=ts(sn),Ea=Xn((function(t,e){t=xt(t);var r=-1,n=e.length,s=n>2?e[2]:i;for(s&&ms(e[0],e[1],s)&&(n=1);++r<n;)for(var o=e[r],a=Oa(o),A=-1,u=a.length;++A<u;){var l=a[A],c=t[l];(c===i||Ho(c,St[l])&&!Ot.call(t,l))&&(t[l]=o[l])}return t})),Ca=Xn((function(t){return t.push(i,$i),me(Ra,i,t)}));function Ta(t,e,r){var n=null==t?i:wn(t,e);return n===i?r:n}function Ia(t,e){return null!=t&&fs(t,e,Tn)}var Fa=Ni((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=r}),eA(iA)),Sa=Ni((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Ot.call(t,e)?t[e].push(r):t[e]=[r]}),os),Ua=Xn(Fn);function Ma(t){return zo(t)?Xr(t):Rn(t)}function Oa(t){return zo(t)?Xr(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var r in xt(t))e.push(r);return e}(t);var e=bs(t),r=[];for(var n in t)("constructor"!=n||!e&&Ot.call(t,n))&&r.push(n);return r}(t)}var Pa=Si((function(t,e,r){kn(t,e,r)})),Ra=Si((function(t,e,r,n){kn(t,e,r,n)})),La=ts((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ee(e,(function(e){return e=mi(e,t),n||(n=e.length>1),e})),Ii(t,rs(t),r),n&&(r=an(r,7,Ji));for(var i=e.length;i--;)ui(r,e[i]);return r})),Da=ts((function(t,e){return null==t?{}:function(t,e){return Vn(t,e,(function(e,r){return Ia(t,r)}))}(t,e)}));function Qa(t,e){if(null==t)return{};var r=Ee(rs(t),(function(t){return[t]}));return e=os(e),Vn(t,r,(function(t,r){return e(t,r[0])}))}var Na=Xi(Ma),ka=Xi(Oa);function Ha(t){return null==t?[]:Ge(t,Ma(t))}var ja=Pi((function(t,e,r){return e=e.toLowerCase(),t+(r?Va(e):e)}));function Va(t){return $a(ya(t).toLowerCase())}function Ga(t){return(t=ya(t))&&t.replace(vt,Ye).replace(Kt,"")}var Ka=Pi((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Wa=Pi((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),za=Oi("toLowerCase"),Xa=Pi((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),Ya=Pi((function(t,e,r){return t+(r?" ":"")+$a(e)})),qa=Pi((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),$a=Oi("toUpperCase");function Ja(t,e,r){return t=ya(t),(e=r?i:e)===i?function(t){return Yt.test(t)}(t)?function(t){return t.match(zt)||[]}(t):function(t){return t.match(At)||[]}(t):t.match(e)||[]}var Za=Xn((function(t,e){try{return me(t,i,e)}catch(t){return $o(t)?t:new bt(t)}})),tA=ts((function(t,e){return ye(e,(function(e){e=Ds(e),nn(t,e,So(t[e],t))})),t}));function eA(t){return function(){return t}}var rA=Di(),nA=Di(!0);function iA(t){return t}function sA(t){return Pn("function"==typeof t?t:an(t,1))}var oA=Xn((function(t,e){return function(r){return Fn(r,t,e)}})),aA=Xn((function(t,e){return function(r){return Fn(t,r,e)}}));function AA(t,e,r){var n=Ma(e),i=bn(e,n);null!=r||ea(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=bn(e,Ma(e)));var s=!(ea(r)&&"chain"in r&&!r.chain),o=Jo(t);return ye(i,(function(r){var n=e[r];t[r]=n,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__),i=r.__actions__=Ti(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Ce([this.value()],arguments))})})),t}function uA(){}var lA=Hi(Ee),cA=Hi(be),hA=Hi(Fe);function fA(t){return vs(t)?De(Ds(t)):function(t){return function(e){return wn(e,t)}}(t)}var pA=Vi(),dA=Vi(!0);function gA(){return[]}function mA(){return!1}var vA,yA=ki((function(t,e){return t+e}),0),_A=Wi("ceil"),bA=ki((function(t,e){return t/e}),1),wA=Wi("floor"),BA=ki((function(t,e){return t*e}),1),xA=Wi("round"),EA=ki((function(t,e){return t-e}),0);return Qr.after=function(t,e){if("function"!=typeof e)throw new Tt(s);return t=da(t),function(){if(--t<1)return e.apply(this,arguments)}},Qr.ary=Io,Qr.assign=_a,Qr.assignIn=ba,Qr.assignInWith=wa,Qr.assignWith=Ba,Qr.at=xa,Qr.before=Fo,Qr.bind=So,Qr.bindAll=tA,Qr.bindKey=Uo,Qr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ko(t)?t:[t]},Qr.chain=ho,Qr.chunk=function(t,e,r){e=(r?ms(t,e,r):e===i)?1:gr(da(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,A=n(ur(s/e));o<s;)A[a++]=ei(t,o,o+=e);return A},Qr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var s=t[e];s&&(i[n++]=s)}return i},Qr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ce(Ko(r)?Ti(r):[r],gn(e,1))},Qr.cond=function(t){var e=null==t?0:t.length,r=os();return t=e?Ee(t,(function(t){if("function"!=typeof t[1])throw new Tt(s);return[r(t[0]),t[1]]})):[],Xn((function(r){for(var n=-1;++n<e;){var i=t[n];if(me(i[0],this,r))return me(i[1],this,r)}}))},Qr.conforms=function(t){return function(t){var e=Ma(t);return function(r){return An(r,t,e)}}(an(t,1))},Qr.constant=eA,Qr.countBy=go,Qr.create=function(t,e){var r=Nr(t);return null==e?r:rn(r,e)},Qr.curry=function t(e,r,n){var s=Yi(e,8,i,i,i,i,i,r=n?i:r);return s.placeholder=t.placeholder,s},Qr.curryRight=function t(e,r,n){var s=Yi(e,16,i,i,i,i,i,r=n?i:r);return s.placeholder=t.placeholder,s},Qr.debounce=Mo,Qr.defaults=Ea,Qr.defaultsDeep=Ca,Qr.defer=Oo,Qr.delay=Po,Qr.difference=ks,Qr.differenceBy=Hs,Qr.differenceWith=js,Qr.drop=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=r||e===i?1:da(e))<0?0:e,n):[]},Qr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,0,(e=n-(e=r||e===i?1:da(e)))<0?0:e):[]},Qr.dropRightWhile=function(t,e){return t&&t.length?ci(t,os(e,3),!0,!0):[]},Qr.dropWhile=function(t,e){return t&&t.length?ci(t,os(e,3),!0):[]},Qr.fill=function(t,e,r,n){var s=null==t?0:t.length;return s?(r&&"number"!=typeof r&&ms(t,e,r)&&(r=0,n=s),function(t,e,r,n){var s=t.length;for((r=da(r))<0&&(r=-r>s?0:s+r),(n=n===i||n>s?s:da(n))<0&&(n+=s),n=r>n?0:ga(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Qr.filter=function(t,e){return(Ko(t)?we:dn)(t,os(e,3))},Qr.flatMap=function(t,e){return gn(xo(t,e),1)},Qr.flatMapDeep=function(t,e){return gn(xo(t,e),l)},Qr.flatMapDepth=function(t,e,r){return r=r===i?1:da(r),gn(xo(t,e),r)},Qr.flatten=Ks,Qr.flattenDeep=function(t){return null!=t&&t.length?gn(t,l):[]},Qr.flattenDepth=function(t,e){return null!=t&&t.length?gn(t,e=e===i?1:da(e)):[]},Qr.flip=function(t){return Yi(t,512)},Qr.flow=rA,Qr.flowRight=nA,Qr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Qr.functions=function(t){return null==t?[]:bn(t,Ma(t))},Qr.functionsIn=function(t){return null==t?[]:bn(t,Oa(t))},Qr.groupBy=bo,Qr.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Qr.intersection=zs,Qr.intersectionBy=Xs,Qr.intersectionWith=Ys,Qr.invert=Fa,Qr.invertBy=Sa,Qr.invokeMap=wo,Qr.iteratee=sA,Qr.keyBy=Bo,Qr.keys=Ma,Qr.keysIn=Oa,Qr.map=xo,Qr.mapKeys=function(t,e){var r={};return e=os(e,3),yn(t,(function(t,n,i){nn(r,e(t,n,i),t)})),r},Qr.mapValues=function(t,e){var r={};return e=os(e,3),yn(t,(function(t,n,i){nn(r,n,e(t,n,i))})),r},Qr.matches=function(t){return Qn(an(t,1))},Qr.matchesProperty=function(t,e){return Nn(t,an(e,1))},Qr.memoize=Ro,Qr.merge=Pa,Qr.mergeWith=Ra,Qr.method=oA,Qr.methodOf=aA,Qr.mixin=AA,Qr.negate=Lo,Qr.nthArg=function(t){return t=da(t),Xn((function(e){return Hn(e,t)}))},Qr.omit=La,Qr.omitBy=function(t,e){return Qa(t,Lo(os(e)))},Qr.once=function(t){return Fo(2,t)},Qr.orderBy=function(t,e,r,n){return null==t?[]:(Ko(e)||(e=null==e?[]:[e]),Ko(r=n?i:r)||(r=null==r?[]:[r]),jn(t,e,r))},Qr.over=lA,Qr.overArgs=Do,Qr.overEvery=cA,Qr.overSome=hA,Qr.partial=Qo,Qr.partialRight=No,Qr.partition=Eo,Qr.pick=Da,Qr.pickBy=Qa,Qr.property=fA,Qr.propertyOf=function(t){return function(e){return null==t?i:wn(t,e)}},Qr.pull=$s,Qr.pullAll=Js,Qr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,os(r,2)):t},Qr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,i,r):t},Qr.pullAt=Zs,Qr.range=pA,Qr.rangeRight=dA,Qr.rearg=ko,Qr.reject=function(t,e){return(Ko(t)?we:dn)(t,Lo(os(e,3)))},Qr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],s=t.length;for(e=os(e,3);++n<s;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return Kn(t,i),r},Qr.rest=function(t,e){if("function"!=typeof t)throw new Tt(s);return Xn(t,e=e===i?e:da(e))},Qr.reverse=to,Qr.sampleSize=function(t,e,r){return e=(r?ms(t,e,r):e===i)?1:da(e),(Ko(t)?qr:qn)(t,e)},Qr.set=function(t,e,r){return null==t?t:$n(t,e,r)},Qr.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:$n(t,e,r,n)},Qr.shuffle=function(t){return(Ko(t)?$r:ti)(t)},Qr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&ms(t,e,r)?(e=0,r=n):(e=null==e?0:da(e),r=r===i?n:da(r)),ei(t,e,r)):[]},Qr.sortBy=Co,Qr.sortedUniq=function(t){return t&&t.length?si(t):[]},Qr.sortedUniqBy=function(t,e){return t&&t.length?si(t,os(e,2)):[]},Qr.split=function(t,e,r){return r&&"number"!=typeof r&&ms(t,e,r)&&(e=r=i),(r=r===i?f:r>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=ai(e))&&Je(t)?yi(sr(t),0,r):t.split(e,r):[]},Qr.spread=function(t,e){if("function"!=typeof t)throw new Tt(s);return e=null==e?0:gr(da(e),0),Xn((function(r){var n=r[e],i=yi(r,0,e);return n&&Ce(i,n),me(t,this,i)}))},Qr.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Qr.take=function(t,e,r){return t&&t.length?ei(t,0,(e=r||e===i?1:da(e))<0?0:e):[]},Qr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=n-(e=r||e===i?1:da(e)))<0?0:e,n):[]},Qr.takeRightWhile=function(t,e){return t&&t.length?ci(t,os(e,3),!1,!0):[]},Qr.takeWhile=function(t,e){return t&&t.length?ci(t,os(e,3)):[]},Qr.tap=function(t,e){return e(t),t},Qr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Tt(s);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Mo(t,e,{leading:n,maxWait:e,trailing:i})},Qr.thru=fo,Qr.toArray=fa,Qr.toPairs=Na,Qr.toPairsIn=ka,Qr.toPath=function(t){return Ko(t)?Ee(t,Ds):ua(t)?[t]:Ti(Ls(ya(t)))},Qr.toPlainObject=va,Qr.transform=function(t,e,r){var n=Ko(t),i=n||Yo(t)||la(t);if(e=os(e,4),null==r){var s=t&&t.constructor;r=i?n?new s:[]:ea(t)&&Jo(s)?Nr(Wt(t)):{}}return(i?ye:yn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Qr.unary=function(t){return Io(t,1)},Qr.union=eo,Qr.unionBy=ro,Qr.unionWith=no,Qr.uniq=function(t){return t&&t.length?Ai(t):[]},Qr.uniqBy=function(t,e){return t&&t.length?Ai(t,os(e,2)):[]},Qr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?Ai(t,i,e):[]},Qr.unset=function(t,e){return null==t||ui(t,e)},Qr.unzip=io,Qr.unzipWith=so,Qr.update=function(t,e,r){return null==t?t:li(t,e,gi(r))},Qr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:li(t,e,gi(r),n)},Qr.values=Ha,Qr.valuesIn=function(t){return null==t?[]:Ge(t,Oa(t))},Qr.without=oo,Qr.words=Ja,Qr.wrap=function(t,e){return Qo(gi(e),t)},Qr.xor=ao,Qr.xorBy=Ao,Qr.xorWith=uo,Qr.zip=lo,Qr.zipObject=function(t,e){return pi(t||[],e||[],Zr)},Qr.zipObjectDeep=function(t,e){return pi(t||[],e||[],$n)},Qr.zipWith=co,Qr.entries=Na,Qr.entriesIn=ka,Qr.extend=ba,Qr.extendWith=wa,AA(Qr,Qr),Qr.add=yA,Qr.attempt=Za,Qr.camelCase=ja,Qr.capitalize=Va,Qr.ceil=_A,Qr.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ma(r))==r?r:0),e!==i&&(e=(e=ma(e))==e?e:0),on(ma(t),e,r)},Qr.clone=function(t){return an(t,4)},Qr.cloneDeep=function(t){return an(t,5)},Qr.cloneDeepWith=function(t,e){return an(t,5,e="function"==typeof e?e:i)},Qr.cloneWith=function(t,e){return an(t,4,e="function"==typeof e?e:i)},Qr.conformsTo=function(t,e){return null==e||An(t,e,Ma(e))},Qr.deburr=Ga,Qr.defaultTo=function(t,e){return null==t||t!=t?e:t},Qr.divide=bA,Qr.endsWith=function(t,e,r){t=ya(t),e=ai(e);var n=t.length,s=r=r===i?n:on(da(r),0,n);return(r-=e.length)>=0&&t.slice(r,s)==e},Qr.eq=Ho,Qr.escape=function(t){return(t=ya(t))&&X.test(t)?t.replace(W,qe):t},Qr.escapeRegExp=function(t){return(t=ya(t))&&rt.test(t)?t.replace(et,"\\$&"):t},Qr.every=function(t,e,r){var n=Ko(t)?be:fn;return r&&ms(t,e,r)&&(e=i),n(t,os(e,3))},Qr.find=mo,Qr.findIndex=Vs,Qr.findKey=function(t,e){return Ue(t,os(e,3),yn)},Qr.findLast=vo,Qr.findLastIndex=Gs,Qr.findLastKey=function(t,e){return Ue(t,os(e,3),_n)},Qr.floor=wA,Qr.forEach=yo,Qr.forEachRight=_o,Qr.forIn=function(t,e){return null==t?t:mn(t,os(e,3),Oa)},Qr.forInRight=function(t,e){return null==t?t:vn(t,os(e,3),Oa)},Qr.forOwn=function(t,e){return t&&yn(t,os(e,3))},Qr.forOwnRight=function(t,e){return t&&_n(t,os(e,3))},Qr.get=Ta,Qr.gt=jo,Qr.gte=Vo,Qr.has=function(t,e){return null!=t&&fs(t,e,Cn)},Qr.hasIn=Ia,Qr.head=Ws,Qr.identity=iA,Qr.includes=function(t,e,r,n){t=zo(t)?t:Ha(t),r=r&&!n?da(r):0;var i=t.length;return r<0&&(r=gr(i+r,0)),Aa(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Oe(t,e,r)>-1},Qr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:da(r);return i<0&&(i=gr(n+i,0)),Oe(t,e,i)},Qr.inRange=function(t,e,r){return e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r){return t>=mr(e,r)&&t<gr(e,r)}(t=ma(t),e,r)},Qr.invoke=Ua,Qr.isArguments=Go,Qr.isArray=Ko,Qr.isArrayBuffer=Wo,Qr.isArrayLike=zo,Qr.isArrayLikeObject=Xo,Qr.isBoolean=function(t){return!0===t||!1===t||ra(t)&&xn(t)==m},Qr.isBuffer=Yo,Qr.isDate=qo,Qr.isElement=function(t){return ra(t)&&1===t.nodeType&&!sa(t)},Qr.isEmpty=function(t){if(null==t)return!0;if(zo(t)&&(Ko(t)||"string"==typeof t||"function"==typeof t.splice||Yo(t)||la(t)||Go(t)))return!t.length;var e=hs(t);if(e==w||e==T)return!t.size;if(bs(t))return!Rn(t).length;for(var r in t)if(Ot.call(t,r))return!1;return!0},Qr.isEqual=function(t,e){return Un(t,e)},Qr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?Un(t,e,i,r):!!n},Qr.isError=$o,Qr.isFinite=function(t){return"number"==typeof t&&fr(t)},Qr.isFunction=Jo,Qr.isInteger=Zo,Qr.isLength=ta,Qr.isMap=na,Qr.isMatch=function(t,e){return t===e||Mn(t,e,As(e))},Qr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Mn(t,e,As(e),r)},Qr.isNaN=function(t){return ia(t)&&t!=+t},Qr.isNative=function(t){if(_s(t))throw new bt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return On(t)},Qr.isNil=function(t){return null==t},Qr.isNull=function(t){return null===t},Qr.isNumber=ia,Qr.isObject=ea,Qr.isObjectLike=ra,Qr.isPlainObject=sa,Qr.isRegExp=oa,Qr.isSafeInteger=function(t){return Zo(t)&&t>=-9007199254740991&&t<=c},Qr.isSet=aa,Qr.isString=Aa,Qr.isSymbol=ua,Qr.isTypedArray=la,Qr.isUndefined=function(t){return t===i},Qr.isWeakMap=function(t){return ra(t)&&hs(t)==S},Qr.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==xn(t)},Qr.join=function(t,e){return null==t?"":pr.call(t,e)},Qr.kebabCase=Ka,Qr.last=qs,Qr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var s=n;return r!==i&&(s=(s=da(r))<0?gr(n+s,0):mr(s,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,s):Me(t,Re,s,!0)},Qr.lowerCase=Wa,Qr.lowerFirst=za,Qr.lt=ca,Qr.lte=ha,Qr.max=function(t){return t&&t.length?pn(t,iA,En):i},Qr.maxBy=function(t,e){return t&&t.length?pn(t,os(e,2),En):i},Qr.mean=function(t){return Le(t,iA)},Qr.meanBy=function(t,e){return Le(t,os(e,2))},Qr.min=function(t){return t&&t.length?pn(t,iA,Ln):i},Qr.minBy=function(t,e){return t&&t.length?pn(t,os(e,2),Ln):i},Qr.stubArray=gA,Qr.stubFalse=mA,Qr.stubObject=function(){return{}},Qr.stubString=function(){return""},Qr.stubTrue=function(){return!0},Qr.multiply=BA,Qr.nth=function(t,e){return t&&t.length?Hn(t,da(e)):i},Qr.noConflict=function(){return se._===this&&(se._=Qt),this},Qr.noop=uA,Qr.now=To,Qr.pad=function(t,e,r){t=ya(t);var n=(e=da(e))?ir(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return ji(lr(i),r)+t+ji(ur(i),r)},Qr.padEnd=function(t,e,r){t=ya(t);var n=(e=da(e))?ir(t):0;return e&&n<e?t+ji(e-n,r):t},Qr.padStart=function(t,e,r){t=ya(t);var n=(e=da(e))?ir(t):0;return e&&n<e?ji(e-n,r)+t:t},Qr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),yr(ya(t).replace(nt,""),e||0)},Qr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&ms(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var s=_r();return mr(t+s*(e-t+ee("1e-"+((s+"").length-1))),e)}return Wn(t,e)},Qr.reduce=function(t,e,r){var n=Ko(t)?Te:Ne,i=arguments.length<3;return n(t,os(e,4),r,i,cn)},Qr.reduceRight=function(t,e,r){var n=Ko(t)?Ie:Ne,i=arguments.length<3;return n(t,os(e,4),r,i,hn)},Qr.repeat=function(t,e,r){return e=(r?ms(t,e,r):e===i)?1:da(e),zn(ya(t),e)},Qr.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Qr.result=function(t,e,r){var n=-1,s=(e=mi(e,t)).length;for(s||(s=1,t=i);++n<s;){var o=null==t?i:t[Ds(e[n])];o===i&&(n=s,o=r),t=Jo(o)?o.call(t):o}return t},Qr.round=xA,Qr.runInContext=t,Qr.sample=function(t){return(Ko(t)?Yr:Yn)(t)},Qr.size=function(t){if(null==t)return 0;if(zo(t))return Aa(t)?ir(t):t.length;var e=hs(t);return e==w||e==T?t.size:Rn(t).length},Qr.snakeCase=Xa,Qr.some=function(t,e,r){var n=Ko(t)?Fe:ri;return r&&ms(t,e,r)&&(e=i),n(t,os(e,3))},Qr.sortedIndex=function(t,e){return ni(t,e)},Qr.sortedIndexBy=function(t,e,r){return ii(t,e,os(r,2))},Qr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ni(t,e);if(n<r&&Ho(t[n],e))return n}return-1},Qr.sortedLastIndex=function(t,e){return ni(t,e,!0)},Qr.sortedLastIndexBy=function(t,e,r){return ii(t,e,os(r,2),!0)},Qr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ni(t,e,!0)-1;if(Ho(t[r],e))return r}return-1},Qr.startCase=Ya,Qr.startsWith=function(t,e,r){return t=ya(t),r=null==r?0:on(da(r),0,t.length),e=ai(e),t.slice(r,r+e.length)==e},Qr.subtract=EA,Qr.sum=function(t){return t&&t.length?ke(t,iA):0},Qr.sumBy=function(t,e){return t&&t.length?ke(t,os(e,2)):0},Qr.template=function(t,e,r){var n=Qr.templateSettings;r&&ms(t,e,r)&&(e=i),t=ya(t),e=wa({},e,n,qi);var s,o,a=wa({},e.imports,n.imports,qi),A=Ma(a),u=Ge(a,A),l=0,c=e.interpolate||yt,h="__p += '",f=Et((e.escape||yt).source+"|"+c.source+"|"+(c===$?ct:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Ot.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$t+"]")+"\n";t.replace(f,(function(e,r,n,i,a,A){return n||(n=i),h+=t.slice(l,A).replace(_t,$e),r&&(s=!0,h+="' +\n__e("+r+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=A+e.length,e})),h+="';\n";var d=Ot.call(e,"variable")&&e.variable;if(d){if(ut.test(d))throw new bt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(j,""):h).replace(V,"$1").replace(G,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Za((function(){return wt(A,p+"return "+h).apply(i,u)}));if(g.source=h,$o(g))throw g;return g},Qr.times=function(t,e){if((t=da(t))<1||t>c)return[];var r=f,n=mr(t,f);e=os(e),t-=f;for(var i=He(n,e);++r<t;)e(r);return i},Qr.toFinite=pa,Qr.toInteger=da,Qr.toLength=ga,Qr.toLower=function(t){return ya(t).toLowerCase()},Qr.toNumber=ma,Qr.toSafeInteger=function(t){return t?on(da(t),-9007199254740991,c):0===t?t:0},Qr.toString=ya,Qr.toUpper=function(t){return ya(t).toUpperCase()},Qr.trim=function(t,e,r){if((t=ya(t))&&(r||e===i))return je(t);if(!t||!(e=ai(e)))return t;var n=sr(t),s=sr(e);return yi(n,We(n,s),ze(n,s)+1).join("")},Qr.trimEnd=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.slice(0,or(t)+1);if(!t||!(e=ai(e)))return t;var n=sr(t);return yi(n,0,ze(n,sr(e))+1).join("")},Qr.trimStart=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.replace(nt,"");if(!t||!(e=ai(e)))return t;var n=sr(t);return yi(n,We(n,sr(e))).join("")},Qr.truncate=function(t,e){var r=30,n="...";if(ea(e)){var s="separator"in e?e.separator:s;r="length"in e?da(e.length):r,n="omission"in e?ai(e.omission):n}var o=(t=ya(t)).length;if(Je(t)){var a=sr(t);o=a.length}if(r>=o)return t;var A=r-ir(n);if(A<1)return n;var u=a?yi(a,0,A).join(""):t.slice(0,A);if(s===i)return u+n;if(a&&(A+=u.length-A),oa(s)){if(t.slice(A).search(s)){var l,c=u;for(s.global||(s=Et(s.source,ya(ht.exec(s))+"g")),s.lastIndex=0;l=s.exec(c);)var h=l.index;u=u.slice(0,h===i?A:h)}}else if(t.indexOf(ai(s),A)!=A){var f=u.lastIndexOf(s);f>-1&&(u=u.slice(0,f))}return u+n},Qr.unescape=function(t){return(t=ya(t))&&z.test(t)?t.replace(K,ar):t},Qr.uniqueId=function(t){var e=++Pt;return ya(t)+e},Qr.upperCase=qa,Qr.upperFirst=$a,Qr.each=yo,Qr.eachRight=_o,Qr.first=Ws,AA(Qr,(vA={},yn(Qr,(function(t,e){Ot.call(Qr.prototype,e)||(vA[e]=t)})),vA),{chain:!1}),Qr.VERSION="4.17.21",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Qr[t].placeholder=Qr})),ye(["drop","take"],(function(t,e){jr.prototype[t]=function(r){r=r===i?1:gr(da(r),0);var n=this.__filtered__&&!e?new jr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,f),type:t+(n.__dir__<0?"Right":"")}),n},jr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;jr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:os(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),ye(["head","last"],(function(t,e){var r="take"+(e?"Right":"");jr.prototype[t]=function(){return this[r](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");jr.prototype[t]=function(){return this.__filtered__?new jr(this):this[r](1)}})),jr.prototype.compact=function(){return this.filter(iA)},jr.prototype.find=function(t){return this.filter(t).head()},jr.prototype.findLast=function(t){return this.reverse().find(t)},jr.prototype.invokeMap=Xn((function(t,e){return"function"==typeof t?new jr(this):this.map((function(r){return Fn(r,t,e)}))})),jr.prototype.reject=function(t){return this.filter(Lo(os(t)))},jr.prototype.slice=function(t,e){t=da(t);var r=this;return r.__filtered__&&(t>0||e<0)?new jr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=da(e))<0?r.dropRight(-e):r.take(e-t)),r)},jr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},jr.prototype.toArray=function(){return this.take(f)},yn(jr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),s=Qr[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);s&&(Qr.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,A=e instanceof jr,u=a[0],l=A||Ko(e),c=function(t){var e=s.apply(Qr,Ce([t],a));return n&&h?e[0]:e};l&&r&&"function"==typeof u&&1!=u.length&&(A=l=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,d=A&&!f;if(!o&&l){e=d?e:new jr(this);var g=t.apply(e,a);return g.__actions__.push({func:fo,args:[c],thisArg:i}),new Hr(g,h)}return p&&d?t.apply(this,a):(g=this.thru(c),p?n?g.value()[0]:g.value():g)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Qr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Ko(i)?i:[],t)}return this[r]((function(r){return e.apply(Ko(r)?r:[],t)}))}})),yn(jr.prototype,(function(t,e){var r=Qr[e];if(r){var n=r.name+"";Ot.call(Fr,n)||(Fr[n]=[]),Fr[n].push({name:e,func:r})}})),Fr[Qi(i,2).name]=[{name:"wrapper",func:i}],jr.prototype.clone=function(){var t=new jr(this.__wrapped__);return t.__actions__=Ti(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ti(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ti(this.__views__),t},jr.prototype.reverse=function(){if(this.__filtered__){var t=new jr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},jr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ko(t),n=e<0,i=r?t.length:0,s=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=mr(e,t+o);break;case"takeRight":t=gr(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,A=a-o,u=n?a:o-1,l=this.__iteratees__,c=l.length,h=0,f=mr(A,this.__takeCount__);if(!r||!n&&i==A&&f==A)return hi(t,this.__actions__);var p=[];t:for(;A--&&h<f;){for(var d=-1,g=t[u+=e];++d<c;){var m=l[d],v=m.iteratee,y=m.type,_=v(g);if(2==y)g=_;else if(!_){if(1==y)continue t;break t}}p[h++]=g}return p},Qr.prototype.at=po,Qr.prototype.chain=function(){return ho(this)},Qr.prototype.commit=function(){return new Hr(this.value(),this.__chain__)},Qr.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Qr.prototype.plant=function(t){for(var e,r=this;r instanceof kr;){var n=Ns(r);n.__index__=0,n.__values__=i,e?s.__wrapped__=n:e=n;var s=n;r=r.__wrapped__}return s.__wrapped__=t,e},Qr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jr){var e=t;return this.__actions__.length&&(e=new jr(this)),(e=e.reverse()).__actions__.push({func:fo,args:[to],thisArg:i}),new Hr(e,this.__chain__)}return this.thru(to)},Qr.prototype.toJSON=Qr.prototype.valueOf=Qr.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Qr.prototype.first=Qr.prototype.head,oe&&(Qr.prototype[oe]=function(){return this}),Qr}();se._=Ar,(n=function(){return Ar}.call(e,r,e,t))===i||(t.exports=n)}.call(this)},(t,e,r)=>{"use strict";const n=r(311),i=(r(235),r(338)),{createCanvas:s,Sprite:o,Texture:a}=r(14);t.exports=class extends n{constructor(t={}){super({type:"scene",...t}),this.background=null,this.defaultDuration=NaN,this.setBgColor(t.color||t.bgcolor||t.background)}annotate(){const t=Math.max(...this.allNodes.map((t=>t.realAbsEndTime)));this.defaultDuration=t-this.absStartTime,super.annotate(),this.resizeBackground()}get default(){return{startTime:super.default.startTime,duration:this.defaultDuration}}setDuration(t){this.conf.duration=t}setBgColor(t="#00000000"){if(!this.bgCanvas){const{bgSize:t=400}=this.conf;this.bgCanvas=s(t,t)}i.fillRect({canvas:this.bgCanvas,color:t}),this.bgColor=t,this.background&&this.display.removeChild(this.background),this.background=new o(a.fromCanvas(this.bgCanvas)),this.display.addChildAt(this.background,0)}setFXAA(t){this.display.fxaa=t}resizeBackground(){const{background:t}=this;if(!t)return;const e=this.rootConf("width"),r=this.rootConf("height");t.width=e,t.height=r}destroy(){this.background&&this.background.destroy(!0),this.background=null,this.bgCanvas=null,super.destroy()}}},(t,e,r)=>{"use strict";const n=r(14),i=r(555);t.exports=class extends i{constructor(t={animations:[]}){super({type:"extras",...t})}createDisplay(){this.display=new n.Container,this.container=this.display}start(){super.start(),this.drawing=this.drawing.bind(this),TimelineUpdate.addFrameCallback(this.drawing),this.init&&this.init(n),this.emit("init")}drawing(t,e){this.update&&this.update(n,t,e),this.emit("update")}destroyContainer(){try{this.container.destroy(),this.container.removeAllChildren()}catch(t){}}destroy(){super.destroy(),this.destroyContainer(),TimelineUpdate.removeFrameCallback(this.drawing),this.destroyed&&this.destroyed(n),this.emit("destroy"),this.update=null,this.drawing=null,this.container=null}}},(t,e,r)=>{"use strict";const n=r(579),i=r(586),{Rectangle:s,Texture:o,createCanvas:a}=r(14);t.exports=class extends n{constructor(t={}){super({type:"lottie",...t})}createMaterial(t){const e=Number(this.conf.speed)||1,r=this.px(this.conf.width),n=this.px(this.conf.height);return new i({speed:e,width:r,height:n,...t})}fitSize(){let{width:t,height:e,"object-fit":r}=this.conf;t=this.px(t),e=this.px(e);const{oriWidth:n,oriHeight:i}=this.material.info;t&&e||(t?e=t*(i/n):e&&(t=e*(n/i)));const s=(["fill","contain"].includes(r)?Math.min:Math.max)(t/n,e/i);this.material.resize(Math.round(n*s),Math.round(i*s)),this.display.texture.baseTexture.source===this.material.canvas&&this.display.texture.baseTexture.update(),super.fitSize()}materialTime(t,e=!0){return super.materialTime(t,e)}async getFrameByTime(t){const{width:e,height:r}=this.material.canvas,n=a(e,r);return await this.material.queuedGetFrameByTime(t,n),n}}},(t,e,r)=>{"use strict";const n=r(587),{getRemote:i}=r(333),s=r(343),o=r(581),{createCanvas:a,Canvas:A,Image:u}=r(14),{isBrowser:l}=r(13);t.exports=class extends o{constructor(t){super(t),this.queue=new s}async init(t){const{fps:e}=t;this.fps=e;const r=await i(this.path,this.creator.uuid),s=await r.data.text(),o=JSON.parse(s);let{w:a,h:c,nm:h,fr:f,ip:p,op:d}=o;this.info.name=h,this.frames=d-p,this.length=this.info.duration=this.frames/f,this.info.oriWidth=this.info.width=a,this.info.oriHeight=this.info.height=c,this.container=this.initCanvas(a,c),l?n.setCanvas({Canvas:A,Image}):n.setCanvas({Canvas:A,Image:u}),this.ani=n.loadAnimation({container:this.container,animationData:o},!0),this.canvas=this.initCanvas(a,c),this.canvasContext=this.canvas.getContext("2d")}resize(t,e){this.canvas.width=this.info.width=t,this.canvas.height=this.info.height=e,this.render()}async getFrameByTime(t){return await this.queuedGetFrameByTime(t)}async queuedGetFrameByTime(t,e=null){return new Promise((async(r,n)=>{this.queue.enqueue((async()=>{this.ani.goToAndStop(1e3*t,!1),this.render(e),r()}))}))}render(t){t||(t=this.canvas);const{width:e,height:r}=t,n=t.getContext("2d");n.clearRect(0,0,e,r),n.drawImage(this.container,0,0,e,r)}replaceAsset(t,e,r=!0){this.ani.replaceAsset(t,e,r)}replaceText(t,e){this.ani.replaceText(t,e)}findElements(t){return this.ani.findElements(t)}getApi(){return this.ani.api}destroy(){super.destroy(),this.ani&&this.ani.destroy(),this.ani=null,this.container=null,this.queue&&this.queue.destroy(),this.queue=null}}},(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__,root,factory;root=__webpack_require__.g||{},factory=function(global){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,Logger={num:10,index:0,setNum:function(t){return this.num=t,this},log:function(...t){return this.index<this.num&&(this.index++,console.log("++++++++++++++++++++++++++++++++++++++++++++"),console.log.apply(console,t),console.log("\n")),this},json:function(t){return"object"!=typeof t?this.log(t):this.log(JSON.stringify(t,null,4)),this}},subframeEnabled=!0,expressionsPlugin,isSafari=!1,cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,r=createSizedArray(t.length),n=t.length;for(e=0;e<n;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,n){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,n){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e,this.currentTime=currentTime}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(t,e,r){var n,i,s,o,a,A,u,l;switch(A=r*(1-e),u=r*(1-(a=6*t-(o=Math.floor(6*t)))*e),l=r*(1-(1-a)*e),o%6){case 0:n=r,i=l,s=A;break;case 1:n=u,i=r,s=A;break;case 2:n=A,i=r,s=l;break;case 3:n=A,i=u,s=r;break;case 4:n=l,i=A,s=r;break;case 5:n=r,i=A,s=u}return[n,i,s]}function RGBtoHSV(t,e,r){var n,i=Math.max(t,e,r),s=Math.min(t,e,r),o=i-s,a=0===i?0:o/i,A=i/255;switch(i){case s:n=0;break;case t:n=e-r+o*(e<r?6:0),n/=6*o;break;case e:n=r-t+2*o,n/=6*o;break;case r:n=t-e+4*o,n/=6*o}return[n,a,A]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1==e.length?"0"+e:e;return function(t,e,n){return t<0&&(t=0),e<0&&(e=0),n<0&&(n=0),"#"+r[t]+r[e]+r[n]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,n=0;n<r;n++)this._cbs[t][n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,n=this._cbs[t].length;r<n;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,n-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var r,n=0,i=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<e;n+=1)i.push(r);return i};function createSizedArray(t){return Array.apply(null,{length:t})}function createTag(t){switch(t){case"img":case"image":return new lottiejs.canvas.Image;default:return new lottiejs.canvas.Canvas(1,1)}}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,n=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function o(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1)}function a(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1)}function A(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function u(t,e){return this._t(1,e,t,1,0,0)}function l(t,e){return this.shear(r(t),r(e))}function c(n,i){var s=t(i),o=e(i);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function h(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function f(t,e,r,n,i,s,o,a,A,u,l,c,h,f,p,d){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=n,this.props[4]=i,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=A,this.props[9]=u,this.props[10]=l,this.props[11]=c,this.props[12]=h,this.props[13]=f,this.props[14]=p,this.props[15]=d,this}function p(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function d(t,e,r,n,i,s,o,a,A,u,l,c,h,f,p,d){var g=this.props;if(1===t&&0===e&&0===r&&0===n&&0===i&&1===s&&0===o&&0===a&&0===A&&0===u&&1===l&&0===c)return g[12]=g[12]*t+g[15]*h,g[13]=g[13]*s+g[15]*f,g[14]=g[14]*l+g[15]*p,g[15]=g[15]*d,this._identityCalculated=!1,this;var m=g[0],v=g[1],y=g[2],_=g[3],b=g[4],w=g[5],B=g[6],x=g[7],E=g[8],C=g[9],T=g[10],I=g[11],F=g[12],S=g[13],U=g[14],M=g[15];return g[0]=m*t+v*i+y*A+_*h,g[1]=m*e+v*s+y*u+_*f,g[2]=m*r+v*o+y*l+_*p,g[3]=m*n+v*a+y*c+_*d,g[4]=b*t+w*i+B*A+x*h,g[5]=b*e+w*s+B*u+x*f,g[6]=b*r+w*o+B*l+x*p,g[7]=b*n+w*a+B*c+x*d,g[8]=E*t+C*i+T*A+I*h,g[9]=E*e+C*s+T*u+I*f,g[10]=E*r+C*o+T*l+I*p,g[11]=E*n+C*a+T*c+I*d,g[12]=F*t+S*i+U*A+M*h,g[13]=F*e+S*s+U*u+M*f,g[14]=F*r+S*o+U*l+M*p,g[15]=F*n+S*a+U*c+M*d,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function m(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function y(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function _(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function b(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function w(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function B(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function x(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/e,n=-this.props[1]/e,i=-this.props[4]/e,s=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*r+t[1]*i+o,t[0]*n+t[1]*s+a,0]}function E(t){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n[e]=x(t[e]);return n}function C(t,e,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=r[0],n[5]=r[1];else{var i=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],A=this.props[12],u=this.props[13];n[0]=t[0]*i+t[1]*o+A,n[1]=t[0]*s+t[1]*a+u,n[2]=e[0]*i+e[1]*o+A,n[3]=e[0]*s+e[1]*a+u,n[4]=r[0]*i+r[1]*o+A,n[5]=r[0]*s+r[1]*a+u}return n}function T(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function I(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function F(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=n(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function S(t){return t<1e-6&&t>0||t>-1e-6&&t<0?n(1e4*t)/1e4:t}function U(){var t=this.props;return"matrix("+S(t[0])+","+S(t[1])+","+S(t[4])+","+S(t[5])+","+S(t[12])+","+S(t[13])+")"}return function(){this.reset=i,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=A,this.skew=l,this.skewFromAxis=c,this.shear=u,this.scale=h,this.setTransform=f,this.translate=p,this.transform=d,this.applyToPoint=_,this.applyToX=b,this.applyToY=w,this.applyToZ=B,this.applyToPointArray=T,this.applyToTriplePoints=C,this.applyToPointStringified=I,this.toCSS=F,this.to2dCSS=U,this.clone=v,this.cloneFromProps=y,this.equals=m,this.inversePoints=E,this.inversePoint=x,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var r=this,n=256,i=e.pow(n,6),s=e.pow(2,52),o=2*s,a=255;function A(t){var e,r=t.length,i=this,s=0,o=i.i=i.j=0,A=i.S=[];for(r||(t=[r++]);s<n;)A[s]=s++;for(s=0;s<n;s++)A[s]=A[o=a&o+t[s%r]+(e=A[s])],A[o]=e;i.g=function(t){for(var e,r=0,s=i.i,o=i.j,A=i.S;t--;)e=A[s=a&s+1],r=r*n+A[a&(A[s]=A[o=a&o+e])+(A[o]=e)];return i.i=s,i.j=o,r}}function u(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)try{n.push(l(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function c(t,e){for(var r,n=t+"",i=0;i<n.length;)e[a&i]=a&(r^=19*e[a&i])+n.charCodeAt(i++);return h(e)}function h(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(a,f,p){var d=[],g=c(l((f=!0===f?{entropy:!0}:f||{}).entropy?[a,h(t)]:null===a?function(){try{var e=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(e),h(e)}catch(e){var i=r.navigator,s=i&&i.plugins;return[+new Date,r,s,r.screen,h(t)]}}():a,3),d),m=new A(d),v=function(){for(var t=m.g(6),e=i,r=0;t<s;)t=(t+r)*n,e*=n,r=m.g(1);for(;t>=o;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|m.g(4)},v.quick=function(){return m.g(4)/4294967296},v.double=v,c(h(m.S),t),(f.pass||p||function(t,r,n,i){return i&&(i.S&&u(i,m),t.state=function(){return u(m,{})}),n?(e.random=t,r):t})(v,g,"global"in f?f.global:this==e,f.state)},c(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,r,n,i,s){var o=s||("bez_"+t+"_"+r+"_"+n+"_"+i).replace(/\./g,"p");if(e[o])return e[o];var a=new u([t,r,n,i]);return e[o]=a,a}},e={},r=.1,n="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,r){return((i(e,r)*t+s(e,r))*t+o(e))*t}function A(t,e,r){return 3*i(e,r)*t*t+2*s(e,r)*t+o(e)}function u(t){this._p=t,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(t){var e=this._p[0],r=this._p[1],n=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===r&&n===i?t:0===t?0:1===t?1:a(this._getTForX(t),r,i)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=a(n*r,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],i=this._mSampleValues,s=0,o=1;10!==o&&i[o]<=t;++o)s+=r;var u=s+(t-i[--o])/(i[o+1]-i[o])*r,l=A(u,e,n);return l>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var s=A(e,r,n);if(0===s)return e;e-=(a(e,r,n)-t)/s}return e}(t,u,e,n):0===l?u:function(t,e,r,n,i){var s,o,A=0;do{(s=a(o=e+(r-e)/2,n,i)-t)>0?r=o:e=o}while(Math.abs(s)>1e-7&&++A<10);return o}(t,s,s+r,e,n)}},t}();function extendPrototype(t,e){var r,n,i=t.length;for(r=0;r<i;r+=1)for(var s in n=t[r].prototype)n.hasOwnProperty(s)&&(e.prototype[s]=n[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,r,n,i,s){var o=t*n+e*i+r*s-i*n-s*t-r*e;return o>-.001&&o<.001}Math;var e=function(t,e,r,n){var i,s,o,a,A,u,l=defaultCurveSegments,c=0,h=[],f=[],p=bezier_length_pool.newElement();for(o=r.length,i=0;i<l;i+=1){for(A=i/(l-1),u=0,s=0;s<o;s+=1)a=bm_pow(1-A,3)*t[s]+3*bm_pow(1-A,2)*A*r[s]+3*(1-A)*bm_pow(A,2)*n[s]+bm_pow(A,3)*e[s],h[s]=a,null!==f[s]&&(u+=bm_pow(h[s]-f[s],2)),f[s]=h[s];u&&(c+=u=bm_sqrt(u)),p.percents[i]=A,p.lengths[i]=c}return p.addedLength=c,p};function r(t){this.segmentLength=0,this.points=new Array(t)}function n(t,e){this.partialLength=t,this.point=e}var i,s=(i={},function(e,s,o,a){var A=(e[0]+"_"+e[1]+"_"+s[0]+"_"+s[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!i[A]){var u,l,c,h,f,p,d,g=defaultCurveSegments,m=0,v=null;2===e.length&&(e[0]!=s[0]||e[1]!=s[1])&&t(e[0],e[1],s[0],s[1],e[0]+o[0],e[1]+o[1])&&t(e[0],e[1],s[0],s[1],s[0]+a[0],s[1]+a[1])&&(g=2);var y=new r(g);for(c=o.length,u=0;u<g;u+=1){for(d=createSizedArray(c),f=u/(g-1),p=0,l=0;l<c;l+=1)h=bm_pow(1-f,3)*e[l]+3*bm_pow(1-f,2)*f*(e[l]+o[l])+3*(1-f)*bm_pow(f,2)*(s[l]+a[l])+bm_pow(f,3)*s[l],d[l]=h,null!==v&&(p+=bm_pow(d[l]-v[l],2));m+=p=bm_sqrt(p),y.points[u]=new n(p,d),v=d}y.segmentLength=m,i[A]=y}return i[A]});function o(t,e){var r=e.percents,n=e.lengths,i=r.length,s=bm_floor((i-1)*t),o=t*e.addedLength,a=0;if(s===i-1||0===s||o===n[s])return r[s];for(var A=n[s]>o?-1:1,u=!0;u;)if(n[s]<=o&&n[s+1]>o?(a=(o-n[s])/(n[s+1]-n[s]),u=!1):s+=A,s<0||s>=i-1){if(s===i-1)return r[s];u=!1}return r[s]+(r[s+1]-r[s])*a}var a=createTypedArray("float32",8);return{getSegmentsLength:function(t){var r,n=segments_length_pool.newElement(),i=t.c,s=t.v,o=t.o,a=t.i,A=t._length,u=n.lengths,l=0;for(r=0;r<A-1;r+=1)u[r]=e(s[r],s[r+1],o[r],a[r+1]),l+=u[r].addedLength;return i&&A&&(u[r]=e(s[r],s[0],o[r],a[0]),l+=u[r].addedLength),n.totalLength=l,n},getNewSegment:function(t,e,r,n,i,s,A){var u,l=o(i=i<0?0:i>1?1:i,A),c=o(s=s>1?1:s,A),h=t.length,f=1-l,p=1-c,d=f*f*f,g=l*f*f*3,m=l*l*f*3,v=l*l*l,y=f*f*p,_=l*f*p+f*l*p+f*f*c,b=l*l*p+f*l*c+l*f*c,w=l*l*c,B=f*p*p,x=l*p*p+f*c*p+f*p*c,E=l*c*p+f*c*c+l*p*c,C=l*c*c,T=p*p*p,I=c*p*p+p*c*p+p*p*c,F=c*c*p+p*c*c+c*p*c,S=c*c*c;for(u=0;u<h;u+=1)a[4*u]=Math.round(1e3*(d*t[u]+g*r[u]+m*n[u]+v*e[u]))/1e3,a[4*u+1]=Math.round(1e3*(y*t[u]+_*r[u]+b*n[u]+w*e[u]))/1e3,a[4*u+2]=Math.round(1e3*(B*t[u]+x*r[u]+E*n[u]+C*e[u]))/1e3,a[4*u+3]=Math.round(1e3*(T*t[u]+I*r[u]+F*n[u]+S*e[u]))/1e3;return a},getPointInSegment:function(t,e,r,n,i,s){var a=o(i,s),A=1-a;return[Math.round(1e3*(A*A*A*t[0]+(a*A*A+A*a*A+A*A*a)*r[0]+(a*a*A+A*a*a+a*A*a)*n[0]+a*a*a*e[0]))/1e3,Math.round(1e3*(A*A*A*t[1]+(a*A*A+A*a*A+A*A*a)*r[1]+(a*a*A+A*a*a+a*A*a)*n[1]+a*a*a*e[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(e,r,n,i,s,o,a,A,u){if(0===n&&0===o&&0===u)return t(e,r,i,s,a,A);var l,c=Math.sqrt(Math.pow(i-e,2)+Math.pow(s-r,2)+Math.pow(o-n,2)),h=Math.sqrt(Math.pow(a-e,2)+Math.pow(A-r,2)+Math.pow(u-n,2)),f=Math.sqrt(Math.pow(a-i,2)+Math.pow(A-s,2)+Math.pow(u-o,2));return(l=c>h?c>f?c-h-f:f-h-c:f>h?f-h-c:h-c-f)>-1e-4&&l<1e-4}}}var bez=bezFunction();function dataFunctionManager(){function t(i,s,o){var a,A,u,l,c,h,f,p=i.length;for(A=0;A<p;A+=1)if("ks"in(a=i[A])&&!a.completed){if(a.completed=!0,a.tt&&(i[A-1].td=a.tt),a.hasMask){var d=a.masksProperties;for(l=d.length,u=0;u<l;u+=1)if(d[u].pt.k.i)n(d[u].pt.k);else for(h=d[u].pt.k.length,c=0;c<h;c+=1)d[u].pt.k[c].s&&n(d[u].pt.k[c].s[0]),d[u].pt.k[c].e&&n(d[u].pt.k[c].e[0])}0===a.ty?(a.layers=e(a.refId,s),t(a.layers,s,o)):4===a.ty?r(a.shapes):5==a.ty&&(0!==(f=a).t.a.length||"m"in f.t.p||(f.singleShape=!0))}}function e(t,e){for(var r=0,n=e.length;r<n;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}}function r(t){var e,i,s;for(e=t.length-1;e>=0;e-=1)if("sh"==t[e].ty)if(t[e].ks.k.i)n(t[e].ks.k);else for(s=t[e].ks.k.length,i=0;i<s;i+=1)t[e].ks.k[i].s&&n(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&n(t[e].ks.k[i].e[0]);else"gr"==t[e].ty&&r(t[e].it)}function n(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&void 0))}var s,o=function(){var t=[4,4,14];function e(t){var e,r,n,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(void 0,n=(r=t[e]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(i(t,r.v)&&(e(r.layers),r.assets)){var n,s=r.assets.length;for(n=0;n<s;n+=1)r.assets[n].layers&&e(r.assets[n].layers)}}}(),a=(s=[4,7,99],function(t){if(t.chars&&!i(s,t.v)){var e,r,o,a,A,u=t.chars.length;for(e=0;e<u;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(o=(A=t.chars[e].data.shapes[0].it).length,r=0;r<o;r+=1)(a=A[r].ks.k).__converted||(n(A[r].ks.k),a.__converted=!0)}}),A=function(){var t=[4,1,9];function e(t){var r,n,i,s=t.length;for(r=0;r<s;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(i=t[r].c.k.length,n=0;n<i;n+=1)t[r].c.k[n].s&&(t[r].c.k[n].s[0]/=255,t[r].c.k[n].s[1]/=255,t[r].c.k[n].s[2]/=255,t[r].c.k[n].s[3]/=255),t[r].c.k[n].e&&(t[r].c.k[n].e[0]/=255,t[r].c.k[n].e[1]/=255,t[r].c.k[n].e[2]/=255,t[r].c.k[n].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,n=t.length;for(r=0;r<n;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),u=function(){var t=[4,4,18];function e(t){var r,n,i;for(r=t.length-1;r>=0;r-=1)if("sh"==t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(i=t[r].ks.k.length,n=0;n<i;n+=1)t[r].ks.k[n].s&&(t[r].ks.k[n].s[0].c=t[r].closed),t[r].ks.k[n].e&&(t[r].ks.k[n].e[0].c=t[r].closed);else"gr"==t[r].ty&&e(t[r].it)}function r(t){var r,n,i,s,o,a,A=t.length;for(n=0;n<A;n+=1){if((r=t[n]).hasMask){var u=r.masksProperties;for(s=u.length,i=0;i<s;i+=1)if(u[i].pt.k.i)u[i].pt.k.c=u[i].cl;else for(a=u[i].pt.k.length,o=0;o<a;o+=1)u[i].pt.k[o].s&&(u[i].pt.k[o].s[0].c=u[i].cl),u[i].pt.k[o].e&&(u[i].pt.k[o].e[0].c=u[i].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),l={completeData:function(e,r){e.__complete||(A(e),o(e),a(e),u(e),t(e.layers,e.assets,r),e.__complete=!0)}};return l}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!0};return r.getCombinedCharacterCodes=function(){return e},r.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,r,n,i=t.length,s=this.chars.length;for(e=0;e<i;e+=1){for(r=0,n=!1;r<s;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(n=!0),r+=1;n||(this.chars.push(t[e]),s+=1)}}},r.prototype.addFonts=function(t){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var e,r=t.list,n=r.length;for(e=0;e<n;e+=1)r[e].loaded=!1,r[e].monoCase=null,r[e].sansCase=null,r[e].loaded=!0,r[e].helper=null,r[e].cache={},this.fonts.push(r[e]);this.isLoaded=!0}else this.isLoaded=!0},r.prototype.getCharData=function(e,r,n,i){this.chars||(this.chars=[]);for(var s=0,o=this.chars.length;s<o;){if(this.chars[s].ch===e&&this.chars[s].style===r&&this.chars[s].fFamily===n)return this.chars[s];s+=1}return Object.assign(t,{size:i,w:i})},r.prototype.getFontByName=function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return{cache:{}}},r.prototype.measureText=function(t,e,r){var n=this.getFontByName(e),i=t.charCodeAt(0);return n.cache[i+1]||(n.cache[i+1]=1),n.cache[i+1]*r},r.prototype.loaded=function(){return this.isLoaded},r}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(t,e){var r,i=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var s,o,a,A,u,l,c,h,f=e.lastIndex,p=f,d=this.keyframes.length-1,g=!0;g;){if(s=this.keyframes[p],o=this.keyframes[p+1],p===d-1&&t>=o.t-i){s.h&&(s=o),f=0;break}if(o.t-i>t){f=p;break}p<d-1?p+=1:(f=0,g=!1)}var m,v,y,_,b,w,B,x,E,C,T=o.t-i,I=s.t-i;if(s.to){s.bezierData||(s.bezierData=bez.buildBezierData(s.s,o.s||s.e,s.to,s.ti));var F=s.bezierData;if(t>=T||t<I){var S=t>=T?F.points.length-1:0;for(A=F.points[S].point.length,a=0;a<A;a+=1)r[a]=F.points[S].point[a]}else{s.__fnct?h=s.__fnct:(h=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=h),u=h((t-I)/(T-I));var U,M=F.segmentLength*u,O=e.lastFrame<t&&e._lastKeyframeIndex===p?e._lastAddedLength:0;for(c=e.lastFrame<t&&e._lastKeyframeIndex===p?e._lastPoint:0,g=!0,l=F.points.length;g;){if(O+=F.points[c].partialLength,0===M||0===u||c===F.points.length-1){for(A=F.points[c].point.length,a=0;a<A;a+=1)r[a]=F.points[c].point[a];break}if(M>=O&&M<O+F.points[c+1].partialLength){for(U=(M-O)/F.points[c+1].partialLength,A=F.points[c].point.length,a=0;a<A;a+=1)r[a]=F.points[c].point[a]+(F.points[c+1].point[a]-F.points[c].point[a])*U;break}c<l-1?c+=1:g=!1}e._lastPoint=c,e._lastAddedLength=O-F.points[c].partialLength,e._lastKeyframeIndex=p}}else{var P,R,L,D,Q;if(d=s.s.length,m=o.s||s.e,this.sh&&1!==s.h)if(t>=T)r[0]=m[0],r[1]=m[1],r[2]=m[2];else if(t<=I)r[0]=s.s[0],r[1]=s.s[1],r[2]=s.s[2];else{v=r,y=function(t,e,r){var n,i,s,o,a,A=[],u=t[0],l=t[1],c=t[2],h=t[3],f=e[0],p=e[1],d=e[2],g=e[3];return(i=u*f+l*p+c*d+h*g)<0&&(i=-i,f=-f,p=-p,d=-d,g=-g),1-i>1e-6?(n=Math.acos(i),s=Math.sin(n),o=Math.sin((1-r)*n)/s,a=Math.sin(r*n)/s):(o=1-r,a=r),A[0]=o*u+a*f,A[1]=o*l+a*p,A[2]=o*c+a*d,A[3]=o*h+a*g,A}(n(s.s),n(m),(t-I)/(T-I)),_=y[0],b=y[1],w=y[2],B=y[3],x=Math.atan2(2*b*B-2*_*w,1-2*b*b-2*w*w),E=Math.asin(2*_*b+2*w*B),C=Math.atan2(2*_*B-2*b*w,1-2*_*_-2*w*w),v[0]=x/degToRads,v[1]=E/degToRads,v[2]=C/degToRads}else for(p=0;p<d;p+=1)1!==s.h&&(t>=T?u=1:t<I?u=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[p]?h=s.__fnct[p]:(P=void 0===s.o.x[p]?s.o.x[0]:s.o.x[p],R=void 0===s.o.y[p]?s.o.y[0]:s.o.y[p],L=void 0===s.i.x[p]?s.i.x[0]:s.i.x[p],D=void 0===s.i.y[p]?s.i.y[0]:s.i.y[p],h=BezierFactory.getBezierEasing(P,R,L,D).get,s.__fnct[p]=h)):s.__fnct?h=s.__fnct:(P=s.o.x,R=s.o.y,L=s.i.x,D=s.i.y,h=BezierFactory.getBezierEasing(P,R,L,D).get,s.__fnct=h),u=h((t-I)/(T-I)))),m=o.s||s.e,Q=1===s.h?s.s[p]:s.s[p]+(m[p]-s.s[p])*u,"multidimensional"===this.propType?r[p]=Q:r=Q}return e.lastIndex=f,r}function n(t){var e=t[0]*degToRads,r=t[1]*degToRads,n=t[2]*degToRads,i=Math.cos(e/2),s=Math.cos(r/2),o=Math.cos(n/2),a=Math.sin(e/2),A=Math.sin(r/2),u=Math.sin(n/2);return[a*A*o+i*s*u,a*s*o+i*A*u,i*A*o-a*s*u,i*s*o-a*A*u]}function i(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=n&&e>=n||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function s(t){var r;if("unidimensional"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var n=0,i=this.v.length;n<i;)r=t[n]*this.mult,e(this.v[n]-r)>1e-5&&(this.v[n]=r,this._mdf=!0),n+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function A(t,e,r,n){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.addEffect=a}function u(t,e,r,n){this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,A=e.k.length;for(this.v=createTypedArray("float32",A),this.pv=createTypedArray("float32",A),createTypedArray("float32",A),this.vel=createTypedArray("float32",A),i=0;i<A;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=s,this.addEffect=a}function l(e,n,A,u){this.propType="unidimensional",this.keyframes=n.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=A||1,this.elem=e,this.container=u,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.interpolateValue=r,this.effectsSequence=[i.bind(this)],this.addEffect=a}function c(e,n,A,u){this.propType="multidimensional";var l,c,h,f,p,d=n.k.length;for(l=0;l<d-1;l+=1)n.k[l].to&&n.k[l].s&&n.k[l].e&&(c=n.k[l].s,h=n.k[l].e,f=n.k[l].to,p=n.k[l].ti,(2===c.length&&(c[0]!==h[0]||c[1]!==h[1])&&bez.pointOnLine2D(c[0],c[1],h[0],h[1],c[0]+f[0],c[1]+f[1])&&bez.pointOnLine2D(c[0],c[1],h[0],h[1],h[0]+p[0],h[1]+p[1])||3===c.length&&(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2])&&bez.pointOnLine3D(c[0],c[1],c[2],h[0],h[1],h[2],c[0]+f[0],c[1]+f[1],c[2]+f[2])&&bez.pointOnLine3D(c[0],c[1],c[2],h[0],h[1],h[2],h[0]+p[0],h[1]+p[1],h[2]+p[2]))&&(n.k[l].to=null,n.k[l].ti=null),c[0]===h[0]&&c[1]===h[1]&&0===f[0]&&0===f[1]&&0===p[0]&&0===p[1]&&(2===c.length||c[2]===h[2]&&0===f[2]&&0===p[2])&&(n.k[l].to=null,n.k[l].ti=null));this.effectsSequence=[i.bind(this)],this.keyframes=n.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=A||1,this.elem=e,this.container=u,this.comp=e.comp,this.getValue=o,this.setVValue=s,this.interpolateValue=r,this.frameId=-1;var g=n.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),l=0;l<g;l+=1)this.v[l]=t,this.pv[l]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}return{getProp:function(t,e,r,n,i){var s;if(e.k.length)if("number"==typeof e.k[0])s=new u(t,e,n,i);else switch(r){case 0:s=new l(t,e,n,i);break;case 1:s=new c(t,e,n,i)}else s=new A(t,e,n,i);return s.effectsSequence.length&&i.addDynamicProperty(s),s}}}(),TransformPropertyFactory=function(){function t(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var n,i=e.or.k.length;for(n=0;n<i;n+=1)e.or.k[n].to=e.or.k[n].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var e,r,n=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(e=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){e=[],r=[];var i=this.px,s=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(e[0]=i.getValueAtTime((i.keyframes[0].t+.01)/n,0),e[1]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),r[0]=i.getValueAtTime(i.keyframes[0].t/n,0),r[1]=s.getValueAtTime(s.keyframes[0].t/n,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(e[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/n,0),e[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),r[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/n,0),r[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0)):(e=[i.pv,s.pv],r[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/n,i.offsetTime),r[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime))}this.v.rotate(-Math.atan2(e[1]-r[1],e[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,n){return new t(e,r,n)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=point_pool.newElement(),this.o[r]=point_pool.newElement(),this.i[r]=point_pool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,n,i){var s;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o}(!s[n]||s[n]&&!i)&&(s[n]=point_pool.newElement()),s[n][0]=t,s[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,n,i,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(r,n,"o",o,a),this.setXYAt(i,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,n=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),i=1);var s,o=this._length-1,a=this._length;for(s=i;s<a;s+=1)t.setTripleAt(e[o][0],e[o][1],n[o][0],n[o][1],r[o][0],r[o][1],s,!1),o-=1;return t};var ShapePropertyFactory=function(){var t=-999999;function e(t,e,r){var n,i,s,o,a,A,u,l,c,h=r.lastIndex,f=this.keyframes;if(t<f[0].t-this.offsetTime)n=f[0].s[0],s=!0,h=0;else if(t>=f[f.length-1].t-this.offsetTime)n=f[f.length-1].s?f[f.length-1].s[0]:f[f.length-2].e[0],s=!0;else{for(var p,d,g=h,m=f.length-1,v=!0;v&&(p=f[g],!((d=f[g+1]).t-this.offsetTime>t));)g<m-1?g+=1:v=!1;if(h=g,!(s=1===p.h)){if(t>=d.t-this.offsetTime)l=1;else if(t<p.t-this.offsetTime)l=0;else{var y;p.__fnct?y=p.__fnct:(y=BezierFactory.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get,p.__fnct=y),l=y((t-(p.t-this.offsetTime))/(d.t-this.offsetTime-(p.t-this.offsetTime)))}i=d.s?d.s[0]:p.e[0]}n=p.s[0]}for(A=e._length,u=n.i[0].length,r.lastIndex=h,o=0;o<A;o+=1)for(a=0;a<u;a+=1)c=s?n.i[o][a]:n.i[o][a]+(i.i[o][a]-n.i[o][a])*l,e.i[o][a]=c,c=s?n.o[o][a]:n.o[o][a]+(i.o[o][a]-n.o[o][a])*l,e.o[o][a]=c,c=s?n.v[o][a]:n.v[o][a]+(i.v[o][a]-n.v[o][a])*l,e.v[o][a]=c}function r(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return i!==t&&(i<r&&e<r||i>n&&e>n)||(this._caching.lastIndex=i<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function i(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,n=t._length;for(r=0;r<n;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===r?e.pt.k:e.ks.k;this.v=shape_pool.clone(i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function A(e,i,s){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?i.pt.k:i.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=n,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=s,o.prototype.setVValue=i,o.prototype.addEffect=a,A.prototype.getValue=s,A.prototype.interpolateShape=e,A.prototype.setVValue=i,A.prototype.addEffect=a;var u=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=r-i,o.v[1][0]=s?e+n:e-n,o.v[1][1]=r,o.v[2][0]=e,o.v[2][1]=r+i,o.v[3][0]=s?e-n:e+n,o.v[3][1]=r,o.i[0][0]=s?e-n*t:e+n*t,o.i[0][1]=r-i,o.i[1][0]=s?e+n:e-n,o.i[1][1]=r-i*t,o.i[2][0]=s?e+n*t:e-n*t,o.i[2][1]=r+i,o.i[3][0]=s?e-n:e+n,o.i[3][1]=r+i*t,o.o[0][0]=s?e+n*t:e-n*t,o.o[0][1]=r-i,o.o[1][0]=s?e+n:e-n,o.o[1][1]=r+i*t,o.o[2][0]=s?e-n*t:e+n*t,o.o[2][1]=r+i,o.o[3][0]=s?e-n:e+n,o.o[3][1]=r-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),l=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,n,i=2*Math.floor(this.pt.v),s=2*Math.PI/i,o=!0,a=this.or.v,A=this.ir.v,u=this.os.v,l=this.is.v,c=2*Math.PI*a/(2*i),h=2*Math.PI*A/(2*i),f=-Math.PI/2;f+=this.r.v;var p=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){r=o?u:l,n=o?c:h;var d=(e=o?a:A)*Math.cos(f),g=e*Math.sin(f),m=0===d&&0===g?0:g/Math.sqrt(d*d+g*g),v=0===d&&0===g?0:-d/Math.sqrt(d*d+g*g);d+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(d,g,d-m*n*r*p,g-v*n*r*p,d+m*n*r*p,g+v*n*r*p,t,!0),o=!o,f+=s*p}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,n=this.or.v,i=this.os.v,s=2*Math.PI*n/(4*e),o=-Math.PI/2,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var A=n*Math.cos(o),u=n*Math.sin(o),l=0===A&&0===u?0:u/Math.sqrt(A*A+u*u),c=0===A&&0===u?0:-A/Math.sqrt(A*A+u*u);A+=+this.p.v[0],u+=+this.p.v[1],this.v.setTripleAt(A,u,A-l*s*i*a,u-c*s*i*a,A+l*s*i*a,u+c*s*i*a,t,!0),o+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),c=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,i=bm_min(r,n,this.r.v),s=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+i,t+r,e-n+s,0,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-s,t+r,e+n-i,1,!0),0!==i?(this.v.setTripleAt(t+r-i,e+n,t+r-i,e+n,t+r-s,e+n,2,!0),this.v.setTripleAt(t-r+i,e+n,t-r+s,e+n,t-r+i,e+n,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-i,t-r,e+n-s,4,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+s,t-r,e-n+i,5,!0),this.v.setTripleAt(t-r+i,e-n,t-r+i,e-n,t-r+s,e-n,6,!0),this.v.setTripleAt(t+r-i,e-n,t+r-s,e-n,t+r-i,e-n,7,!0)):(this.v.setTripleAt(t-r,e+n,t-r+s,e+n,t-r,e+n,2),this.v.setTripleAt(t-r,e-n,t-r,e-n+s,t-r,e-n,3))):(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+s,t+r,e-n+i,0,!0),0!==i?(this.v.setTripleAt(t+r-i,e-n,t+r-i,e-n,t+r-s,e-n,1,!0),this.v.setTripleAt(t-r+i,e-n,t-r+s,e-n,t-r+i,e-n,2,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+i,t-r,e-n+s,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-s,t-r,e+n-i,4,!0),this.v.setTripleAt(t-r+i,e+n,t-r+i,e+n,t-r+s,e+n,5,!0),this.v.setTripleAt(t+r-i,e+n,t+r-s,e+n,t+r-i,e+n,6,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-i,t+r,e+n-s,7,!0)):(this.v.setTripleAt(t-r,e-n,t-r+s,e-n,t-r,e-n,1,!0),this.v.setTripleAt(t-r,e+n,t-r,e+n-s,t-r,e+n,2,!0),this.v.setTripleAt(t+r,e+n,t+r-s,e+n,t+r,e+n,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,r){var n;return 3===r||4===r?n=(3===r?e.pt:e.ks).k.length?new A(t,e,r):new o(t,e,r):5===r?n=new c(t,e):6===r?n=new u(t,e):7===r&&(n=new l(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return A}}}(),ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,n){return new e[t](r,n)},t}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,n){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,s,o=e.length||0;for(i=0;i<o;i+=1)s=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=s.k||this.k,this.dataProps[i]={n:e[i].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,n,i){var s=[];e<=1?s.push({s:t,e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var o,a,A=[],u=s.length;for(o=0;o<u;o+=1){var l,c;(a=s[o]).e*i<n||a.s*i>n+r||(l=a.s*i<=n?0:(a.s*i-n)/r,c=a.e*i>=n+r?1:(a.e*i-n)/r,A.push([l,c]))}return A.length||A.push([0,0]),A},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,n;if(this._mdf||t){var i=this.o.v%360/360;if(i<0&&(i+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+i)>(r=(this.e.v>1?1:this.e.v<0?0:this.e.v)+i)){var s=e;e=r,r=s}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var o,a,A,u,l,c,h=this.shapes.length,f=0;if(r===e)for(o=0;o<h;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection;else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(o=0;o<h;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var p,d,g=[];for(o=0;o<h;o+=1)if((p=this.shapes[o]).shape._mdf||this._mdf||t||2===this.m){if(A=(n=p.shape.paths)._length,c=0,!p.shape._mdf&&p.pathsData.length)c=p.totalShapeLength;else{for(u=this.releasePathsData(p.pathsData),a=0;a<A;a+=1)l=bez.getSegmentsLength(n.shapes[a]),u.push(l),c+=l.totalLength;p.totalShapeLength=c,p.pathsData=u}f+=c,p.shape._mdf=!0}else p.shape.paths=p.localShapeCollection;var m,v=e,y=r,_=0;for(o=h-1;o>=0;o-=1)if((p=this.shapes[o]).shape._mdf){for((d=p.localShapeCollection).releaseShapes(),2===this.m&&h>1?(m=this.calculateShapeEdges(e,r,p.totalShapeLength,_,f),_+=p.totalShapeLength):m=[[v,y]],A=m.length,a=0;a<A;a+=1){v=m[a][0],y=m[a][1],g.length=0,y<=1?g.push({s:p.totalShapeLength*v,e:p.totalShapeLength*y}):v>=1?g.push({s:p.totalShapeLength*(v-1),e:p.totalShapeLength*(y-1)}):(g.push({s:p.totalShapeLength*v,e:p.totalShapeLength}),g.push({s:0,e:p.totalShapeLength*(y-1)}));var b=this.addShapes(p,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(p.shape.paths.shapes[p.shape.paths._length-1].c){var w=b.pop();this.addPaths(b,d),b=this.addShapes(p,g[1],w)}else this.addPaths(b,d),b=this.addShapes(p,g[1]);this.addPaths(b,d)}}p.shape.paths=d}}},TrimModifier.prototype.addPaths=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,n,i,s,o){i.setXYAt(e[0],e[1],"o",s),i.setXYAt(r[0],r[1],"i",s+1),o&&i.setXYAt(t[0],t[1],"v",s),i.setXYAt(n[0],n[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,n){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),n&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var n,i,s,o,a,A,u,l,c=t.pathsData,h=t.shape.paths.shapes,f=t.shape.paths._length,p=0,d=[],g=!0;for(r?(a=r._length,l=r._length):(r=shape_pool.newElement(),a=0,l=0),d.push(r),n=0;n<f;n+=1){for(A=c[n].lengths,r.c=h[n].c,s=h[n].c?A.length:A.length+1,i=1;i<s;i+=1)if(p+(o=A[i-1]).addedLength<e.s)p+=o.addedLength,r.c=!1;else{if(p>e.e){r.c=!1;break}e.s<=p&&e.e>=p+o.addedLength?(this.addSegment(h[n].v[i-1],h[n].o[i-1],h[n].i[i],h[n].v[i],r,a,g),g=!1):(u=bez.getNewSegment(h[n].v[i-1],h[n].v[i],h[n].o[i-1],h[n].i[i],(e.s-p)/o.addedLength,(e.e-p)/o.addedLength,A[i-1]),this.addSegmentFromArray(u,r,a,g),g=!1,r.c=!1),p+=o.addedLength,a+=1}if(h[n].c&&A.length){if(o=A[i-1],p<=e.e){var m=A[i-1].addedLength;e.s<=p&&e.e>=p+m?(this.addSegment(h[n].v[i-1],h[n].o[i-1],h[n].i[0],h[n].v[0],r,a,g),g=!1):(u=bez.getNewSegment(h[n].v[i-1],h[n].v[0],h[n].o[i-1],h[n].i[0],(e.s-p)/m,(e.e-p)/m,A[i-1]),this.addSegmentFromArray(u,r,a,g),g=!1,r.c=!1)}else r.c=!1;p+=o.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[l][0],r.v[l][1],"i",l),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),p>e.e)break;n<f-1&&(r=shape_pool.newElement(),g=!0,d.push(r),a=0)}return d},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shape_pool.newElement();r.c=t.c;var n,i,s,o,a,A,u,l,c,h,f,p,d,g=t._length,m=0;for(n=0;n<g;n+=1)i=t.v[n],o=t.o[n],s=t.i[n],i[0]===o[0]&&i[1]===o[1]&&i[0]===s[0]&&i[1]===s[1]?0!==n&&n!==g-1||t.c?(a=0===n?t.v[g-1]:t.v[n-1],u=(A=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(A/2,e)/A:0,l=p=i[0]+(a[0]-i[0])*u,c=d=i[1]-(i[1]-a[1])*u,h=l-(l-i[0])*roundCorner,f=c-(c-i[1])*roundCorner,r.setTripleAt(l,c,h,f,p,d,m),m+=1,a=n===g-1?t.v[0]:t.v[n+1],u=(A=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(A/2,e)/A:0,l=h=i[0]+(a[0]-i[0])*u,c=f=i[1]+(a[1]-i[1])*u,p=l-(l-i[0])*roundCorner,d=c-(c-i[1])*roundCorner,r.setTripleAt(l,c,h,f,p,d,m),m+=1):(r.setTripleAt(i[0],i[1],o[0],o[1],s[0],s[1],m),m+=1):(r.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],m),m+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,n,i,s,o,a=this.shapes.length,A=this.rd.v;if(0!==A)for(r=0;r<a;r+=1){if((s=this.shapes[r]).shape.paths,o=s.localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,n=0;n<i;n+=1)o.addShape(this.processPath(e[n],A));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,n,i,s){var o=s?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-i),A=n.s.v[1]+(1-n.s.v[1])*(1-i);t.translate(n.p.v[0]*o*i,n.p.v[1]*o*i,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*o*i),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(s?1/a:a,s?1/A:A),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,n){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,n,i,s;if(this._mdf||t){var o,a=Math.ceil(this.c.v);if(this._groups.length<a){for(;this._groups.length<a;){var A={it:this.cloneElements(this._elements),ty:"gr"};A.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,A),this._groups.splice(0,0,A),this._currentCopies+=1}this.elem.reloadShapes()}for(s=0,n=0;n<=this._groups.length-1;n+=1)o=s<a,this._groups[n]._render=o,this.changeGroupRender(this._groups[n].it,o),s+=1;this._currentCopies=a;var u=this.o.v,l=u%1,c=u>0?Math.floor(u):Math.ceil(u),h=(this.tr.v.props,this.pMatrix.props),f=this.rMatrix.props,p=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var d,g,m=0;if(u>0){for(;m<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),m+=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,l,!1),m+=l)}else if(u<0){for(;m>c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),m-=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-l,!0),m-=l)}for(n=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,s=this._currentCopies;s;){if(g=(r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==m){for((0!==n&&1===i||n!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),d=0;d<g;d+=1)r[d]=this.matrix.props[d];this.matrix.reset()}else for(this.matrix.reset(),d=0;d<g;d+=1)r[d]=this.matrix.props[d];m+=1,s-=1,n+=i}}else for(s=this._currentCopies,n=0,i=1;s;)r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,n+=i},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,n,i=4*this.data.p;for(e=0;e<i;e+=1)r=e%4==0?100:255,n=Math.round(this.prop.v[e]*r),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)r=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,n){if(0===e)return"";var i,s=t.o,o=t.i,a=t.v,A=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(i=1;i<e;i+=1)A+=" C"+n.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+n.applyToPointStringified(o[i][0],o[i][1])+" "+n.applyToPointStringified(a[i][0],a[i][1]);return r&&e&&(A+=" C"+n.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),A+="z"),A},onlyCanvas,ImagePreloader=function(){function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function e(t){var e=function(t,e,r){var n="";if(t.e)n=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),n=e+i}else n=r,n+=t.u?t.u:"",n+=t.p;return n}(t,this.assetsPath,this.path),r=createTag("img");return r.src=e,{img:r,assetData:t}}function r(t,e){this.imagesLoadedCb=e;for(var r=0;r<t.length;r++)t[r].layers||(this.totalImages+=1);for(r=0;r<t.length;r++)if(!t[r].layers){var n=this._createImageData(t[r]);this.images.push(n),this._imageLoaded()}}function n(t){this.path=t||""}function i(t){this.assetsPath=t||""}function s(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}}function o(){this.imagesLoadedCb=null,this.images.length=0}function a(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=r,this.setAssetsPath=i,this.setPath=n,this.loaded=a,this.destroy=o,this.getImage=s,this._createImageData=e,this._imageLoaded=t,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport={maskType:!0},filtersFactory={createFilter:function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}},fs=__webpack_require__(588),assetLoader={load:function(t,e,r){try{var n=fs.readFileSync(t,"utf-8");e(JSON.parse(n))}catch(t){r(t)}}};function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var n={propType:!1},i=PropertyFactory.getProp,s=e.a;this.a={r:s.r?i(t,s.r,0,degToRads,r):n,rx:s.rx?i(t,s.rx,0,degToRads,r):n,ry:s.ry?i(t,s.ry,0,degToRads,r):n,sk:s.sk?i(t,s.sk,0,degToRads,r):n,sa:s.sa?i(t,s.sa,0,degToRads,r):n,s:s.s?i(t,s.s,1,.01,r):n,a:s.a?i(t,s.a,1,0,r):n,o:s.o?i(t,s.o,0,.01,r):n,p:s.p?i(t,s.p,1,0,r):n,sw:s.sw?i(t,s.sw,0,0,r):n,sc:s.sc?i(t,s.sc,1,0,r):n,fc:s.fc?i(t,s.fc,1,0,r):n,fh:s.fh?i(t,s.fh,0,0,r):n,fs:s.fs?i(t,s.fs,0,.01,r):n,fb:s.fb?i(t,s.fb,0,.01,r):n,t:s.t?i(t,s.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,n,i,s){this.o=t,this.sw=e,this.sc=r,this.fc=n,this.m=i,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,i,s,o,a,A,u,l,c,h,f,p,d,g,m,v,y,_,b=this._moreOptions.alignment.v,w=this._animatorsData,B=this._textData,x=this.mHelper,E=this._renderType,C=this.renderedLetters.length,T=(this.data,t.l);if(this._hasMaskedPath){if(_=this._pathData.m,!this._pathData.n||this._pathData._mdf){var I,F=_.v;for(this._pathData.r&&(F=F.reverse()),o={tLength:0,segments:[]},s=F._length-1,m=0,i=0;i<s;i+=1)I=bez.buildBezierData(F.v[i],F.v[i+1],[F.o[i][0]-F.v[i][0],F.o[i][1]-F.v[i][1]],[F.i[i+1][0]-F.v[i+1][0],F.i[i+1][1]-F.v[i+1][1]]),o.tLength+=I.segmentLength,o.segments.push(I),m+=I.segmentLength;i=s,_.v.c&&(I=bez.buildBezierData(F.v[i],F.v[0],[F.o[i][0]-F.v[i][0],F.o[i][1]-F.v[i][1]],[F.i[0][0]-F.v[0][0],F.i[0][1]-F.v[0][1]]),o.tLength+=I.segmentLength,o.segments.push(I),m+=I.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,a=this._pathData.f.v,h=0,c=1,u=0,l=!0,d=o.segments,a<0&&_.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),c=(p=d[h=d.length-1].points).length-1;a<0;)a+=p[c].partialLength,(c-=1)<0&&(c=(p=d[h-=1].points).length-1);f=(p=d[h].points)[c-1],g=(A=p[c]).partialLength}s=T.length,r=0,n=0;var S,U,M,O,P=1.2*t.finalSize*.714,R=!0;M=w.length;var L,D,Q,N,k,H,j,V,G,K,W,z,X,Y=-1,q=a,$=h,J=c,Z=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,nt=0,it=2===t.j?-.5:-1,st=0,ot=!0;for(i=0;i<s;i+=1)if(T[i].n){for(rt&&(rt+=nt);st<i;)T[st].animatorJustifyOffset=rt,st+=1;rt=0,ot=!0}else{for(U=0;U<M;U+=1)(S=w[U].a).t.propType&&(ot&&2===t.j&&(nt+=S.t.v*it),(L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars)).length?rt+=S.t.v*L[0]*it:rt+=S.t.v*L*it);ot=!1}for(rt&&(rt+=nt);st<i;)T[st].animatorJustifyOffset=rt,st+=1}for(i=0;i<s;i+=1){if(x.reset(),k=1,T[i].n)r=0,n+=t.yOffset,n+=R?1:0,a=q,R=!1,this._hasMaskedPath&&(c=J,f=(p=d[h=$].points)[c-1],g=(A=p[c]).partialLength,u=0),X=K=z=tt="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==T[i].line){switch(t.j){case 1:a+=m-t.lineWidths[T[i].line];break;case 2:a+=(m-t.lineWidths[T[i].line])/2}Z=T[i].line}Y!==T[i].ind&&(T[Y]&&(a+=T[Y].extra),a+=T[i].an/2,Y=T[i].ind),a+=b[0]*T[i].an/200;var at=0;for(U=0;U<M;U+=1)(S=w[U].a).p.propType&&((L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars)).length?at+=S.p.v[0]*L[0]:at+=S.p.v[0]*L),S.a.propType&&((L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars)).length?at+=S.a.v[0]*L[0]:at+=S.a.v[0]*L);for(l=!0;l;)u+g>=a+at||!p?(v=(a+at-u)/A.partialLength,Q=f.point[0]+(A.point[0]-f.point[0])*v,N=f.point[1]+(A.point[1]-f.point[1])*v,x.translate(-b[0]*T[i].an/200,-b[1]*P/100),l=!1):p&&(u+=A.partialLength,(c+=1)>=p.length&&(c=0,d[h+=1]?p=d[h].points:_.v.c?(c=0,p=d[h=0].points):(u-=A.partialLength,p=null)),p&&(f=A,g=(A=p[c]).partialLength));D=T[i].an/2-T[i].add,x.translate(-D,0,0)}else D=T[i].an/2-T[i].add,x.translate(-D,0,0),x.translate(-b[0]*T[i].an/200,-b[1]*P/100,0);for(T[i].l,U=0;U<M;U+=1)(S=w[U].a).t.propType&&(L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?L.length?a+=S.t.v*L[0]:a+=S.t.v*L:L.length?r+=S.t.v*L[0]:r+=S.t.v*L));for(T[i].l,t.strokeWidthAnim&&(j=t.sw||0),t.strokeColorAnim&&(H=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(V=[t.fc[0],t.fc[1],t.fc[2]]),U=0;U<M;U+=1)(S=w[U].a).a.propType&&((L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars)).length?x.translate(-S.a.v[0]*L[0],-S.a.v[1]*L[1],S.a.v[2]*L[2]):x.translate(-S.a.v[0]*L,-S.a.v[1]*L,S.a.v[2]*L));for(U=0;U<M;U+=1)(S=w[U].a).s.propType&&((L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars)).length?x.scale(1+(S.s.v[0]-1)*L[0],1+(S.s.v[1]-1)*L[1],1):x.scale(1+(S.s.v[0]-1)*L,1+(S.s.v[1]-1)*L,1));for(U=0;U<M;U+=1){if(S=w[U].a,L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars),S.sk.propType&&(L.length?x.skewFromAxis(-S.sk.v*L[0],S.sa.v*L[1]):x.skewFromAxis(-S.sk.v*L,S.sa.v*L)),S.r.propType&&(L.length?x.rotateZ(-S.r.v*L[2]):x.rotateZ(-S.r.v*L)),S.ry.propType&&(L.length?x.rotateY(S.ry.v*L[1]):x.rotateY(S.ry.v*L)),S.rx.propType&&(L.length?x.rotateX(S.rx.v*L[0]):x.rotateX(S.rx.v*L)),S.o.propType&&(L.length?k+=(S.o.v*L[0]-k)*L[0]:k+=(S.o.v*L-k)*L),t.strokeWidthAnim&&S.sw.propType&&(L.length?j+=S.sw.v*L[0]:j+=S.sw.v*L),t.strokeColorAnim&&S.sc.propType)for(G=0;G<3;G+=1)L.length?H[G]=H[G]+(S.sc.v[G]-H[G])*L[0]:H[G]=H[G]+(S.sc.v[G]-H[G])*L;if(t.fillColorAnim&&t.fc){if(S.fc.propType)for(G=0;G<3;G+=1)L.length?V[G]=V[G]+(S.fc.v[G]-V[G])*L[0]:V[G]=V[G]+(S.fc.v[G]-V[G])*L;S.fh.propType&&(V=L.length?addHueToRGB(V,S.fh.v*L[0]):addHueToRGB(V,S.fh.v*L)),S.fs.propType&&(V=L.length?addSaturationToRGB(V,S.fs.v*L[0]):addSaturationToRGB(V,S.fs.v*L)),S.fb.propType&&(V=L.length?addBrightnessToRGB(V,S.fb.v*L[0]):addBrightnessToRGB(V,S.fb.v*L))}}for(U=0;U<M;U+=1)(S=w[U].a).p.propType&&(L=w[U].s.getMult(T[i].anIndexes[U],B.a[U].s.totalChars),this._hasMaskedPath?L.length?x.translate(0,S.p.v[1]*L[0],-S.p.v[2]*L[1]):x.translate(0,S.p.v[1]*L,-S.p.v[2]*L):L.length?x.translate(S.p.v[0]*L[0],S.p.v[1]*L[1],-S.p.v[2]*L[2]):x.translate(S.p.v[0]*L,S.p.v[1]*L,-S.p.v[2]*L));if(t.strokeWidthAnim&&(K=j<0?0:j),t.strokeColorAnim&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),t.fillColorAnim&&t.fc&&(z="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),this._hasMaskedPath){if(x.translate(0,-t.ls),x.translate(0,b[1]*P/100+n,0),B.p.p){y=(A.point[1]-f.point[1])/(A.point[0]-f.point[0]);var At=180*Math.atan(y)/Math.PI;A.point[0]<f.point[0]&&(At+=180),x.rotate(-At*Math.PI/180)}x.translate(Q,N,0),a-=b[0]*T[i].an/200,T[i+1]&&Y!==T[i+1].ind&&(a+=T[i].an/2,a+=t.tr/1e3*t.finalSize)}else{switch(x.translate(r,n,0),t.ps&&x.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:x.translate(T[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[i].line]),0,0);break;case 2:x.translate(T[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[i].line])/2,0,0)}x.translate(0,-t.ls),x.translate(D,0,0),x.translate(b[0]*T[i].an/200,b[1]*P/100,0),r+=T[i].l+t.tr/1e3*t.finalSize}"html"===E?tt=x.toCSS():"svg"===E?tt=x.to2dCSS():et=[x.props[0],x.props[1],x.props[2],x.props[3],x.props[4],x.props[5],x.props[6],x.props[7],x.props[8],x.props[9],x.props[10],x.props[11],x.props[12],x.props[13],x.props[14],x.props[15]],X=k}C<=i?(O=new LetterProps(X,K,W,z,tt,et),this.renderedLetters.push(O),C+=1,this.lettersChangedFlag=!0):(O=this.renderedLetters[i],this.lettersChangedFlag=O.update(X,K,W,z,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,n,i,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,o=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,o=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,o=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var n,i=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(n=0;n<i;n+=1)s=r!==this.keysIndex?this.effectsSequence[n](s,s.t):this.effectsSequence[n](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,n=t.length;r<=n-1&&(t[r].s,!(r===n-1||t[r+1].t>e));)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r=FontManager.getCombinedCharacterCodes(),n=[],i=0,s=t.length;i<s;)e=t.charCodeAt(i),-1!==r.indexOf(e)?n[n.length-1]+=t.charAt(i):e>=55296&&e<=56319&&(e=t.charCodeAt(i+1))>=56320&&e<=57343?(n.push(t.substr(i,2)),++i):n.push(t.charAt(i)),i+=1;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,n,i,s,o,a,A=this.elem.globalData.fontManager,u=this.data,l=[],c=0,h=u.m.g,f=0,p=0,d=0,g=[],m=0,v=0,y=A.getFontByName(t.f),_=0,b=y.fStyle?y.fStyle.split(" "):[],w="normal",B="normal";for(r=b.length,e=0;e<r;e+=1)switch(b[e].toLowerCase()){case"italic":B="italic";break;case"bold":w="700";break;case"black":w="900";break;case"medium":w="500";break;case"regular":case"normal":w="400";break;case"light":case"thin":w="200"}t.fWeight=y.fWeight||w,t.fStyle=B,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var x,E=t.tr/1e3*t.finalSize;if(t.sz)for(var C,T,I=!0,F=t.sz[0],S=t.sz[1];I;){C=0,m=0,r=(T=this.buildFinalText(t.t)).length,E=t.tr/1e3*t.finalSize;var U=-1;for(e=0;e<r;e+=1)x=T[e].charCodeAt(0),n=!1," "===T[e]?U=e:13!==x&&3!==x||(m=0,n=!0,C+=t.finalLineHeight||1.2*t.finalSize),A.chars?(a=A.getCharData(T[e],y.fStyle,y.fFamily),_=n?0:a.w*t.finalSize/100):_=A.measureText(T[e],t.f,t.finalSize),m+_>F&&" "!==T[e]?(-1===U?r+=1:e=U,C+=t.finalLineHeight||1.2*t.finalSize,T.splice(e,U===e?1:0,"\r"),U=-1,m=0):(m+=_,m+=E);C+=y.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&S<C?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=T,r=t.finalText.length,I=!1)}m=-E,_=0;var M,O=0;for(e=0;e<r;e+=1)if(n=!1,x=(M=t.finalText[e]).charCodeAt(0)," "===M?i="":13===x||3===x?(O=0,g.push(m),v=m>v?m:v,m=-2*E,i="",n=!0,d+=1):i=t.finalText[e],A.chars?(a=A.getCharData(M,y.fStyle,A.getFontByName(t.f).fFamily),_=n?0:a.w*t.finalSize/100):_=A.measureText(i,t.f,t.finalSize)," "===M?O+=_+E:(m+=_+E+O,O=0),l.push({l:_,an:_,add:f,n,anIndexes:[],val:i,line:d,animatorJustifyOffset:0}),2==h){if(f+=_,""===i||""===i||e===r-1){for(""!==i&&""!==i||(f-=_);p<=e;)l[p].an=f,l[p].ind=c,l[p].extra=_,p+=1;c+=1,f=0}}else if(3==h){if(f+=_,""===i||e===r-1){for(""===i&&(f-=_);p<=e;)l[p].an=f,l[p].ind=c,l[p].extra=_,p+=1;f=0,c+=1}}else l[c].ind=c,l[c].extra=0,c+=1;if(t.l=l,v=m>v?m:v,g.push(m),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var P,R,L=u.a;o=L.length;var D,Q,N=[];for(s=0;s<o;s+=1){for((P=L[s]).a.sc&&(t.strokeColorAnim=!0),P.a.sw&&(t.strokeWidthAnim=!0),(P.a.fc||P.a.fh||P.a.fs||P.a.fb)&&(t.fillColorAnim=!0),Q=0,D=P.s.b,e=0;e<r;e+=1)(R=l[e]).anIndexes[s]=Q,(1==D&&""!==R.val||2==D&&""!==R.val&&""!==R.val||3==D&&(R.n||""==R.val||e==r-1)||4==D&&(R.n||e==r-1))&&(1===P.s.rn&&N.push(Q),Q+=1);u.a[s].s.totalChars=Q;var k,H=-1;if(1===P.s.rn)for(e=0;e<r;e+=1)H!=(R=l[e]).anIndexes[s]&&(H=R.anIndexes[s],k=N.splice(Math.floor(Math.random()*N.length),1)[0]),R.anIndexes[s]=k}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=y.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,s=0,o=this.finalS,a=this.finalE,A=this.data.sh;if(2==A)s=i(s=a===o?n>=a?1:0:t(0,e(.5/(a-o)+(n-o)/(a-o),1)));else if(3==A)s=i(s=a===o?n>=a?0:1:1-t(0,e(.5/(a-o)+(n-o)/(a-o),1)));else if(4==A)a===o?s=0:(s=t(0,e(.5/(a-o)+(n-o)/(a-o),1)))<.5?s*=2:s=1-2*(s-.5),s=i(s);else if(5==A){if(a===o)s=0;else{var u=a-o,l=-u/2+(n=e(t(0,n+.5-o),a-o)),c=u/2;s=Math.sqrt(1-l*l/(c*c))}s=i(s)}else 6==A?(a===o?s=0:(n=e(t(0,n+.5-o),a-o),s=(1+Math.cos(Math.PI+2*Math.PI*n/(a-o)))/2),s=i(s)):(n>=r(o)&&(s=n-o<0?1-(o-n):t(0,e(a-n,1))),s=i(s));return s*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,n=this.s.v/e+r,i=this.e.v/e+r;if(n>i){var s=n;n=i,i=s}this.finalS=n,this.finalE=i}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(t,e,r){return new n(t,e,r)}}}(),pool_factory=function(t,e,r,n){var i=0,s=t,o=createSizedArray(s);return{newElement:function(){return i?o[i-=1]:e()},release:function(t){i===s&&(o=pooling.double(o),s*=2),r&&r(t),o[i]=t,i+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,(function(){return createTypedArray("float32",2)})),shape_pool=(factory=pool_factory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),n=void 0===t._length?t.v.length:t._length;for(r.setLength(n),r.c=t.c,e=0;e<n;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory,shapeCollection_pool=function(){var t={newShapeCollection:function(){return e?n[e-=1]:new ShapeCollection},release:function(t){var i,s=t._length;for(i=0;i<s;i+=1)shape_pool.release(t.shapes[i]);t._length=0,e===r&&(n=pooling.double(n),r*=2),n[e]=t,e+=1}},e=0,r=4,n=createSizedArray(r);return t}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}));function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,r,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e--)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r,n=t.length,i=this.layers.length;for(e=0;e<n;e+=1)for(r=0;r<i;){if(this.layers[r].id==t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var n=this.elements,i=this.layers,s=0,o=i.length;s<o;)i[s].ind==e&&(n[s]&&!0!==n[s]?(r.push(n[s]),n[s].setAsParent(),void 0!==i[s].parent?this.buildElementParenting(t,i[s].parent,r):t.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};const util=__webpack_require__(589);function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var n=0,i=t.length;n<i;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;"rc"==e.ty?i=5:"el"==e.ty?i=6:"sr"==e.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,i,t);var s,o,a=r.length;for(s=0;s<a;s+=1)r[s].closed||(o={transforms:n.addTransformSequence(r[s].transforms),trNodes:[]},this.styledShapes.push(o),r[s].elements.push(o))}function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,r){this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,r)}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,n=this.masksProperties.length,i=!1;for(r=0;r<n;r++)"n"!==this.masksProperties[r].mode&&(i=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVEffects(){}extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},CanvasRenderer.prototype.fixNodeZeroBug=function(t){return 0===t?.001:t},CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r,n,i,s,o,a,A=this.contextData.cTr.props;r=A[0],n=A[1],i=A[4],s=A[5],o=A[12],a=A[13],r=this.fixNodeZeroBug(r),s=this.fixNodeZeroBug(s),this.canvasContext.setTransform(r,n,i,s,o,a)}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r,n=this.contextData.saved[this.contextData.cArrPos];for(r=0;r<16;r+=1)n[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(e=0;e<16;e+=1)n[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.container=this.animationItem.wrapper,this.canvasContext=this.animationItem.container.getContext("2d"),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,null),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,n;if(this.reset(),t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr,-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),s=i[1]||"meet",o=i[0]||"xMidYMid",a=o.substr(0,4),A=o.substr(4);r=t/e,(n=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===s||n<r&&"slice"===s?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(n<r&&"meet"===s||n>r&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(n<r&&"meet"===s||n>r&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===A&&(n>r&&"meet"===s||n<r&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===A&&(n>r&&"meet"===s||n<r&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.drawRect=function(){const t="#"+Math.floor(16777215*Math.random()).toString(16);this.canvasContext.fillStyle,this.canvasContext.fillStyle=t,this.canvasContext.fillRect(0,0,this.transformCanvas.w/2,this.transformCanvas.h/2)},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<n;r++)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<n;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r=!0,n=this.comp;r;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):r=!1;var i,s,o=e.length;for(i=0;i<o;i+=1)s=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,n="_";for(e=0;e<r;e+=1)n+=t[e].transform.key+"_";var i=this.sequences[n];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var r,n=0,i=t.transforms.length,s=e;n<i&&!e;){if(t.transforms[n].transform.mProps._mdf){s=!0;break}n+=1}if(s)for(t.finalTransform.reset(),n=i-1;n>=0;n-=1)r=t.transforms[n].transform.mProps.v.props,t.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);t._mdf=s},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),i.appendChild(this.layerElement),n=i,this.globalData.defs.appendChild(i),featureSupport.maskType||1!=this.data.td||(i.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),n=r,i.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var o=createNS("g");s.appendChild(o),t=createElementID(),e=filtersFactory.createFilter(t);var a=createNS("feComponentTransfer");a.setAttribute("in","SourceGraphic"),e.appendChild(a);var A=createNS("feFuncA");A.setAttribute("type","table"),A.setAttribute("tableValues","1.0 0.0"),a.appendChild(A),this.globalData.defs.appendChild(e);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+t+")"),o.appendChild(u),o.appendChild(this.layerElement),n=o,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),o.appendChild(u),r.appendChild(this.layerElement),n=r,o.appendChild(r)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var l=createNS("clipPath"),c=createNS("path");c.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var h=createElementID();if(l.setAttribute("id",h),l.appendChild(c),this.globalData.defs.appendChild(l),this.checkMasks()){var f=createNS("g");f.setAttribute("clip-path","url("+locationHref+"#"+h+")"),f.appendChild(this.layerElement),this.transformedElement=f,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+h+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,n=e.length;r<n;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===t)return void(r[n].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,n,i=e.length,s="";for(r=0;r<i;r+=1)n=e[r].ks.k,s+=buildShapeString(n,n.i.length,!0,t);return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,n,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(n,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){this.globalData.getAssetsPath(this.assetData),this.innerElem=createTag("image"),this.innerElem.width=this.assetData.w,this.innerElem.height=this.assetData.h,this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,n,i=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(r=0;r<s;r+=1){for(n=this.stylesList[r],a=!1,o.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,n=new SVGStyleData(t,e),i=n.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?r=new SVGFillStyleData(this,t,n):"gf"!==t.ty&&"gs"!==t.ty||(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),i.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),i.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var i=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,n,i,s,o){var a,A,u,l,c,h,f=[].concat(s),p=t.length-1,d=[],g=[];for(a=p;a>=0;a-=1){if((h=this.searchProcessedElement(t[a]))?e[a]=r[h-1]:t[a]._render=o,"fl"==t[a].ty||"st"==t[a].ty||"gf"==t[a].ty||"gs"==t[a].ty)h?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],i),t[a]._render&&n.appendChild(e[a].style.pElem),d.push(e[a].style);else if("gr"==t[a].ty){if(h)for(u=e[a].it.length,A=0;A<u;A+=1)e[a].prevViewData[A]=e[a].it[A];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,i+1,f,o),t[a]._render&&n.appendChild(e[a].gr)}else"tr"==t[a].ty?(h||(e[a]=this.createTransformElement(t[a],n)),l=e[a].transform,f.push(l)):"sh"==t[a].ty||"rc"==t[a].ty||"el"==t[a].ty||"sr"==t[a].ty?(h||(e[a]=this.createShapeElement(t[a],f,i)),this.setElementStyles(e[a])):"tm"==t[a].ty||"rd"==t[a].ty||"ms"==t[a].ty?(h?(c=e[a]).closed=!1:((c=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=c,this.shapeModifiers.push(c)),g.push(c)):"rp"==t[a].ty&&(h?(c=e[a]).closed=!0:(c=ShapeModifiers.getModifier(t[a].ty),e[a]=c,c.init(this,t,a,e),this.shapeModifiers.push(c),o=!1),g.push(c));this.addProcessedElement(t[a],a+1)}for(p=d.length,a=0;a<p;a+=1)d[a].closed=!0;for(p=g.length,a=0;a<p;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,n=t.getContext("2d"),i=this.img.width,s=this.img.height,o=i/s,a=this.assetData.w/this.assetData.h,A=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===A||o<a&&"xMidYMid slice"!==A?e=(r=s)*a:r=(e=i)/a,n.drawImage(this.img,(i-e)/2,(s-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,n,i=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),n=this.viewData[t].v,e=i.applyToPointArray(n.v[0][0],n.v[0][1],0),s.moveTo(e[0],e[1]);var a,A=n._length;for(a=1;a<A;a++)r=i.applyToTriplePoints(n.o[a-1],n.i[a],n.v[a]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=i.applyToTriplePoints(n.o[a-1],n.i[0],n.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};if("fl"==t.ty||"st"==t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(r.co="rgb("+bm_floor(n.c.v[0])+","+bm_floor(n.c.v[1])+","+bm_floor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(r.lc=this.lcEnum[t.lc]||"round",r.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(r.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(r.wi=n.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);n.d=i,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,n,i){var s,o,a,A,u,l,c=t.length-1,h=[],f=[],p=[].concat(i);for(s=c;s>=0;s-=1){if((A=this.searchProcessedElement(t[s]))?e[s]=r[A-1]:t[s]._shouldRender=n,"fl"==t[s].ty||"st"==t[s].ty||"gf"==t[s].ty||"gs"==t[s].ty)A?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],p),h.push(e[s].style);else if("gr"==t[s].ty){if(A)for(a=e[s].it.length,o=0;o<a;o+=1)e[s].prevViewData[o]=e[s].it[o];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,n,p)}else"tr"==t[s].ty?(A||(l=this.createTransformElement(t[s]),e[s]=l),p.push(e[s]),this.addTransformToStyleList(e[s])):"sh"==t[s].ty||"rc"==t[s].ty||"el"==t[s].ty||"sr"==t[s].ty?A||(e[s]=this.createShapeElement(t[s])):"tm"==t[s].ty||"rd"==t[s].ty?(A?(u=e[s]).closed=!1:((u=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=u,this.shapeModifiers.push(u)),f.push(u)):"rp"==t[s].ty&&(A?(u=e[s]).closed=!0:(u=ShapeModifiers.getModifier(t[s].ty),e[s]=u,u.init(this,t,s,e),this.shapeModifiers.push(u),n=!1),f.push(u));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(h),c=f.length,s=0;s<c;s+=1)f[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,n,i,s,o,a,A,u=this.stylesList.length,l=this.globalData.renderer,c=this.globalData.canvasContext;for(t=0;t<u;t+=1)if(("st"!==(a=(A=this.stylesList[t]).type)&&"gs"!==a||0!==A.wi)&&A.data._shouldRender&&0!==A.coOp&&0!==this.globalData.currentGlobalAlpha){for(l.save(),s=A.elements,"st"===a||"gs"===a?(c.strokeStyle="st"===a?A.co:A.grd,c.lineWidth=A.wi,c.lineCap=A.lc,c.lineJoin=A.lj,c.miterLimit=A.ml||0):c.fillStyle="fl"===a?A.co:A.grd,l.ctxOpacity(A.coOp),"st"!==a&&"gs"!==a&&c.beginPath(),l.ctxTransform(A.preTransforms.finalTransform.props),r=s.length,e=0;e<r;e+=1){for("st"!==a&&"gs"!==a||(c.beginPath(),A.da&&(c.setLineDash(A.da),c.lineDashOffset=A.do)),i=(o=s[e].trNodes).length,n=0;n<i;n+=1)"m"==o[n].t?c.moveTo(o[n].p[0],o[n].p[1]):"c"==o[n].t?c.bezierCurveTo(o[n].pts[0],o[n].pts[1],o[n].pts[2],o[n].pts[3],o[n].pts[4],o[n].pts[5]):c.closePath();"st"!==a&&"gs"!==a||(c.stroke(),A.da&&c.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&c.fill(A.r),l.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,n){var i,s;for(s=t,i=e.length-1;i>=0;i-=1)"tr"==e[i].ty?(s=r[i].transform,this.renderShapeTransform(t,s)):"sh"==e[i].ty||"el"==e[i].ty||"rc"==e[i].ty||"sr"==e[i].ty?this.renderPath(e[i],r[i]):"fl"==e[i].ty?this.renderFill(e[i],r[i],s):"st"==e[i].ty?this.renderStroke(e[i],r[i],s):"gf"==e[i].ty||"gs"==e[i].ty?this.renderGradientFill(e[i],r[i],s):"gr"==e[i].ty?this.renderShape(s,e[i].it,r[i].it):e[i].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,n,i,s=t.trNodes,o=e.paths,a=o._length;s.length=0;var A=t.transforms.finalTransform;for(i=0;i<a;i+=1){var u=o.shapes[i];if(u&&u.v){for(n=u._length,r=1;r<n;r+=1)1===r&&s.push({t:"m",p:A.applyToPointArray(u.v[0][0],u.v[0][1],0)}),s.push({t:"c",pts:A.applyToTriplePoints(u.o[r-1],u.i[r],u.v[r])});1===n&&s.push({t:"m",p:A.applyToPointArray(u.v[0][0],u.v[0][1],0)}),u.c&&n&&(s.push({t:"c",pts:A.applyToTriplePoints(u.o[r-1],u.i[0],u.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,n=e.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var n=e.style;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var i=this.globalData.canvasContext,s=e.s.v,o=e.e.v;if(1===t.t)h=i.createLinearGradient(s[0],s[1],o[0],o[1]);else var a=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),A=Math.atan2(o[1]-s[1],o[0]-s[0]),u=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),l=Math.cos(A+e.a.v)*u+s[0],c=Math.sin(A+e.a.v)*u+s[1],h=i.createRadialGradient(l,c,0,s[0],s[1],a);var f,p=t.g.p,d=e.g.c,g=1;for(f=0;f<p;f+=1)e.g._hasOpacity&&e.g._collapsable&&(g=e.g.o[2*f+1]),h.addColorStop(d[4*f]/100,"rgba("+d[4*f+1]+","+d[4*f+2]+","+d[4*f+3]+","+g+")");n.grd=h}n.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var n=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(n.da=i.dashArray,n.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=()=>createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n,i,s=this.globalData.fontManager.getFontByName(t.f),o=t.l,a=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var A,u,l,c,h,f,p,d,g,m,v=this.data.singleShape,y=t.tr/1e3*t.finalSize,_=0,b=0,w=!0,B=0;for(n=0;n<i;n+=1){for(u=(A=this.globalData.fontManager.getCharData(t.finalText[n],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily,t.finalSize))&&A.data||{},a.reset(),v&&o[n].n&&(_=-y,b+=t.yOffset,b+=w?1:0,w=!1),p=(h=u.shapes?u.shapes[0].it:[]).length,a.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,a,o[n].line,_,b),g=createSizedArray(p),f=0;f<p;f+=1){for(c=h[f].ks.k.i.length,d=h[f].ks.k,m=[],l=1;l<c;l+=1)1==l&&m.push(a.applyToX(d.v[0][0],d.v[0][1],0),a.applyToY(d.v[0][0],d.v[0][1],0)),m.push(a.applyToX(d.o[l-1][0],d.o[l-1][1],0),a.applyToY(d.o[l-1][0],d.o[l-1][1],0),a.applyToX(d.i[l][0],d.i[l][1],0),a.applyToY(d.i[l][0],d.i[l][1],0),a.applyToX(d.v[l][0],d.v[l][1],0),a.applyToY(d.v[l][0],d.v[l][1],0));m.push(a.applyToX(d.o[l-1][0],d.o[l-1][1],0),a.applyToY(d.o[l-1][0],d.o[l-1][1],0),a.applyToX(d.i[0][0],d.i[0][1],0),a.applyToY(d.i[0][0],d.i[0][1],0),a.applyToX(d.v[0][0],d.v[0][1],0),a.applyToY(d.v[0][0],d.v[0][1],0)),g[f]=m}v&&(_+=o[n].l,_+=y),this.textSpans[B]?this.textSpans[B].elem=g:this.textSpans[B]={elem:g},B+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,n,i,s,o=this.canvasContext;this.finalTransform.mat.props,o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,A=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;e=u.length;var l,c,h=null,f=null,p=null;for(t=0;t<e;t+=1)if(!u[t].n){if((a=A[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?h!==a.fc&&(h=a.fc,o.fillStyle=a.fc):h!==this.values.fill&&(h=this.values.fill,o.fillStyle=this.values.fill),n=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(s=(c=l[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(c[i],c[i+1],c[i+2],c[i+3],c[i+4],c[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?p!==a.sw&&(p=a.sw,o.lineWidth=a.sw):p!==this.values.sWidth&&(p=this.values.sWidth,o.lineWidth=this.values.sWidth),a&&a.sc?f!==a.sc&&(f=a.sc,o.strokeStyle=a.sc):f!==this.values.stroke&&(f=this.values.stroke,o.strokeStyle=this.values.stroke),n=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(s=(c=l[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(c[i],c[i+1],c[i+2],c[i+3],c[i+4],c[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],r=0,n=0,i=!0,s=!1;function o(t){for(var n=0,i=t.target;n<r;)e[n].animation===i&&(e.splice(n,1),n-=1,r-=1,i.isPaused||A()),n+=1}function a(){n+=1,u()}function A(){n-=1}function u(){!s&&n&&i&&(i=!1)}return t.loadAnimation=function(t,n=!0){var i=new AnimationItem;return function(t,n){t.addEventListener("destroy",o),t.addEventListener("_active",a),t.addEventListener("_idle",A),e.push({elem:null,animation:t}),r+=1}(i),i.isLoadNow=n,i.setParams(t),i},t.setSpeed=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setSpeed(t,n)},t.setDirection=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setDirection(t,n)},t.play=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.play(t)},t.pause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.pause(t)},t.stop=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.stop(t)},t.togglePause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.togglePause(t)},t.resize=function(){var t;for(t=0;t<r;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,n,i){var s;for(s=0;s<r;s+=1)e[s].animation.goToAndStop(t,n,i)},t.destroy=function(t){var n;for(n=r-1;n>=0;n-=1)e[n].animation.destroy(t)},t.freeze=function(){s=!0},t.unfreeze=function(){s=!1,u()},t.getRegisteredAnimations=function(){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n.push(e[t].animation);return n},t}();const lottieApi=__webpack_require__(590);var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.isLoadNow=!0,this.animationData={},this.assets=[],this.segments=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.params=null,this.renderer=null,this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.animationID=createElementID(),this.subframeEnabled=subframeEnabled,this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){t.context&&(this.context=t.context),this.wrapper=t.wrapper||t.container||t.canvas,this.params=t,this.renderer=new CanvasRenderer(this,t.rendererSettings),this.renderer.setProjectInterface(this.projectInterface),this.animType="canvas",""===t.loop||null===t.loop||(!1===t.loop?this.loop=!1:!0===t.loop?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.loadNow=function(){try{this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(t){console.error(t)}},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,n=this.animationData.layers,i=n.length,s=t.layers,o=s.length;for(r=0;r<o;r+=1)for(e=0;e<i;){if(n[e].id==s[r].id){n[e]=s[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.replaceAsset=function(t,e,r=!0){const n=this.animationData.assets.find((e=>e.id===t));n&&(n.u="",n.p=e,n.e=r)},AnimationItem.prototype.replaceText=function(t,e){let r=JSON.stringify(this.animationData);r=r.replace(t,e),this.animationData=JSON.parse(r)},AnimationItem.prototype.findElements=function(t){return this.getApi().getKeyPath(t).getElements()},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.trigger("config_ready"),this.isLoadNow&&this.loadNow()}catch(t){console.error(t),this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&this.checkLoaded()},AnimationItem.prototype.getApi=function(){return this.api||(this.api=lottieApi.createAnimationApi(this)),this.api},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.imagePreloader.loaded()&&(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),this.gotoFrame())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){console.log(t),this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameAndGoto(0))},AnimationItem.prototype.goToAndStop=function(t,e,r){r&&this.name!=r||(e?this.setCurrentRawFrameAndGoto(t):this.setCurrentRawFrameAndGoto(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,r){this.goToAndStop(t,e,r),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameAndGoto(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameAndGoto(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameAndGoto(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameAndGoto(e),r&&(this.setCurrentRawFrameAndGoto(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameAndGoto(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameAndGoto(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var r,n=t.length;for(r=0;r<n;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null,this.imagePreloader=null,this.animationData=null,this.params=null,this._cbs=null)},AnimationItem.prototype.setCurrentRawFrameAndGoto=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.nextFrame=function(){this.currentRawFrame++,this.gotoFrame()},AnimationItem.prototype.render=function(t){this.isPaused=!1,this.advanceTime(t)},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,n=t.length,i=[];for(r=0;r<n;r+=1)i[r]=-t[r];return i}return t.propType?t.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=typeof t,n=typeof e;if("string"===r||"string"===n)return t+e;if(isNumerable(r,t)&&isNumerable(n,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,o=e.length,a=[];i<s||i<o;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]+e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}var add=sum;function sub(t,e){var r=typeof t,n=typeof e;if(isNumerable(r,t)&&isNumerable(n,e))return"string"===r&&(t=parseInt(t)),"string"===n&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,o=e.length,a=[];i<s||i<o;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]-e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}function mul(t,e){var r,n,i,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]*e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t*e[n];return r}return 0}function div(t,e){var r,n,i,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]/e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t/e[n];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var n=r;r=e,e=n}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,n=Math.min(t.length,e.length),i=0;for(r=0;r<n;r+=1)i+=Math.pow(e[r]-t[r],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,n=t[0],i=t[1],s=t[2],o=Math.max(n,i,s),a=Math.min(n,i,s),A=(o+a)/2;if(o==a)e=r=0;else{var u=o-a;switch(r=A>.5?u/(2-o-a):u/(o+a),o){case n:e=(i-s)/u+(i<s?6:0);break;case i:e=(s-n)/u+2;break;case s:e=(n-i)/u+4}e/=6}return[e,r,A,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,n,i=t[0],s=t[1],o=t[2];if(0===s)e=r=n=o;else{var a=o<.5?o*(1+s):o+s-o*s,A=2*o-a;e=hue2rgb(A,a,i+1/3),r=hue2rgb(A,a,i),n=hue2rgb(A,a,i-1/3)}return[e,r,n,t[3]]}function linear(t,e,r,n,i){if(void 0!==n&&void 0!==i||(n=e,i=r,e=0,r=1),r<e){var s=r;r=e,e=s}if(t<=e)return n;if(t>=r)return i;var o=r===e?0:(t-e)/(r-e);if(!n.length)return n+(i-n)*o;var a,A=n.length,u=createTypedArray("float32",A);for(a=0;a<A;a+=1)u[a]=n[a]+(i[a]-n[a])*o;return u}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,n=e.length;t||(t=createTypedArray("float32",n));var i=createTypedArray("float32",n),s=BMMath.random();for(r=0;r<n;r+=1)i[r]=t[r]+s*(e[r]-t[r]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,n){var i,s=t.length,o=shape_pool.newElement();o.setPathData(!!n,s);var a,A,u=[0,0];for(i=0;i<s;i+=1)a=e&&e[i]?e[i]:u,A=r&&r[i]?r[i]:u,o.setTripleAt(t[i][0],t[i][1],A[0]+t[i][0],A[1]+t[i][1],a[0]+t[i][0],a[1]+t[i][1],i,!0);return o}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,n,i=this.pv.length?this.pv.length:1,s=createTypedArray("float32",i),o=Math.floor(5*time);for(r=0,n=0;r<o;){for(n=0;n<i;n+=1)s[n]+=-e+2*e*BMMath.random();r+=1}var a=5*time,A=a-Math.floor(a),u=createTypedArray("float32",i);if(i>1){for(n=0;n<i;n+=1)u[n]=this.pv[n]+s[n]+(-e+2*e*BMMath.random())*A;return u}return this.pv+s[0]+(-e+2*e*BMMath.random())*A}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(t,e,r,n,i){return applyEase(easeOutBez,t,e,r,n,i)}function easeIn(t,e,r,n,i){return applyEase(easeInBez,t,e,r,n,i)}function ease(t,e,r,n,i){return applyEase(easeInOutBez,t,e,r,n,i)}function applyEase(t,e,r,n,i,s){void 0===i?(i=r,s=n):e=(e-r)/(n-r);var o=t(e=e>1?1:e<0?0:e);if($bm_isInstanceOfArray(i)){var a,A=i.length,u=createTypedArray("float32",A);for(a=0;a<A;a+=1)u[a]=(s[a]-i[a])*o+i[a];return u}return(s-i)*o+i}function nearestKey(t){var e,r,n,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){r=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,n=data.k[e+1].t):(r=e+1,n=data.k[e].t);break}}-1===r&&(r=e+1,n=data.k[e].t)}else r=0,n=0;var s={};return s.index=r,s.time=n/elem.comp.globalData.frameRate,s}function key(t){var e,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=data.k[t].hasOwnProperty("s")?data.k[t].s:data.k[t-1].e;for(n=i.length,r=0;r<n;r+=1)e[r]=i[r],e.value[r]=i[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),n=0;if(e.length){var i;for(i=0;i<e.length;i+=1)n+=Math.pow(r[i]-e[i],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,n=-.001,i=this.getValueAtTime(t),s=this.getValueAtTime(t+n);if(i.length)for(e=createTypedArray("float32",i.length),r=0;r<i.length;r+=1)e[r]=(s[r]-i[r])/n;else e=(s-i)/n;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,i,s,o,a,A=this.comp.renderedFrame,u=this.keyframes,l=u[u.length-1].t;if(A<=l)return this.pv;if(r?i=l-(n=e?Math.abs(l-elem.comp.globalData.frameRate*e):Math.max(0,l-this.elem.data.ip)):((!e||e>u.length-1)&&(e=u.length-1),n=l-(i=u[u.length-1-e].t)),"pingpong"===t){if(Math.floor((A-i)/n)%2!=0)return this.getValueAtTime((n-(A-i)%n+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(i/this.comp.globalData.frameRate,0),h=this.getValueAtTime(l/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((A-i)%n+i)/this.comp.globalData.frameRate,0),p=Math.floor((A-i)/n);if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=(h[s]-c[s])*p+f[s];return a}return(h-c)*p+f}if("continue"===t){var d=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(d.length)).length,s=0;s<o;s+=1)a[s]=d[s]+(d[s]-g[s])*((A-l)/this.comp.globalData.frameRate)/5e-4;return a}return d+(A-l)/.001*(d-g)}}return this.getValueAtTime(((A-i)%n+i)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,i,s,o,a,A=this.comp.renderedFrame,u=this.keyframes,l=u[0].t;if(A>=l)return this.pv;if(r?i=l+(n=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-l)):((!e||e>u.length-1)&&(e=u.length-1),n=(i=u[e].t)-l),"pingpong"===t){if(Math.floor((l-A)/n)%2==0)return this.getValueAtTime(((l-A)%n+l)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(l/this.comp.globalData.frameRate,0),h=this.getValueAtTime(i/this.comp.globalData.frameRate,0),f=this.getValueAtTime((n-(l-A)%n+l)/this.comp.globalData.frameRate,0),p=Math.floor((l-A)/n)+1;if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=f[s]-(h[s]-c[s])*p;return a}return f-(h-c)*p}if("continue"===t){var d=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(d.length)).length,s=0;s<o;s+=1)a[s]=d[s]+(d[s]-g[s])*(l-A)/.001;return a}return d+(d-g)*(l-A)/.001}}return this.getValueAtTime((n-(l-A)%n+l)/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,n,i=this.comp.renderedFrame/this.comp.globalData.frameRate,s=i-t,o=e>1?(i+t-s)/(e-1):1,a=0,A=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;a<e;){if(n=this.getValueAtTime(s+a*o),this.pv.length)for(A=0;A<this.pv.length;A+=1)r[A]+=n[A];else r+=n;a+=1}if(this.pv.length)for(A=0;A<this.pv.length;A+=1)r[A]/=e;else r/=e;return r}function n(t){console.warn("Transform at time not supported")}function i(t){}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var o=s(t,e,r);return o.dynamicProperties.length?o.getValueAtTime=n.bind(o):o.getValueAtTime=i.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;PropertyFactory.getProp=function(n,i,s,a,A){var u=o(n,i,s,a,A);u.kf?u.getValueAtTime=expressionHelpers.getValueAtTime.bind(u):u.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(u),u.setGroupProperty=expressionHelpers.setGroupProperty,u.loopOut=t,u.loopIn=e,u.smooth=r,u.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(u),u.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(u),u.numKeys=1===i.a?i.k.length:0,u.propertyIndex=i.ix;var l=0;return 0!==s&&(l=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),u._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:l},expressionHelpers.searchExpressions(n,i,u),u.k&&A.addDynamicProperty(u),u};var a=ShapePropertyFactory.getConstructorFunction(),A=ShapePropertyFactory.getKeyframedConstructorFunction();function u(){}u.prototype={vertices:function(t,e){this.k&&this.getValue();var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var n,i=r._length,s=r[t],o=r.v,a=createSizedArray(i);for(n=0;n<i;n+=1)a[n]="i"===t||"o"===t?[s[n][0]-o[n][0],s[n][1]-o[n][1]]:[s[n][0],s[n][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,i=this._segmentsLength,s=i.lengths,o=i.totalLength*t,a=0,A=s.length,u=0;a<A;){if(u+s[a].addedLength>o){var l=a,c=r.c&&a===A-1?0:a+1,h=(o-u)/s[a].addedLength;n=bez.getPointInSegment(r.v[l],r.v[c],r.o[l],r.i[c],h,s[a]);break}u+=s[a].addedLength,a+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(t,e,r){t=1==t?this.v.c?0:.999:t;var n=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),s=i[0]-n[0],o=i[1]-n[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return 0===a?[0,0]:"tangent"===r?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([u],a),extendPrototype([u],A),A.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},A.prototype.initiateExpression=ExpressionManager.initiateExpression;var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,n,i){var s=l(t,e,r,n,i);return s.propertyIndex=e.ix,s.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,s):4===r&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var n={};return this.copyData(n,t),n.t=r.toString(),n.__complete=!1,n}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function t(t,c,h){var f,p=[],d=t?t.length:0;for(f=0;f<d;f+=1)"gr"==t[f].ty?p.push(e(t[f],c[f],h)):"fl"==t[f].ty?p.push(r(t[f],c[f],h)):"st"==t[f].ty?p.push(n(t[f],c[f],h)):"tm"==t[f].ty?p.push(i(t[f],c[f],h)):"tr"==t[f].ty||("el"==t[f].ty?p.push(s(t[f],c[f],h)):"sr"==t[f].ty?p.push(o(t[f],c[f],h)):"sh"==t[f].ty?p.push(l(t[f],c[f],h)):"rc"==t[f].ty?p.push(a(t[f],c[f],h)):"rd"==t[f].ty?p.push(A(t[f],c[f],h)):"rp"==t[f].ty&&p.push(u(t[f],c[f],h)));return p}function e(e,r,n){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=function(t){return 1===t?i:n(t-1)};var s=function(e,r,n){var i,s=function(t){for(var e=0,r=i.length;e<r;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}if("number"==typeof t)return i[t-1]};return s.propertyGroup=function(t){return 1===t?s:n(t-1)},i=t(e.it,r.it,s.propertyGroup),s.numProperties=i.length,s.propertyIndex=e.cix,s._name=e.nm,s}(e,r,i.propertyGroup),o=function(t,e,r){function n(t){return 1==t?i:r(--t)}function i(e){return t.a.ix===e||"Anchor Point"===e?i.anchorPoint:t.o.ix===e||"Opacity"===e?i.opacity:t.p.ix===e||"Position"===e?i.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:t.s.ix===e||"Scale"===e?i.scale:t.sk&&t.sk.ix===e||"Skew"===e?i.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?i.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(n),e.transform.mProps.p.setGroupProperty(n),e.transform.mProps.a.setGroupProperty(n),e.transform.mProps.s.setGroupProperty(n),e.transform.mProps.r.setGroupProperty(n),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(n),e.transform.mProps.sa.setGroupProperty(n)),e.transform.op.setGroupProperty(n),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty="tr",i.mn=t.mn,i.propertyGroup=r,i}(e.it[e.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.content=s,i.transform=o,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i}function r(t,e,r){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:void 0}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),n}function n(t,e,r){function n(t){return 1===t?ob:r(t-1)}function i(t){return 1===t?A:n(t-1)}function s(r){Object.defineProperty(A,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var o,a=t.d?t.d.length:0,A={};for(o=0;o<a;o+=1)s(o),e.d.dataProps[o].p.setGroupProperty(i);function u(t){return"Color"===t||"color"===t?u.color:"Opacity"===t||"opacity"===t?u.opacity:"Stroke Width"===t||"stroke width"===t?u.strokeWidth:void 0}return Object.defineProperties(u,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return A}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(n),e.o.setGroupProperty(n),e.w.setGroupProperty(n),u}function i(t,e,r){function n(t){return 1==t?i:r(--t)}function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}return i.propertyIndex=t.ix,e.s.setGroupProperty(n),e.e.setGroupProperty(n),e.o.setGroupProperty(n),i.propertyIndex=t.ix,i.propertyGroup=r,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}function s(t,e,r){function n(t){return 1==t?s:r(--t)}s.propertyIndex=t.ix;var i="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.s.ix===e?s.size:void 0}return i.s.setGroupProperty(n),i.p.setGroupProperty(n),Object.defineProperties(s,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:t.nm}}),s.mn=t.mn,s}function o(t,e,r){function n(t){return 1==t?s:r(--t)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.rotation:t.pt.ix===e?s.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?s.outerRadius:t.os.ix===e?s.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?s.innerRoundness:void 0:s.innerRadius}return s.propertyIndex=t.ix,i.or.setGroupProperty(n),i.os.setGroupProperty(n),i.pt.setGroupProperty(n),i.p.setGroupProperty(n),i.r.setGroupProperty(n),t.ir&&(i.ir.setGroupProperty(n),i.is.setGroupProperty(n)),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:t.nm}}),s.mn=t.mn,s}function a(t,e,r){function n(t){return 1==t?s:r(--t)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?s.size:void 0}return s.propertyIndex=t.ix,i.p.setGroupProperty(n),i.s.setGroupProperty(n),i.r.setGroupProperty(n),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:t.nm}}),s.mn=t.mn,s}function A(t,e,r){var n=e;function i(e){if(t.r.ix===e||"Round Corners 1"===e)return i.radius}return i.propertyIndex=t.ix,n.rd.setGroupProperty((function(t){return 1==t?i:r(--t)})),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(n.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}function u(t,e,r){function n(t){return 1==t?s:r(--t)}var i=e;function s(e){return t.c.ix===e||"Copies"===e?s.copies:t.o.ix===e||"Offset"===e?s.offset:void 0}return s.propertyIndex=t.ix,i.c.setGroupProperty(n),i.o.setGroupProperty(n),Object.defineProperties(s,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm}}),s.mn=t.mn,s}function l(t,e,r){var n=e.sh;function i(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return i.path}return n.setGroupProperty((function(t){return 1==t?i:r(--t)})),Object.defineProperties(i,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn}}),i}return function(e,r,n){var i;function s(t){if("number"==typeof t)return i[t-1];for(var e=0,r=i.length;e<r;){if(i[e]._name===t)return i[e];e+=1}}return s.propertyGroup=n,i=t(e,r,s),s.numProperties=i.length,s}}(),TextExpressionInterface=function(t){var e,r;function n(){}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return n!==e&&(t.textProperty.currentData.t=e,(r=new String(n)).value=n||new String(n)),r}}),n},LayerExpressionInterface=function(){function t(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(t[0],t[1],t[2]||0)}return r.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(t)}return r.inversePoint(t)}function r(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function n(){return[1,1,1,1]}return function(i){var s;function o(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return o.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return s;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return o.effect}}o.toWorld=t,o.fromWorld=e,o.toComp=t,o.fromComp=r,o.sampleImage=n,o.sourceRectAtTime=i.sourceRectAtTime.bind(i),o._elem=i;var a=getDescriptor(s=TransformExpressionInterface(i.finalTransform.mProp),"anchorPoint");return Object.defineProperties(o,{hasParent:{get:function(){return i.hierarchy.length}},parent:{get:function(){return i.hierarchy[0].layerInterface}},rotation:getDescriptor(s,"rotation"),scale:getDescriptor(s,"scale"),position:getDescriptor(s,"position"),opacity:getDescriptor(s,"opacity"),anchorPoint:a,anchor_point:a,transform:{get:function(){return s}},active:{get:function(){return i.isInRange}}}),o.startTime=i.data.st,o.index=i.data.ind,o.source=i.data.refId,o.height=0===i.data.ty?i.data.h:100,o.width=0===i.data.ty?i.data.w:100,o.inPoint=i.data.ip/i.comp.globalData.frameRate,o.outPoint=i.data.op/i.comp.globalData.frameRate,o._name=i.data.nm,o.registerMaskInterface=function(t){o.mask=new MaskManagerInterface(t,i)},o.registerEffectsInterface=function(t){o.effect=t},o}}(),CompExpressionInterface=function(t){function e(e){for(var r=0,n=t.layers.length;r<n;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}if(Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p)var r=ExpressionPropertyInterface(t.p);return Object.defineProperty(e,"position",{get:function(){return t.p?r():[t.px.v,t.py.v,t.pz?t.pz.v:0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(r,n,i,s){var o,a=[],A=r.ef.length;for(o=0;o<A;o+=1)5===r.ef[o].ty?a.push(t(r.ef[o],n.effectElements[o],n.effectElements[o].propertyGroup,s)):a.push(e(n.effectElements[o],r.ef[o].ty,s,u));function u(t){return 1===t?l:i(t-1)}var l=function(t){for(var e=r.ef,n=0,i=e.length;n<i;){if(t===e[n].nm||t===e[n].mn||t===e[n].ix)return 5===e[n].ty?a[n]:a[n]();n+=1}return a[0]()};return l.propertyGroup=u,"ADBE Color Control"===r.mn&&Object.defineProperty(l,"color",{get:function(){return a[0]()}}),Object.defineProperty(l,"numProperties",{get:function(){return r.np}}),l.active=l.enabled=0!==r.en,l}function e(t,e,r,n){var i=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(n),function(){return 10===e?r.comp.compInterface(t.p.v):i()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var n,i=[],s=e.data.ef,o=e.effectsManager.effectElements.length;for(n=0;n<o;n+=1)i.push(t(s[n],e.effectsManager.effectElements[n],r,e));return function(t){for(var r=e.data.ef||[],n=0,s=r.length;n<s;){if(t===r[n].nm||t===r[n].mn||t===r[n].ix)return i[n];n+=1}}}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e,r){var n,i=createSizedArray(e.viewData.length),s=e.viewData.length;for(n=0;n<s;n+=1)i[n]=new t(e.viewData[n],e.masksProperties[n]);return function(t){for(n=0;n<s;){if(e.masksProperties[n].nm===t)return i[n];n+=1}}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(n){if(t.numKeys){var i;i="s"in e.keyframes[n-1]?e.keyframes[n-1].s:"e"in e.keyframes[n-2]?e.keyframes[n-2].e:e.keyframes[n-2].s;var s="unidimensional"===r?new Number(i):Object.assign({},i);return s.time=e.keyframes[n-1].t/e.elem.comp.globalData.frameRate,s}return 0},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function n(){return t}return function(i){return i?"unidimensional"===i.propType?function(e){e&&"pv"in e||(e=t);var n=1/e.mult,i=e.pv*n,s=new Number(i);return s.value=i,r(s,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*n,s.value!==i&&((s=new Number(i)).value=i,r(s,e,"unidimensional")),s}}(i):function(t){t&&"pv"in t||(t=e);var n=1/t.mult,i=t.pv.length,s=createTypedArray("float32",i),o=createTypedArray("float32",i);return s.value=o,r(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)s[e]=o[e]=t.v[e]*n;return s}}(i):n}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var n,i,s=r.length;for(n=0;n<s;n++)i=new GroupEffect(r[n],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}TextExpressionSelectorProp=function(){function t(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(e,r){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=r.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,r,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(t,e,r){return 1===e.t?new TextExpressionSelectorProp(t,e,r):propertyGetTextProp(t,e,r)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,n,i=this.data.ef.length,s=this.data.ef;for(r=0;r<i;r+=1){switch(n=null,s[r].ty){case 0:n=new SliderEffect(s[r],e,this);break;case 1:n=new AngleEffect(s[r],e,this);break;case 2:n=new ColorEffect(s[r],e,this);break;case 3:n=new PointEffect(s[r],e,this);break;case 4:case 7:n=new CheckboxEffect(s[r],e,this);break;case 10:n=new LayerIndexEffect(s[r],e,this);break;case 11:n=new MaskIndexEffect(s[r],e,this);break;case 5:n=new EffectsManager(s[r],e,this);break;default:n=new NoValueEffect(s[r],e,this)}n&&this.effectElements.push(n)}};var lottiejs={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t,e){return animationManager.loadAnimation(t,e)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return!0}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}lottiejs.canvas=null,lottiejs.setCanvas=function(t){lottiejs.canvas=t},lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.5.101";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";return lottiejs},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return factory(root)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},()=>{},()=>{},t=>{t.exports=function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){if(s)return s(o,!0);var A=new Error("Cannot find module '"+o+"'");throw A.code="MODULE_NOT_FOUND",A}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(t){return i(e[o][1][t]||t)}),u,u.exports,t,e,r,n)}return r[o].exports}for(var s=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){"use strict";var n=t("../renderer/Renderer"),i=t("../helpers/layerAPIBuilder");e.exports=function(t){var e={animation:t,elements:t.renderer.elements.map((function(e){return i(e,t)})),boundingRect:null,scaleData:null};function r(r){var n,i,s,o,a,A,u,l,c,h,f;r=t.wrapper,e.boundingRect=r.getBoundingClientRect(),e.scaleData=(n=e.boundingRect,a=t.animationData.w,A=t.animationData.h,u=a/A,l=n.width,c=n.height,h=l/c,f=t.renderer.renderConfig.preserveAspectRatio.split(" "),i="meet"===f[1]?h>u?c/A:l/a:h>u?l/a:c/A,s=f[0].substr(0,4),{scaleYOffset:"YMin"===(o=f[0].substr(4))?0:"YMid"===o?(c-A*i)/2:c-A*i,scaleXOffset:"xMin"===s?0:"xMid"===s?(l-a*i)/2:l-a*i,scale:i})}var s={recalculateSize:r,getScaleData:function(){return e.scaleData},toContainerPoint:function(n){if(!t.wrapper||!t.wrapper.getBoundingClientRect)return n;e.boundingRect||r();var i=e.boundingRect,s=[n[0]-i.left,n[1]-i.top],o=e.scaleData;return s[0]=(s[0]-o.scaleXOffset)/o.scale,s[1]=(s[1]-o.scaleYOffset)/o.scale,s},fromContainerPoint:function(n){if(!t.wrapper||!t.wrapper.getBoundingClientRect)return n;e.boundingRect||r();var i,s=e.boundingRect,o=e.scaleData;return[(i=[n[0]*o.scale+o.scaleXOffset,n[1]*o.scale+o.scaleYOffset])[0]+s.left,i[1]+s.top]},getCurrentFrame:function(){return t.currentFrame},getCurrentTime:function(){return t.currentFrame/t.frameRate},addValueCallback:function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t.getPropertyAtIndex(r).setValue(e)},toKeypathLayerPoint:function(t,e){var r,n=t.length,i=[];for(r=0;r<n;r+=1)i.push(t.getPropertyAtIndex(r).toKeypathLayerPoint(e));return 1===i.length?i[0]:i},fromKeypathLayerPoint:function(t,e){var r,n=t.length,i=[];for(r=0;r<n;r+=1)i.push(t.getPropertyAtIndex(r).fromKeypathLayerPoint(e));return 1===i.length?i[0]:i}};return Object.assign({},n(e),s)}},{"../helpers/layerAPIBuilder":6,"../renderer/Renderer":42}],2:[function(t,e,r){"use strict";e.exports=","},{}],3:[function(t,e,r){"use strict";e.exports={0:0,1:1,2:2,3:3,4:4,5:5,13:13,comp:0,composition:0,solid:1,image:2,null:3,shape:4,text:5,camera:13}},{}],4:[function(t,e,r){"use strict";e.exports={LAYER_TRANSFORM:"transform"}},{}],5:[function(t,e,r){"use strict";var n=t("../enums/key_path_separator"),i=t("./stringSanitizer");e.exports=function(t){var e=t.split(n),r=e.shift();return{selector:i(r),propertyPath:e.join(n)}}},{"../enums/key_path_separator":2,"./stringSanitizer":7}],6:[function(t,e,r){"use strict";var n=t("../layer/text/TextElement"),i=t("../layer/shape/Shape"),s=t("../layer/null_element/NullElement"),o=t("../layer/solid/SolidElement"),a=t("../layer/image/ImageElement"),A=t("../layer/camera/Camera"),u=t("../layer/LayerBase");e.exports=function(e,r){var l=e.data.ty,c=t("../layer/composition/Composition");switch(l){case 0:return c(e,r);case 1:return o(e,r);case 2:return a(e,r);case 3:return s(e,r);case 4:return i(e,r,e.data.shapes,e.itemsData);case 5:return n(e,r);case 13:return A(e,r);default:return u(e,r)}}},{"../layer/LayerBase":13,"../layer/camera/Camera":15,"../layer/composition/Composition":16,"../layer/image/ImageElement":20,"../layer/null_element/NullElement":21,"../layer/shape/Shape":22,"../layer/solid/SolidElement":35,"../layer/text/TextElement":38}],7:[function(t,e,r){"use strict";e.exports=function(t){return t.trim()}},{}],8:[function(t,e,r){"use strict";var n=t("./typedArrays"),i=function(){var t=Math.cos,e=Math.sin,r=Math.tan,i=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1)}function A(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1)}function u(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function l(t,e){return this._t(1,e,t,1,0,0)}function c(t,e){return this.shear(r(t),r(e))}function h(n,i){var s=t(i),o=e(i);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function f(t,e,r){return r=isNaN(r)?1:r,1==t&&1==e&&1==r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function p(t,e,r,n,i,s,o,a,A,u,l,c,h,f,p,d){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=n,this.props[4]=i,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=A,this.props[9]=u,this.props[10]=l,this.props[11]=c,this.props[12]=h,this.props[13]=f,this.props[14]=p,this.props[15]=d,this}function d(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function g(t,e,r,n,i,s,o,a,A,u,l,c,h,f,p,d){var g=this.props;if(1===t&&0===e&&0===r&&0===n&&0===i&&1===s&&0===o&&0===a&&0===A&&0===u&&1===l&&0===c)return g[12]=g[12]*t+g[15]*h,g[13]=g[13]*s+g[15]*f,g[14]=g[14]*l+g[15]*p,g[15]=g[15]*d,this._identityCalculated=!1,this;var m=g[0],v=g[1],y=g[2],_=g[3],b=g[4],w=g[5],B=g[6],x=g[7],E=g[8],C=g[9],T=g[10],I=g[11],F=g[12],S=g[13],U=g[14],M=g[15];return g[0]=m*t+v*i+y*A+_*h,g[1]=m*e+v*s+y*u+_*f,g[2]=m*r+v*o+y*l+_*p,g[3]=m*n+v*a+y*c+_*d,g[4]=b*t+w*i+B*A+x*h,g[5]=b*e+w*s+B*u+x*f,g[6]=b*r+w*o+B*l+x*p,g[7]=b*n+w*a+B*c+x*d,g[8]=E*t+C*i+T*A+I*h,g[9]=E*e+C*s+T*u+I*f,g[10]=E*r+C*o+T*l+I*p,g[11]=E*n+C*a+T*c+I*d,g[12]=F*t+S*i+U*A+M*h,g[13]=F*e+S*s+U*u+M*f,g[14]=F*r+S*o+U*l+M*p,g[15]=F*n+S*a+U*c+M*d,this._identityCalculated=!1,this}function m(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function y(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function w(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function B(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function x(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function E(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/e,n=-this.props[1]/e,i=-this.props[4]/e,s=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*r+t[1]*i+o,t[0]*n+t[1]*s+a,0]}function C(t){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n[e]=E(t[e]);return n}function T(t,e,r){var i=n("float32",6);if(this.isIdentity())i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],i[4]=r[0],i[5]=r[1];else{var s=this.props[0],o=this.props[1],a=this.props[4],A=this.props[5],u=this.props[12],l=this.props[13];i[0]=t[0]*s+t[1]*a+u,i[1]=t[0]*o+t[1]*A+l,i[2]=e[0]*s+e[1]*a+u,i[3]=e[0]*o+e[1]*A+l,i[4]=r[0]*s+r[1]*a+u,i[5]=r[0]*o+r[1]*A+l}return i}function I(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function F(t,e){return this.isIdentity()?t+","+e:t*this.props[0]+e*this.props[4]+this.props[12]+","+(t*this.props[1]+e*this.props[5]+this.props[13])}function S(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=i(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function U(){var t=1e4,e=this.props;return"matrix("+i(e[0]*t)/t+","+i(e[1]*t)/t+","+i(e[4]*t)/t+","+i(e[5]*t)/t+","+i(e[12]*t)/t+","+i(e[13]*t)/t+")"}function M(){this.reset=s,this.rotate=o,this.rotateX=a,this.rotateY=A,this.rotateZ=u,this.skew=c,this.skewFromAxis=h,this.shear=l,this.scale=f,this.setTransform=p,this.translate=d,this.transform=g,this.applyToPoint=b,this.applyToX=w,this.applyToY=B,this.applyToZ=x,this.applyToPointArray=I,this.applyToTriplePoints=T,this.applyToPointStringified=F,this.toCSS=S,this.to2dCSS=U,this.clone=y,this.cloneFromProps=_,this.equals=v,this.inversePoints=C,this.inversePoint=E,this._t=this.transform,this.isIdentity=m,this._identity=!0,this._identityCalculated=!1,this.props=n("float32",16),this.reset()}return function(){return new M}}();e.exports=i},{"./typedArrays":9}],9:[function(t,e,r){"use strict";var n="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var r,n=0,i=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<e;n+=1)i.push(r);return i};e.exports=n},{}],10:[function(t,e,r){"use strict";var n=t("./animation/AnimationItem");e.exports={createAnimationApi:function(t){return Object.assign({},n(t))}}},{"./animation/AnimationItem":1}],11:[function(t,e,r){"use strict";var n=t("../helpers/keyPathBuilder"),i=t("../enums/layer_types");e.exports=function t(e,r){function s(r){return t(function(t,e){return t.filter((function(t){return t.getTargetLayer().data.ty===i[e]}))}(e,r),"layer")}var o={getKeyPath:function(i){var o,a,A,u=n(i),l=u.selector;return"renderer"===r||"layer"===r?(o=function(r){return t(function(t,e){return t.filter((function(t){return t.getTargetLayer().data.nm===e}))}(e,r),"layer")}(l),a=s(l),A=0===o.length&&0===a.length?function(r){return t(function(t,e){return t.filter((function(t){return!!t.hasProperty(e)&&t.getProperty(e)}))}(e,r).map((function(t){return t.getProperty(r)})),"property")}(l):o.concat(a),u.propertyPath?A.getKeyPath(u.propertyPath):A):"property"===r?(A=function(r){return t(e.filter((function(t){return t.hasProperty(r)})).map((function(t){return t.getProperty(r)})),"property")}(l),u.propertyPath?A.getKeyPath(u.propertyPath):A):void 0},concat:function(n){var i=n.getElements();return t(e.concat(i),r)},getElements:function(){return e},getPropertyAtIndex:function(t){return e[t]}};return Object.defineProperty(o,"length",{get:function(){return e.length}}),o}},{"../enums/layer_types":3,"../helpers/keyPathBuilder":5}],12:[function(t,e,r){"use strict";t("../enums/key_path_separator"),t("../enums/property_names"),e.exports=function(t){function e(e,r){for(var n=t.properties||[],i=0,s=n.length;i<s;){if(n[i].name===e)return n[i].value;i+=1}return null}return{hasProperty:function(t){return!!e(t)},getProperty:function(t){return e(t)},fromKeypathLayerPoint:function(e){return t.parent.fromKeypathLayerPoint(e)},toKeypathLayerPoint:function(e){return t.parent.toKeypathLayerPoint(e)}}}},{"../enums/key_path_separator":2,"../enums/property_names":4}],13:[function(t,e,r){"use strict";var n=t("../key_path/KeyPathNode"),i=t("./transform/Transform"),s=t("./effects/Effects"),o=t("../helpers/transformationMatrix");e.exports=function(t){var e=i(t.element.finalTransform.mProp,t),r=s(t.element.effectsManager.effectElements||[],t),a={getTargetLayer:function(){return t.element},toKeypathLayerPoint:function(e){var r=t.element;t.parent.toKeypathLayerPoint&&(e=t.parent.toKeypathLayerPoint(e));var n=o();if(t.getProperty("Transform").getTargetTransform().applyToMatrix(n),r.hierarchy&&r.hierarchy.length){var i,s=r.hierarchy.length;for(i=0;i<s;i+=1)r.hierarchy[i].finalTransform.mProp.applyToMatrix(n)}return n.inversePoint(e)},fromKeypathLayerPoint:function(e){var r=t.element,n=o();if(t.getProperty("Transform").getTargetTransform().applyToMatrix(n),r.hierarchy&&r.hierarchy.length){var i,s=r.hierarchy.length;for(i=0;i<s;i+=1)r.hierarchy[i].finalTransform.mProp.applyToMatrix(n)}return e=n.applyToPointArray(e[0],e[1],e[2]||0),t.parent.fromKeypathLayerPoint?t.parent.fromKeypathLayerPoint(e):e}};return t.properties.push({name:"transform",value:e},{name:"Transform",value:e},{name:"Effects",value:r},{name:"effects",value:r}),Object.assign(t,n(t),a)}},{"../helpers/transformationMatrix":8,"../key_path/KeyPathNode":12,"./effects/Effects":19,"./transform/Transform":39}],14:[function(t,e,r){"use strict";var n=t("../enums/layer_types"),i=t("../helpers/layerAPIBuilder");e.exports=function t(e){function r(t,r){t.reduce((function(t,r){var n=r;return t[r]=function(){var t=arguments;return e.map((function(e){var r=i(e);return r[n]?r[n].apply(null,t):null}))},t}),s)}var s={getLayers:function(){return t(e)},getLayersByType:function(r){return t(function(t,e){return t.filter((function(t){return t.data.ty===n[e]}))}(e,r))},getLayersByName:function(r){return t(function(t,e){return t.filter((function(t){return t.data.nm===e}))}(e,r))},layer:function(t){return t>=e.length?[]:i(e[parseInt(t)])},concat:function(t){return e.concat(t.getTargetElements())},getTargetElements:function(){return e}};return r(["setTranslate","getType","getDuration"]),r(["setText","getText","setDocumentData","canResizeFont","setMinimumFontSize"]),Object.defineProperty(s,"length",{get:function(){return e.length}}),s}},{"../enums/layer_types":3,"../helpers/layerAPIBuilder":6}],15:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={element:t,parent:e,properties:[{name:"Point of Interest",value:i(t.a,e)},{name:"Zoom",value:i(t.pe,e)},{name:"Position",value:i(t.p,e)},{name:"X Rotation",value:i(t.rx,e)},{name:"Y Rotation",value:i(t.ry,e)},{name:"Z Rotation",value:i(t.rz,e)},{name:"Orientation",value:i(t.or,e)}]},s={getTargetLayer:function(){return r.element}};return Object.assign({},n(r),s)}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],16:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathList"),i=t("../LayerBase"),s=t("../../helpers/layerAPIBuilder"),o=(t("../../property/Property"),t("./TimeRemap"));e.exports=function(t,e){var r,a={element:t,parent:e,properties:(r=t.layers.map(A),[{name:"Time Remap",value:o(t.tm)}].concat(r))};function A(e,r){var n=null,i={name:e.nm};return Object.defineProperty(i,"value",{get:function(){return n||(n=s(t.elements[r],a)),n}}),i}return Object.assign({},i(a),n(a.elements,"layer"),{})}},{"../../helpers/layerAPIBuilder":6,"../../key_path/KeyPathList":11,"../../property/Property":40,"../LayerBase":13,"./TimeRemap":17}],17:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/ValueProperty");e.exports=function(t,e){var r,s={property:t,parent:e},o=!1,a=0,A=0,u=0,l=0,c=!0,h=1,f=!1,p=!1,d=[],g={time:-1};function m(t,e,r){f=!1,r&&(y(),l=t),p&&console.log(t,e),u=Date.now(),a=t,A=e,b()}function v(){var t=d.shift();m(t[0],t[1])}function y(){d.length=0}function _(t){if(a===A)l=a;else if(!f){var e=Date.now(),r=h*(e-u)/1e3;u=e,a<A?(l+=r)>A&&(d.length?v():c?l%=A-a:l=A):(l-=r)<A&&(d.length?v():l=c?a-(A-l):A),p&&console.log(l)}return B.onEnterFrame&&g.time!==l&&(g.time=l,B.onEnterFrame(g)),l}function b(){o||(o=!0,r=B.setValue(_,p))}var w={playSegment:m,playTo:function(t,e){f=!1,e&&y(),b(),A=t},queueSegment:function(t,e){d.push([t,e])},clearQueue:y,setLoop:function(t){c=t},setSpeed:function(t){h=t},pause:function(){f=!0},setDebugging:function(t){p=t},getCurrentTime:function(){return o?l:t.v/t.mult},onEnterFrame:null,destroy:function(){r&&(r(),s.property=null,s.parent=null)}},B={};return Object.assign(B,w,i(s),n(s))}},{"../../key_path/KeyPathNode":12,"../../property/ValueProperty":41}],18:[function(t,e,r){"use strict";var n=t("../../property/Property");e.exports=function(t,e){return n(t.p,e)}},{"../../property/Property":40}],19:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");t("./EffectElement"),e.exports=function t(e,r){var s={parent:r,properties:function(){var n,s=e.length,o=[];for(n=0;n<s;n+=1)o.push((a=e[n],A=n,{name:a.data?a.data.nm:A.toString(),value:a.data?t(a.effectElements,r):i(a.p,r)}));var a,A;return o}()};return Object.assign({},n(s))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40,"./EffectElement":18}],20:[function(t,e,r){"use strict";var n=t("../LayerBase");e.exports=function(t){var e={element:t,parent,properties:[]};return Object.assign({},n(e),{})}},{"../LayerBase":13}],21:[function(t,e,r){"use strict";var n=t("../LayerBase");e.exports=function(t,e){var r={element:t,parent:e,properties:[]};return Object.assign({},n(r),{})}},{"../LayerBase":13}],22:[function(t,e,r){"use strict";var n=t("../LayerBase"),i=t("./ShapeContents");e.exports=function(t,e){var r={properties:[],parent:e,element:t},s=i(t.data.shapes,t.itemsData,r);return r.properties.push({name:"Contents",value:s}),Object.assign(r,n(r),{})}},{"../LayerBase":13,"./ShapeContents":23}],23:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=(t("../../property/Property"),t("./ShapeRectangle")),s=t("./ShapeFill"),o=t("./ShapeStroke"),a=t("./ShapeEllipse"),A=t("./ShapeGradientFill"),u=t("./ShapeGradientStroke"),l=t("./ShapeTrimPaths"),c=t("./ShapeRepeater"),h=t("./ShapePolystar"),f=t("./ShapeRoundCorners"),p=t("./ShapePath"),d=t("../transform/Transform"),g=t("../../helpers/transformationMatrix");e.exports=function t(e,r,m){var v={properties:e.map((function(n,g){return function(n,g){var m={name:n.nm};return Object.defineProperty(m,"value",{get:function(){return y[g]?y[g]:("gr"===n.ty?m=t(e[g].it,r[g].it,v):"rc"===n.ty?m=i(r[g],v):"el"===n.ty?m=a(r[g],v):"fl"===n.ty?m=s(r[g],v):"st"===n.ty?m=o(r[g],v):"gf"===n.ty?m=A(r[g],v):"gs"===n.ty?m=u(r[g],v):"tm"===n.ty?m=l(r[g],v):"rp"===n.ty?m=c(r[g],v):"sr"===n.ty?m=h(r[g],v):"rd"===n.ty?m=f(r[g],v):"sh"===n.ty?m=p(r[g],v):"tr"===n.ty?m=d(r[g].transform.mProps,v):console.log(n.ty),y[g]=m,m);var m}}),m}(n,g)})),parent:m},y=[],_={fromKeypathLayerPoint:function(t){if(v.hasProperty("Transform")){var e=g();v.getProperty("Transform").getTargetTransform().applyToMatrix(e),t=e.applyToPointArray(t[0],t[1],t[2]||0)}return v.parent.fromKeypathLayerPoint(t)},toKeypathLayerPoint:function(t){if(t=v.parent.toKeypathLayerPoint(t),v.hasProperty("Transform")){var e=g();v.getProperty("Transform").getTargetTransform().applyToMatrix(e),t=e.inversePoint(t)}return t}};return Object.assign(v,n(v),_)}},{"../../helpers/transformationMatrix":8,"../../key_path/KeyPathNode":12,"../../property/Property":40,"../transform/Transform":39,"./ShapeEllipse":24,"./ShapeFill":25,"./ShapeGradientFill":26,"./ShapeGradientStroke":27,"./ShapePath":28,"./ShapePolystar":29,"./ShapeRectangle":30,"./ShapeRepeater":31,"./ShapeRoundCorners":32,"./ShapeStroke":33,"./ShapeTrimPaths":34}],24:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Size",value:i(t.sh.s,e)},{name:"Position",value:i(t.sh.p,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],25:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Color",value:i(t.c,e)},{name:"Opacity",value:{setValue:i(t.o,e)}}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],26:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Start Point",value:i(t.s,e)},{name:"End Point",value:i(t.s,e)},{name:"Opacity",value:i(t.o,e)},{name:"Highlight Length",value:i(t.h,e)},{name:"Highlight Angle",value:i(t.a,e)},{name:"Colors",value:i(t.g.prop,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],27:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Start Point",value:i(t.s,e)},{name:"End Point",value:i(t.e,e)},{name:"Opacity",value:i(t.o,e)},{name:"Highlight Length",value:i(t.h,e)},{name:"Highlight Angle",value:i(t.a,e)},{name:"Colors",value:i(t.g.prop,e)},{name:"Stroke Width",value:i(t.w,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],28:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"path",value:i(t.sh,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],29:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Points",value:i(t.sh.pt,e)},{name:"Position",value:i(t.sh.p,e)},{name:"Rotation",value:i(t.sh.r,e)},{name:"Inner Radius",value:i(t.sh.ir,e)},{name:"Outer Radius",value:i(t.sh.or,e)},{name:"Inner Roundness",value:i(t.sh.is,e)},{name:"Outer Roundness",value:i(t.sh.os,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],30:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Size",value:i(t.sh.s,e)},{name:"Position",value:i(t.sh.p,e)},{name:"Roundness",value:i(t.sh.r,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],31:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property"),s=t("../transform/Transform");e.exports=function(t,e){var r={parent:e,properties:[{name:"Copies",value:i(t.c,e)},{name:"Offset",value:i(t.o,e)},{name:"Transform",value:s(t.tr,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40,"../transform/Transform":39}],32:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Radius",value:i(t.rd,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],33:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Color",value:i(t.c,e)},{name:"Stroke Width",value:i(t.w,e)},{name:"Opacity",value:i(t.o,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],34:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={parent:e,properties:[{name:"Start",value:i(t.s,e)},{name:"End",value:i(t.e,e)},{name:"Offset",value:i(t.o,e)}]};return Object.assign({},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],35:[function(t,e,r){"use strict";var n=t("../LayerBase");e.exports=function(t,e){var r={element:t,parent:e,properties:[]};return Object.assign({},n(r),{})}},{"../LayerBase":13}],36:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=(t("../../property/Property"),t("./TextAnimator"));e.exports=function(t,e){var r={element:t,parent:e,properties:[{name:"Source",value:{setValue:s}}].concat(function(){var e,r,n=[],s=t.textAnimator._animatorsData,o=s.length;for(e=0;e<o;e+=1)r=i(s[e]),n.push({name:t.textAnimator._textData.a[e].nm||"Animator "+(e+1),value:r});return n}())};function s(e){var r;t.textProperty.addEffect((function(n){var i=e(t.textProperty.currentData);return r!==i?(r=i,Object.assign({},n,i,{__complete:!1})):n}))}return Object.assign({},{},n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40,"./TextAnimator":37}],37:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t){var e={properties:[{name:"Anchor Point",value:{setValue:r}},{name:"Fill Brightness",value:{setValue:s}},{name:"Fill Color",value:{setValue:o}},{name:"Fill Hue",value:{setValue:a}},{name:"Fill Saturation",value:{setValue:A}},{name:"Fill Opacity",value:{setValue:u}},{name:"Opacity",value:{setValue:l}},{name:"Position",value:{setValue:c}},{name:"Rotation X",value:{setValue:h}},{name:"Rotation Y",value:{setValue:f}},{name:"Scale",value:{setValue:p}},{name:"Skew Axis",value:{setValue:d}},{name:"Stroke Color",value:{setValue:g}},{name:"Skew",value:{setValue:m}},{name:"Stroke Width",value:{setValue:y}},{name:"Tracking Amount",value:{setValue:B}},{name:"Stroke Opacity",value:{setValue:v}},{name:"Stroke Brightness",value:{setValue:_}},{name:"Stroke Saturation",value:{setValue:w}},{name:"Stroke Hue",value:{setValue:b}}]};function r(e){i(t.a.a).setValue(e)}function s(e){i(t.a.fb).setValue(e)}function o(e){i(t.a.fc).setValue(e)}function a(e){i(t.a.fh).setValue(e)}function A(e){i(t.a.fs).setValue(e)}function u(e){i(t.a.fo).setValue(e)}function l(e){i(t.a.o).setValue(e)}function c(e){i(t.a.p).setValue(e)}function h(e){i(t.a.rx).setValue(e)}function f(e){i(t.a.ry).setValue(e)}function p(e){i(t.a.s).setValue(e)}function d(e){i(t.a.sa).setValue(e)}function g(e){i(t.a.sc).setValue(e)}function m(e){i(t.a.sk).setValue(e)}function v(e){i(t.a.so).setValue(e)}function y(e){i(t.a.sw).setValue(e)}function _(e){i(t.a.sb).setValue(e)}function b(e){i(t.a.sh).setValue(e)}function w(e){i(t.a.ss).setValue(e)}function B(e){i(t.a.t).setValue(e)}return Object.assign({},{},n(e))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],38:[function(t,e,r){"use strict";var n=t("../LayerBase"),i=t("./Text");e.exports=function(t){var e=i(t),r={element:t,properties:[{name:"text",value:e},{name:"Text",value:e}]};function s(e,r){return t.updateDocumentData(e,r)}var o={getText:function(){return t.textProperty.currentData.t},setText:function(t,e){s({t},e)},canResizeFont:function(e){return t.canResizeFont(e)},setDocumentData:s,setMinimumFontSize:function(e){return t.setMinimumFontSize(e)}};return Object.assign({},n(r),o)}},{"../LayerBase":13,"./Text":36}],39:[function(t,e,r){"use strict";var n=t("../../key_path/KeyPathNode"),i=t("../../property/Property");e.exports=function(t,e){var r={properties:[{name:"Anchor Point",value:i(t.a,e)},{name:"Point of Interest",value:i(t.a,e)},{name:"Position",value:i(t.p,e)},{name:"Scale",value:i(t.s,e)},{name:"Rotation",value:i(t.r,e)},{name:"X Position",value:i(t.px,e)},{name:"Y Position",value:i(t.py,e)},{name:"Z Position",value:i(t.pz,e)},{name:"X Rotation",value:i(t.rx,e)},{name:"Y Rotation",value:i(t.ry,e)},{name:"Z Rotation",value:i(t.rz,e)},{name:"Opacity",value:i(t.o,e)}]},s={getTargetTransform:function(){return t}};return Object.assign(s,n(r))}},{"../../key_path/KeyPathNode":12,"../../property/Property":40}],40:[function(t,e,r){"use strict";var n=t("../key_path/KeyPathNode"),i=t("./ValueProperty");e.exports=function(t,e){var r={property:t,parent:e},s={destroy:function(){r.property=null,r.parent=null}};return Object.assign({},s,i(r),n(r))}},{"../key_path/KeyPathNode":12,"./ValueProperty":41}],41:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.exports=function(t){return{setValue:function(e){var r=t.property;if(r&&r.addEffect)return"function"==typeof e?r.addEffect(e):"multidimensional"===r.propType&&"object"===(void 0===e?"undefined":n(e))&&2===e.length||"unidimensional"===r.propType&&"number"==typeof e?r.addEffect((function(){return e})):void 0},getValue:function(){return t.property.v}}}},{}],42:[function(t,e,r){"use strict";var n=t("../layer/LayerList"),i=t("../key_path/KeyPathList");e.exports=function(t){return t._type="renderer",Object.assign({getRendererType:function(){return t.animation.animType}},n(t.elements),i(t.elements,"renderer"))}},{"../key_path/KeyPathList":11,"../layer/LayerList":14}]},{},[10])(10)},(t,e,r)=>{"use strict";const n=r(312),i=r(592),{getRemote:s}=r(333);t.exports=class extends n{constructor(t={}){super({type:"filter",...t})}createDisplay(){}addDisplayChild(t){}removeDisplayChild(t){}show(){this.visible=!0,this.filter&&(this.filter.enabled=!0)}hide(){this.visible=!1,this.filter&&(this.filter.enabled=!1)}setMask(t){this.filter&&this.filter.mask!==t&&(this.filter.mask=t,this.parent.addDisplayChild(t),t.renderable=!1,t.isMask=!0)}removeMask(){this.filter&&this.filter.mask&&(this.parent.removeDisplayChild(this.filter.mask),this.filter.mask=null)}async preProcessing(t){for(const e of["vert","frag","render"]){if("string"!=typeof this[e]||!this[e].startsWith("http"))continue;const r=await s(this[e],this.creator().uuid,(e=>{const{total:r,loaded:n}=e;r&&t&&t(n/r)}));this[`${e}Shader`]=await r.data.text()}this.filter=this.addFilterTo(this.parent.display),this.filter.enabled=!1}addFilterTo(t){return t.addFilter({key:this.id,vars:this.vars,render:this.render,vert:this.vert,frag:this.frag})}get vert(){return this.vertShader||i.getValue(this.conf.vert)}get frag(){return this.fragShader||i.getValue(this.conf.frag)}get render(){return this.renderShader||i.getValue(this.conf.render)}get vars(){return this.conf.vars}async drawing(t,e){let r=await super.drawing(t,e);const n=t/1e3-this.absStartTime;return this.filter.setTime(n,this.duration),r}}},(t,e,r)=>{const{isBrowser:n}=r(13);let i,s;if(n)i=new DOMParser;else{const{DOMParser:t,XMLSerializer:e}=r(593);i=new t,s=(new e).serializeToString}const o=t=>{const e=Number(t);if(!isNaN(e))return e;let r=t.toLowerCase().trim();if(["true","false"].includes(r))return"true"==r;if(r.match(/^\[(.*)\]$/)){const e=JSON.parse(r);return Array.isArray(e)?e.map((t=>o(t))):t}const n=(t,e)=>{if(!t.endsWith(e))return null;const r=Number(t.substring(0,t.length-e.length));return isNaN(r)?null:r};for(const t of["rpx","px","vw","vh"]){const e=n(r,t);if(null!==e)return`${e}${t}`}return t};function a(t){const e={type:t.nodeName};if(t.attributes.length>0)for(let r=0;r<t.attributes.length;r++){const n=t.attributes[r];e[n.name]=o(n.value)}if(e.children=[],t.childNodes.length>0&&(Array.isArray(t.childNodes)?t.childNodes:Object.values(t.childNodes)).map((t=>{"object"==typeof t&&t.nodeName&&!t.nodeName.startsWith("#")&&e.children.push(a(t))})),n)e.innerHTML=t.innerHTML;else{const r=s(t),n=new RegExp(`\\<${e.type}[^\\>]*\\>`,"g"),i=new RegExp(`\\<\\/${e.type}[^\\>]*\\>`,"g");e.innerHTML=r.replace(n,"").replace(i,"")}return e}t.exports={parseXml:function(t){const e=i.parseFromString(t,"application/xml");if("miraml"==e.documentElement.nodeName.toLowerCase())return a(e.documentElement)},getValue:function(t){return"object"!=typeof t?t:t.innerHTML?t.innerHTML.replace("<![CDATA[","").replace("]]>",""):void 0}}},(t,e,r)=>{var n=r(594);e.DOMImplementation=n.DOMImplementation,e.XMLSerializer=n.XMLSerializer,e.DOMParser=r(596).DOMParser},(t,e,r)=>{var n=r(595).NAMESPACE;function i(t){return""!==t}function s(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function o(t){if(!t)return[];var e=function(t){return t?t.split(/[\t\n\f\r ]+/).filter(i):[]}(t);return Object.keys(e.reduce(s,{}))}function a(t,e){for(var r in t)e[r]=t[r]}function A(t,e){var r=t.prototype;if(!(r instanceof e)){function n(){}n.prototype=e.prototype,a(r,n=new n),t.prototype=r=n}r.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),r.constructor=t)}var u={},l=u.ELEMENT_NODE=1,c=u.ATTRIBUTE_NODE=2,h=u.TEXT_NODE=3,f=u.CDATA_SECTION_NODE=4,p=u.ENTITY_REFERENCE_NODE=5,d=u.ENTITY_NODE=6,g=u.PROCESSING_INSTRUCTION_NODE=7,m=u.COMMENT_NODE=8,v=u.DOCUMENT_NODE=9,y=u.DOCUMENT_TYPE_NODE=10,_=u.DOCUMENT_FRAGMENT_NODE=11,b=u.NOTATION_NODE=12,w={},B={},x=(w.INDEX_SIZE_ERR=(B[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(B[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(B[3]="Hierarchy request error",3)),E=(w.WRONG_DOCUMENT_ERR=(B[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(B[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(B[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(B[7]="No modification allowed",7),w.NOT_FOUND_ERR=(B[8]="Not found",8)),C=(w.NOT_SUPPORTED_ERR=(B[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(B[10]="Attribute in use",10));function T(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,B[t]),this.message=B[t],Error.captureStackTrace&&Error.captureStackTrace(this,T);return r.code=t,e&&(this.message=this.message+": "+e),r}function I(){}function F(t,e){this._node=t,this._refresh=e,S(this)}function S(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);ut(t,"length",r.length),a(r,t),t._inc=e}}function U(){}function M(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function O(t,e,r,i){if(i?e[M(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var s=t.ownerDocument;s&&(i&&k(s,t,i),function(t,e,r){t&&t._inc++,r.namespaceURI===n.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(s,t,r))}}function P(t,e,r){var n=M(e,r);if(!(n>=0))throw T(E,new Error(t.tagName+"@"+r));for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(k(s,t,r),r.ownerElement=null)}}function R(){}function L(){}function D(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function Q(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(Q(t,e))return!0}while(t=t.nextSibling)}function N(){}function k(t,e,r,i){t&&t._inc++,r.namespaceURI===n.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function H(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function j(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,H(t.ownerDocument,t),e}function V(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===_){var i=e.firstChild;if(null==i)return e;var s=e.lastChild}else i=s=e;var o=r?r.previousSibling:t.lastChild;i.previousSibling=o,s.nextSibling=r,o?o.nextSibling=i:t.firstChild=i,null==r?t.lastChild=s:r.previousSibling=s;do{i.parentNode=t}while(i!==s&&(i=i.nextSibling));return H(t.ownerDocument||t,t),e.nodeType==_&&(e.firstChild=e.lastChild=null),e}function G(){this._nsMap={}}function K(){}function W(){}function z(){}function X(){}function Y(){}function q(){}function $(){}function J(){}function Z(){}function tt(){}function et(){}function rt(){}function nt(t,e){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&null==i&&null==(i=n.lookupPrefix(s)))var o=[{namespace:s,prefix:null}];return ot(this,r,t,e,o),r.join("")}function it(t,e,r){var i=t.prefix||"",s=t.namespaceURI;if(!s)return!1;if("xml"===i&&s===n.XML||s===n.XMLNS)return!1;for(var o=r.length;o--;){var a=r[o];if(a.prefix===i)return a.namespace!==s}return!0}function st(t,e,r){t.push(" ",e,'="',r.replace(/[<&"\t\n\r]/g,D),'"')}function ot(t,e,r,i,s){if(s||(s=[]),i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case l:var o=t.attributes,a=o.length,A=t.firstChild,u=t.tagName,d=u;if(!(r=n.isHTML(t.namespaceURI)||r)&&!t.prefix&&t.namespaceURI){for(var b,w=0;w<o.length;w++)if("xmlns"===o.item(w).name){b=o.item(w).value;break}if(!b)for(var B=s.length-1;B>=0;B--)if(""===(x=s[B]).prefix&&x.namespace===t.namespaceURI){b=x.namespace;break}if(b!==t.namespaceURI)for(B=s.length-1;B>=0;B--){var x;if((x=s[B]).namespace===t.namespaceURI){x.prefix&&(d=x.prefix+":"+u);break}}}e.push("<",d);for(var E=0;E<a;E++)"xmlns"==(C=o.item(E)).prefix?s.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&s.push({prefix:"",namespace:C.value});for(E=0;E<a;E++){var C,T,I;it(C=o.item(E),0,s)&&(st(e,(T=C.prefix||"")?"xmlns:"+T:"xmlns",I=C.namespaceURI),s.push({prefix:T,namespace:I})),ot(C,e,r,i,s)}if(u===d&&it(t,0,s)&&(st(e,(T=t.prefix||"")?"xmlns:"+T:"xmlns",I=t.namespaceURI),s.push({prefix:T,namespace:I})),A||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),r&&/^script$/i.test(u))for(;A;)A.data?e.push(A.data):ot(A,e,r,i,s.slice()),A=A.nextSibling;else for(;A;)ot(A,e,r,i,s.slice()),A=A.nextSibling;e.push("</",d,">")}else e.push("/>");return;case v:case _:for(A=t.firstChild;A;)ot(A,e,r,i,s.slice()),A=A.nextSibling;return;case c:return st(e,t.name,t.value);case h:return e.push(t.data.replace(/[<&]/g,D).replace(/]]>/g,"]]&gt;"));case f:return e.push("<![CDATA[",t.data,"]]>");case m:return e.push("\x3c!--",t.data,"--\x3e");case y:var F=t.publicId,S=t.systemId;if(e.push("<!DOCTYPE ",t.name),F)e.push(" PUBLIC ",F),S&&"."!=S&&e.push(" ",S),e.push(">");else if(S&&"."!=S)e.push(" SYSTEM ",S,">");else{var U=t.internalSubset;U&&e.push(" [",U,"]"),e.push(">")}return;case g:return e.push("<?",t.target," ",t.data,"?>");case p:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function at(t,e,r){var n;switch(e.nodeType){case l:(n=e.cloneNode(!1)).ownerDocument=t;case _:break;case c:r=!0}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(at(t,i,r)),i=i.nextSibling;return n}function At(t,e,r){var n=new e.constructor;for(var i in e){var s=e[i];"object"!=typeof s&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new I),n.ownerDocument=t,n.nodeType){case l:var o=e.attributes,a=n.attributes=new U,A=o.length;a._ownerElement=n;for(var u=0;u<A;u++)n.setAttributeNode(At(t,o.item(u),!0));break;case c:r=!0}if(r)for(var h=e.firstChild;h;)n.appendChild(At(t,h,r)),h=h.nextSibling;return n}function ut(t,e,r){t[e]=r}w.INVALID_STATE_ERR=(B[11]="Invalid state",11),w.SYNTAX_ERR=(B[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(B[13]="Invalid modification",13),w.NAMESPACE_ERR=(B[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(B[15]="Invalid access",15),T.prototype=Error.prototype,a(w,T),I.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)ot(this[n],r,t,e);return r.join("")}},F.prototype.item=function(t){return S(this),this[t]},A(F,I),U.prototype={length:0,item:I.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new T(C);var r=this.getNamedItem(t.nodeName);return O(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new T(C);return e=this.getNamedItemNS(t.namespaceURI,t.localName),O(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return P(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return P(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}},R.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new N;if(n.implementation=this,n.childNodes=new I,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new q;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return V(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return j(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return At(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==h&&t.nodeType==h?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var n in r)if(r[n]==t)return n;e=e.nodeType==c?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==c?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},a(u,L),a(u,L.prototype),N.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==_){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return null==this.documentElement&&t.nodeType==l&&(this.documentElement=t),V(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),j(this,t)},importNode:function(t,e){return at(this,t,e)},getElementById:function(t){var e=null;return Q(this.documentElement,(function(r){if(r.nodeType==l&&r.getAttribute("id")==t)return e=r,!0})),e},getElementsByClassName:function(t){var e=o(t);return new F(this,(function(r){var n=[];return e.length>0&&Q(r.documentElement,(function(i){if(i!==r&&i.nodeType===l){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var A=o(s);a=e.every((u=A,function(t){return u&&-1!==u.indexOf(t)}))}a&&n.push(i)}}var u})),n}))},createElement:function(t){var e=new G;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new I,(e.attributes=new U)._ownerElement=e,e},createDocumentFragment:function(){var t=new tt;return t.ownerDocument=this,t.childNodes=new I,t},createTextNode:function(t){var e=new z;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new X;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Y;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new et;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new K;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Z;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new G,n=e.split(":"),i=r.attributes=new U;return r.childNodes=new I,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new K,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},A(N,L),G.prototype={nodeType:l,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===_?this.insertBefore(t,null):function(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,H(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new F(this,(function(e){var r=[];return Q(e,(function(n){n===e||n.nodeType!=l||"*"!==t&&n.tagName!=t||r.push(n)})),r}))},getElementsByTagNameNS:function(t,e){return new F(this,(function(r){var n=[];return Q(r,(function(i){i===r||i.nodeType!==l||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||n.push(i)})),n}))}},N.prototype.getElementsByTagName=G.prototype.getElementsByTagName,N.prototype.getElementsByTagNameNS=G.prototype.getElementsByTagNameNS,A(G,L),K.prototype.nodeType=c,A(K,L),W.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(B[x])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){r=this.data.substring(0,t)+r+this.data.substring(t+e),this.nodeValue=this.data=r,this.length=r.length}},A(W,L),z.prototype={nodeName:"#text",nodeType:h,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},A(z,W),X.prototype={nodeName:"#comment",nodeType:m},A(X,W),Y.prototype={nodeName:"#cdata-section",nodeType:f},A(Y,W),q.prototype.nodeType=y,A(q,L),$.prototype.nodeType=b,A($,L),J.prototype.nodeType=d,A(J,L),Z.prototype.nodeType=p,A(Z,L),tt.prototype.nodeName="#document-fragment",tt.prototype.nodeType=_,A(tt,L),et.prototype.nodeType=g,A(et,L),rt.prototype.serializeToString=function(t,e,r){return nt.call(t,e,r)},L.prototype.toString=nt;try{if(Object.defineProperty){function lt(t){switch(t.nodeType){case l:case _:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(lt(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(F.prototype,"length",{get:function(){return S(this),this.$$length}}),Object.defineProperty(L.prototype,"textContent",{get:function(){return lt(this)},set:function(t){switch(this.nodeType){case l:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ut=function(t,e,r){t["$$"+e]=r}}}catch(t){}e.DocumentType=q,e.DOMException=T,e.DOMImplementation=R,e.Element=G,e.Node=L,e.NodeList=I,e.XMLSerializer=rt},(t,e)=>{"use strict";function r(t,e){return void 0===e&&(e=Object),e&&"function"==typeof e.freeze?e.freeze(t):t}var n=r({HTML:"text/html",isHTML:function(t){return t===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.freeze=r,e.MIME_TYPE=n,e.NAMESPACE=i},(t,e,r)=>{var n=r(595),i=r(594),s=r(597),o=r(598),a=i.DOMImplementation,A=n.NAMESPACE,u=o.ParseError,l=o.XMLReader;function c(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function h(t){this.options=t||{locator:{}}}function f(){this.cdata=!1}function p(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function d(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function g(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function m(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}h.prototype.parseFromString=function(t,e){var r=this.options,n=new l,i=r.domBuilder||new f,o=r.errorHandler,a=r.locator,u=r.xmlns||{},h=/\/x?html?$/.test(e),p=h?s.HTML_ENTITIES:s.XML_ENTITIES;a&&i.setDocumentLocator(a),n.errorHandler=function(t,e,r){if(!t){if(e instanceof f)return e;t=e}var n={},i=t instanceof Function;function s(e){var s=t[e];!s&&i&&(s=2==t.length?function(r){t(e,r)}:t),n[e]=s&&function(t){s("[xmldom "+e+"]\t"+t+d(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),n}(o,i,a),n.domBuilder=r.domBuilder||i,h&&(u[""]=A.HTML),u.xml=u.xml||A.XML;var g=r.normalizeLineEndings||c;return t&&"string"==typeof t?n.parse(g(t),u,p):n.errorHandler.error("invalid doc source"),i.doc},f.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),o=n.length;m(this,s),this.currentElement=s,this.locator&&p(this.locator,s);for(var a=0;a<o;a++){t=n.getURI(a);var A=n.getValue(a),u=(r=n.getQName(a),i.createAttributeNS(t,r));this.locator&&p(n.getLocator(a),u),u.value=u.nodeValue=A,s.setAttributeNode(u)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&p(this.locator,r),m(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=g.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&p(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=g.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&p(this.locator,n),m(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&p(this.locator,i),m(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]\t"+t,d(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,d(this.locator))},fatalError:function(t){throw new u(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){f.prototype[t]=function(){return null}})),e.__DOMHandler=f,e.normalizeLineEndings=c,e.DOMParser=h},(t,e,r)=>{var n=r(595).freeze;e.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),e.entityMap=e.HTML_ENTITIES},(t,e,r)=>{var n=r(595).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,s=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+i.source+s.source+"*(?::"+i.source+s.source+"*)?$");function a(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function A(){}function u(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function l(t,e,r,i,s,o){function a(t,e,n){r.attributeNames.hasOwnProperty(t)&&o.fatalError("Attribute "+t+" redefined"),r.addValue(t,e.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),n)}for(var A,u=++e,l=0;;){var c=t.charAt(u);switch(c){case"=":if(1===l)A=t.slice(e,u),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(o.warning('attribute value must after "="'),A=t.slice(e,u)),e=u+1,!((u=t.indexOf(c,e))>0))throw new Error("attribute value no end '"+c+"' match");a(A,h=t.slice(e,u),e-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');a(A,h=t.slice(e,u),e),o.warning('attribute "'+A+'" missed start quot('+c+")!!"),e=u+1,l=5}break;case"/":switch(l){case 0:r.setTagName(t.slice(e,u));case 5:case 6:case 7:l=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==l&&r.setTagName(t.slice(e,u)),u;case">":switch(l){case 0:r.setTagName(t.slice(e,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=t.slice(e,u)).slice(-1)&&(r.closed=!0,h=h.slice(0,-1));case 2:2===l&&(h=A),4==l?(o.warning('attribute "'+h+'" missed quot(")!'),a(A,h,e)):(n.isHTML(i[""])&&h.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),a(h,h,e));break;case 3:throw new Error("attribute value missed!!")}return u;case"":c=" ";default:if(c<=" ")switch(l){case 0:r.setTagName(t.slice(e,u)),l=6;break;case 1:A=t.slice(e,u),l=2;break;case 4:var h=t.slice(e,u);o.warning('attribute "'+h+'" missed quot(")!!'),a(A,h,e);case 5:l=6}else switch(l){case 2:r.tagName,n.isHTML(i[""])&&A.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+A+'" missed value!! "'+A+'" instead2!!'),a(A,A,e),e=u,l=1;break;case 5:o.warning('attribute space is required"'+A+'"!!');case 6:l=1,e=u;break;case 3:l=4,e=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function c(t,e,r){for(var i=t.tagName,s=null,o=t.length;o--;){var a=t[o],A=a.qName,u=a.value;if((f=A.indexOf(":"))>0)var l=a.prefix=A.slice(0,f),c=A.slice(f+1),h="xmlns"===l&&c;else c=A,l=null,h="xmlns"===A&&"";a.localName=c,!1!==h&&(null==s&&(s={},p(r,r={})),r[h]=s[h]=u,a.uri=n.XMLNS,e.startPrefixMapping(h,u))}for(o=t.length;o--;)(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri=n.XML),"xmlns"!==l&&(a.uri=r[l||""]));var f;(f=i.indexOf(":"))>0?(l=t.prefix=i.slice(0,f),c=t.localName=i.slice(f+1)):(l=null,c=t.localName=i);var d=t.uri=r[l||""];if(e.startElement(d,c,i,t),!t.closed)return t.currentNSMap=r,t.localNSMap=s,!0;if(e.endElement(d,c,i),s)for(l in s)e.endPrefixMapping(l)}function h(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),s)}return e+1}function f(t,e,r,n){var i=n[r];return null==i&&((i=t.lastIndexOf("</"+r+">"))<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function p(t,e){for(var r in t)e[r]=t[r]}function d(t,e,r,n){if("-"===t.charAt(e+2))return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(r.comment(t,e+4,i-e-4),i+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,i-e-9),r.endCDATA(),i+3}var s=function(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var a=s[1][0],A=!1,u=!1;o>3&&(/^public$/i.test(s[2][0])?(A=s[3][0],u=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(u=s[3][0]));var l=s[o-1];return r.startDTD(a,A,u),r.endDTD(),l.index+l[0].length}return-1}function g(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function m(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,A.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),p(e,e={}),function(t,e,r,i,s){function o(t){var e=t.slice(1,-1);return Object.hasOwnProperty.call(r,e)?r[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(s.error("entity not found:"+t),t)}function A(e){if(e>x){var r=t.substring(x,e).replace(/&#?\w+;/g,o);b&&p(x),i.characters(r,0,e-x),x=e}}function p(e,r){for(;e>=y&&(r=_.exec(t));)v=r.index,y=v+r[0].length,b.lineNumber++;b.columnNumber=e-v+1}for(var v=0,y=0,_=/.*(?:\r\n?|\n)|.*$/g,b=i.locator,w=[{currentNSMap:e}],B={},x=0;;){try{var E=t.indexOf("<",x);if(E<0){if(!t.substr(x).match(/^\s*$/)){var C=i.doc,T=C.createTextNode(t.substr(x));C.appendChild(T),i.currentElement=T}return}switch(E>x&&A(E),t.charAt(E+1)){case"/":var I=t.indexOf(">",E+3),F=t.substring(E+2,I).replace(/[ \t\n\r]+$/g,""),S=w.pop();I<0?(F=t.substring(E+2).replace(/[\s<].*/,""),s.error("end tag name: "+F+" is not complete:"+S.tagName),I=E+1+F.length):F.match(/\s</)&&(F=F.replace(/[\s<].*/,""),s.error("end tag name: "+F+" maybe not complete"),I=E+1+F.length);var U=S.localNSMap,M=S.tagName==F;if(M||S.tagName&&S.tagName.toLowerCase()==F.toLowerCase()){if(i.endElement(S.uri,S.localName,F),U)for(var O in U)i.endPrefixMapping(O);M||s.fatalError("end tag name: "+F+" is not match the current start tagName:"+S.tagName)}else w.push(S);I++;break;case"?":b&&p(E),I=g(t,E,i);break;case"!":b&&p(E),I=d(t,E,i,s);break;default:b&&p(E);var P=new m,R=w[w.length-1].currentNSMap,L=(I=l(t,E,P,R,o,s),P.length);if(!P.closed&&f(t,I,P.tagName,B)&&(P.closed=!0,r.nbsp||s.warning("unclosed xml attribute")),b&&L){for(var D=u(b,{}),Q=0;Q<L;Q++){var N=P[Q];p(N.offset),N.locator=u(b,{})}i.locator=D,c(P,i,R)&&w.push(P),i.locator=b}else c(P,i,R)&&w.push(P);n.isHTML(P.uri)&&!P.closed?I=h(t,I,P.tagName,o,i):I++}}catch(t){if(t instanceof a)throw t;s.error("element parse error: "+t),I=-1}I>x?x=I:A(Math.max(E,x)+1)}}(t,e,r,i,this.errorHandler),i.endDocument()}},m.prototype={setTagName:function(t){if(!o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!o.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=A,e.ParseError=a},(t,e,r)=>{const n=r(317),{isBrowser:i}=r(13);t.exports=class extends n{constructor(t){t="string"==typeof t?{path:t}:t,super({type:"speech",audio:!0,...t})}}},(t,e,r)=>{"use strict";const n=r(559),i=r(557),s=r(331),{isBrowser:o}=r(13),a=r(o?489:490),A={to(t,e,r){const n=t.display,s=i(r),o=s.delay||0,a=s.ease;delete s.delay,delete s.ease,t.addAnimate({from:n,to:s,time:e,delay:o,ease:a})},from(t,e,r){const n=t.display,s=i(r),o=s.delay||0,a=s.ease;delete s.delay,delete s.ease,t.addAnimate({from:s,to:n,time:e,delay:o,ease:a})},fromTo(t,e,r,n){const s=i(r),o=i(n),a=o.delay||0,A=o.ease;delete o.delay,delete o.ease,t.addAnimate({from:s,to:o,time:e,delay:a,ease:A})},spriteTweenFromTo(t,e,r,o){const A=i(r),u=i(o),l=n(a.Easing,u.ease||"Quadratic.Out");let c=u.delay||0;e=s.toMilliseconds(e),c=s.toMilliseconds(c),delete u.delay,delete u.ease;const h=t.root().tweenGroup;return new a.Tween(A,h).to(u,e).delay(c).easing(l).onUpdate((()=>t.attr(A))).start()},getTween:()=>a.Tween,getEase:t=>n(a.Easing,t||"Quadratic.Out"),getTWEEN:()=>a};t.exports=A},(t,e,r)=>{"use strict";const n=r(602),i=r(316),s=r(603),o=r(604),a=r(235),A=r(346),{nodeRequire:u}=r(235),l=u("../utils/ffmpeg"),c={cursor:0,num:0,delay:500,state:"free",temps:{},progress:new o,event:new i,taskQueue:new s,closeLog(){A.enable=!1},openLog(){A.enable=!0},addTask(t){const e=this.taskQueue.push({task:t});return"free"===this.state&&this.start(),e},addTaskByTemplate(t,e){const r=this.temps[t],n=this.taskQueue.push({task:r,params:e});return"free"===this.state&&this.start(),n},onTask(t,e,r){const n=i=>{i.id==t&&(this.event.removeListener(e,n),r(i))};this.event.on(e,n)},removeTaskObj(t,e){"single-error"!==t&&"single-complete"!==t||setTimeout((()=>{const{taskObj:t}=e;this.taskQueue.remove(t)}),5e3)},onTaskError(t,e){this.onTask(t,"single-error",e)},onTaskComplete(t,e){this.onTask(t,"single-complete",e)},async start(){const t=this.taskQueue.getTaskByIndex(this.cursor);this.execTask(t)},getTaskState(t){return this.taskQueue.getTaskState(t)},getInfo(){const{cursor:t,num:e}=this;return{num:e,cursor:t,tasks:this.taskQueue.getLength()}},getResultFile(t){return this.taskQueue.getResultFile(t)},getProgress(t){return this.progress.getPercent(t)},async execTask(t){this.state="busy";try{this.num++,this.cursor++;const{task:e,params:r}=t,n=await e(r);n?this.initCreator(n,t):this.handlingError({taskObj:t,error:"execTask: await taskObj.task(taskObj.id) return null"})}catch(e){this.handlingError({taskObj:t,error:e})}},initCreator(t,e){t.inCenter=!0,t.generateOutput(),t.on("start",(()=>{const t={id:e.id,taskObj:e};this.event.emit("single-start",t)})),t.on("error",(t=>{this.handlingError({taskObj:e,error:t})})),t.on("progress",(t=>{this.progress.id=e.id,this.progress.state=t.state,this.progress.percent=t.percent})),t.on("complete",(()=>{try{const{id:r}=e,n=t.getFile();e.state="complete",e.file=n,this.progress.add(r),this.taskQueue.store(r);const i={id:r,file:n,taskObj:e};this.event.emit("single-complete",i),A.info(`Creator production completed. id:${r} file: ${n}`)}catch(t){A.error(`Creator production error. ${n.inspect(t)}`)}setTimeout(this.nextTask.bind(this),this.delay)}))},handlingError({taskObj:t,error:e="normal"}){e=a.getErrStack(e);const r={id:t.id,taskObj:t,error:e};t.state="error",this.event.emit("single-error",r),setTimeout(this.nextTask.bind(this),this.delay),A.error(`Creator production error. ${n.inspect(e)}`)},nextTask(){if(this.cursor>=this.taskQueue.getLength())return this.resetTasks(),void this.event.emit("all-complete");const t=this.taskQueue.getTaskByIndex(this.cursor);this.execTask(t)},resetTasks(){this.cursor=0,this.state="free",this.taskQueue.clear()},createTemplate(t,e){this.temps[t]=e},setFFmpegPath(t){l.setFFmpegPath(t)},setFFprobePath(t){l.setFFprobePath(t)}};t.exports=c},()=>{},(t,e,r)=>{"use strict";const n=r(557),i=r(347),s=r(235);t.exports=class{constructor(){this.queue=[],this.storeData={}}push({task:t,params:e={}}){const r=s.genUuid(),n={...e,taskId:r};return this.queue.push({id:r,task:t,params:n,state:"waiting",file:null}),r}remove(t){const e=this.queue.indexOf(t);return e>-1&&this.queue.splice(e,1),e}clear(){i(this.queue,(t=>s.destroyObj(t))),this.queue.length=0}store(t){const e=this.getTaskById(t);if(!e)return;const r=n(e);this.storeData[t]=r,setTimeout((()=>{delete this.storeData[t]}),9e5)}getLength(){return this.queue.length}getTaskState(t){const e=this.getTaskById(t);return e?e.state:"unknown"}getResultFile(t){const e=this.getTaskById(t);return e?e.file:null}getTaskById(t){for(let e=0;e<this.queue.length;e++){const r=this.queue[e];if(t===r.id)return r}for(let e in this.storeData){const r=this.storeData[e];if(t===r.id)return r}return null}getTaskByIndex(t){return t<this.queue.length?this.queue[t]:null}}},t=>{"use strict";t.exports=class{constructor(t=60){this.id=-1,this.ids=[],this.percent=0,this.max=t}add(t){this.ids.push(t),this.ids.length>this.max&&this.ids.shift()}getPercent(t){return this.id==t?this.percent:this.ids.indexOf(t)>-1?1:0}}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=r(606),i=r(608);r(615),r(626);const s=(0,r(629).default)(i.default,n.render,n.staticRenderFns,!1,null,"f778bfb2",null).exports},(t,e,r)=>{"use strict";r.r(e),r.d(e,{render:()=>n.render,staticRenderFns:()=>n.staticRenderFns});var n=r(607)},(t,e,r)=>{"use strict";r.r(e),r.d(e,{render:()=>n,staticRenderFns:()=>i});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"player",staticClass:"mirap-player mirap-screen",attrs:{tabIndex:"-1"},on:{click:t.togglePlay,mousemove:t.mouseMove}},[r("canvas",{ref:"canvas",staticClass:"mirap-screen",style:t.canvasStyle}),t._v(" "),r("div",{class:{"mirap-toast":!0,hide:t.toastHide},on:{mousemove:t.hideToast}},[r("span",[t._v(t._s(t.toastMsg))])]),t._v(" "),t.showCover&&t.opts.loaded?r("button",{staticClass:"mirap-cover",on:{click:t.togglePlay}},[r("play-one",{attrs:{theme:"filled",size:"28",fill:t.opts.controlBgColor,strokeLinejoin:"miter"}})],1):t._e(),t._v(" "),t.loading?r("div",{class:{"mirap-loading":!0,"mirap-error":!!t.error},on:{click:t.showLoadingMsg}},[r("svg",{attrs:{width:"60",height:"60",viewPort:"0 0 60 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[r("circle",{attrs:{cx:"30",cy:"30",fill:"transparent","stroke-dashoffset":"0",r:t.pr,"stroke-dasharray":2*Math.PI*t.pr}}),t._v(" "),r("circle",{staticClass:"mirap-loading-bar",attrs:{cx:"30",cy:"30",fill:"transparent",r:t.pr,"stroke-dasharray":2*Math.PI*t.pr,"stroke-dashoffset":(1-t.loadingProgress)*Math.PI*2*t.pr}})]),t._v(" "),t.error?r("error",{attrs:{theme:"filled",size:"28"}}):r("span",{staticClass:"mirap-percent"},[t._v(t._s(Math.round(100*t.loadingProgress)))])],1):t._e(),t._v(" "),t.opts.hideMiniBar?t._e():r("div",{class:{"mirap-mini-bar":!0,"mirap-mini-bar-hide":!(t.hideControls||!0===t.opts.hideControls)}},[r("div",{staticClass:"mirap-progress",style:{width:t.progress+"%"}})]),t._v(" "),!0!==t.opts.hideControls?r("div",{class:{"mirap-controls":!0,"mirap-controls-hide":t.hideControls},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[r("button",{staticClass:"mirap-play",attrs:{"aria-label":"Play/Pause"},on:{click:function(e){return e.stopPropagation(),t.togglePlay.apply(null,arguments)}}},[t.opts.playing?r("pause",{attrs:{theme:"filled",size:"26",fill:t.opts.majorColor,strokeWidth:8,strokeLinecap:"butt"}}):r("play-one",{attrs:{theme:"filled",size:"24",fill:t.opts.majorColor,strokeLinejoin:"miter"}})],1),t._v(" "),r("div",{ref:"bar",staticClass:"mirap-bar",on:{mousedown:function(e){t.barSeek=!0},mouseup:function(e){t.barSeek=!1},click:function(e){return e.stopPropagation(),t.barMouseMove.apply(null,arguments)},mousemove:t.barMouseMove}},[r("div",{staticClass:"mirap-progress",style:{width:t.progress+"%"}},[r("div",{staticClass:"mirap-note"},[r("span",[t._v(t._s(t.progressHms))])])]),t._v(" "),r("div",{staticClass:"mirap-cursor",style:{"margin-left":t.cursor+"%"}},[r("div",{staticClass:"mirap-note"},[r("span",[t._v(t._s(t.cursorHms))])])])]),t._v(" "),r("button",{staticClass:"mirap-info",on:{click:function(t){t.stopPropagation()},dblclick:t.menu}},[r("span",[t._v(t._s(t.info))])])]):t._e()])},i=[]},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=r(609).default},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>d});var n=r(611),i=r(613),s=r(614),o=r(4),a=r(2),A=r(610),u=r.n(A),l=r(12),c=r(5);const h={volume:1,playbackRate:1,resetOnEnd:!1,majorColor:"#4d75b4",controlBgColor:"#FFF",playerBgColor:"#000",errorColor:"#E55",timeRemain:!0,decimal:0,hideControls:"auto",hideMiniBar:!1,cover:"auto",keyboardPlay:!0,tapPlay:!0,keySeekStep:1,playing:!1,play:!1,currentTime:0,duration:0},f=["loadedmetadata","canplay","emptied","timeupdate","playing","seeked","pause","ended","play"],p={space:" ",left:"ArrowLeft",right:"ArrowRight"},d={components:{PlayOne:n.default,Pause:i.default,Error:s.default},props:["options","width","height"],data:function(){return{version:"1.3.3.20220822.194215",opts:this.options,w:this.width,h:this.height,error:null,pr:27,scale:0,toastHide:!0,toastMsg:null,mouseStaying:!1,hover:!1,seekingTimer:null,loading:!1,loadingProgress:0,progress:"0",progressHms:"0:00",seekTime:0,cursor:"0",cursorHms:"0:00",timeHms:"0:00",canvasStyle:{width:0,height:0,margin:0}}},mounted:function(){this.log("player mounted"),this.load(),this.$refs.player.addEventListener("keyup",(t=>{if(this.$emit("keyup",t),this.opts.keyboardPlay)if(t.key===p.space&&"mirap-play"!==t.target.className)this.togglePlay(t);else if([p.left,p.right].includes(t.key)){const e=p.left===t.key?-1:1;this.seek(this.opts.currentTime+this.opts.keySeekStep*e)}})),this.$refs.player.addEventListener("keydown",(t=>{this.$emit("keydown",t),this.opts.keyboardPlay&&Object.values(p).includes(t.key)&&t.preventDefault()}))},watch:{size:function(){this.fit()},optChange:function(){this.updateBarWidth()},info:function(){this.updateBarWidth()}},computed:{optChange:function(){return JSON.stringify([this.opts.hideControls])},size:function(){return`${this.w}x${this.h}`},info:function(){return`${this.timeHms}${this.opts.playbackRate>1?` ${this.opts.playbackRate}`:""}`},hideControls:function(){return!1!==this.opts.hideControls&&this.mouseStaying||!1!==this.opts.cover&&!this.opts.play},showCover:function(){return!0===this.opts.cover&&!this.opts.playing||"auto"===this.opts.cover&&!this.opts.play}},methods:{updateBarWidth:function(){setTimeout((()=>{this.barWidth=this.$refs.bar?.clientWidth}),0)},log:function(...t){this.opts.debug&&console.log(...t)},destroy:async function(){this.creator&&await this.creator.destroy()},hideToast:function(){this.toast(null)},toast:function(t,e=3e3){if(this.toastTimer&&(clearTimeout(this.toastTimer),this.toastTimer=null),!t)return this.toastHide=!0;this.toastMsg=t,this.toastHide=!1,(e=parseInt(e))>=0&&(this.toastTimer=setTimeout((()=>{this.toastHide=!0}),e))},setSize:function({width:t,height:e}){this.w=t,this.h=e},togglePlay:u()((function(t){("BUTTON"===t.target?.tagName||this.opts.keyboardPlay&&"keyup"===t.type||this.opts.tapPlay&&t.target?.className.includes("screen"))&&(this.opts.playing?this.pause():this.play())}),10),showLoadingMsg:function(){this.error&&(this.toast(this.error,15e3),navigator.clipboard.writeText(this.error))},play:function(){if(!this.opts.loaded)return this.toast("Loading..");this.creator.currentTime>this.creator.duration-.1&&this.creator.jumpTo(1),this.creator.play(this.opts.playbackRate),this.error=null},pause:function(){this.creator.pause()},seek:function(t){this.creator.jumpTo(1e3*t>>0)},focus:function(){this.opts.keyboardPlay&&this.$refs.player.focus()},capture:async function(){return await this.creator.getPreview(this.opts.currentTime)},menu:function(){let{value:t,json:e}=this.opts;t=t||e,"string"!=typeof t&&(t=JSON.stringify(t,null,2));try{navigator.clipboard.writeText(t)}catch(e){this.toast("Failed to copy source! See console log"),console.log(t)}},genNode:async function(t,e){const{node:r,cache:n}=l.Factory.genNode(t,{},e);return await n,r},load:async function(){this.log("player load start..",this.opts),this.opts.loaded=!1,this.loading=!0,this.loadingProgress=.01,this.error=null;const t=this.$refs.player.style;for(const[e,r]of Object.entries(h))this.$set(this.opts,e,void 0===this.opts[e]?r:this.opts[e]),e.includes("Color")&&(t.setProperty(`--${e}`,(0,a.color)(this.opts[e],100)),t.setProperty(`--${e}90`,(0,a.color)(this.opts[e],90)),t.setProperty(`--${e}30`,(0,a.color)(this.opts[e],30)));let{value:e,json:r}=this.opts;e=e||r,l.Factory.cacheNode="all"===this.opts.cache?c.forceCacheNode:!1!==this.opts.cache?c.cacheNode:null,l.Factory.debug=this.opts.debug;const n=this.$refs.canvas,i={},{node:s,cache:A}=l.Factory.from(e,{canvas:n},(t=>{i[t.key]=t,this.updateProgress(i)}));this.creator=s,this.log("creater init"),await A,this.log("creater loaded"),this.fit(),this.creator.on("playing",(()=>{this.focus(),this.opts.playing=!0})).on("pause",(()=>{this.focus(),this.opts.playing=!1})).on("play",(()=>{this.focus(),this.opts.play=!0})).on("preloading",(t=>{this.log("preloading",t),this.loadingProgress=.6+t.loaded/t.total*.4})).on("seeking",(t=>{this.log("seeking",t),this.opts.playing&&(this.loading=!0,this.loadingProgress=0,this.seekingTimer&&clearInterval(this.seekingTimer),this.seekingTimer=setInterval((()=>{this.loadingProgress+=.01*(1-this.loadingProgress)}),50))})).on("seeked",(t=>{this.log("seeked",t),this.loading&&(this.loadingProgress=.98,setTimeout((()=>{this.loading=!1,this.seekingTimer&&clearInterval(this.seekingTimer)}),100))})).on("error",(t=>{t.error&&(this.error=t.error,this.toast(t.error))})).on("loadedmetadata",(t=>{this.focus(),this.toast(),this.loading=!1,this.opts.loaded=!0,this.opts.duration=t.duration,this.timeHms=(0,o.secToHms)(t.duration,this.opts.decimal)})).on("timeupdate",(t=>{this.opts.currentTime=t.currentTime/1e3,this.progressHms=(0,o.secToHms)(this.opts.currentTime,this.opts.decimal);const e=Math.min(100,Math.max(0,100*this.opts.currentTime)/this.opts.duration).toFixed(2);e!==this.progress&&(this.progress=e),this.opts.timeRemain&&(this.timeHms="-"+(0,o.secToHms)(this.opts.duration-this.opts.currentTime,this.opts.decimal))})).on("ended",(()=>{this.opts.resetOnEnd?this.seek(.01):this.seek(this.creator.duration-.01),this.opts.playing=!1})).on("resize",(()=>{this.fit()}));for(const t of f)this.creator.on(t,(e=>{this.$emit(t,e)}));this.barWidth=this.$refs.bar?.clientWidth,this.start()},start:async function(){this.log("creater start..",this.creator);try{await this.creator.start()}catch(t){console.error(t)}},updateProgress:function(t){const e={total:1,loaded:0};Object.values(t).map((t=>{e.total+=t.total,e.loaded+=t.loaded})),this.loadingProgress=.6*Math.min(1,e.loaded/e.total)},fit:function(){if(!this.creator)return;let t=this.creator.getConf("width"),e=this.creator.getConf("height");this.scale=Math.min(this.w/t,this.h/e),t=this.scale*t>>0,e=this.scale*e>>0;const r=(this.w-t)/2,n=(this.h-e)/2;this.canvasStyle.width=`${t}px`,this.canvasStyle.height=`${e}px`,this.canvasStyle.margin=`${n}px ${r}px`,this.$emit("resize")},mouseMove(){this.mouseMovingTimer&&clearTimeout(this.mouseMovingTimer),this.mouseStaying=!1,this.mouseMovingTimer=setTimeout((()=>{this.hover||(this.mouseStaying=!0)}),1e3*(!0===this.opts.cover?1:2))},barMouseMove(t){const e=Math.min(100,Math.max(0,100*t.offsetX)/this.barWidth).toFixed(2);e!==this.cursor&&(this.cursor=e,this.seekTime=.01*Number(e)*this.opts.duration,this.cursorHms=(0,o.secToHms)(this.seekTime,this.opts.decimal)),(this.barSeek||"click"===t.type)&&this.seek(this.seekTime)}}}},(t,e,r)=>{var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,A="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=A||u||Function("return this")(),c=Object.prototype.toString,h=Math.max,f=Math.min,p=function(){return l.Date.now()};function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return NaN;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=s.test(t);return r||o.test(t)?a(t.slice(2),r?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,r){var n,i,s,o,a,A,u=0,l=!1,c=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var r=n,s=i;return n=i=void 0,u=e,o=t.apply(s,r)}function y(t){return u=t,a=setTimeout(b,e),l?v(t):o}function _(t){var r=t-A;return void 0===A||r>=e||r<0||c&&t-u>=s}function b(){var t=p();if(_(t))return w(t);a=setTimeout(b,function(t){var r=e-(t-A);return c?f(r,s-(t-u)):r}(t))}function w(t){return a=void 0,m&&n?v(t):(n=i=void 0,o)}function B(){var t=p(),r=_(t);if(n=arguments,i=this,A=t,r){if(void 0===a)return y(A);if(c)return a=setTimeout(b,e),v(A)}return void 0===a&&(a=setTimeout(b,e)),o}return e=g(e)||0,d(r)&&(l=!!r.leading,s=(c="maxWait"in r)?h(g(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m),B.cancel=function(){void 0!==a&&clearTimeout(a),u=0,n=A=i=a=void 0},B.flush=function(){return void 0===a?o:w(p())},B}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=(0,r(612).IconWrapper)("play-one",!0,(function(t,e){return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin}})])}))},(t,e,r)=>{"use strict";r.r(e),r.d(e,{DEFAULT_ICON_CONFIGS:()=>n,IconConverter:()=>i,IconWrapper:()=>s});var n={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function i(t,e,r){var n="string"==typeof e.fill?[e.fill]:e.fill||[],i=[];switch(e.theme||r.theme){case"outline":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("none"),i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("none");break;case"filled":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[1]?n[1]:r.colors.twoTone.twoTone),i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[1]?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[1]?n[1]:r.colors.multiColor.outFillColor),i.push("string"==typeof n[2]?n[2]:r.colors.multiColor.innerStrokeColor),i.push("string"==typeof n[3]?n[3]:r.colors.multiColor.innerFillColor)}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}function s(t,e,r){return{name:"icon-"+t,inject:{ICON_CONFIGS:{default:n}},props:["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","spin"],data:function(){return{id:"icon-"+(4294967296*(1+Math.random())|0).toString(16).substring(1)}},inheritAttrs:!1,render:function(s){var o=this.size,a=this.strokeWidth,A=this.strokeLinecap,u=this.strokeLinejoin,l=this.theme,c=this.fill,h=this.id,f=this.spin,p=this.ICON_CONFIGS,d=void 0===p?n:p,g=i(h,{size:o,strokeWidth:a,strokeLinecap:A,strokeLinejoin:u,theme:l,fill:c},d),m=[d.prefix+"-icon"];return m.push(d.prefix+"-icon-"+t),e&&d.rtl&&m.push(d.prefix+"-icon-rtl"),f&&m.push(d.prefix+"-icon-spin"),s("span",{class:m.join(" "),on:this.$listeners,attrs:this.$attrs},[r(s,g)])}}}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=(0,r(612).IconWrapper)("pause",!0,(function(t,e){return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{d:"M16 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin}}),t("path",{attrs:{d:"M32 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin}})])}))},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=(0,r(612).IconWrapper)("error",!1,(function(t,e){return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 11L11 6L24 19L37 6L42 11L29 24L42 37L37 42L24 29L11 42L6 37L19 24L6 11Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin}})])}))},(t,e,r)=>{"use strict";r.r(e),r(616)},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});var n=r(617),i=r.n(n),s=r(618),o=r.n(s),a=r(619),A=r.n(a),u=r(620),l=r.n(u),c=r(621),h=r.n(c),f=r(622),p=r.n(f),d=r(623),g={attributes:{mira:"player"}};g.styleTagTransform=p(),g.setAttributes=l(),g.insert=A().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=h(),i()(d.default,g);const m=d.default&&d.default.locals?d.default.locals:void 0},t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var s={},o=[],a=0;a<t.length;a++){var A=t[a],u=n.base?A[0]+n.base:A[0],l=s[u]||0,c="".concat(u," ").concat(l);s[u]=l+1;var h=r(c),f={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var p=i(f,n);n.byIndex=a,e.splice(a,0,{identifier:c,updater:p,references:1})}o.push(c)}return o}function i(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,i){var s=n(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=r(s[o]);e[a].references--}for(var A=n(t,i),u=0;u<s.length;u++){var l=r(s[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=A}}},t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},t=>{"use strict";t.exports=function(t,e){Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])}))}},t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(624),i=r.n(n),s=r(625),o=r.n(s)()(i());o.push([t.id,".mirap-player * {\n  border-radius: 0;\n  border: 0;\n  padding: 0px;\n  margin: 0px;\n  user-select: none;\n  -webkit-user-select: none;\n  font-family: Helvetica, Arial;\n}\n.mirap-player ::before {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  font-family: Helvetica, Arial;\n}\n.mirap-player ::after {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  font-family: Helvetica, Arial;\n}\n",""]);const a=o},t=>{"use strict";t.exports=function(t){return t[1]}},t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var A=this[a][0];null!=A&&(o[A]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);n&&o[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},(t,e,r)=>{"use strict";r.r(e),r(627)},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});var n=r(617),i=r.n(n),s=r(618),o=r.n(s),a=r(619),A=r.n(a),u=r(620),l=r.n(u),c=r(621),h=r.n(c),f=r(622),p=r.n(f),d=r(628),g={attributes:{mira:"player"}};g.styleTagTransform=p(),g.setAttributes=l(),g.insert=A().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=h(),i()(d.default,g);const m=d.default&&d.default.locals?d.default.locals:void 0},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(624),i=r.n(n),s=r(625),o=r.n(s)()(i());o.push([t.id,'*[data-v-f778bfb2]:focus {\n  outline: 0 !important;\n}\n.font[data-v-f778bfb2] {\n  font-weight: 380;\n  font-family: Noto Sans,Helvetica Neue,Helvetica,PingFang SC!important;\n}\n.mirap-player[data-v-f778bfb2] {\n  font-weight: 380;\n  font-family: Noto Sans,Helvetica Neue,Helvetica,PingFang SC!important;\n  position: relative;\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  outline: 0px solid transparent;\n  background: var(--playerBgColor);\n  overflow: hidden;\n  padding: 0px;\n  margin: 0px;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.mirap-player .mirap-toast[data-v-f778bfb2] {\n  white-space: pre-wrap;\n  color: #FFF;\n  text-align: center;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: -50%;\n  width: 100%;\n  height: 60px;\n  left: 50%;\n  top: 0;\n  opacity: 1;\n  transition-property: top opacity;\n  transition-duration: 0.3s;\n}\n.mirap-player .mirap-toast.hide[data-v-f778bfb2] {\n  pointer-events: none;\n  top: -20px;\n  opacity: 0;\n  transition-property: top opacity;\n  transition-duration: 0.3s;\n}\n.mirap-player .mirap-toast span[data-v-f778bfb2] {\n  background: rgba(30, 30, 30, 0.8);\n  padding: 5px 8px;\n  border-radius: 3px;\n  font-size: 12px;\n  max-width: 95%;\n  word-break: break-all;\n}\n.mirap-player span.i-icon[data-v-f778bfb2],\n.mirap-player svg[data-v-f778bfb2],\n.mirap-player path[data-v-f778bfb2] {\n  pointer-events: none;\n}\n.mirap-player:hover .mirap-cover[data-v-f778bfb2] {\n  background-color: var(--majorColor30);\n  transition: background-color 0.3s;\n}\n.mirap-player .mirap-cover[data-v-f778bfb2] {\n  position: absolute;\n  margin-left: -50px;\n  margin-top: -40px;\n  width: 100px;\n  height: 80px;\n  top: 50%;\n  left: 50%;\n  border-radius: 30px;\n  background-color: var(--controlBgColor30);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n.mirap-player .mirap-cover span[data-v-f778bfb2] {\n  /* for vertical-align:center */\n  display: inline-flex;\n}\n.mirap-player .mirap-loading[data-v-f778bfb2] {\n  position: absolute;\n  margin-left: -50px;\n  margin-top: -40px;\n  width: 100px;\n  height: 80px;\n  top: 50%;\n  left: 50%;\n  border-radius: 30px;\n  background-color: var(--controlBgColor30);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n.mirap-player .mirap-loading span[data-v-f778bfb2] {\n  /* for vertical-align:center */\n  display: inline-flex;\n}\n.mirap-player .mirap-loading svg[data-v-f778bfb2] {\n  transform: rotateZ(-90deg);\n}\n.mirap-player .mirap-loading svg circle[data-v-f778bfb2] {\n  stroke: var(--controlBgColor);\n  stroke-width: 2px;\n}\n.mirap-player .mirap-loading svg .mirap-loading-bar[data-v-f778bfb2] {\n  stroke: var(--majorColor);\n  stroke-width: 3px;\n}\n.mirap-player .mirap-loading.mirap-error svg .mirap-loading-bar[data-v-f778bfb2] {\n  stroke: var(--errorColor);\n}\n.mirap-player .mirap-loading .i-icon-error[data-v-f778bfb2] {\n  position: absolute;\n  display: block;\n  color: var(--errorColor);\n  width: 28px;\n  height: 28px;\n}\n.mirap-player .mirap-loading span.mirap-percent[data-v-f778bfb2] {\n  position: absolute;\n  display: block;\n  color: var(--controlBgColor);\n  font-size: 16px;\n}\n.mirap-player .mirap-loading span.mirap-percent[data-v-f778bfb2]:after {\n  display: inline-block;\n  content: "%";\n  font-size: 12px;\n  margin-left: -1px;\n  transform: scale(0.7) translateY(1px);\n}\n.mirap-player .mirap-mini-bar[data-v-f778bfb2] {\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 3px;\n  opacity: 1;\n  background: var(--playerBgColor30);\n  transition: bottom 0.3s;\n  transition-delay: 0.1s;\n}\n.mirap-player .mirap-mini-bar-hide[data-v-f778bfb2] {\n  opacity: 0!important;\n  transition: opacity 0.3s;\n  transition-delay: 0s!important;\n}\n.mirap-player .mirap-controls-hide[data-v-f778bfb2] {\n  bottom: -39px !important;\n  transition: bottom 0.3s;\n  transition-delay: 0s!important;\n}\n.mirap-player .mirap-controls[data-v-f778bfb2] {\n  visibility: visible;\n  opacity: 1;\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 39px;\n  display: flex;\n  cursor: pointer;\n  transition: bottom 0.3s;\n  transition-delay: 0.1s;\n}\n.mirap-player .mirap-controls .mirap-play[data-v-f778bfb2] {\n  width: 39px;\n}\n.mirap-player .mirap-controls button[data-v-f778bfb2] {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  min-width: 39px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: var(--controlBgColor);\n  opacity: 0.5;\n}\n.mirap-player .mirap-controls button[data-v-f778bfb2]:hover {\n  opacity: 0.9;\n}\n.mirap-player .mirap-controls button span[data-v-f778bfb2] {\n  /* for vertical-align:center */\n  display: inline-flex;\n}\n.mirap-player .mirap-controls .mirap-info[data-v-f778bfb2] {\n  color: var(--majorColor);\n  font-size: 12px;\n}\n.mirap-player .mirap-controls .mirap-info span[data-v-f778bfb2] {\n  margin: 0 10px;\n  font-weight: 380;\n  font-family: Noto Sans,Helvetica Neue,Helvetica,PingFang SC!important;\n}\n.mirap-player .mirap-controls .mirap-bar[data-v-f778bfb2] {\n  position: relative;\n  background-color: var(--controlBgColor);\n  flex-grow: 1;\n  opacity: 0.6;\n}\n.mirap-player .mirap-controls .mirap-bar[data-v-f778bfb2]:hover {\n  opacity: 0.8;\n}\n.mirap-player .mirap-controls .mirap-bar:hover .mirap-note[data-v-f778bfb2] {\n  top: -30px;\n  opacity: 1;\n}\n.mirap-player .mirap-controls .mirap-bar:hover .mirap-cursor[data-v-f778bfb2] {\n  opacity: 1;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-note[data-v-f778bfb2] {\n  position: absolute;\n  width: 60px;\n  height: 30px;\n  right: -30px;\n  text-align: center;\n  top: -20px;\n  opacity: 0;\n  transition: top 0.3s, opacity 0.2s;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-note span[data-v-f778bfb2] {\n  white-space: nowrap;\n  font-size: 12px;\n  border-radius: 3px;\n  padding: 3px 5px;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-cursor[data-v-f778bfb2] {\n  position: absolute;\n  background: #000;\n  width: 1px;\n  height: 100%;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-cursor span[data-v-f778bfb2] {\n  color: var(--majorColor);\n  background: var(--controlBgColor90);\n}\n.mirap-player .mirap-progress[data-v-f778bfb2] {\n  position: absolute;\n  background: var(--majorColor);\n  height: 100%;\n  width: 0;\n  pointer-events: none;\n}\n.mirap-player .mirap-progress span[data-v-f778bfb2] {\n  color: var(--controlBgColor);\n  background: var(--majorColor90);\n}\n',""]);const a=o},(t,e,r)=>{"use strict";function n(t,e,r,n,i,s,o,a){var A,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),o?(A=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=A):i&&(A=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),A)if(u.functional){u._injectStyles=A;var l=u.render;u.render=function(t,e){return A.call(e),l(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,A):[A]}return{exports:t,options:u}}r.r(e),r.d(e,{default:()=>n})},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Li});var n=Object.freeze({});function i(t){return null==t}function s(t){return null!=t}function o(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function A(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function c(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return s(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function d(t,e){for(var r=Object.create(null),n=t.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}d("slot,component",!0);var g=d("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var v=Object.prototype.hasOwnProperty;function y(t,e){return v.call(t,e)}function _(t){var e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}var b=/-(\w)/g,w=_((function(t){return t.replace(b,(function(t,e){return e?e.toUpperCase():""}))})),B=_((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),x=/\B([A-Z])/g,E=_((function(t){return t.replace(x,"-$1").toLowerCase()})),C=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function r(r){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r};function T(t,e){e=e||0;for(var r=t.length-e,n=new Array(r);r--;)n[r]=t[r+e];return n}function I(t,e){for(var r in e)t[r]=e[r];return t}function F(t){for(var e={},r=0;r<t.length;r++)t[r]&&I(e,t[r]);return e}function S(t,e,r){}var U=function(t,e,r){return!1},M=function(t){return t};function O(t,e){if(t===e)return!0;var r=A(t),n=A(e);if(!r||!n)return!r&&!n&&String(t)===String(e);try{var i=Array.isArray(t),s=Array.isArray(e);if(i&&s)return t.length===e.length&&t.every((function(t,r){return O(t,e[r])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||s)return!1;var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every((function(r){return O(t[r],e[r])}))}catch(t){return!1}}function P(t,e){for(var r=0;r<t.length;r++)if(O(t[r],e))return r;return-1}function R(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var L="data-server-rendered",D=["component","directive","filter"],Q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:U,isReservedAttr:U,isUnknownElement:U,getTagNamespace:S,parsePlatformTagName:M,mustUseProp:U,async:!0,_lifecycleHooks:Q};function k(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var H,j=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]"),V="__proto__"in{},G="undefined"!=typeof window,K="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,W=K&&WXEnvironment.platform.toLowerCase(),z=G&&window.navigator.userAgent.toLowerCase(),X=z&&/msie|trident/.test(z),Y=z&&z.indexOf("msie 9.0")>0,q=z&&z.indexOf("edge/")>0,$=(z&&z.indexOf("android"),z&&/iphone|ipad|ipod|ios/.test(z)||"ios"===W),J=(z&&/chrome\/\d+/.test(z),z&&/phantomjs/.test(z),z&&z.match(/firefox\/(\d+)/)),Z={}.watch,tt=!1;if(G)try{var et={};Object.defineProperty(et,"passive",{get:function(){tt=!0}}),window.addEventListener("test-passive",null,et)}catch(t){}var rt=function(){return void 0===H&&(H=!G&&!K&&void 0!==r.g&&r.g.process&&"server"===r.g.process.env.VUE_ENV),H},nt=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function it(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,ot="undefined"!=typeof Symbol&&it(Symbol)&&"undefined"!=typeof Reflect&&it(Reflect.ownKeys);st="undefined"!=typeof Set&&it(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var at=S,At=0,ut=function(){this.id=At++,this.subs=[]};ut.prototype.addSub=function(t){this.subs.push(t)},ut.prototype.removeSub=function(t){m(this.subs,t)},ut.prototype.depend=function(){ut.target&&ut.target.addDep(this)},ut.prototype.notify=function(){for(var t=this.subs.slice(),e=0,r=t.length;e<r;e++)t[e].update()},ut.target=null;var lt=[];function ct(t){lt.push(t),ut.target=t}function ht(){lt.pop(),ut.target=lt[lt.length-1]}var ft=function(t,e,r,n,i,s,o,a){this.tag=t,this.data=e,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},pt={child:{configurable:!0}};pt.child.get=function(){return this.componentInstance},Object.defineProperties(ft.prototype,pt);var dt=function(t){void 0===t&&(t="");var e=new ft;return e.text=t,e.isComment=!0,e};function gt(t){return new ft(void 0,void 0,void 0,String(t))}function mt(t){var e=new ft(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var vt=Array.prototype,yt=Object.create(vt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=vt[t];k(yt,t,(function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var i,s=e.apply(this,r),o=this.__ob__;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return i&&o.observeArray(i),o.dep.notify(),s}))}));var _t=Object.getOwnPropertyNames(yt),bt=!0;function wt(t){bt=t}var Bt=function(t){this.value=t,this.dep=new ut,this.vmCount=0,k(t,"__ob__",this),Array.isArray(t)?(V?function(t,e){t.__proto__=e}(t,yt):function(t,e,r){for(var n=0,i=r.length;n<i;n++){var s=r[n];k(t,s,e[s])}}(t,yt,_t),this.observeArray(t)):this.walk(t)};function xt(t,e){var r;if(A(t)&&!(t instanceof ft))return y(t,"__ob__")&&t.__ob__ instanceof Bt?r=t.__ob__:bt&&!rt()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new Bt(t)),e&&r&&r.vmCount++,r}function Et(t,e,r,n,i){var s=new ut,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var a=o&&o.get,A=o&&o.set;a&&!A||2!==arguments.length||(r=t[e]);var u=!i&&xt(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):r;return ut.target&&(s.depend(),u&&(u.dep.depend(),Array.isArray(e)&&It(e))),e},set:function(e){var n=a?a.call(t):r;e===n||e!=e&&n!=n||a&&!A||(A?A.call(t,e):r=e,u=!i&&xt(e),s.notify())}})}}function Ct(t,e,r){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var n=t.__ob__;return t._isVue||n&&n.vmCount?r:n?(Et(n.value,e,r),n.dep.notify(),r):(t[e]=r,r)}function Tt(t,e){if(Array.isArray(t)&&c(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||y(t,e)&&(delete t[e],r&&r.dep.notify())}}function It(t){for(var e=void 0,r=0,n=t.length;r<n;r++)(e=t[r])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&It(e)}Bt.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)Et(t,e[r])},Bt.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)xt(t[e])};var Ft=N.optionMergeStrategies;function St(t,e){if(!e)return t;for(var r,n,i,s=ot?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)"__ob__"!==(r=s[o])&&(n=t[r],i=e[r],y(t,r)?n!==i&&l(n)&&l(i)&&St(n,i):Ct(t,r,i));return t}function Ut(t,e,r){return r?function(){var n="function"==typeof e?e.call(r,r):e,i="function"==typeof t?t.call(r,r):t;return n?St(n,i):i}:e?t?function(){return St("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Mt(t,e){var r=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return r?function(t){for(var e=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r]);return e}(r):r}function Ot(t,e,r,n){var i=Object.create(t||null);return e?I(i,e):i}Ft.data=function(t,e,r){return r?Ut(t,e,r):e&&"function"!=typeof e?t:Ut(t,e)},Q.forEach((function(t){Ft[t]=Mt})),D.forEach((function(t){Ft[t+"s"]=Ot})),Ft.watch=function(t,e,r,n){if(t===Z&&(t=void 0),e===Z&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var s in I(i,t),e){var o=i[s],a=e[s];o&&!Array.isArray(o)&&(o=[o]),i[s]=o?o.concat(a):Array.isArray(a)?a:[a]}return i},Ft.props=Ft.methods=Ft.inject=Ft.computed=function(t,e,r,n){if(!t)return e;var i=Object.create(null);return I(i,t),e&&I(i,e),i},Ft.provide=Ut;var Pt=function(t,e){return void 0===e?t:e};function Rt(t,e,r){if("function"==typeof e&&(e=e.options),function(t,e){var r=t.props;if(r){var n,i,s={};if(Array.isArray(r))for(n=r.length;n--;)"string"==typeof(i=r[n])&&(s[w(i)]={type:null});else if(l(r))for(var o in r)i=r[o],s[w(o)]=l(i)?i:{type:i};t.props=s}}(e),function(t,e){var r=t.inject;if(r){var n=t.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(l(r))for(var s in r){var o=r[s];n[s]=l(o)?I({from:s},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var r in e){var n=e[r];"function"==typeof n&&(e[r]={bind:n,update:n})}}(e),!e._base&&(e.extends&&(t=Rt(t,e.extends,r)),e.mixins))for(var n=0,i=e.mixins.length;n<i;n++)t=Rt(t,e.mixins[n],r);var s,o={};for(s in t)a(s);for(s in e)y(t,s)||a(s);function a(n){var i=Ft[n]||Pt;o[n]=i(t[n],e[n],r,n)}return o}function Lt(t,e,r,n){if("string"==typeof r){var i=t[e];if(y(i,r))return i[r];var s=w(r);if(y(i,s))return i[s];var o=B(s);return y(i,o)?i[o]:i[r]||i[s]||i[o]}}function Dt(t,e,r,n){var i=e[t],s=!y(r,t),o=r[t],a=Ht(Boolean,i.type);if(a>-1)if(s&&!y(i,"default"))o=!1;else if(""===o||o===E(t)){var A=Ht(String,i.type);(A<0||a<A)&&(o=!0)}if(void 0===o){o=function(t,e,r){if(y(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r]?t._props[r]:"function"==typeof n&&"Function"!==Nt(e.type)?n.call(t):n}}(n,i,t);var u=bt;wt(!0),xt(o),wt(u)}return o}var Qt=/^\s*function (\w+)/;function Nt(t){var e=t&&t.toString().match(Qt);return e?e[1]:""}function kt(t,e){return Nt(t)===Nt(e)}function Ht(t,e){if(!Array.isArray(e))return kt(e,t)?0:-1;for(var r=0,n=e.length;r<n;r++)if(kt(e[r],t))return r;return-1}function jt(t,e,r){ct();try{if(e)for(var n=e;n=n.$parent;){var i=n.$options.errorCaptured;if(i)for(var s=0;s<i.length;s++)try{if(!1===i[s].call(n,t,e,r))return}catch(t){Gt(t,n,"errorCaptured hook")}}Gt(t,e,r)}finally{ht()}}function Vt(t,e,r,n,i){var s;try{(s=r?t.apply(e,r):t.call(e))&&!s._isVue&&h(s)&&!s._handled&&(s.catch((function(t){return jt(t,n,i+" (Promise/async)")})),s._handled=!0)}catch(t){jt(t,n,i)}return s}function Gt(t,e,r){if(N.errorHandler)try{return N.errorHandler.call(null,t,e,r)}catch(e){e!==t&&Kt(e)}Kt(t)}function Kt(t,e,r){if(!G&&!K||"undefined"==typeof console)throw t;console.error(t)}var Wt,zt=!1,Xt=[],Yt=!1;function qt(){Yt=!1;var t=Xt.slice(0);Xt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&it(Promise)){var $t=Promise.resolve();Wt=function(){$t.then(qt),$&&setTimeout(S)},zt=!0}else if(X||"undefined"==typeof MutationObserver||!it(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Wt="undefined"!=typeof setImmediate&&it(setImmediate)?function(){setImmediate(qt)}:function(){setTimeout(qt,0)};else{var Jt=1,Zt=new MutationObserver(qt),te=document.createTextNode(String(Jt));Zt.observe(te,{characterData:!0}),Wt=function(){Jt=(Jt+1)%2,te.data=String(Jt)},zt=!0}function ee(t,e){var r;if(Xt.push((function(){if(t)try{t.call(e)}catch(t){jt(t,e,"nextTick")}else r&&r(e)})),Yt||(Yt=!0,Wt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){r=t}))}var re=new st;function ne(t){ie(t,re),re.clear()}function ie(t,e){var r,n,i=Array.isArray(t);if(!(!i&&!A(t)||Object.isFrozen(t)||t instanceof ft)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(i)for(r=t.length;r--;)ie(t[r],e);else for(r=(n=Object.keys(t)).length;r--;)ie(t[n[r]],e)}}var se=_((function(t){var e="&"===t.charAt(0),r="~"===(t=e?t.slice(1):t).charAt(0),n="!"===(t=r?t.slice(1):t).charAt(0);return{name:t=n?t.slice(1):t,once:r,capture:n,passive:e}}));function oe(t,e){function r(){var t=arguments,n=r.fns;if(!Array.isArray(n))return Vt(n,null,arguments,e,"v-on handler");for(var i=n.slice(),s=0;s<i.length;s++)Vt(i[s],null,t,e,"v-on handler")}return r.fns=t,r}function ae(t,e,r,n,s,a){var A,u,l,c;for(A in t)u=t[A],l=e[A],c=se(A),i(u)||(i(l)?(i(u.fns)&&(u=t[A]=oe(u,a)),o(c.once)&&(u=t[A]=s(c.name,u,c.capture)),r(c.name,u,c.capture,c.passive,c.params)):u!==l&&(l.fns=u,t[A]=l));for(A in e)i(t[A])&&n((c=se(A)).name,e[A],c.capture)}function Ae(t,e,r){var n;t instanceof ft&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function A(){r.apply(this,arguments),m(n.fns,A)}i(a)?n=oe([A]):s(a.fns)&&o(a.merged)?(n=a).fns.push(A):n=oe([a,A]),n.merged=!0,t[e]=n}function ue(t,e,r,n,i){if(s(e)){if(y(e,r))return t[r]=e[r],i||delete e[r],!0;if(y(e,n))return t[r]=e[n],i||delete e[n],!0}return!1}function le(t){return a(t)?[gt(t)]:Array.isArray(t)?he(t):void 0}function ce(t){return s(t)&&s(t.text)&&!1===t.isComment}function he(t,e){var r,n,A,u,l=[];for(r=0;r<t.length;r++)i(n=t[r])||"boolean"==typeof n||(u=l[A=l.length-1],Array.isArray(n)?n.length>0&&(ce((n=he(n,(e||"")+"_"+r))[0])&&ce(u)&&(l[A]=gt(u.text+n[0].text),n.shift()),l.push.apply(l,n)):a(n)?ce(u)?l[A]=gt(u.text+n):""!==n&&l.push(gt(n)):ce(n)&&ce(u)?l[A]=gt(u.text+n.text):(o(t._isVList)&&s(n.tag)&&i(n.key)&&s(e)&&(n.key="__vlist"+e+"_"+r+"__"),l.push(n)));return l}function fe(t,e){if(t){for(var r=Object.create(null),n=ot?Reflect.ownKeys(t):Object.keys(t),i=0;i<n.length;i++){var s=n[i];if("__ob__"!==s){for(var o=t[s].from,a=e;a;){if(a._provided&&y(a._provided,o)){r[s]=a._provided[o];break}a=a.$parent}if(!a&&"default"in t[s]){var A=t[s].default;r[s]="function"==typeof A?A.call(e):A}}}return r}}function pe(t,e){if(!t||!t.length)return{};for(var r={},n=0,i=t.length;n<i;n++){var s=t[n],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,s.context!==e&&s.fnContext!==e||!o||null==o.slot)(r.default||(r.default=[])).push(s);else{var a=o.slot,A=r[a]||(r[a]=[]);"template"===s.tag?A.push.apply(A,s.children||[]):A.push(s)}}for(var u in r)r[u].every(de)&&delete r[u];return r}function de(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ge(t){return t.isComment&&t.asyncFactory}function me(t,e,r){var i,s=Object.keys(e).length>0,o=t?!!t.$stable:!s,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&r&&r!==n&&a===r.$key&&!s&&!r.$hasNormal)return r;for(var A in i={},t)t[A]&&"$"!==A[0]&&(i[A]=ve(e,A,t[A]))}else i={};for(var u in e)u in i||(i[u]=ye(e,u));return t&&Object.isExtensible(t)&&(t._normalized=i),k(i,"$stable",o),k(i,"$key",a),k(i,"$hasNormal",s),i}function ve(t,e,r){var n=function(){var t=arguments.length?r.apply(null,arguments):r({}),e=(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:le(t))&&t[0];return t&&(!e||1===t.length&&e.isComment&&!ge(e))?void 0:t};return r.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function ye(t,e){return function(){return t[e]}}function _e(t,e){var r,n,i,o,a;if(Array.isArray(t)||"string"==typeof t)for(r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=e(t[n],n);else if("number"==typeof t)for(r=new Array(t),n=0;n<t;n++)r[n]=e(n+1,n);else if(A(t))if(ot&&t[Symbol.iterator]){r=[];for(var u=t[Symbol.iterator](),l=u.next();!l.done;)r.push(e(l.value,r.length)),l=u.next()}else for(o=Object.keys(t),r=new Array(o.length),n=0,i=o.length;n<i;n++)a=o[n],r[n]=e(t[a],a,n);return s(r)||(r=[]),r._isVList=!0,r}function be(t,e,r,n){var i,s=this.$scopedSlots[t];s?(r=r||{},n&&(r=I(I({},n),r)),i=s(r)||("function"==typeof e?e():e)):i=this.$slots[t]||("function"==typeof e?e():e);var o=r&&r.slot;return o?this.$createElement("template",{slot:o},i):i}function we(t){return Lt(this.$options,"filters",t)||M}function Be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function xe(t,e,r,n,i){var s=N.keyCodes[e]||r;return i&&n&&!N.keyCodes[e]?Be(i,n):s?Be(s,t):n?E(n)!==e:void 0===t}function Ee(t,e,r,n,i){if(r&&A(r)){var s;Array.isArray(r)&&(r=F(r));var o=function(o){if("class"===o||"style"===o||g(o))s=t;else{var a=t.attrs&&t.attrs.type;s=n||N.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var A=w(o),u=E(o);A in s||u in s||(s[o]=r[o],i&&((t.on||(t.on={}))["update:"+o]=function(t){r[o]=t}))};for(var a in r)o(a)}return t}function Ce(t,e){var r=this._staticTrees||(this._staticTrees=[]),n=r[t];return n&&!e||Ie(n=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),n}function Te(t,e,r){return Ie(t,"__once__"+e+(r?"_"+r:""),!0),t}function Ie(t,e,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&Fe(t[n],e+"_"+n,r);else Fe(t,e,r)}function Fe(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function Se(t,e){if(e&&l(e)){var r=t.on=t.on?I({},t.on):{};for(var n in e){var i=r[n],s=e[n];r[n]=i?[].concat(i,s):s}}return t}function Ue(t,e,r,n){e=e||{$stable:!r};for(var i=0;i<t.length;i++){var s=t[i];Array.isArray(s)?Ue(s,e,r):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return n&&(e.$key=n),e}function Me(t,e){for(var r=0;r<e.length;r+=2){var n=e[r];"string"==typeof n&&n&&(t[e[r]]=e[r+1])}return t}function Oe(t,e){return"string"==typeof t?e+t:t}function Pe(t){t._o=Te,t._n=p,t._s=f,t._l=_e,t._t=be,t._q=O,t._i=P,t._m=Ce,t._f=we,t._k=xe,t._b=Ee,t._v=gt,t._e=dt,t._u=Ue,t._g=Se,t._d=Me,t._p=Oe}function Re(t,e,r,i,s){var a,A=this,u=s.options;y(i,"_uid")?(a=Object.create(i))._original=i:(a=i,i=i._original);var l=o(u._compiled),c=!l;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=fe(u.inject,i),this.slots=function(){return A.$slots||me(t.scopedSlots,A.$slots=pe(r,i)),A.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,r,n){var s=je(a,t,e,r,n,c);return s&&!Array.isArray(s)&&(s.fnScopeId=u._scopeId,s.fnContext=i),s}:this._c=function(t,e,r,n){return je(a,t,e,r,n,c)}}function Le(t,e,r,n,i){var s=mt(t);return s.fnContext=r,s.fnOptions=n,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function De(t,e){for(var r in e)t[w(r)]=e[r]}Pe(Re.prototype);var Qe={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;Qe.prepatch(r,r)}else(t.componentInstance=function(t,e){var r={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return s(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(r)}(t,Je)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,s){var o=i.data.scopedSlots,a=t.$scopedSlots,A=!!(o&&!o.$stable||a!==n&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),u=!!(s||t.$options._renderChildren||A);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=s,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){wt(!1);for(var l=t._props,c=t.$options._propKeys||[],h=0;h<c.length;h++){var f=c[h],p=t.$options.props;l[f]=Dt(f,p,e,t)}wt(!0),t.$options.propsData=e}r=r||n;var d=t.$options._parentListeners;t.$options._parentListeners=r,$e(t,r,d),u&&(t.$slots=pe(s,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,r=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,nr(n,"mounted")),t.data.keepAlive&&(r._isMounted?((e=n)._inactive=!1,sr.push(e)):er(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?rr(e,!0):e.$destroy())}},Ne=Object.keys(Qe);function ke(t,e,r,a,u){if(!i(t)){var l=r.$options._base;if(A(t)&&(t=l.extend(t)),"function"==typeof t){var c;if(i(t.cid)&&(t=function(t,e){if(o(t.error)&&s(t.errorComp))return t.errorComp;if(s(t.resolved))return t.resolved;var r=Ke;if(r&&s(t.owners)&&-1===t.owners.indexOf(r)&&t.owners.push(r),o(t.loading)&&s(t.loadingComp))return t.loadingComp;if(r&&!s(t.owners)){var n=t.owners=[r],a=!0,u=null,l=null;r.$on("hook:destroyed",(function(){return m(n,r)}));var c=function(t){for(var e=0,r=n.length;e<r;e++)n[e].$forceUpdate();t&&(n.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},f=R((function(r){t.resolved=We(r,e),a?n.length=0:c(!0)})),p=R((function(e){s(t.errorComp)&&(t.error=!0,c(!0))})),d=t(f,p);return A(d)&&(h(d)?i(t.resolved)&&d.then(f,p):h(d.component)&&(d.component.then(f,p),s(d.error)&&(t.errorComp=We(d.error,e)),s(d.loading)&&(t.loadingComp=We(d.loading,e),0===d.delay?t.loading=!0:u=setTimeout((function(){u=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,c(!1))}),d.delay||200)),s(d.timeout)&&(l=setTimeout((function(){l=null,i(t.resolved)&&p(null)}),d.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}(c=t,l),void 0===t))return function(t,e,r,n,i){var s=dt();return s.asyncFactory=t,s.asyncMeta={data:e,context:r,children:n,tag:i},s}(c,e,r,a,u);e=e||{},xr(t),s(e.model)&&function(t,e){var r=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[r]=e.model.value;var i=e.on||(e.on={}),o=i[n],a=e.model.callback;s(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(i[n]=[a].concat(o)):i[n]=a}(t.options,e);var f=function(t,e,r){var n=e.options.props;if(!i(n)){var o={},a=t.attrs,A=t.props;if(s(a)||s(A))for(var u in n){var l=E(u);ue(o,A,u,l,!0)||ue(o,a,u,l,!1)}return o}}(e,t);if(o(t.options.functional))return function(t,e,r,i,o){var a=t.options,A={},u=a.props;if(s(u))for(var l in u)A[l]=Dt(l,u,e||n);else s(r.attrs)&&De(A,r.attrs),s(r.props)&&De(A,r.props);var c=new Re(r,A,o,i,t),h=a.render.call(null,c._c,c);if(h instanceof ft)return Le(h,r,c.parent,a);if(Array.isArray(h)){for(var f=le(h)||[],p=new Array(f.length),d=0;d<f.length;d++)p[d]=Le(f[d],r,c.parent,a);return p}}(t,f,e,r,a);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}!function(t){for(var e=t.hook||(t.hook={}),r=0;r<Ne.length;r++){var n=Ne[r],i=e[n],s=Qe[n];i===s||i&&i._merged||(e[n]=i?He(s,i):s)}}(e);var g=t.options.name||u;return new ft("vue-component-"+t.cid+(g?"-"+g:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:f,listeners:p,tag:u,children:a},c)}}}function He(t,e){var r=function(r,n){t(r,n),e(r,n)};return r._merged=!0,r}function je(t,e,r,n,i,u){return(Array.isArray(r)||a(r))&&(i=n,n=r,r=void 0),o(u)&&(i=2),function(t,e,r,n,i){if(s(r)&&s(r.__ob__))return dt();if(s(r)&&s(r.is)&&(e=r.is),!e)return dt();var o,a,u;(Array.isArray(n)&&"function"==typeof n[0]&&((r=r||{}).scopedSlots={default:n[0]},n.length=0),2===i?n=le(n):1===i&&(n=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(n)),"string"==typeof e)?(a=t.$vnode&&t.$vnode.ns||N.getTagNamespace(e),o=N.isReservedTag(e)?new ft(N.parsePlatformTagName(e),r,n,void 0,void 0,t):r&&r.pre||!s(u=Lt(t.$options,"components",e))?new ft(e,r,n,void 0,void 0,t):ke(u,r,t,n,e)):o=ke(e,r,t,n);return Array.isArray(o)?o:s(o)?(s(a)&&Ve(o,a),s(r)&&function(t){A(t.style)&&ne(t.style),A(t.class)&&ne(t.class)}(r),o):dt()}(t,e,r,n,i)}function Ve(t,e,r){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,r=!0),s(t.children))for(var n=0,a=t.children.length;n<a;n++){var A=t.children[n];s(A.tag)&&(i(A.ns)||o(r)&&"svg"!==A.tag)&&Ve(A,e,r)}}var Ge,Ke=null;function We(t,e){return(t.__esModule||ot&&"Module"===t[Symbol.toStringTag])&&(t=t.default),A(t)?e.extend(t):t}function ze(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(s(r)&&(s(r.componentOptions)||ge(r)))return r}}function Xe(t,e){Ge.$on(t,e)}function Ye(t,e){Ge.$off(t,e)}function qe(t,e){var r=Ge;return function n(){var i=e.apply(null,arguments);null!==i&&r.$off(t,n)}}function $e(t,e,r){Ge=t,ae(e,r||{},Xe,Ye,qe,t),Ge=void 0}var Je=null;function Ze(t){var e=Je;return Je=t,function(){Je=e}}function tr(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function er(t,e){if(e){if(t._directInactive=!1,tr(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)er(t.$children[r]);nr(t,"activated")}}function rr(t,e){if(!(e&&(t._directInactive=!0,tr(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)rr(t.$children[r]);nr(t,"deactivated")}}function nr(t,e){ct();var r=t.$options[e],n=e+" hook";if(r)for(var i=0,s=r.length;i<s;i++)Vt(r[i],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),ht()}var ir=[],sr=[],or={},ar=!1,Ar=!1,ur=0,lr=0,cr=Date.now;if(G&&!X){var hr=window.performance;hr&&"function"==typeof hr.now&&cr()>document.createEvent("Event").timeStamp&&(cr=function(){return hr.now()})}function fr(){var t,e;for(lr=cr(),Ar=!0,ir.sort((function(t,e){return t.id-e.id})),ur=0;ur<ir.length;ur++)(t=ir[ur]).before&&t.before(),e=t.id,or[e]=null,t.run();var r=sr.slice(),n=ir.slice();ur=ir.length=sr.length=0,or={},ar=Ar=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,er(t[e],!0)}(r),function(t){for(var e=t.length;e--;){var r=t[e],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&nr(n,"updated")}}(n),nt&&N.devtools&&nt.emit("flush")}var pr=0,dr=function(t,e,r,n,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++pr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!j.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}(e),this.getter||(this.getter=S)),this.value=this.lazy?void 0:this.get()};dr.prototype.get=function(){var t;ct(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;jt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ne(t),ht(),this.cleanupDeps()}return t},dr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},dr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},dr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==or[e]){if(or[e]=!0,Ar){for(var r=ir.length-1;r>ur&&ir[r].id>t.id;)r--;ir.splice(r+1,0,t)}else ir.push(t);ar||(ar=!0,ee(fr))}}(this)},dr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||A(t)||this.deep){var e=this.value;if(this.value=t,this.user){var r='callback for watcher "'+this.expression+'"';Vt(this.cb,this.vm,[t,e],this.vm,r)}else this.cb.call(this.vm,t,e)}}},dr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},dr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},dr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var gr={enumerable:!0,configurable:!0,get:S,set:S};function mr(t,e,r){gr.get=function(){return this[e][r]},gr.set=function(t){this[e][r]=t},Object.defineProperty(t,r,gr)}var vr={lazy:!0};function yr(t,e,r){var n=!rt();"function"==typeof r?(gr.get=n?_r(e):br(r),gr.set=S):(gr.get=r.get?n&&!1!==r.cache?_r(e):br(r.get):S,gr.set=r.set||S),Object.defineProperty(t,e,gr)}function _r(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ut.target&&e.depend(),e.value}}function br(t){return function(){return t.call(this,this)}}function wr(t,e,r,n){return l(r)&&(n=r,r=r.handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,n)}var Br=0;function xr(t){var e=t.options;if(t.super){var r=xr(t.super);if(r!==t.superOptions){t.superOptions=r;var n=function(t){var e,r=t.options,n=t.sealedOptions;for(var i in r)r[i]!==n[i]&&(e||(e={}),e[i]=r[i]);return e}(t);n&&I(t.extendOptions,n),(e=t.options=Rt(r,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Er(t){this._init(t)}function Cr(t){return t&&(t.Ctor.options.name||t.tag)}function Tr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(r=t,!("[object RegExp]"!==u.call(r))&&t.test(e));var r}function Ir(t,e){var r=t.cache,n=t.keys,i=t._vnode;for(var s in r){var o=r[s];if(o){var a=o.name;a&&!e(a)&&Fr(r,s,n,i)}}}function Fr(t,e,r,n){var i=t[e];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),t[e]=null,m(r,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Br++,e._isVue=!0,t&&t._isComponent?function(t,e){var r=t.$options=Object.create(t.constructor.options),n=e._parentVnode;r.parent=e.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Rt(xr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&$e(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=pe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,r,n,i){return je(t,e,r,n,i,!1)},t.$createElement=function(e,r,n,i){return je(t,e,r,n,i,!0)};var s=r&&r.data;Et(t,"$attrs",s&&s.attrs||n,null,!0),Et(t,"$listeners",e._parentListeners||n,null,!0)}(e),nr(e,"beforeCreate"),function(t){var e=fe(t.$options.inject,t);e&&(wt(!1),Object.keys(e).forEach((function(r){Et(t,r,e[r])})),wt(!0))}(e),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var r=t.$options.propsData||{},n=t._props={},i=t.$options._propKeys=[];t.$parent&&wt(!1);var s=function(s){i.push(s);var o=Dt(s,e,r,t);Et(n,s,o),s in t||mr(t,"_props",s)};for(var o in e)s(o);wt(!0)}(t,e.props),e.methods&&function(t,e){for(var r in t.$options.props,e)t[r]="function"!=typeof e[r]?S:C(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){ct();try{return t.call(e,e)}catch(t){return jt(t,e,"data()"),{}}finally{ht()}}(e,t):e||{})||(e={});for(var r,n=Object.keys(e),i=t.$options.props,s=(t.$options.methods,n.length);s--;){var o=n[s];i&&y(i,o)||(r=void 0,36===(r=(o+"").charCodeAt(0))||95===r)||mr(t,"_data",o)}xt(e,!0)}(t):xt(t._data={},!0),e.computed&&function(t,e){var r=t._computedWatchers=Object.create(null),n=rt();for(var i in e){var s=e[i],o="function"==typeof s?s:s.get;n||(r[i]=new dr(t,o||S,S,vr)),i in t||yr(t,i,s)}}(t,e.computed),e.watch&&e.watch!==Z&&function(t,e){for(var r in e){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)wr(t,r,n[i]);else wr(t,r,n)}}(t,e.watch)}(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),nr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Er),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=Ct,t.prototype.$delete=Tt,t.prototype.$watch=function(t,e,r){var n=this;if(l(e))return wr(n,t,e,r);(r=r||{}).user=!0;var i=new dr(n,t,e,r);if(r.immediate){var s='callback for immediate watcher "'+i.expression+'"';ct(),Vt(e,n,[i.value],n,s),ht()}return function(){i.teardown()}}}(Er),function(t){var e=/^hook:/;t.prototype.$on=function(t,r){var n=this;if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)n.$on(t[i],r);else(n._events[t]||(n._events[t]=[])).push(r),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var r=this;function n(){r.$off(t,n),e.apply(r,arguments)}return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)r.$off(t[n],e);return r}var s,o=r._events[t];if(!o)return r;if(!e)return r._events[t]=null,r;for(var a=o.length;a--;)if((s=o[a])===e||s.fn===e){o.splice(a,1);break}return r},t.prototype.$emit=function(t){var e=this,r=e._events[t];if(r){r=r.length>1?T(r):r;for(var n=T(arguments,1),i='event handler for "'+t+'"',s=0,o=r.length;s<o;s++)Vt(r[s],e,n,e,i)}return e}}(Er),function(t){t.prototype._update=function(t,e){var r=this,n=r.$el,i=r._vnode,s=Ze(r);r._vnode=t,r.$el=i?r.__patch__(i,t):r.__patch__(r.$el,t,e,!1),s(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){nr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),nr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Er),function(t){Pe(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,r=e.$options,n=r.render,i=r._parentVnode;i&&(e.$scopedSlots=me(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{Ke=e,t=n.call(e._renderProxy,e.$createElement)}catch(r){jt(r,e,"render"),t=e._vnode}finally{Ke=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof ft||(t=dt()),t.parent=i,t}}(Er);var Sr=[String,RegExp,Array],Ur={name:"keep-alive",abstract:!0,props:{include:Sr,exclude:Sr,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,r=t.keys,n=t.vnodeToCache,i=t.keyToCache;if(n){var s=n.tag,o=n.componentInstance,a=n.componentOptions;e[i]={name:Cr(a),tag:s,componentInstance:o},r.push(i),this.max&&r.length>parseInt(this.max)&&Fr(e,r[0],r,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Fr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Ir(t,(function(t){return Tr(e,t)}))})),this.$watch("exclude",(function(e){Ir(t,(function(t){return!Tr(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=ze(t),r=e&&e.componentOptions;if(r){var n=Cr(r),i=this.include,s=this.exclude;if(i&&(!n||!Tr(i,n))||s&&n&&Tr(s,n))return e;var o=this.cache,a=this.keys,A=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;o[A]?(e.componentInstance=o[A].componentInstance,m(a,A),a.push(A)):(this.vnodeToCache=e,this.keyToCache=A),e.data.keepAlive=!0}return e||t&&t[0]}},Mr={KeepAlive:Ur};!function(t){var e={get:function(){return N}};Object.defineProperty(t,"config",e),t.util={warn:at,extend:I,mergeOptions:Rt,defineReactive:Et},t.set=Ct,t.delete=Tt,t.nextTick=ee,t.observable=function(t){return xt(t),t},t.options=Object.create(null),D.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,I(t.options.components,Mr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=T(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Rt(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,n=r.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];var s=t.name||r.options.name,o=function(t){this._init(t)};return(o.prototype=Object.create(r.prototype)).constructor=o,o.cid=e++,o.options=Rt(r.options,t),o.super=r,o.options.props&&function(t){var e=t.options.props;for(var r in e)mr(t.prototype,"_props",r)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var r in e)yr(t.prototype,r,e[r])}(o),o.extend=r.extend,o.mixin=r.mixin,o.use=r.use,D.forEach((function(t){o[t]=r[t]})),s&&(o.options.components[s]=o),o.superOptions=r.options,o.extendOptions=t,o.sealedOptions=I({},o.options),i[n]=o,o}}(t),function(t){D.forEach((function(e){t[e]=function(t,r){return r?("component"===e&&l(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}}))}(t)}(Er),Object.defineProperty(Er.prototype,"$isServer",{get:rt}),Object.defineProperty(Er.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Er,"FunctionalRenderContext",{value:Re}),Er.version="2.6.14";var Or=d("style,class"),Pr=d("input,textarea,option,select,progress"),Rr=d("contenteditable,draggable,spellcheck"),Lr=d("events,caret,typing,plaintext-only"),Dr=d("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Qr="http://www.w3.org/1999/xlink",Nr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},kr=function(t){return Nr(t)?t.slice(6,t.length):""},Hr=function(t){return null==t||!1===t};function jr(t,e){return{staticClass:Vr(t.staticClass,e.staticClass),class:s(t.class)?[t.class,e.class]:e.class}}function Vr(t,e){return t?e?t+" "+e:t:e||""}function Gr(t){return Array.isArray(t)?function(t){for(var e,r="",n=0,i=t.length;n<i;n++)s(e=Gr(t[n]))&&""!==e&&(r&&(r+=" "),r+=e);return r}(t):A(t)?function(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}(t):"string"==typeof t?t:""}var Kr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wr=d("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),zr=d("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Xr=function(t){return Wr(t)||zr(t)},Yr=Object.create(null),qr=d("text,number,password,search,email,tel,url"),$r=Object.freeze({createElement:function(t,e){var r=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r},createElementNS:function(t,e){return document.createElementNS(Kr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,r){t.insertBefore(e,r)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Jr={create:function(t,e){Zr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Zr(t,!0),Zr(e))},destroy:function(t){Zr(t,!0)}};function Zr(t,e){var r=t.data.ref;if(s(r)){var n=t.context,i=t.componentInstance||t.elm,o=n.$refs;e?Array.isArray(o[r])?m(o[r],i):o[r]===i&&(o[r]=void 0):t.data.refInFor?Array.isArray(o[r])?o[r].indexOf(i)<0&&o[r].push(i):o[r]=[i]:o[r]=i}}var tn=new ft("",{},[]),en=["create","activate","update","remove","destroy"];function rn(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&s(t.data)===s(e.data)&&function(t,e){if("input"!==t.tag)return!0;var r,n=s(r=t.data)&&s(r=r.attrs)&&r.type,i=s(r=e.data)&&s(r=r.attrs)&&r.type;return n===i||qr(n)&&qr(i)}(t,e)||o(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function nn(t,e,r){var n,i,o={};for(n=e;n<=r;++n)s(i=t[n].key)&&(o[i]=n);return o}var sn={create:on,update:on,destroy:function(t){on(t,tn)}};function on(t,e){(t.data.directives||e.data.directives)&&function(t,e){var r,n,i,s=t===tn,o=e===tn,a=An(t.data.directives,t.context),A=An(e.data.directives,e.context),u=[],l=[];for(r in A)n=a[r],i=A[r],n?(i.oldValue=n.value,i.oldArg=n.arg,ln(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(ln(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var c=function(){for(var r=0;r<u.length;r++)ln(u[r],"inserted",e,t)};s?Ae(e,"insert",c):c()}if(l.length&&Ae(e,"postpatch",(function(){for(var r=0;r<l.length;r++)ln(l[r],"componentUpdated",e,t)})),!s)for(r in a)A[r]||ln(a[r],"unbind",t,t,o)}(t,e)}var an=Object.create(null);function An(t,e){var r,n,i=Object.create(null);if(!t)return i;for(r=0;r<t.length;r++)(n=t[r]).modifiers||(n.modifiers=an),i[un(n)]=n,n.def=Lt(e.$options,"directives",n.name);return i}function un(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function ln(t,e,r,n,i){var s=t.def&&t.def[e];if(s)try{s(r.elm,t,r,n,i)}catch(n){jt(n,r.context,"directive "+t.name+" "+e+" hook")}}var cn=[Jr,sn];function hn(t,e){var r=e.componentOptions;if(!(s(r)&&!1===r.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var n,o,a=e.elm,A=t.data.attrs||{},u=e.data.attrs||{};for(n in s(u.__ob__)&&(u=e.data.attrs=I({},u)),u)o=u[n],A[n]!==o&&fn(a,n,o,e.data.pre);for(n in(X||q)&&u.value!==A.value&&fn(a,"value",u.value),A)i(u[n])&&(Nr(n)?a.removeAttributeNS(Qr,kr(n)):Rr(n)||a.removeAttribute(n))}}function fn(t,e,r,n){n||t.tagName.indexOf("-")>-1?pn(t,e,r):Dr(e)?Hr(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r)):Rr(e)?t.setAttribute(e,function(t,e){return Hr(e)||"false"===e?"false":"contenteditable"===t&&Lr(e)?e:"true"}(e,r)):Nr(e)?Hr(r)?t.removeAttributeNS(Qr,kr(e)):t.setAttributeNS(Qr,e,r):pn(t,e,r)}function pn(t,e,r){if(Hr(r))t.removeAttribute(e);else{if(X&&!Y&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==r&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,r)}}var dn={create:hn,update:hn};function gn(t,e){var r=e.elm,n=e.data,o=t.data;if(!(i(n.staticClass)&&i(n.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var a=function(t){for(var e=t.data,r=t,n=t;s(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(e=jr(n.data,e));for(;s(r=r.parent);)r&&r.data&&(e=jr(e,r.data));return i=e.staticClass,o=e.class,s(i)||s(o)?Vr(i,Gr(o)):"";var i,o}(e),A=r._transitionClasses;s(A)&&(a=Vr(a,Gr(A))),a!==r._prevClass&&(r.setAttribute("class",a),r._prevClass=a)}}var mn,vn={create:gn,update:gn};function yn(t,e,r){var n=mn;return function i(){var s=e.apply(null,arguments);null!==s&&wn(t,i,r,n)}}var _n=zt&&!(J&&Number(J[1])<=53);function bn(t,e,r,n){if(_n){var i=lr,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}mn.addEventListener(t,e,tt?{capture:r,passive:n}:r)}function wn(t,e,r,n){(n||mn).removeEventListener(t,e._wrapper||e,r)}function Bn(t,e){if(!i(t.data.on)||!i(e.data.on)){var r=e.data.on||{},n=t.data.on||{};mn=e.elm,function(t){if(s(t.__r)){var e=X?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}s(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(r),ae(r,n,bn,wn,yn,e.context),mn=void 0}}var xn,En={create:Bn,update:Bn};function Cn(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,n,o=e.elm,a=t.data.domProps||{},A=e.data.domProps||{};for(r in s(A.__ob__)&&(A=e.data.domProps=I({},A)),a)r in A||(o[r]="");for(r in A){if(n=A[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),n===a[r])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===r&&"PROGRESS"!==o.tagName){o._value=n;var u=i(n)?"":String(n);Tn(o,u)&&(o.value=u)}else if("innerHTML"===r&&zr(o.tagName)&&i(o.innerHTML)){(xn=xn||document.createElement("div")).innerHTML="<svg>"+n+"</svg>";for(var l=xn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}else if(n!==a[r])try{o[r]=n}catch(t){}}}}function Tn(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var r=!0;try{r=document.activeElement!==t}catch(t){}return r&&t.value!==e}(t,e)||function(t,e){var r=t.value,n=t._vModifiers;if(s(n)){if(n.number)return p(r)!==p(e);if(n.trim)return r.trim()!==e.trim()}return r!==e}(t,e))}var In={create:Cn,update:Cn},Fn=_((function(t){var e={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Sn(t){var e=Un(t.style);return t.staticStyle?I(t.staticStyle,e):e}function Un(t){return Array.isArray(t)?F(t):"string"==typeof t?Fn(t):t}var Mn,On=/^--/,Pn=/\s*!important$/,Rn=function(t,e,r){if(On.test(e))t.style.setProperty(e,r);else if(Pn.test(r))t.style.setProperty(E(e),r.replace(Pn,""),"important");else{var n=Dn(e);if(Array.isArray(r))for(var i=0,s=r.length;i<s;i++)t.style[n]=r[i];else t.style[n]=r}},Ln=["Webkit","Moz","ms"],Dn=_((function(t){if(Mn=Mn||document.createElement("div").style,"filter"!==(t=w(t))&&t in Mn)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<Ln.length;r++){var n=Ln[r]+e;if(n in Mn)return n}}));function Qn(t,e){var r=e.data,n=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(n.staticStyle)&&i(n.style))){var o,a,A=e.elm,u=n.staticStyle,l=n.normalizedStyle||n.style||{},c=u||l,h=Un(e.data.style)||{};e.data.normalizedStyle=s(h.__ob__)?I({},h):h;var f=function(t,e){for(var r,n={},i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(r=Sn(i.data))&&I(n,r);(r=Sn(t.data))&&I(n,r);for(var s=t;s=s.parent;)s.data&&(r=Sn(s.data))&&I(n,r);return n}(e);for(a in c)i(f[a])&&Rn(A,a,"");for(a in f)(o=f[a])!==c[a]&&Rn(A,a,null==o?"":o)}}var Nn={create:Qn,update:Qn},kn=/\s+/;function Hn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(kn).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function jn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(kn).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var r=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";r.indexOf(n)>=0;)r=r.replace(n," ");(r=r.trim())?t.setAttribute("class",r):t.removeAttribute("class")}}function Vn(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&I(e,Gn(t.name||"v")),I(e,t),e}return"string"==typeof t?Gn(t):void 0}}var Gn=_((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Kn=G&&!Y,Wn="transition",zn="animation",Xn="transition",Yn="transitionend",qn="animation",$n="animationend";Kn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Xn="WebkitTransition",Yn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(qn="WebkitAnimation",$n="webkitAnimationEnd"));var Jn=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Zn(t){Jn((function(){Jn(t)}))}function ti(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),Hn(t,e))}function ei(t,e){t._transitionClasses&&m(t._transitionClasses,e),jn(t,e)}function ri(t,e,r){var n=ii(t,e),i=n.type,s=n.timeout,o=n.propCount;if(!i)return r();var a=i===Wn?Yn:$n,A=0,u=function(){t.removeEventListener(a,l),r()},l=function(e){e.target===t&&++A>=o&&u()};setTimeout((function(){A<o&&u()}),s+1),t.addEventListener(a,l)}var ni=/\b(transform|all)(,|$)/;function ii(t,e){var r,n=window.getComputedStyle(t),i=(n[Xn+"Delay"]||"").split(", "),s=(n[Xn+"Duration"]||"").split(", "),o=si(i,s),a=(n[qn+"Delay"]||"").split(", "),A=(n[qn+"Duration"]||"").split(", "),u=si(a,A),l=0,c=0;return e===Wn?o>0&&(r=Wn,l=o,c=s.length):e===zn?u>0&&(r=zn,l=u,c=A.length):c=(r=(l=Math.max(o,u))>0?o>u?Wn:zn:null)?r===Wn?s.length:A.length:0,{type:r,timeout:l,propCount:c,hasTransform:r===Wn&&ni.test(n[Xn+"Property"])}}function si(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,r){return oi(e)+oi(t[r])})))}function oi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ai(t,e){var r=t.elm;s(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=Vn(t.data.transition);if(!i(n)&&!s(r._enterCb)&&1===r.nodeType){for(var o=n.css,a=n.type,u=n.enterClass,l=n.enterToClass,c=n.enterActiveClass,h=n.appearClass,f=n.appearToClass,d=n.appearActiveClass,g=n.beforeEnter,m=n.enter,v=n.afterEnter,y=n.enterCancelled,_=n.beforeAppear,b=n.appear,w=n.afterAppear,B=n.appearCancelled,x=n.duration,E=Je,C=Je.$vnode;C&&C.parent;)E=C.context,C=C.parent;var T=!E._isMounted||!t.isRootInsert;if(!T||b||""===b){var I=T&&h?h:u,F=T&&d?d:c,S=T&&f?f:l,U=T&&_||g,M=T&&"function"==typeof b?b:m,O=T&&w||v,P=T&&B||y,L=p(A(x)?x.enter:x),D=!1!==o&&!Y,Q=li(M),N=r._enterCb=R((function(){D&&(ei(r,S),ei(r,F)),N.cancelled?(D&&ei(r,I),P&&P(r)):O&&O(r),r._enterCb=null}));t.data.show||Ae(t,"insert",(function(){var e=r.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),M&&M(r,N)})),U&&U(r),D&&(ti(r,I),ti(r,F),Zn((function(){ei(r,I),N.cancelled||(ti(r,S),Q||(ui(L)?setTimeout(N,L):ri(r,a,N)))}))),t.data.show&&(e&&e(),M&&M(r,N)),D||Q||N()}}}function Ai(t,e){var r=t.elm;s(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=Vn(t.data.transition);if(i(n)||1!==r.nodeType)return e();if(!s(r._leaveCb)){var o=n.css,a=n.type,u=n.leaveClass,l=n.leaveToClass,c=n.leaveActiveClass,h=n.beforeLeave,f=n.leave,d=n.afterLeave,g=n.leaveCancelled,m=n.delayLeave,v=n.duration,y=!1!==o&&!Y,_=li(f),b=p(A(v)?v.leave:v),w=r._leaveCb=R((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),y&&(ei(r,l),ei(r,c)),w.cancelled?(y&&ei(r,u),g&&g(r)):(e(),d&&d(r)),r._leaveCb=null}));m?m(B):B()}function B(){w.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),h&&h(r),y&&(ti(r,u),ti(r,c),Zn((function(){ei(r,u),w.cancelled||(ti(r,l),_||(ui(b)?setTimeout(w,b):ri(r,a,w)))}))),f&&f(r,w),y||_||w())}}function ui(t){return"number"==typeof t&&!isNaN(t)}function li(t){if(i(t))return!1;var e=t.fns;return s(e)?li(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ci(t,e){!0!==e.data.show&&ai(e)}var hi=function(t){var e,r,n={},A=t.modules,u=t.nodeOps;for(e=0;e<en.length;++e)for(n[en[e]]=[],r=0;r<A.length;++r)s(A[r][en[e]])&&n[en[e]].push(A[r][en[e]]);function l(t){var e=u.parentNode(t);s(e)&&u.removeChild(e,t)}function c(t,e,r,i,a,A,l){if(s(t.elm)&&s(A)&&(t=A[l]=mt(t)),t.isRootInsert=!a,!function(t,e,r,i){var a=t.data;if(s(a)){var A=s(t.componentInstance)&&a.keepAlive;if(s(a=a.hook)&&s(a=a.init)&&a(t,!1),s(t.componentInstance))return h(t,e),f(r,t.elm,i),o(A)&&function(t,e,r,i){for(var o,a=t;a.componentInstance;)if(s(o=(a=a.componentInstance._vnode).data)&&s(o=o.transition)){for(o=0;o<n.activate.length;++o)n.activate[o](tn,a);e.push(a);break}f(r,t.elm,i)}(t,e,r,i),!0}}(t,e,r,i)){var c=t.data,d=t.children,g=t.tag;s(g)?(t.elm=t.ns?u.createElementNS(t.ns,g):u.createElement(g,t),v(t),p(t,d,e),s(c)&&m(t,e),f(r,t.elm,i)):o(t.isComment)?(t.elm=u.createComment(t.text),f(r,t.elm,i)):(t.elm=u.createTextNode(t.text),f(r,t.elm,i))}}function h(t,e){s(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(m(t,e),v(t)):(Zr(t),e.push(t))}function f(t,e,r){s(t)&&(s(r)?u.parentNode(r)===t&&u.insertBefore(t,e,r):u.appendChild(t,e))}function p(t,e,r){if(Array.isArray(e))for(var n=0;n<e.length;++n)c(e[n],r,t.elm,null,!0,e,n);else a(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return s(t.tag)}function m(t,r){for(var i=0;i<n.create.length;++i)n.create[i](tn,t);s(e=t.data.hook)&&(s(e.create)&&e.create(tn,t),s(e.insert)&&r.push(t))}function v(t){var e;if(s(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var r=t;r;)s(e=r.context)&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),r=r.parent;s(e=Je)&&e!==t.context&&e!==t.fnContext&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function y(t,e,r,n,i,s){for(;n<=i;++n)c(r[n],s,t,e,!1,r,n)}function _(t){var e,r,i=t.data;if(s(i))for(s(e=i.hook)&&s(e=e.destroy)&&e(t),e=0;e<n.destroy.length;++e)n.destroy[e](t);if(s(e=t.children))for(r=0;r<t.children.length;++r)_(t.children[r])}function b(t,e,r){for(;e<=r;++e){var n=t[e];s(n)&&(s(n.tag)?(w(n),_(n)):l(n.elm))}}function w(t,e){if(s(e)||s(t.data)){var r,i=n.remove.length+1;for(s(e)?e.listeners+=i:e=function(t,e){function r(){0==--r.listeners&&l(t)}return r.listeners=e,r}(t.elm,i),s(r=t.componentInstance)&&s(r=r._vnode)&&s(r.data)&&w(r,e),r=0;r<n.remove.length;++r)n.remove[r](t,e);s(r=t.data.hook)&&s(r=r.remove)?r(t,e):e()}else l(t.elm)}function B(t,e,r,n){for(var i=r;i<n;i++){var o=e[i];if(s(o)&&rn(t,o))return i}}function x(t,e,r,a,A,l){if(t!==e){s(e.elm)&&s(a)&&(e=a[A]=mt(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))s(e.asyncFactory.resolved)?T(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;s(p)&&s(f=p.hook)&&s(f=f.prepatch)&&f(t,e);var d=t.children,m=e.children;if(s(p)&&g(e)){for(f=0;f<n.update.length;++f)n.update[f](t,e);s(f=p.hook)&&s(f=f.update)&&f(t,e)}i(e.text)?s(d)&&s(m)?d!==m&&function(t,e,r,n,o){for(var a,A,l,h=0,f=0,p=e.length-1,d=e[0],g=e[p],m=r.length-1,v=r[0],_=r[m],w=!o;h<=p&&f<=m;)i(d)?d=e[++h]:i(g)?g=e[--p]:rn(d,v)?(x(d,v,n,r,f),d=e[++h],v=r[++f]):rn(g,_)?(x(g,_,n,r,m),g=e[--p],_=r[--m]):rn(d,_)?(x(d,_,n,r,m),w&&u.insertBefore(t,d.elm,u.nextSibling(g.elm)),d=e[++h],_=r[--m]):rn(g,v)?(x(g,v,n,r,f),w&&u.insertBefore(t,g.elm,d.elm),g=e[--p],v=r[++f]):(i(a)&&(a=nn(e,h,p)),i(A=s(v.key)?a[v.key]:B(v,e,h,p))?c(v,n,t,d.elm,!1,r,f):rn(l=e[A],v)?(x(l,v,n,r,f),e[A]=void 0,w&&u.insertBefore(t,l.elm,d.elm)):c(v,n,t,d.elm,!1,r,f),v=r[++f]);h>p?y(t,i(r[m+1])?null:r[m+1].elm,r,f,m,n):f>m&&b(e,h,p)}(h,d,m,r,l):s(m)?(s(t.text)&&u.setTextContent(h,""),y(h,null,m,0,m.length-1,r)):s(d)?b(d,0,d.length-1):s(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),s(p)&&s(f=p.hook)&&s(f=f.postpatch)&&f(t,e)}}}function E(t,e,r){if(o(r)&&s(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var C=d("attrs,class,staticClass,staticStyle,key");function T(t,e,r,n){var i,a=e.tag,A=e.data,u=e.children;if(n=n||A&&A.pre,e.elm=t,o(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(A)&&(s(i=A.hook)&&s(i=i.init)&&i(e,!0),s(i=e.componentInstance)))return h(e,r),!0;if(s(a)){if(s(u))if(t.hasChildNodes())if(s(i=A)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,c=t.firstChild,f=0;f<u.length;f++){if(!c||!T(c,u[f],r,n)){l=!1;break}c=c.nextSibling}if(!l||c)return!1}else p(e,u,r);if(s(A)){var d=!1;for(var g in A)if(!C(g)){d=!0,m(e,r);break}!d&&A.class&&ne(A.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,a){if(!i(e)){var A,l=!1,h=[];if(i(t))l=!0,c(e,h);else{var f=s(t.nodeType);if(!f&&rn(t,e))x(t,e,h,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute(L)&&(t.removeAttribute(L),r=!0),o(r)&&T(t,e,h))return E(e,h,!0),t;A=t,t=new ft(u.tagName(A).toLowerCase(),{},[],void 0,A)}var p=t.elm,d=u.parentNode(p);if(c(e,h,p._leaveCb?null:d,u.nextSibling(p)),s(e.parent))for(var m=e.parent,v=g(e);m;){for(var y=0;y<n.destroy.length;++y)n.destroy[y](m);if(m.elm=e.elm,v){for(var w=0;w<n.create.length;++w)n.create[w](tn,m);var B=m.data.hook.insert;if(B.merged)for(var C=1;C<B.fns.length;C++)B.fns[C]()}else Zr(m);m=m.parent}s(d)?b([t],0,0):s(t.tag)&&_(t)}}return E(e,h,l),e.elm}s(t)&&_(t)}}({nodeOps:$r,modules:[dn,vn,En,In,Nn,G?{create:ci,activate:ci,remove:function(t,e){!0!==t.data.show?Ai(t,e):e()}}:{}].concat(cn)});Y&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&_i(t,"input")}));var fi={inserted:function(t,e,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?Ae(r,"postpatch",(function(){fi.componentUpdated(t,e,r)})):pi(t,e,r.context),t._vOptions=[].map.call(t.options,mi)):("textarea"===r.tag||qr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",vi),t.addEventListener("compositionend",yi),t.addEventListener("change",yi),Y&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){pi(t,e,r.context);var n=t._vOptions,i=t._vOptions=[].map.call(t.options,mi);i.some((function(t,e){return!O(t,n[e])}))&&(t.multiple?e.value.some((function(t){return gi(t,i)})):e.value!==e.oldValue&&gi(e.value,i))&&_i(t,"change")}}};function pi(t,e,r){di(t,e),(X||q)&&setTimeout((function(){di(t,e)}),0)}function di(t,e,r){var n=e.value,i=t.multiple;if(!i||Array.isArray(n)){for(var s,o,a=0,A=t.options.length;a<A;a++)if(o=t.options[a],i)s=P(n,mi(o))>-1,o.selected!==s&&(o.selected=s);else if(O(mi(o),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function gi(t,e){return e.every((function(e){return!O(e,t)}))}function mi(t){return"_value"in t?t._value:t.value}function vi(t){t.target.composing=!0}function yi(t){t.target.composing&&(t.target.composing=!1,_i(t.target,"input"))}function _i(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function bi(t){return!t.componentInstance||t.data&&t.data.transition?t:bi(t.componentInstance._vnode)}var wi={bind:function(t,e,r){var n=e.value,i=(r=bi(r)).data&&r.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&i?(r.data.show=!0,ai(r,(function(){t.style.display=s}))):t.style.display=n?s:"none"},update:function(t,e,r){var n=e.value;!n!=!e.oldValue&&((r=bi(r)).data&&r.data.transition?(r.data.show=!0,n?ai(r,(function(){t.style.display=t.__vOriginalDisplay})):Ai(r,(function(){t.style.display="none"}))):t.style.display=n?t.__vOriginalDisplay:"none")},unbind:function(t,e,r,n,i){i||(t.style.display=t.__vOriginalDisplay)}},Bi={model:fi,show:wi},xi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ei(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ei(ze(e.children)):t}function Ci(t){var e={},r=t.$options;for(var n in r.propsData)e[n]=t[n];var i=r._parentListeners;for(var s in i)e[w(s)]=i[s];return e}function Ti(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Ii=function(t){return t.tag||ge(t)},Fi=function(t){return"show"===t.name},Si={name:"transition",props:xi,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(Ii)).length){var n=this.mode,i=r[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var s=Ei(i);if(!s)return i;if(this._leaving)return Ti(t,i);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:a(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var A=(s.data||(s.data={})).transition=Ci(this),u=this._vnode,l=Ei(u);if(s.data.directives&&s.data.directives.some(Fi)&&(s.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(s,l)&&!ge(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var c=l.data.transition=I({},A);if("out-in"===n)return this._leaving=!0,Ae(c,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ti(t,i);if("in-out"===n){if(ge(s))return u;var h,f=function(){h()};Ae(A,"afterEnter",f),Ae(A,"enterCancelled",f),Ae(c,"delayLeave",(function(t){h=t}))}}return i}}},Ui=I({tag:String,moveClass:String},xi);function Mi(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Oi(t){t.data.newPos=t.elm.getBoundingClientRect()}function Pi(t){var e=t.data.pos,r=t.data.newPos,n=e.left-r.left,i=e.top-r.top;if(n||i){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate("+n+"px,"+i+"px)",s.transitionDuration="0s"}}delete Ui.mode;var Ri={Transition:Si,TransitionGroup:{props:Ui,beforeMount:function(){var t=this,e=this._update;this._update=function(r,n){var i=Ze(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,r,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],s=this.children=[],o=Ci(this),a=0;a<i.length;a++){var A=i[a];A.tag&&null!=A.key&&0!==String(A.key).indexOf("__vlist")&&(s.push(A),r[A.key]=A,(A.data||(A.data={})).transition=o)}if(n){for(var u=[],l=[],c=0;c<n.length;c++){var h=n[c];h.data.transition=o,h.data.pos=h.elm.getBoundingClientRect(),r[h.key]?u.push(h):l.push(h)}this.kept=t(e,null,u),this.removed=l}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Mi),t.forEach(Oi),t.forEach(Pi),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var r=t.elm,n=r.style;ti(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(Yn,r._moveCb=function t(n){n&&n.target!==r||n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(Yn,t),r._moveCb=null,ei(r,e))})}})))},methods:{hasMove:function(t,e){if(!Kn)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){jn(r,t)})),Hn(r,e),r.style.display="none",this.$el.appendChild(r);var n=ii(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}}};Er.config.mustUseProp=function(t,e,r){return"value"===r&&Pr(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Er.config.isReservedTag=Xr,Er.config.isReservedAttr=Or,Er.config.getTagNamespace=function(t){return zr(t)?"svg":"math"===t?"math":void 0},Er.config.isUnknownElement=function(t){if(!G)return!0;if(Xr(t))return!1;if(t=t.toLowerCase(),null!=Yr[t])return Yr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Yr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Yr[t]=/HTMLUnknownElement/.test(e.toString())},I(Er.options.directives,Bi),I(Er.options.components,Ri),Er.prototype.__patch__=G?hi:S,Er.prototype.$mount=function(t,e){return function(t,e,r){var n;return t.$el=e,t.$options.render||(t.$options.render=dt),nr(t,"beforeMount"),n=function(){t._update(t._render(),r)},new dr(t,n,S,{before:function(){t._isMounted&&!t._isDestroyed&&nr(t,"beforeUpdate")}},!0),r=!1,null==t.$vnode&&(t._isMounted=!0,nr(t,"mounted")),t}(this,t=t&&G?function(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}(t):void 0,e)},G&&setTimeout((function(){N.devtools&&nt&&nt.emit("init",Er)}),0);const Li=Er}],__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>s});var t=__webpack_require__(630),e=__webpack_require__(1),r=__webpack_require__.n(e),n=__webpack_require__(12);class i{constructor(t,e){this.container=t,this.load(e)}async load(e){this.options=e||{};const n=__webpack_require__(605).default,i=this.container;this.player&&await this.destroy();const{width:s,height:o}=r().DomUtil.innerSize(i);for(this.setSize({width:s,height:o});i.firstChild;)i.removeChild(i.firstChild);const a=new t.default({render:t=>t(n,{props:{options:this.options,width:s,height:o}})}).$mount();i.appendChild(a.$el),this.player=a.$children[0],this.resizeListener=this.onResize(),window.addEventListener("resize",this.resizeListener)}fit(){this.resizeListener&&this.resizeListener()}async destroy(){window.removeEventListener("resize",this.resizeListener),await this.player.destroy(),this.resizeListener=null}onResize(){return()=>{this.resizing||(this.resizing=!0,requestAnimationFrame((()=>{const{width:t,height:e}=r().DomUtil.innerSize(this.container);t==this.width&&e==this.height||this.setSize({width:t,height:e}),this.resizing=!1})))}}setSize({width:t,height:e}){this.width=t,this.height=e,this.player&&this.player.setSize({width:t,height:e})}toast(t,e){this.player.toast(t,e)}log(...t){this.player.log(...t)}play(){this.player.play()}pause(){this.player.pause()}on(t,e){this.player.$on(t,e)}off(t,e){this.player.$off(t,e)}once(t,e){this.player.$once(t,e)}async capture(){return await this.player.capture()}get playing(){return this.options.playing||!1}get duration(){return this.options.duration||0}get currentTime(){return this.options.currentTime||0}set currentTime(t){this.player.seek(Number(t)||0)}get playbackRate(){return this.options.speed||1}set playbackRate(t){this.options.speed=Number(t)||1}get volume(){return this.options.volume||1}set volume(t){this.options.volume=Number(t)||1}get version(){return this.player.version}}const s={utils:r(),TYPES:n.TYPES,InkPaint:n.InkPaint,create:(t,e)=>new i(t,e)}})(),window.miraplayer=__webpack_exports__.default})();