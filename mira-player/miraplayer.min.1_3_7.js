/*! For license information please see miraplayer.min.js.LICENSE.txt */
(()=>{var t=[,(t,e,r)=>{const n=r(2),i=r(4),o=r(5),s=r(11);t.exports={ColorUtil:n,TimeUtil:i,CacheUtil:o,DomUtil:s}},(t,e,r)=>{"use strict";const n=r(3),i={color:(t,e)=>n(t).setAlpha(e/100).toRgbString()};t.exports=i},(t,e,r)=>{var n;!function(i){var o=/^\s+/,s=/\s+$/,a=0,u=i.round,l=i.min,c=i.max,h=i.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var r=function(t){var e,r,n,a={r:0,g:0,b:0},u=1,h=null,f=null,d=null,p=!1,g=!1;return"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(s,"").toLowerCase();var e,r=!1;if(R[t])t=R[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=W.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=W.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=W.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=W.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=W.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=W.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=W.hex8.exec(t))?{r:D(e[1]),g:D(e[2]),b:D(e[3]),a:j(e[4]),format:r?"name":"hex8"}:(e=W.hex6.exec(t))?{r:D(e[1]),g:D(e[2]),b:D(e[3]),format:r?"name":"hex"}:(e=W.hex4.exec(t))?{r:D(e[1]+""+e[1]),g:D(e[2]+""+e[2]),b:D(e[3]+""+e[3]),a:j(e[4]+""+e[4]),format:r?"name":"hex8"}:!!(e=W.hex3.exec(t))&&{r:D(e[1]+""+e[1]),g:D(e[2]+""+e[2]),b:D(e[3]+""+e[3]),format:r?"name":"hex"}}(t)),"object"==typeof t&&(G(t.r)&&G(t.g)&&G(t.b)?(e=t.r,r=t.g,n=t.b,a={r:255*P(e,255),g:255*P(r,255),b:255*P(n,255)},p=!0,g="%"===String(t.r).substr(-1)?"prgb":"rgb"):G(t.h)&&G(t.s)&&G(t.v)?(h=F(t.s),f=F(t.v),a=function(t,e,r){t=6*P(t,360),e=P(e,100),r=P(r,100);var n=i.floor(t),o=t-n,s=r*(1-e),a=r*(1-o*e),u=r*(1-(1-o)*e),l=n%6;return{r:255*[r,a,s,s,u,r][l],g:255*[u,r,r,a,s,s][l],b:255*[s,s,u,r,r,a][l]}}(t.h,h,f),p=!0,g="hsv"):G(t.h)&&G(t.s)&&G(t.l)&&(h=F(t.s),d=F(t.l),a=function(t,e,r){var n,i,o;function s(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=P(t,360),e=P(e,100),r=P(r,100),0===e)n=i=o=r;else{var a=r<.5?r*(1+e):r+e-r*e,u=2*r-a;n=s(u,a,t+1/3),i=s(u,a,t),o=s(u,a,t-1/3)}return{r:255*n,g:255*i,b:255*o}}(t.h,h,d),p=!0,g="hsl"),t.hasOwnProperty("a")&&(u=t.a)),u=N(u),{ok:p,format:t.format||g,r:l(255,c(a.r,0)),g:l(255,c(a.g,0)),b:l(255,c(a.b,0)),a:u}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=u(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=r.ok,this._tc_id=a++}function d(t,e,r){t=P(t,255),e=P(e,255),r=P(r,255);var n,i,o=c(t,e,r),s=l(t,e,r),a=(o+s)/2;if(o==s)n=i=0;else{var u=o-s;switch(i=a>.5?u/(2-o-s):u/(o+s),o){case t:n=(e-r)/u+(e<r?6:0);break;case e:n=(r-t)/u+2;break;case r:n=(t-e)/u+4}n/=6}return{h:n,s:i,l:a}}function p(t,e,r){t=P(t,255),e=P(e,255),r=P(r,255);var n,i,o=c(t,e,r),s=l(t,e,r),a=o,u=o-s;if(i=0===o?0:u/o,o==s)n=0;else{switch(o){case t:n=(e-r)/u+(e<r?6:0);break;case e:n=(r-t)/u+2;break;case r:n=(t-e)/u+4}n/=6}return{h:n,s:i,v:a}}function g(t,e,r,n){var i=[k(u(t).toString(16)),k(u(e).toString(16)),k(u(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(t,e,r,n){return[k(B(n)),k(u(t).toString(16)),k(u(e).toString(16)),k(u(r).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.s-=e/100,r.s=L(r.s),f(r)}function _(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.s+=e/100,r.s=L(r.s),f(r)}function y(t){return f(t).desaturate(100)}function b(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.l+=e/100,r.l=L(r.l),f(r)}function x(t,e){e=0===e?0:e||10;var r=f(t).toRgb();return r.r=c(0,l(255,r.r-u(-e/100*255))),r.g=c(0,l(255,r.g-u(-e/100*255))),r.b=c(0,l(255,r.b-u(-e/100*255))),f(r)}function T(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.l-=e/100,r.l=L(r.l),f(r)}function E(t,e){var r=f(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,f(r)}function w(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function A(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+120)%360,s:e.s,l:e.l}),f({h:(r+240)%360,s:e.s,l:e.l})]}function S(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+90)%360,s:e.s,l:e.l}),f({h:(r+180)%360,s:e.s,l:e.l}),f({h:(r+270)%360,s:e.s,l:e.l})]}function I(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+72)%360,s:e.s,l:e.l}),f({h:(r+216)%360,s:e.s,l:e.l})]}function C(t,e,r){e=e||6,r=r||30;var n=f(t).toHsl(),i=360/r,o=[f(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(f(n));return o}function O(t,e){e=e||6;for(var r=f(t).toHsv(),n=r.h,i=r.s,o=r.v,s=[],a=1/e;e--;)s.push(f({h:n,s:i,v:o})),o=(o+a)%1;return s}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=N(t),this._roundA=u(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=u(360*t.h),r=u(100*t.s),n=u(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=u(360*t.h),r=u(100*t.s),n=u(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,n,i){var o=[k(u(t).toString(16)),k(u(e).toString(16)),k(u(r).toString(16)),k(B(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*P(this._r,255))+"%",g:u(100*P(this._g,255))+"%",b:u(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%)":"rgba("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+v(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=f(t);r="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:F(t[n]));t=r}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(t,e,r){r=0===r?0:r||50;var n=f(t).toRgb(),i=f(e).toRgb(),o=r/100;return f({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},f.readability=function(t,e){var r=f(t),n=f(e);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},f.isReadable=function(t,e,r){var n,i,o,s,a,u=f.readability(t,e);switch(i=!1,(o=r,"AA"!==(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(a=(o.size||"small").toLowerCase())&&"large"!==a&&(a="small"),n={level:s,size:a}).level+n.size){case"AAsmall":case"AAAlarge":i=u>=4.5;break;case"AAlarge":i=u>=3;break;case"AAAsmall":i=u>=7}return i},f.mostReadable=function(t,e,r){var n,i,o,s,a=null,u=0;i=(r=r||{}).includeFallbackColors,o=r.level,s=r.size;for(var l=0;l<e.length;l++)(n=f.readability(t,e[l]))>u&&(u=n,a=f(e[l]));return f.isReadable(t,a,{level:o,size:s})||!i?a:(r.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],r))};var R=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=f.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(R);function N(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function P(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,c(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function L(t){return l(1,c(0,t))}function D(t){return parseInt(t,16)}function k(t){return 1==t.length?"0"+t:""+t}function F(t){return t<=1&&(t=100*t+"%"),t}function B(t){return i.round(255*parseFloat(t)).toString(16)}function j(t){return D(t)/255}var U,V,z,W=(V="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",z="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(t){return!!W.CSS_UNIT.exec(t)}t.exports?t.exports=f:void 0===(n=function(){return f}.call(e,r,e,t))||(t.exports=n)}(Math)},t=>{"use strict";const e={secToHms:(t,e=0)=>{t=t.toFixed(e);const r=Math.floor(t/3600).toString();let n=Math.floor((t-3600*r)/60).toString();r>0&&(n=n.padStart(2,"0"));let i=Math.floor(t-3600*r-60*n).toString();return n.length>0&&(i=i.padStart(2,"0")),`${r>0?r+":":""}${n}:${i}${e>0?(t-Math.floor(t)).toFixed(e).replace("0.","."):""}`}};t.exports=e},(t,e,r)=>{"use strict";const{createObjectURL:n,revokeObjectURL:i}=URL,o=r(6),s=r(10),a={},u={},l=Date.now();s.iterate(((t,e)=>{l-t.updated<1296e6||s.removeItem(e)}));const c={contentType:t=>t&&t.includes("/")?`.${t.split("/")[1].toUpperCase()}`:"",cachedResource:async(t,e)=>{const r=o(t);e&&e({key:r,total:1048576,loaded:1});let i=await async function(t){return a[t]||(a[t]=s.getItem(t)),await a[t]}(r);return i&&i.data?(i.url=n(i.data),i):(a[r]=async function(t,e=null){if(!t.startsWith("http"))return{url:t};const r=o(t);return u[r]||(u[r]=new Promise((function(r){const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const t=n.getResponseHeader("Content-Type");r({data:n.response,type:t})})),n.addEventListener("error",(e=>r({url:t}))),n.addEventListener("progress",(t=>{e&&e(t)})),n.open("get",t),n.responseType="blob",n.send()}))),u[r]}(t,(t=>{const{total:n,loaded:i}=t;e&&e({key:r,total:n,loaded:i})})),i=await a[r],i.data&&function(t,e){e&&e.data&&(e.updated=Date.now(),s.setItem(t,e),e.url=n(e.data))}(r,i),i)},forceCacheNode:async(t,e)=>await c.cacheNode(t,e,!0),cacheNode:async(t,e,r=!1)=>{const{type:n,src:i,path:o,url:s,fontFamily:a,font:u,preload:l}=t.conf;let h=i||o||s;if("text"===n&&a?.startsWith("http")&&(r||!1!==l)){const{url:r}=await c.cachedResource(a,e);t.cachedFontFamily=r}else if("richtext"===n&&u&&(r||!1!==l)){const r=Array.isArray(u)?u:[u];for(const n of r){n.format=t.fontFormat(n);const{url:r}=await c.cachedResource(n.src,e);n.cachedSrc=r}t.conf.font=r}else if("mixin"===n&&t.conf.mixin&&!1!==l){if(t.conf.mixin.startsWith("http"))h=t.conf.mixin;else{const e=t.conf.ver||"1.0";h=new URL(`./${t.conf.mixin}.js?version=${e}`,t.rootConf("mns"))}const{url:r,type:n}=await c.cachedResource(`${h}`,e);t.conf.mixin=r}else if(["image","gif"].includes(n)&&h&&(r||l)){const{url:r,type:n}=await c.cachedResource(h,e);if(t.conf.cachedSrc=r,t.conf.srcType=c.contentType(n),t.conf.motion?.src){const{url:r,type:n}=await c.cachedResource(t.conf.motion?.src,e);t.conf.motion.cachedSrc=r}}else if(["audio","speech","video"].includes(n)&&h&&(r||l)){const{url:r}=await c.cachedResource(h,e);t.conf.cachedSrc=r;const n=h.split("/");t.conf.srcFile=n[n.length-1]}}};t.exports=c},(t,e,r)=>{var n,i,o,s,a;n=r(7),i=r(8).utf8,o=r(9),s=r(8).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):i.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=n.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,h=-1732584194,f=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[u>>>5]|=128<<u%32,r[14+(u+64>>>9<<4)]=u;var p=a._ff,g=a._gg,v=a._hh,m=a._ii;for(d=0;d<r.length;d+=16){var _=l,y=c,b=h,x=f;l=p(l,c,h,f,r[d+0],7,-680876936),f=p(f,l,c,h,r[d+1],12,-389564586),h=p(h,f,l,c,r[d+2],17,606105819),c=p(c,h,f,l,r[d+3],22,-1044525330),l=p(l,c,h,f,r[d+4],7,-176418897),f=p(f,l,c,h,r[d+5],12,1200080426),h=p(h,f,l,c,r[d+6],17,-1473231341),c=p(c,h,f,l,r[d+7],22,-45705983),l=p(l,c,h,f,r[d+8],7,1770035416),f=p(f,l,c,h,r[d+9],12,-1958414417),h=p(h,f,l,c,r[d+10],17,-42063),c=p(c,h,f,l,r[d+11],22,-1990404162),l=p(l,c,h,f,r[d+12],7,1804603682),f=p(f,l,c,h,r[d+13],12,-40341101),h=p(h,f,l,c,r[d+14],17,-1502002290),l=g(l,c=p(c,h,f,l,r[d+15],22,1236535329),h,f,r[d+1],5,-165796510),f=g(f,l,c,h,r[d+6],9,-1069501632),h=g(h,f,l,c,r[d+11],14,643717713),c=g(c,h,f,l,r[d+0],20,-373897302),l=g(l,c,h,f,r[d+5],5,-701558691),f=g(f,l,c,h,r[d+10],9,38016083),h=g(h,f,l,c,r[d+15],14,-660478335),c=g(c,h,f,l,r[d+4],20,-405537848),l=g(l,c,h,f,r[d+9],5,568446438),f=g(f,l,c,h,r[d+14],9,-1019803690),h=g(h,f,l,c,r[d+3],14,-187363961),c=g(c,h,f,l,r[d+8],20,1163531501),l=g(l,c,h,f,r[d+13],5,-1444681467),f=g(f,l,c,h,r[d+2],9,-51403784),h=g(h,f,l,c,r[d+7],14,1735328473),l=v(l,c=g(c,h,f,l,r[d+12],20,-1926607734),h,f,r[d+5],4,-378558),f=v(f,l,c,h,r[d+8],11,-2022574463),h=v(h,f,l,c,r[d+11],16,1839030562),c=v(c,h,f,l,r[d+14],23,-35309556),l=v(l,c,h,f,r[d+1],4,-1530992060),f=v(f,l,c,h,r[d+4],11,1272893353),h=v(h,f,l,c,r[d+7],16,-155497632),c=v(c,h,f,l,r[d+10],23,-1094730640),l=v(l,c,h,f,r[d+13],4,681279174),f=v(f,l,c,h,r[d+0],11,-358537222),h=v(h,f,l,c,r[d+3],16,-722521979),c=v(c,h,f,l,r[d+6],23,76029189),l=v(l,c,h,f,r[d+9],4,-640364487),f=v(f,l,c,h,r[d+12],11,-421815835),h=v(h,f,l,c,r[d+15],16,530742520),l=m(l,c=v(c,h,f,l,r[d+2],23,-995338651),h,f,r[d+0],6,-198630844),f=m(f,l,c,h,r[d+7],10,1126891415),h=m(h,f,l,c,r[d+14],15,-1416354905),c=m(c,h,f,l,r[d+5],21,-57434055),l=m(l,c,h,f,r[d+12],6,1700485571),f=m(f,l,c,h,r[d+3],10,-1894986606),h=m(h,f,l,c,r[d+10],15,-1051523),c=m(c,h,f,l,r[d+1],21,-2054922799),l=m(l,c,h,f,r[d+8],6,1873313359),f=m(f,l,c,h,r[d+15],10,-30611744),h=m(h,f,l,c,r[d+6],15,-1560198380),c=m(c,h,f,l,r[d+13],21,1309151649),l=m(l,c,h,f,r[d+4],6,-145523070),f=m(f,l,c,h,r[d+11],10,-1120210379),h=m(h,f,l,c,r[d+2],15,718787259),c=m(c,h,f,l,r[d+9],21,-343485551),l=l+_>>>0,c=c+y>>>0,h=h+b>>>0,f=f+x>>>0}return n.endian([l,c,h,f])})._ff=function(t,e,r,n,i,o,s){var a=t+(e&r|~e&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._gg=function(t,e,r,n,i,o,s){var a=t+(e&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._hh=function(t,e,r,n,i,o,s){var a=t+(e^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._ii=function(t,e,r,n,i,o,s){var a=t+(r^(e|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(a(t,e));return e&&e.asBytes?r:e&&e.asString?s.bytesToString(r):n.bytesToHex(r)}},t=>{var e,r;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}},t.exports=r},t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},(t,e,r)=>{t.exports=function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,r,n)}return r[s].exports}for(var o=void 0,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,n){(function(t){"use strict";var r,n,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,s=new i(c),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),r=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var u=new t.MessageChannel;u.port1.onmessage=c,r=function(){u.port2.postMessage(0)}}var l=[];function c(){var t,e;n=!0;for(var r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}n=!1}e.exports=function(t){1!==l.push(t)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function c(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(t,e,r){n((function(){var n;try{n=e(r)}catch(e){return o.reject(t,e)}n===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,n)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,o.reject(t,e))}function i(e){r||(r=!0,o.resolve(t,e))}var s=p((function(){e(i,n)}));"error"===s.status&&n(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}e.exports=l,l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var r=new this.constructor(i);return this.state!==u?h(r,this.state===a?t:e,this.outcome):this.queue.push(new c(r,t,e)),r},c.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){o.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var r=p(f,e);if("error"===r.status)return o.reject(t,r.value);var n=r.value;if(n)d(t,n);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},l.reject=function(t){var e=new this(i);return o.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var s=new Array(r),a=0,u=-1,l=new this(i);++u<r;)c(t[u],u);return l;function c(t,i){e.resolve(t).then((function(t){s[i]=t,++a!==r||n||(n=!0,o.resolve(l,s))}),(function(t){n||(n=!0,o.reject(l,t))}))}},l.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r,n=t.length,s=!1;if(!n)return this.resolve([]);for(var a=-1,u=new this(i);++a<n;)r=t[a],e.resolve(r).then((function(t){s||(s=!0,o.resolve(u,t))}),(function(t){s||(s=!0,o.reject(u,t))}));return u}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function u(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function l(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString,g="readonly",v="readwrite";function m(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=0;i<e;i++)n[i]=t.charCodeAt(i);return r}function _(t){return"boolean"==typeof f?s.resolve(f):function(t){return new s((function(e){var r=t.transaction(h,v),n=o([""]);r.objectStore(h).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return f=t}))}function y(t){var e=d[t.name],r={};r.promise=new s((function(t,e){r.resolve=t,r.reject=e})),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then((function(){return r.promise})):e.dbReady=r.promise}function b(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function x(t,e){var r=d[t.name].deferredOperations.pop();if(r)return r.reject(e),r.promise}function T(t,e){return new s((function(r,n){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);y(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=i.open.apply(i,o);e&&(s.onupgradeneeded=function(e){var r=s.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),n(s.error)},s.onsuccess=function(){var e=s.result;e.onversionchange=function(t){t.target.close()},r(e),b(t)}}))}function E(t){return T(t,!1)}function w(t){return T(t,!0)}function A(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,i=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||r){if(r){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([m(atob(t.data))],{type:t.type})}function I(t){return t&&t.__local_forage_encoded_blob}function C(t){var e=this,r=e._initReady().then((function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return u(r,t,t),r}function O(t,e,r,n){void 0===n&&(n=1);try{var i=t.db.transaction(t.storeName,e);r(null,i)}catch(i){if(n>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return s.resolve().then((function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){y(t);for(var e=d[t.name],r=e.forages,n=0;n<r.length;n++){var i=r[n];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,E(t).then((function(e){return t.db=e,A(t)?w(t):e})).then((function(n){t.db=e.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n})).catch((function(e){throw x(t,e),e}))}(t).then((function(){O(t,e,r,n-1)}))})).catch(r);r(i)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var i=d[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},d[r.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=C);var o=[];function a(){return s.resolve()}for(var u=0;u<i.forages.length;u++){var l=i.forages[u];l!==e&&o.push(l._initReady().catch(a))}var c=i.forages.slice(0);return s.all(o).then((function(){return r.db=i.db,E(r)})).then((function(t){return r.db=t,A(r,e._defaultConfig.version)?w(r):t})).then((function(t){r.db=i.db=t,e._dbInfo=r;for(var n=0;n<c.length;n++){var o=c[n];o!==e&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=new s((function(e,n){r.ready().then((function(){O(r._dbInfo,g,(function(i,o){if(i)return n(i);try{var s=o.objectStore(r._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var r=s.result;if(r){var n=r.value;I(n)&&(n=S(n));var i=t(n,r.key,a++);void 0!==i?e(i):r.continue()}else e()},s.onerror=function(){n(s.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},getItem:function(t,e){var r=this;t=l(t);var n=new s((function(e,n){r.ready().then((function(){O(r._dbInfo,g,(function(i,o){if(i)return n(i);try{var s=o.objectStore(r._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),I(t)&&(t=S(t)),e(t)},s.onerror=function(){n(s.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},setItem:function(t,e,r){var n=this;t=l(t);var i=new s((function(r,i){var o;n.ready().then((function(){return o=n._dbInfo,"[object Blob]"===p.call(e)?_(o.db).then((function(t){return t?e:(r=e,new s((function(t,e){var n=new FileReader;n.onerror=e,n.onloadend=function(e){var n=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):e})).then((function(e){O(n._dbInfo,v,(function(o,s){if(o)return i(o);try{var a=s.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var u=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),r(e)},s.onabort=s.onerror=function(){var t=u.error?u.error:u.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return a(i,r),i},removeItem:function(t,e){var r=this;t=l(t);var n=new s((function(e,n){r.ready().then((function(){O(r._dbInfo,v,(function(i,o){if(i)return n(i);try{var s=o.objectStore(r._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){n(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},clear:function(t){var e=this,r=new s((function(t,r){e.ready().then((function(){O(e._dbInfo,v,(function(n,i){if(n)return r(n);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return a(r,t),r},length:function(t){var e=this,r=new s((function(t,r){e.ready().then((function(){O(e._dbInfo,g,(function(n,i){if(n)return r(n);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){r(o.error)}}catch(t){r(t)}}))})).catch(r)}));return a(r,t),r},key:function(t,e){var r=this,n=new s((function(e,n){t<0?e(null):r.ready().then((function(){O(r._dbInfo,g,(function(i,o){if(i)return n(i);try{var s=o.objectStore(r._dbInfo.storeName),a=!1,u=s.openKeyCursor();u.onsuccess=function(){var r=u.result;r?0===t||a?e(r.key):(a=!0,r.advance(t)):e(null)},u.onerror=function(){n(u.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,e),n},keys:function(t){var e=this,r=new s((function(t,r){e.ready().then((function(){O(e._dbInfo,g,(function(n,i){if(n)return r(n);try{var o=i.objectStore(e._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){r(o.error)}}catch(t){r(t)}}))})).catch(r)}));return a(r,t),r},dropInstance:function(t,e){e=c.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;if(t.name){var u=t.name===r.name&&o._dbInfo.db?s.resolve(o._dbInfo.db):E(t).then((function(e){var r=d[t.name],n=r.forages;r.db=e;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=e;return e}));n=t.storeName?u.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;y(t);var n=d[t.name],o=n.forages;e.close();for(var a=0;a<o.length;a++){var u=o[a];u._dbInfo.db=null,u._dbInfo.version=r}var l=new s((function(e,n){var o=i.open(t.name,r);o.onerror=function(t){o.result.close(),n(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return l.then((function(t){n.db=t;for(var e=0;e<o.length;e++){var r=o[e];r._dbInfo.db=t,b(r._dbInfo)}})).catch((function(e){throw(x(t,e)||s.resolve()).catch((function(){})),e}))}})):u.then((function(e){y(t);var r=d[t.name],n=r.forages;e.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;var a=new s((function(e,r){var n=i.deleteDatabase(t.name);n.onerror=function(){var t=n.result;t&&t.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}}));return a.then((function(t){r.db=t;for(var e=0;e<n.length;e++)b(n[e]._dbInfo)})).catch((function(e){throw(x(t,e)||s.resolve()).catch((function(){})),e}))}))}else n=s.reject("Invalid arguments");return a(n,e),n}};var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",L=P.length,D="arbf",k="blob",F="si08",B="ui08",j="uic8",U="si16",V="si32",z="ur16",W="ui32",G="fl32",H="fl64",$=L+D.length,X=Object.prototype.toString;function q(t){var e,r,n,i,o,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),c=new Uint8Array(l);for(e=0;e<a;e+=4)r=M.indexOf(t[e]),n=M.indexOf(t[e+1]),i=M.indexOf(t[e+2]),o=M.indexOf(t[e+3]),c[u++]=r<<2|n>>4,c[u++]=(15&n)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l}function Y(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=M[r[e]>>2],n+=M[(3&r[e])<<4|r[e+1]>>4],n+=M[(15&r[e+1])<<2|r[e+2]>>6],n+=M[63&r[e+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var K={serialize:function(t,e){var r="";if(t&&(r=X.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===X.call(t.buffer))){var n,i=P;t instanceof ArrayBuffer?(n=t,i+=D):(n=t.buffer,"[object Int8Array]"===r?i+=F:"[object Uint8Array]"===r?i+=B:"[object Uint8ClampedArray]"===r?i+=j:"[object Int16Array]"===r?i+=U:"[object Uint16Array]"===r?i+=z:"[object Int32Array]"===r?i+=V:"[object Uint32Array]"===r?i+=W:"[object Float32Array]"===r?i+=G:"[object Float64Array]"===r?i+=H:e(new Error("Failed to get type for BinaryArray"))),e(i+Y(n))}else if("[object Blob]"===r){var o=new FileReader;o.onload=function(){var r="~~local_forage_type~"+t.type+"~"+Y(this.result);e("__lfsc__:blob"+r)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t),e(null,r)}},deserialize:function(t){if(t.substring(0,L)!==P)return JSON.parse(t);var e,r=t.substring($),n=t.substring(L,$);if(n===k&&N.test(r)){var i=r.match(N);e=i[1],r=r.substring(i[0].length)}var s=q(r);switch(n){case D:return s;case k:return o([s],{type:e});case F:return new Int8Array(s);case B:return new Uint8Array(s);case j:return new Uint8ClampedArray(s);case U:return new Int16Array(s);case z:return new Uint16Array(s);case V:return new Int32Array(s);case W:return new Uint32Array(s);case G:return new Float32Array(s);case H:return new Float64Array(s);default:throw new Error("Unkown type: "+n)}},stringToBuffer:q,bufferToString:Y};function J(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function Z(t,e,r,n,i,o){t.executeSql(r,n,i,(function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?o(t,s):J(t,e,(function(){t.executeSql(r,n,i,o)}),o)}),o):o(t,s)}),o)}function Q(t,e,r,n){var i=this;t=l(t);var o=new s((function(o,s){i.ready().then((function(){void 0===e&&(e=null);var a=e,u=i._dbInfo;u.serializer.serialize(e,(function(e,l){l?s(l):u.db.transaction((function(r){Z(r,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(a)}),(function(t,e){s(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void o(Q.apply(i,[t,a,r,n-1]));s(e)}}))}))})).catch(s)}));return a(o,r),o}function tt(t){return new s((function(e,r){t.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o).name);e({db:t,storeNames:i})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!=typeof t[n]?t[n].toString():t[n];var i=new s((function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return n(t)}r.db.transaction((function(i){J(i,r,(function(){e._dbInfo=r,t()}),(function(t,e){n(e)}))}),n)}));return r.serializer=K,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var r=this,n=new s((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Z(r,i,"SELECT * FROM "+i.storeName,[],(function(r,n){for(var o=n.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),l=u.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=t(l,u.key,a+1)))return void e(l)}e()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},getItem:function(t,e){var r=this;t=l(t);var n=new s((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Z(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=i.serializer.deserialize(n)),e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},setItem:function(t,e,r){return Q.apply(this,[t,e,r,1])},removeItem:function(t,e){var r=this;t=l(t);var n=new s((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Z(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},clear:function(t){var e=this,r=new s((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){Z(e,n,"DELETE FROM "+n.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,t),r},length:function(t){var e=this,r=new s((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){Z(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(e,r){var n=r.rows.item(0).c;t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,t),r},key:function(t,e){var r=this,n=new s((function(e,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Z(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,e),n},keys:function(t){var e=this,r=new s((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){Z(e,n,"SELECT key FROM "+n.storeName,[],(function(e,r){for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i).key);t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,t),r},dropInstance:function(t,e){e=c.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,i=this;return a(n=t.name?new s((function(e){var n;n=t.name===r.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(tt(n))})).then((function(t){return new s((function(e,r){t.db.transaction((function(n){function i(t){return new s((function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}for(var o=[],a=0,u=t.storeNames.length;a<u;a++)o.push(i(t.storeNames[a]));s.all(o).then((function(){e()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):s.reject("Invalid arguments"),e),n}};function rt(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function nt(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var it={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=rt(t,this._defaultConfig),nt()?(this._dbInfo=e,e.serializer=K,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=r.ready().then((function(){for(var e=r._dbInfo,n=e.keyPrefix,i=n.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(n)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(i),s++)))return l}}}));return a(n,e),n},getItem:function(t,e){var r=this;t=l(t);var n=r.ready().then((function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n}));return a(n,e),n},setItem:function(t,e,r){var n=this;t=l(t);var i=n.ready().then((function(){void 0===e&&(e=null);var r=e;return new s((function(i,o){var s=n._dbInfo;s.serializer.serialize(e,(function(e,n){if(n)o(n);else try{localStorage.setItem(s.keyPrefix+t,e),i(r)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return a(i,r),i},removeItem:function(t,e){var r=this;t=l(t);var n=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return a(n,e),n},clear:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}}));return a(r,t),r},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var r=this,n=r.ready().then((function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e}));return a(n,e),n},keys:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo,r=localStorage.length,n=[],i=0;i<r;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&n.push(o.substring(t.keyPrefix.length))}return n}));return a(r,t),r},dropInstance:function(t,e){if(e=c.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,i=this;return n=t.name?new s((function(e){t.storeName?e(rt(t,i._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}})):s.reject("Invalid arguments"),a(n,e),n}},ot=function(t,e){for(var r=t.length,n=0;n<r;){if((i=t[n])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;n++}var i,o;return!1},st=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},ut={},lt={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:it},ct=[lt.INDEXEDDB._driver,lt.WEBSQL._driver,lt.LOCALSTORAGE._driver],ht=["dropInstance"],ft=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ht),dt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pt(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function gt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(st(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var vt=function(){function t(e){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),lt)if(lt.hasOwnProperty(r)){var n=lt[r],i=n._driver;this[r]=i,at[i]||this.defineDriver(n)}this._defaultConfig=gt({},dt),this._config=gt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var n=new s((function(e,r){try{var n=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(i);for(var o=ft.concat("_initStorage"),u=0,l=o.length;u<l;u++){var c=o[u];if((!ot(ht,c)||t[c])&&"function"!=typeof t[c])return void r(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=s.reject(e);return a(r,arguments[arguments.length-1]),r}},r=0,n=ht.length;r<n;r++){var i=ht[r];t[i]||(t[i]=e(i))}}();var h=function(r){at[n]&&console.info("Redefining LocalForage driver: "+n),at[n]=t,ut[n]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,r):h(!!t._support):h(!0)}catch(t){r(t)}}));return u(n,e,r),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,r){var n=at[t]?s.resolve(at[t]):s.reject(new Error("Driver not found."));return u(n,e,r),n},t.prototype.getSerializer=function(t){var e=s.resolve(K);return u(e,t),e},t.prototype.ready=function(t){var e=this,r=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return u(r,t,t),r},t.prototype.setDriver=function(t,e,r){var n=this;st(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){n._config.driver=n.driver()}function a(t){return n._extend(t),o(),n._ready=n._initStorage(n._config),n._ready}var l=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=l.then((function(){var t=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then((function(t){n._driver=t._driver,o(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(t){return function(){var e=0;return function r(){for(;e<t.length;){var i=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(i).then(a).catch(r)}o();var u=new Error("No available storage method found.");return n._driverSet=s.reject(u),n._driverSet}()}}(i)}))})).catch((function(){o();var t=new Error("No available storage method found.");return n._driverSet=s.reject(t),n._driverSet})),u(this._driverSet,e,r),this._driverSet},t.prototype.supports=function(t){return!!ut[t]},t.prototype._extend=function(t){gt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ft.length;t<e;t++)pt(this,ft[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),mt=new vt;e.exports=mt},{3:3}]},{},[4])(4)},t=>{"use strict";const e={innerSize:t=>{const e=window.getComputedStyle(t),r=parseInt(e.paddingTop)+parseInt(e.paddingBottom),n=parseInt(e.paddingLeft)+parseInt(e.paddingRight);return{width:t.clientWidth-n,height:t.clientHeight-r}}};t.exports=e},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(14),o=r(234),s=r(288),a=r(436),u=r(473),l=r(487),c=r(490),h=r(491),f=r(493),d=r(495),p=r(511),g=r(512),v=r(513),m=r(514),_=r(494),y=r(263),b=r(522),x=r(523),T=r(290),E=r(524),w={canvas:o,spine:s,trans:a,scene:g,node:u,text:h,mixin:f,image:d,video:p,audio:y,speech:b,gif:_,graph:l,cover:c,filter:m},A={debug:!1,cacheNode:null,parseAttribute(t,e){const{type:r,children:n,...i}=t;for(let t of n)i[t.type]=this.parseAttribute(t,i[t.type]);return e&&Array.isArray(e)&&e.length>0?(e.push(i),e):e?[e,i]:i},nodeClass:t=>w[t]||(t.startsWith("mixin-")?f:null),fromJson(t,e,r,i){const{type:o,children:s=[],...a}=t;"canvas"==o&&(a.canvasWidth=a.width,a.canvasHeight=a.height),this.debug&&"canvas"==o&&(a.log=!0);for(let t of s)this.nodeClass(t.type)||(a[t.type]=this.parseAttribute(t,a[t.type]));i&&(a.parent=i);const u=this.nodeClass(o);u===f&&(a.mixin=o.replace("mixin-",""));const l=new u(a);if(n||l.active||s.length){for(let t of s)this.nodeClass(t.type)&&(t.canvasWidth=a.canvasWidth,t.canvasHeight=a.canvasHeight,this.fromJson(t,e,r,l));return this.cacheNode&&e.push(this.cacheNode(l,r)),l}},genNode(t,e,r){const n=[];return{node:this.fromJson({...t,...e},n,r),cache:Promise.all(n)}},fromXml(t,e,n){const{parseXml:i}=r(515),o=i(t);this.debug&&console.log("parser xml -> json",o);const{name:s,author:a,description:u,mns:l}=o,c={...o.children[0],name:s,author:a,description:u,mns:l};return this.genNode(c,e,n)},from(t,e,r=null){if("string"==typeof t&&t.includes("<miraml"))return this.fromXml(t,e,r);if("string"==typeof t&&t.trim().startsWith("{")&&(t=JSON.parse(t)),t instanceof Object&&"canvas"===t.type)return this.genNode(t,e,r);throw new Error("invalid value")}};t.exports={InkPaint:i,TYPES:w,Factory:A,FFCreator:o,FFSpine:s,FFNode:u,FFGraphic:l,FFFilter:m,FFMixin:f,FFText:h,FFImage:d,FFVideo:p,FFScene:g,FFAudio:y,FFExtras:v,FFGifImage:_,FFCover:c,FFTween:x,FFTransition:a,FFLogger:T,FFCreatorCenter:E}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="undefined"!=typeof window&&void 0!==window.document,i="object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,o="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;e.isBrowser=n,e.isWebWorker=i,e.isNode=o,e.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={settings:!0,utils:!0,ticker:!0,Ticker:!0,CanvasRenderer:!0,WebGLRenderer:!0,Bounds:!0,ProxyObj:!0,DisplayObject:!0,Container:!0,Transform:!0,TransformStatic:!0,Sprite:!0,AnimatedSprite:!0,CanvasSpriteRenderer:!0,CanvasTinter:!0,SpriteRenderer:!0,Text:!0,TextStyle:!0,TextMetrics:!0,Graphics:!0,GraphicsRenderer:!0,Texture:!0,TextureMatrix:!0,BaseTexture:!0,Shader:!0,Spritesheet:!0,WebGLManager:!0,ObjectRenderer:!0,Quad:!0,SpriteMaskFilter:!0,Filter:!0,RenderTexture:!0,BaseRenderTexture:!0,Rectangle:!0,Application:!0,filters:!0,loader:!0,Loader:!0,Resource:!0,gl:!0,Canvas:!0,Context2d:!0,CanvasRenderingContext2D:!0,CanvasGradient:!0,CanvasPattern:!0,Image:!0,ImageData:!0,PNGStream:!0,PDFStream:!0,JPEGStream:!0,DOMMatrix:!0,DOMPoint:!0,registerFont:!0,deregisterAllFonts:!0,parseFont:!0,createCanvas:!0,createImageData:!0,loadImage:!0,TextureCache:!0,BaseTextureCache:!0,addToTextureCache:!0,removeFromTextureCache:!0,removeFromBaseTextureCache:!0,addToBaseTextureCache:!0,destroyAllTextureCache:!0,deleteAllTextureCache:!0,destroyAndCleanAllCache:!0};Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return i.AnimatedSprite}}),Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return i.Application}}),Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return i.BaseRenderTexture}}),Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return i.BaseTexture}}),Object.defineProperty(e,"BaseTextureCache",{enumerable:!0,get:function(){return c.BaseTextureCache}}),Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return i.Bounds}}),Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return a.Canvas}}),Object.defineProperty(e,"CanvasGradient",{enumerable:!0,get:function(){return a.CanvasGradient}}),Object.defineProperty(e,"CanvasPattern",{enumerable:!0,get:function(){return a.CanvasPattern}}),Object.defineProperty(e,"CanvasRenderer",{enumerable:!0,get:function(){return i.CanvasRenderer}}),Object.defineProperty(e,"CanvasRenderingContext2D",{enumerable:!0,get:function(){return a.CanvasRenderingContext2D}}),Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i.CanvasSpriteRenderer}}),Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return i.CanvasTinter}}),Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return i.Container}}),Object.defineProperty(e,"Context2d",{enumerable:!0,get:function(){return a.Context2d}}),Object.defineProperty(e,"DOMMatrix",{enumerable:!0,get:function(){return a.DOMMatrix}}),Object.defineProperty(e,"DOMPoint",{enumerable:!0,get:function(){return a.DOMPoint}}),Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return i.DisplayObject}}),Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return i.Filter}}),Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return i.Graphics}}),Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return i.GraphicsRenderer}}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return a.Image}}),Object.defineProperty(e,"ImageData",{enumerable:!0,get:function(){return a.ImageData}}),Object.defineProperty(e,"JPEGStream",{enumerable:!0,get:function(){return a.JPEGStream}}),Object.defineProperty(e,"Loader",{enumerable:!0,get:function(){return s.Loader}}),Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return i.ObjectRenderer}}),Object.defineProperty(e,"PDFStream",{enumerable:!0,get:function(){return a.PDFStream}}),Object.defineProperty(e,"PNGStream",{enumerable:!0,get:function(){return a.PNGStream}}),Object.defineProperty(e,"ProxyObj",{enumerable:!0,get:function(){return i.ProxyObj}}),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return i.Quad}}),Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return i.Rectangle}}),Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return i.RenderTexture}}),Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}}),Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return i.Shader}}),Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return i.Sprite}}),Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return i.SpriteMaskFilter}}),Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return i.SpriteRenderer}}),Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return i.Spritesheet}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i.Text}}),Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return i.TextMetrics}}),Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return i.TextStyle}}),Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return i.Texture}}),Object.defineProperty(e,"TextureCache",{enumerable:!0,get:function(){return c.TextureCache}}),Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return i.TextureMatrix}}),Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return i.Ticker}}),Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return i.Transform}}),Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return i.TransformStatic}}),Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return i.WebGLManager}}),Object.defineProperty(e,"WebGLRenderer",{enumerable:!0,get:function(){return i.WebGLRenderer}}),Object.defineProperty(e,"addToBaseTextureCache",{enumerable:!0,get:function(){return c.addToBaseTextureCache}}),Object.defineProperty(e,"addToTextureCache",{enumerable:!0,get:function(){return c.addToTextureCache}}),Object.defineProperty(e,"createCanvas",{enumerable:!0,get:function(){return a.createCanvas}}),Object.defineProperty(e,"createImageData",{enumerable:!0,get:function(){return a.createImageData}}),Object.defineProperty(e,"deleteAllTextureCache",{enumerable:!0,get:function(){return c.deleteAllTextureCache}}),Object.defineProperty(e,"deregisterAllFonts",{enumerable:!0,get:function(){return a.deregisterAllFonts}}),Object.defineProperty(e,"destroyAllTextureCache",{enumerable:!0,get:function(){return c.destroyAllTextureCache}}),Object.defineProperty(e,"destroyAndCleanAllCache",{enumerable:!0,get:function(){return c.destroyAndCleanAllCache}}),e.filters=void 0,Object.defineProperty(e,"gl",{enumerable:!0,get:function(){return a.gl}}),Object.defineProperty(e,"loadImage",{enumerable:!0,get:function(){return a.loadImage}}),Object.defineProperty(e,"loader",{enumerable:!0,get:function(){return s.loader}}),Object.defineProperty(e,"parseFont",{enumerable:!0,get:function(){return a.parseFont}}),Object.defineProperty(e,"registerFont",{enumerable:!0,get:function(){return a.registerFont}}),Object.defineProperty(e,"removeFromBaseTextureCache",{enumerable:!0,get:function(){return c.removeFromBaseTextureCache}}),Object.defineProperty(e,"removeFromTextureCache",{enumerable:!0,get:function(){return c.removeFromTextureCache}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return i.settings}}),Object.defineProperty(e,"ticker",{enumerable:!0,get:function(){return i.ticker}}),Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return i.utils}}),r(15);var i=r(16),o=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=h(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(189));e.filters=o;var s=r(192),a=r(44),u=r(17);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var l=r(18);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var c=r(135);function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(h=function(t){return t?r:e})(t)}i.utils.mixins.performMixins(),r.g.InkPaint=e},(t,e,r)=>{"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!r.g.performance||!r.g.performance.now){var n=Date.now();r.g.performance||(r.g.performance={}),r.g.performance.now=()=>Date.now()-n}for(var i=Date.now(),o=["ms","moz","webkit","o"],s=0;s<o.length&&!r.g.requestAnimationFrame;++s){var a=o[s];r.g.requestAnimationFrame=r.g[a+"RequestAnimationFrame"],r.g.cancelAnimationFrame=r.g[a+"CancelAnimationFrame"]||r.g[a+"CancelRequestAnimationFrame"]}r.g.requestAnimationFrame||(r.g.requestAnimationFrame=t=>{if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+i-e;return r<0&&(r=0),i=e,setTimeout((()=>{i=Date.now(),t(performance.now())}),r)}),r.g.cancelAnimationFrame||(r.g.cancelAnimationFrame=t=>clearTimeout(t))},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={utils:!0,settings:!0,ticker:!0,Ticker:!0,CanvasRenderer:!0,WebGLRenderer:!0,glCore:!0,Bounds:!0,ProxyObj:!0,DisplayObject:!0,Container:!0,Transform:!0,TransformStatic:!0,TransformBase:!0,Sprite:!0,AnimatedSprite:!0,CanvasSpriteRenderer:!0,CanvasTinter:!0,SpriteRenderer:!0,Text:!0,TextStyle:!0,TextMetrics:!0,Graphics:!0,GraphicsData:!0,GraphicsRenderer:!0,CanvasGraphicsRenderer:!0,Texture:!0,TextureMatrix:!0,BaseTexture:!0,RenderTexture:!0,BaseRenderTexture:!0,TextureUvs:!0,Shader:!0,Spritesheet:!0,WebGLManager:!0,ObjectRenderer:!0,RenderTarget:!0,Quad:!0,SpriteMaskFilter:!0,Filter:!0,Application:!0};Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"CanvasRenderer",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,"ProxyObj",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return u.Ticker}}),Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"WebGLRenderer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"ticker",{enumerable:!0,get:function(){return u.shared}}),e.utils=void 0;var i=r(17);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var o=r(18);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=X(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(28));e.utils=s;var a=$(r(34)),u=r(36),l=$(r(39)),c=$(r(141)),h=$(r(102)),f=$(r(95)),d=$(r(159)),p=$(r(94)),g=$(r(93)),v=$(r(96)),m=$(r(98)),_=$(r(97)),y=$(r(160)),b=$(r(161)),x=$(r(163)),T=$(r(164)),E=$(r(165)),w=$(r(169)),A=$(r(170)),S=$(r(171)),I=$(r(174)),C=$(r(175)),O=$(r(177)),R=$(r(185)),M=$(r(136)),N=$(r(128)),P=$(r(133)),L=$(r(131)),D=$(r(132)),k=$(r(137)),F=$(r(150)),B=$(r(186)),j=$(r(143)),U=$(r(152)),V=$(r(147)),z=$(r(148)),W=$(r(144)),G=$(r(100)),H=$(r(187));function $(t){return t&&t.__esModule?t:{default:t}}function X(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(X=function(t){return t?r:e})(t)}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WRAP_MODES=e.URL_FILE_EXTENSION=e.UPDATE_PRIORITY=e.TRANSFORM_MODE=e.TEXT_GRADIENT=e.SVG_SIZE=e.SHAPES=e.SCALE_MODES=e.RENDERER_TYPE=e.RAD_TO_DEG=e.PRECISION=e.PI_2=e.GC_MODES=e.DRAW_MODES=e.DEG_TO_RAD=e.DATA_URI=e.BLEND_MODES=void 0;var r=2*Math.PI;e.PI_2=r;var n=180/Math.PI;e.RAD_TO_DEG=n;var i=Math.PI/180;e.DEG_TO_RAD=i,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return h.default}});var n=f(r(19)),i=f(r(20)),o=f(r(21)),s=f(r(22)),a=f(r(23)),u=f(r(25)),l=f(r(26)),c=f(r(24)),h=f(r(27));function f(t){return t&&t.__esModule?t:{default:t}}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}clone(){return new r(this.x,this.y)}copy(t){this.set(t.x,t.y)}equals(t){return t.x===this.x&&t.y===this.y}set(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}dot(t){this.x=this.x*t.x,this.x=this.y*t.y}}e.default=r},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=t,this.scope=e}clone(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=t||this.cb,i=e||this.scope;return new r(n,i,this._x,this._y)}set(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))}copy(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}dot(t){this.x=this.x*t.x,this.x=this.y*t.y}}e.default=r},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(19))&&n.__esModule?n:{default:n},o=r(17);class s{constructor(t,e,r,n,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this.array=null}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this}toArray(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,e){e=e||new i.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e}applyInverse(t,e){e=e||new i.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,o=t.y;return e.x=this.d*r*n+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this}append(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this}setTransform(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this}prepend(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){var e=this.a,r=this.b,n=this.c,i=this.d,s=-Math.atan2(-n,i),a=Math.atan2(r,e),u=Math.abs(s+a);return u<1e-5||Math.abs(o.PI_2-u)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t}invert(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copy(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}static get IDENTITY(){return new s}static get TEMP_MATRIX(){return new s}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(21))&&n.__esModule?n:{default:n},o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function h(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=h(o[t]*o[r]+a[t]*s[r]),f=h(s[t]*o[r]+u[t]*s[r]),d=h(o[t]*a[r]+a[t]*u[r]),p=h(s[t]*a[r]+u[t]*u[r]),g=0;g<16;g++)if(o[g]===n&&s[g]===f&&a[g]===d&&u[g]===p){e.push(g);break}}for(var v=0;v<16;v++){var m=new i.default;m.set(o[v],s[v],a[v],u[v],0,0),l.push(m)}}();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:t=>o[t],uY:t=>s[t],vX:t=>a[t],vY:t=>u[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>c[t][e],sub:(t,e)=>c[t][f.inv(e)],rotate180:t=>4^t,isVertical:t=>2==(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW,matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=l[f.inv(e)];i.tx=r,i.ty=n,t.append(i)}},d=f;e.default=d},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(24))&&n.__esModule?n:{default:n},o=r(17);class s{constructor(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=o.SHAPES.CIRC}clone(){return new s(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r}getBounds(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17);class i{constructor(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=n.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new i(0,0,0,0)}clone(){return new i(this.x,this.y,this.width,this.height)}copy(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}contains(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}pad(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e}fit(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0)}enlarge(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n}ceil(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y}toString(){return"Rect:: "+this.x+"_"+this.y+"_"+this.width+"_"+this.height}}e.default=i},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(24))&&n.__esModule?n:{default:n},o=r(17);class s{constructor(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=o.SHAPES.ELIP}clone(){return new s(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1}getBounds(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(19))&&n.__esModule?n:{default:n},o=r(17);class s{constructor(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof i.default){for(var n=[],s=0,a=e.length;s<a;s++)n.push(e[s].x,e[s].y);e=n}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}clone(){return new s(this.points.slice())}close(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])}contains(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];a>e!=l>e&&t<(e-a)/(l-a)*(u-s)+s&&(r=!r)}return r}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17);class i{constructor(t,e,r,i,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=o,this.type=n.SHAPES.RREC}clone(){return new i(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1}}e.default=i},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return o.default}}),e.correctBlendMode=function(t,e){return f[e?1:0][t]},e.decomposeDataUri=function(t){var e=a.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},Object.defineProperty(e,"earcut",{enumerable:!0,get:function(){return n.default}}),e.getResolutionOfUrl=function(t,e){return void 0!==e?e:1},e.getSvgSize=function(t){var e=a.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r},e.getUrlFileExt=function(t){var e=a.URL_FILE_EXTENSION.exec(t);return e?e[1].toLowerCase():void 0},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)},e.inherit=function(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]},e.mixins=void 0,Object.defineProperty(e,"pluginTarget",{enumerable:!0,get:function(){return s.default}}),e.premultiplyBlendMode=void 0,e.premultiplyRgba=function(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i*e+.5|0)},e.premultiplyTintToRgba=function(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r},e.removeItems=function(t,e,r){var n=t.length;if(!(e>=n||r<=0||e<0)){for(var i=n-(r=e+r>n?n-e:r),o=e;o<i;++o)t[o]=t[o+r];t.length=i}},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.rgb2hsl=function(t,e,r){t/=255,e/=255,r/=255;var n,i,o=Math.max(t,e,r),s=Math.min(t,e,r),a=(o+s)/2;if(o==s)n=i=0;else{var u=o-s;switch(i=a>.5?u/(2-o-s):u/(o+s),o){case t:n=(e-r)/u+(e<r?6:0);break;case e:n=(r-t)/u+2;break;case r:n=(t-e)/u+4}n/=6}return[n*=360,i*=100,a*=100]},e.sign=function(t){return 0===t?0:t<0?-1:1},e.str2rgb=function(t,e){var r,n,i;return void 0===e&&(e=1),4===t.length?(r="0x"+t[1]+t[1],n="0x"+t[2]+t[2],i="0x"+t[3]+t[3]):7===t.length&&(r="0x"+t[1]+t[2],n="0x"+t[3]+t[4],i="0x"+t[5]+t[6]),[Number(r)/e,Number(n)/e,Number(i)/e]},e.uid=function(){return++h},e.uuidvx=function(){return"xxxxxxxx-xxxx-4xxx-yxxx".replace(/[xy]/g,(t=>{var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))};var n=c(r(29)),i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(30));e.mixins=i;var o=c(r(31)),s=c(r(32)),a=r(17),u=c(r(33));function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}function c(t){return t&&t.__esModule?t:{default:t}}var h=0,f=(0,u.default)();e.premultiplyBlendMode=f},t=>{"use strict";function e(t,e,o){o=o||2;var s,a,u,h,f,p,g,v=e&&e.length,m=v?e[0]*o:t.length,_=r(t,0,m,o,!0),y=[];if(!_||_.next===_.prev)return y;if(v&&(_=function(t,e,i,o){var s,a,u,h=[];for(s=0,a=e.length;s<a;s++)(u=r(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===u.next&&(u.steiner=!0),h.push(d(u));for(h.sort(l),s=0;s<h.length;s++)i=n(i=c(h[s],i),i.next);return i}(t,e,_,o)),t.length>80*o){s=u=t[0],a=h=t[1];for(var b=o;b<m;b+=o)(f=t[b])<s&&(s=f),(p=t[b+1])<a&&(a=p),f>u&&(u=f),p>h&&(h=p);g=0!==(g=Math.max(u-s,h-a))?1/g:0}return i(_,y,o,s,a,g),y}function r(t,e,r,n,i){var o,s;if(i===S(t,e,r,n)>0)for(o=e;o<r;o+=n)s=E(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=E(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(w(s),s=s.next),s}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==v(n.prev,n,n.next))n=n.next;else{if(w(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,l,c,h,d){if(t){!d&&h&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=f(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1)}(i)}(t,l,c,h);for(var p,g,v=t;t.prev!==t.next;)if(p=t.prev,g=t.next,h?s(t,l,c,h):o(t))e.push(p.i/r),e.push(t.i/r),e.push(g.i/r),w(t),t=g.next,v=g.next;else if((t=g)===v){d?1===d?i(t=a(n(t),e,r),e,r,l,c,h,2):2===d&&u(t,e,r,l,c,h):i(n(t),e,r,l,c,h,1);break}}}function o(t){var e=t.prev,r=t,n=t.next;if(v(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(p(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(t,e,r,n){var i=t.prev,o=t,s=t.next;if(v(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=f(a,u,e,r,n),d=f(l,c,e,r,n),g=t.prevZ,m=t.nextZ;g&&g.z>=h&&m&&m.z<=d;){if(g!==t.prev&&g!==t.next&&p(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,m!==t.prev&&m!==t.next&&p(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;g&&g.z>=h;){if(g!==t.prev&&g!==t.next&&p(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&p(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(t,e,r){var i=t;do{var o=i.prev,s=i.next.next;!m(o,s)&&_(o,i,i.next,s)&&x(o,s)&&x(s,o)&&(e.push(o.i/r),e.push(i.i/r),e.push(s.i/r),w(i),w(i.next),i=t=s),i=i.next}while(i!==t);return n(i)}function u(t,e,r,o,s,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=T(u,l);return u=n(u,u.next),c=n(c,c.next),i(u,e,r,o,s,a),void i(c,e,r,o,s,a)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function c(t,e){var r=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r;var u,l=r,c=r.x,f=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&p(o<f?i:s,o,c,f,o<f?s:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),x(n,t)&&(u<d||u===d&&(n.x>r.x||n.x===r.x&&h(r,n)))&&(r=n,d=u)),n=n.next}while(n!==l);return r}(t,e);if(!r)return e;var i=T(r,t),o=n(r,r.next);return n(i,i.next),e===r?o:e}function h(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function f(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&_(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||m(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,r,n){var i=b(v(t,e,r)),o=b(v(t,e,n)),s=b(v(r,n,t)),a=b(v(r,n,e));return i!==o&&s!==a||!(0!==i||!y(t,r,e))||!(0!==o||!y(t,n,e))||!(0!==s||!y(r,t,n))||!(0!==a||!y(r,e,n))}function y(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function T(t,e){var r=new A(t.i,t.x,t.y),n=new A(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function E(t,e,r,n){var i=new A(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;s-=Math.abs(S(t,l,c,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},(t,e)=>{"use strict";function r(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}Object.defineProperty(e,"__esModule",{value:!0}),e.delayMixin=function(t,e){n.push(t,e)},e.mixin=r,e.performMixins=function(){for(var t=0;t<n.length;t+=2)r(n[t],n[t+1]);n.length=0};var n=[]},t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},o.prototype.listeners=function(t,e){var n=r?r+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},o.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,s),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(t,e,n){var o=new i(e,n||this),s=r?r+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},o.prototype.once=function(t,e,n){var o=new i(e,n||this,!0),s=r?r+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},o.prototype.removeListener=function(t,e,i,o){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||o&&!a.once||i&&a.context!==i||(0==--this._eventsCount?this._events=new n:delete this._events[s]);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||o&&!a[u].once||i&&a[u].context!==i)&&l.push(a[u]);l.length?this._events[s]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new n:delete this._events[s]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=r,o.EventEmitter=o,t.exports=o},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(17)},(t,e,r)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,((n=r(35))&&n.__esModule?n:{default:n}).default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:!0,MESH_CANVAS_PADDING:0};e.default=i},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return i.default}}),e.shared=void 0;var n,i=(n=r(37))&&n.__esModule?n:{default:n},o=new i.default;e.shared=o,o.autoStart=!0,o.destroy=()=>{}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(34)),i=r(17),o=s(r(38));function s(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(){this._head=new o.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=this._tick.bind(this)}_tick(t){this._requestId=null,this.started&&(this.update(t),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r){return void 0===r&&(r=i.UPDATE_PRIORITY.NORMAL),this._addListener(new o.default(t,e,r))}addOnce(t,e,r){return void 0===r&&(r=i.UPDATE_PRIORITY.NORMAL),this._addListener(new o.default(t,e,r,!0))}_addListener(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this}remove(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}update(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.default.TARGET_FPMS*this.speed;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){var e=Math.min(Math.max(0,t)/1e3,n.default.TARGET_FPMS);this._maxElapsedMS=1/e}}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=r,this.once=n,this.next=null,this.previous=null,this.destroyed=!1}match(t,e){return e=e||null,this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this.destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t){if(void 0===t&&(t=!1),!this.destroyed){this.destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e}}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(40)),i=l(r(138)),o=l(r(139)),s=r(28),a=r(17),u=l(r(34));function l(t){return t&&t.__esModule?t:{default:t}}class c extends n.default{constructor(t,e,r){super("Canvas",t,e,r),this.type=a.RENDERER_TYPE.CANVAS,this.rootContext=this.view.getContext("2d",{alpha:this.transparent}),this.context=this.rootContext,this.refresh=!0,this.maskManager=new i.default(this),this.smoothProperty="imageSmoothingEnabled",this.rootContext.imageSmoothingEnabled||(this.rootContext.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.rootContext.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.rootContext.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.rootContext.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this.blendModes=(0,o.default)(),this._activeBlendMode=null,this.renderingToScreen=!1;var{width:n,height:s,quality:u,anti:l}=this.options;this.resize(n,s),u&&(this.context.quality=u),l&&(this.context.antialias=l)}render(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var u=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=u}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=a.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[a.BLEND_MODES.NORMAL],(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=s,t.renderCanvas(this),this.context=c,s.restore(),this.resolution=o,this.emit("postrender")}}clear(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)}setBlendMode(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])}destroy(t){this.destroyPlugins(),super.destroy(t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null}resize(t,e){super.resize(t,e),this.smoothProperty&&(this.rootContext[this.smoothProperty]=u.default.SCALE_MODE===a.SCALE_MODES.LINEAR)}invalidateBlendMode(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)}}e.default=c,s.pluginTarget.mixin(c)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(28),i=r(18),o=r(17),s=c(r(31)),a=c(r(41)),u=c(r(34)),l=c(r(93));function c(t){return t&&t.__esModule?t:{default:t}}c(r(131)),new i.Matrix;class h extends s.default{constructor(t,e,r,n){super(),"number"==typeof e&&(e=Object.assign({width:e,height:r||u.default.RENDER_OPTIONS.height},n)),e=Object.assign({},u.default.RENDER_OPTIONS,e),this.options=e,this.type=o.RENDERER_TYPE.UNKNOWN,this.screen=new i.Rectangle(0,0,e.width,e.height),this.view=e.view||a.default.createElement("canvas"),this.resolution=e.resolution||u.default.RESOLUTION,this.transparent=e.transparent,this.autoResize=e.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.clearBeforeRender=e.clearBeforeRender,this.roundPixels=e.roundPixels,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=e.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new l.default,this._lastObjectRendered=this._tempDisplayObjectParent}get width(){return this.view.width}get height(){return this.view.height}resize(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")}destroy(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=o.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this._backgroundColorString=(0,n.hex2string)(t),(0,n.hex2rgb)(t,this._backgroundColorRgba)}}e.default=h},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(42),o=(n=r(43))&&n.__esModule?n:{default:n},s={createElement:t=>new o.default(1,1)},a=i.isBrowser?window.document:s;e.default=a},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="undefined"!=typeof window&&void 0!==window.document,i="object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,o="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;e.isBrowser=n,e.isWebWorker=i,e.isNode=o,e.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(44),i=u(r(91)),o=u(r(92)),s=r(28),a=u(r(31));function u(t){return t&&t.__esModule?t:{default:t}}class l extends((0,i.default)(n.Canvas)){constructor(t,e,r){super(t,e,r),this._event=new a.default,this._glResizeExt=null,this._gl=null,this._renderType="2d",this.useTypedArray=!1,this.rgbReverse=!1,this.isPSCanvas=!0,this.id=(0,s.uuidvx)()}getContext(t,e){if(this._renderType=t,"webgl"===t){if(this._gl)return this._gl;var{width:r,height:i}=this,s=(0,n.gl)(r,i,e);return o.default.fixGetUniformLocation(s),o.default.fixTexImage2D(s),this._gl=s,this._glResizeExt=s.getExtension("STACKGL_resize_drawingbuffer"),this._ctx=super.getContext("2d",e),this._gl}return this._ctx=super.getContext("2d",e),super.getContext(t,e)}get height(){return super.height}set height(t){this._glResizeExt&&this._glResizeExt.resize(this.width,t),super.height=t}get width(){return super.width}set width(t){this._glResizeExt&&this._glResizeExt.resize(t,this.height),super.width=t}get clientWidth(){return super.width}get clientHeight(){return super.height}addEventListener(t,e){return this._event.addListener(t,e)}removeEventListener(t,e){return e?this._event.removeListener(t,e):this._event.removeAllListeners(t)}_glBuffer(){var{width:t,height:e,_ctx:r,_gl:n}=this,i=new Uint8Array(t*e*4);return n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,i),Buffer.from(i)}_putImageData(){var t,{width:e,height:r,_ctx:i,_gl:o,useTypedArray:s}=this,a=new Uint8Array(e*r*4);o.readPixels(0,0,e,r,o.RGBA,o.UNSIGNED_BYTE,a),s?t=(0,n.createImageData)(new Uint8ClampedArray(a),e,r):(t=i.getImageData(0,0,e,r),this._fillImageData(t,a,e,r)),i.putImageData(t,0,0)}_reverseColor(){for(var t=[2,1,0,3],{width:e,height:r,_ctx:i}=this,o=i.getImageData(0,0,e,r),s=new Uint8Array(e*r*4),a=0;a<r;a++)for(var u=0;u<e;u++)for(var l=u,c=a,h=0;h<4;h++){var f=4*(c*e+l)+h;s[4*(c*e+l)+t[h]]=o.data[f]}var d=(0,n.createImageData)(new Uint8ClampedArray(s),e,r);i.putImageData(d,0,0)}_fillImageData(t,e,r,n){for(var i=this.rgbReverse?[2,1,0,3]:[0,1,2,3],o=0;o<n;o++)for(var s=0;s<r;s++)for(var a=s,u=n-o-1,l=0;l<4;l++){var c=4*(u*r+a)+i[l],h=4*(o*r+a)+l;t.data[c]=e[h]}return t}toBuffer(){return this._gl?this._glBuffer():(this.rgbReverse&&this._reverseColor(),super.toBuffer(...arguments))}toDataURL(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.toDataURL(...arguments)}createPNGStream(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.createPNGStream(...arguments)}createJPEGStream(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.createJPEGStream(...arguments)}createPDFStream(){return this._gl?this._putImageData():this.rgbReverse&&this._reverseColor(),super.createPDFStream(...arguments)}destroy(){this._event.removeAllListeners(),this._event=null,this._glResizeExt=null,this._gl=null,this._ctx=null}}e.default=l},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return o.Canvas}}),Object.defineProperty(e,"CanvasGradient",{enumerable:!0,get:function(){return o.CanvasGradient}}),Object.defineProperty(e,"CanvasPattern",{enumerable:!0,get:function(){return o.CanvasPattern}}),Object.defineProperty(e,"CanvasRenderingContext2D",{enumerable:!0,get:function(){return o.CanvasRenderingContext2D}}),Object.defineProperty(e,"Context2d",{enumerable:!0,get:function(){return o.Context2d}}),Object.defineProperty(e,"DOMMatrix",{enumerable:!0,get:function(){return o.DOMMatrix}}),Object.defineProperty(e,"DOMPoint",{enumerable:!0,get:function(){return o.DOMPoint}}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return o.Image}}),Object.defineProperty(e,"ImageData",{enumerable:!0,get:function(){return o.ImageData}}),Object.defineProperty(e,"JPEGStream",{enumerable:!0,get:function(){return o.JPEGStream}}),Object.defineProperty(e,"PDFStream",{enumerable:!0,get:function(){return o.PDFStream}}),Object.defineProperty(e,"PNGStream",{enumerable:!0,get:function(){return o.PNGStream}}),Object.defineProperty(e,"createCanvas",{enumerable:!0,get:function(){return o.createCanvas}}),Object.defineProperty(e,"createImageData",{enumerable:!0,get:function(){return o.createImageData}}),Object.defineProperty(e,"deregisterAllFonts",{enumerable:!0,get:function(){return o.deregisterAllFonts}}),Object.defineProperty(e,"gl",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"loadImage",{enumerable:!0,get:function(){return o.loadImage}}),Object.defineProperty(e,"parseFont",{enumerable:!0,get:function(){return o.parseFont}}),Object.defineProperty(e,"registerFont",{enumerable:!0,get:function(){return o.registerFont}});var n,i=(n=r(45))&&n.__esModule?n:{default:n},o=r(89)},(t,e,r)=>{"undefined"!=typeof WebGLRenderingContext?t.exports=r(46):t.exports=r(47)},t=>{t.exports=function(t,e,r){if(e|=0,!((t|=0)>0&&e>0))return null;const n=document.createElement("canvas");if(!n)return null;let i;n.width=t,n.height=e;try{i=n.getContext("webgl",r)}catch(t){try{i=n.getContext("experimental-webgl",r)}catch(t){return null}}const o=i.getExtension,s={destroy:function(){const t=o.call(i,"WEBGL_lose_context");t&&t.loseContext()}},a={resize:function(t,e){n.width=t,n.height=e}},u=i.getSupportedExtensions().slice();return u.push("STACKGL_destroy_context","STACKGL_resize_drawingbuffer"),i.getSupportedExtensions=function(){return u.slice()},i.getExtension=function(t){const e=t.toLowerCase();return"stackgl_resize_drawingbuffer"===e?a:"stackgl_destroy_context"===e?s:o.call(i,t)},i||null}},(t,e,r)=>{const n=r(48),{WebGLContextAttributes:i}=r(49),{WebGLRenderingContext:o,wrapContext:s}=r(50),{WebGLTextureUnit:a}=r(88),{WebGLVertexArrayObjectState:u,WebGLVertexArrayGlobalState:l}=r(78);let c=0;function h(t,e,r){return t&&"object"==typeof t&&e in t?!!t[e]:r}t.exports=function(t,e,r){if(e|=0,!((t|=0)>0&&e>0))return null;const f=new i(h(r,"alpha",!0),h(r,"depth",!0),h(r,"stencil",!1),!1,h(r,"premultipliedAlpha",!0),h(r,"preserveDrawingBuffer",!1),h(r,"preferLowPowerToHighPerformance",!1),h(r,"failIfMajorPerformanceCaveat",!1));let d;f.premultipliedAlpha=f.premultipliedAlpha&&f.alpha;try{d=new o(1,1,f.alpha,f.depth,f.stencil,f.antialias,f.premultipliedAlpha,f.preserveDrawingBuffer,f.preferLowPowerToHighPerformance,f.failIfMajorPerformanceCaveat)}catch(t){}if(!d)return null;d.drawingBufferWidth=t,d.drawingBufferHeight=e,d._=c++,d._contextAttributes=f,d._extensions={},d._programs={},d._shaders={},d._buffers={},d._textures={},d._framebuffers={},d._renderbuffers={},d._activeProgram=null,d._activeFramebuffer=null,d._activeRenderbuffer=null,d._checkStencil=!1,d._stencilState=!0;const p=d.getParameter(d.MAX_COMBINED_TEXTURE_IMAGE_UNITS);d._textureUnits=new Array(p);for(let t=0;t<p;++t)d._textureUnits[t]=new a(t);d._activeTextureUnit=0,d.activeTexture(d.TEXTURE0),d._errorStack=[],d._defaultVertexObjectState=new u(d),d._vertexObjectState=d._defaultVertexObjectState,d._vertexGlobalState=new l(d),d._maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),d._maxTextureLevel=n.log2(n.nextPow2(d._maxTextureSize)),d._maxCubeMapSize=d.getParameter(d.MAX_CUBE_MAP_TEXTURE_SIZE),d._maxCubeMapLevel=n.log2(n.nextPow2(d._maxCubeMapSize)),d._unpackAlignment=4,d._packAlignment=4,d._allocateDrawingBuffer(t,e);const g=d.createBuffer();return d._attrib0Buffer=g,d.bindBuffer(d.ARRAY_BUFFER,null),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,null),d.bindFramebuffer(d.FRAMEBUFFER,null),d.bindRenderbuffer(d.RENDERBUFFER,null),d.viewport(0,0,t,e),d.scissor(0,0,t,e),d.clearDepth(1),d.clearColor(0,0,0,0),d.clearStencil(0),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT|d.STENCIL_BUFFER_BIT),s(d)}},(t,e)=>{"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},t=>{t.exports={WebGLContextAttributes:class{constructor(t,e,r,n,i,o,s,a){this.alpha=t,this.depth=e,this.stencil=r,this.antialias=n,this.premultipliedAlpha=i,this.preserveDrawingBuffer=o,this.preferLowPowerToHighPerformance=s,this.failIfMajorPerformanceCaveat=a}}}},(t,e,r)=>{const n=r(48),i=r(51),o=r(58).version,{gl:s,NativeWebGLRenderingContext:a,NativeWebGL:u}=r(59),{getANGLEInstancedArrays:l}=r(64),{getOESElementIndexUint:c}=r(67),{getOESStandardDerivatives:h}=r(68),{getOESTextureFloat:f}=r(69),{getOESTextureFloatLinear:d}=r(70),{getSTACKGLDestroyContext:p}=r(71),{getSTACKGLResizeDrawingBuffer:g}=r(72),{getWebGLDrawBuffers:v}=r(73),{getEXTBlendMinMax:m}=r(74),{getEXTTextureFilterAnisotropic:_}=r(75),{getOESVertexArrayObject:y}=r(76),{bindPublics:b,checkObject:x,checkUniform:T,formatSize:E,isValidString:w,typeSize:A,uniformTypeSize:S,extractImageData:I,vertexCount:C,isTypedArray:O,unpackTypedArray:R,convertPixels:M,checkFormat:N,validCubeTarget:P}=r(65),{WebGLActiveInfo:L}=r(80),{WebGLFramebuffer:D}=r(81),{WebGLBuffer:k}=r(79),{WebGLDrawingBufferWrapper:F}=r(82),{WebGLProgram:B}=r(83),{WebGLRenderbuffer:j}=r(84),{WebGLShader:U}=r(85),{WebGLShaderPrecisionFormat:V}=r(86),{WebGLTexture:z}=r(87),{WebGLUniformLocation:W}=r(66),G=[s.COLOR_ATTACHMENT0,s.DEPTH_ATTACHMENT,s.STENCIL_ATTACHMENT,s.DEPTH_STENCIL_ATTACHMENT],H=[s.COLOR_ATTACHMENT0],$={angle_instanced_arrays:l,oes_element_index_uint:c,oes_texture_float:f,oes_texture_float_linear:d,oes_standard_derivatives:h,oes_vertex_array_object:y,stackgl_destroy_context:p,stackgl_resize_drawingbuffer:g,webgl_draw_buffers:v,ext_blend_minmax:m,ext_texture_filter_anisotropic:_},X=["resize","destroy"];class q extends a{_checkDimensions(t,e,r,n){if(n<0||e<0||r<0)return this.setError(s.INVALID_VALUE),!1;if(t===s.TEXTURE_2D){if(e>this._maxTextureSize||r>this._maxTextureSize||n>this._maxTextureLevel)return this.setError(s.INVALID_VALUE),!1}else{if(!this._validCubeTarget(t))return this.setError(s.INVALID_ENUM),!1;if(e>this._maxCubeMapSize||r>this._maxCubeMapSize||n>this._maxCubeMapLevel)return this.setError(s.INVALID_VALUE),!1}return!0}_checkLocation(t){return t instanceof W?t._program._ctx===this&&t._linkCount===t._program._linkCount||(this.setError(s.INVALID_OPERATION),!1):(this.setError(s.INVALID_VALUE),!1)}_checkLocationActive(t){return!(!t||!this._checkLocation(t)||t._program!==this._activeProgram&&(this.setError(s.INVALID_OPERATION),1))}_checkOwns(t){return"object"==typeof t&&t._ctx===this}_checkShaderSource(t){const e=t._source,r=i(e);let n=!1;const o=[];for(let t=0;t<r.length;++t){const e=r[t];switch(e.type){case"ident":this._validGLSLIdentifier(e.data)||(n=!0,o.push(e.line+":"+e.column+" invalid identifier - "+e.data));break;case"preprocessor":{const t=i(e.data.match(/^\s*#\s*(.*)$/)[1]);for(let r=0;r<t.length;++r){const i=t[r];"ident"!==i.type&&void 0!==i.type||this._validGLSLIdentifier(i.data)||(n=!0,o.push(e.line+":"+i.column+" invalid identifier - "+i.data))}break}case"keyword":"do"===e.data&&(n=!0,o.push(e.line+":"+e.column+" do not supported"));break;case"builtin":switch(e.data){case"dFdx":case"dFdy":case"fwidth":this._extensions.oes_standard_derivatives||(n=!0,o.push(e.line+":"+e.column+" "+e.data+" not supported"))}}}return n&&(t._compileInfo=o.join("\n")),!n}_checkStencilState(){return this._checkStencil?(this._checkStencil=!1,this._stencilState=!0,this.getParameter(s.STENCIL_WRITEMASK)===this.getParameter(s.STENCIL_BACK_WRITEMASK)&&this.getParameter(s.STENCIL_VALUE_MASK)===this.getParameter(s.STENCIL_BACK_VALUE_MASK)&&this.getParameter(s.STENCIL_REF)===this.getParameter(s.STENCIL_BACK_REF)||(this.setError(s.INVALID_OPERATION),this._stencilState=!1),this._stencilState):this._stencilState}_checkTextureTarget(t){const e=this._getActiveTextureUnit();let r=null;if(t===s.TEXTURE_2D)r=e._bind2D;else{if(t!==s.TEXTURE_CUBE_MAP)return this.setError(s.INVALID_ENUM),!1;r=e._bindCube}return!!r||(this.setError(s.INVALID_OPERATION),!1)}_checkWrapper(t,e){return this._checkValid(t,e)?!!this._checkOwns(t)||(this.setError(s.INVALID_OPERATION),!1):(this.setError(s.INVALID_VALUE),!1)}_checkValid(t,e){return t instanceof e&&0!==t._}_checkVertexAttribState(t){const e=this._activeProgram;if(!e)return this.setError(s.INVALID_OPERATION),!1;const r=this._vertexObjectState._attribs;for(let n=0;n<r.length;++n){const i=r[n];if(i._isPointer){const r=i._pointerBuffer;if(!r)return this.setError(s.INVALID_OPERATION),!1;if(e._attributes.indexOf(n)>=0){let e=0;if(e=i._divisor?i._pointerSize+i._pointerOffset:i._pointerStride*t+i._pointerSize+i._pointerOffset,e>r._size)return this.setError(s.INVALID_OPERATION),!1}}}return!0}_checkVertexIndex(t){return!(t<0||t>=this._vertexObjectState._attribs.length)||(this.setError(s.INVALID_VALUE),!1)}_computePixelSize(t,e){const r=E(e);if(0===r)return this.setError(s.INVALID_ENUM),0;switch(t){case s.UNSIGNED_BYTE:return r;case s.UNSIGNED_SHORT_5_6_5:if(e!==s.RGB){this.setError(s.INVALID_OPERATION);break}return 2;case s.UNSIGNED_SHORT_4_4_4_4:case s.UNSIGNED_SHORT_5_5_5_1:if(e!==s.RGBA){this.setError(s.INVALID_OPERATION);break}return 2;case s.FLOAT:return 1}return this.setError(s.INVALID_ENUM),0}_computeRowStride(t,e){let r=t*e;return r%this._unpackAlignment&&(r+=this._unpackAlignment-r%this._unpackAlignment),r}_fixupLink(t){if(!super.getProgramParameter(t._,s.LINK_STATUS))return t._linkInfoLog=super.getProgramInfoLog(t),!1;const e=this.getProgramParameter(t,s.ACTIVE_ATTRIBUTES),r=new Array(e);t._attributes.length=e;for(let n=0;n<e;++n)r[n]=this.getActiveAttrib(t,n).name,t._attributes[n]=0|this.getAttribLocation(t,r[n]);for(let e=0;e<r.length;++e)if(r[e].length>256)return t._linkInfoLog="attribute "+r[e]+" is too long",!1;for(let n=0;n<e;++n)super.bindAttribLocation(0|t._,t._attributes[n],r[n]);super.linkProgram(0|t._);const n=this.getProgramParameter(t,s.ACTIVE_UNIFORMS);t._uniforms.length=n;for(let e=0;e<n;++e)t._uniforms[e]=this.getActiveUniform(t,e);for(let e=0;e<t._uniforms.length;++e)if(t._uniforms[e].name.length>256)return t._linkInfoLog="uniform "+t._uniforms[e].name+" is too long",!1;return t._linkInfoLog="",!0}_framebufferOk(){const t=this._activeFramebuffer;return!t||this._preCheckFramebufferStatus(t)===s.FRAMEBUFFER_COMPLETE||(this.setError(s.INVALID_FRAMEBUFFER_OPERATION),!1)}_getActiveBuffer(t){return t===s.ARRAY_BUFFER?this._vertexGlobalState._arrayBufferBinding:t===s.ELEMENT_ARRAY_BUFFER?this._vertexObjectState._elementArrayBufferBinding:null}_getActiveTextureUnit(){return this._textureUnits[this._activeTextureUnit]}_getActiveTexture(t){const e=this._getActiveTextureUnit();return t===s.TEXTURE_2D?e._bind2D:t===s.TEXTURE_CUBE_MAP?e._bindCube:null}_getAttachments(){return this._extensions.webgl_draw_buffers?this._extensions.webgl_draw_buffers._ALL_ATTACHMENTS:G}_getColorAttachments(){return this._extensions.webgl_draw_buffers?this._extensions.webgl_draw_buffers._ALL_COLOR_ATTACHMENTS:H}_getParameterDirect(t){return super.getParameter(t)}_getTexImage(t){const e=this._getActiveTextureUnit();return t===s.TEXTURE_2D?e._bind2D:P(t)?e._bindCube:(this.setError(s.INVALID_ENUM),null)}_preCheckFramebufferStatus(t){const e=t._attachments,r=[],n=[],i=e[s.DEPTH_ATTACHMENT],o=e[s.DEPTH_STENCIL_ATTACHMENT],a=e[s.STENCIL_ATTACHMENT];if(o&&(a||i)||a&&i)return s.FRAMEBUFFER_UNSUPPORTED;const u=this._getColorAttachments();let l=0;for(const t in e)e[t]&&-1!==u.indexOf(1*t)&&l++;if(0===l)return s.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT;if(o instanceof z)return s.FRAMEBUFFER_UNSUPPORTED;if(o instanceof j){if(o._format!==s.DEPTH_STENCIL)return s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;r.push(o._width),n.push(o._height)}if(i instanceof z)return s.FRAMEBUFFER_UNSUPPORTED;if(i instanceof j){if(i._format!==s.DEPTH_COMPONENT16)return s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;r.push(i._width),n.push(i._height)}if(a instanceof z)return s.FRAMEBUFFER_UNSUPPORTED;if(a instanceof j){if(a._format!==s.STENCIL_INDEX8)return s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;r.push(a._width),n.push(a._height)}let c=!1;for(let i=0;i<u.length;++i){const o=e[u[i]];if(o instanceof z){if(o._format!==s.RGBA||o._type!==s.UNSIGNED_BYTE&&o._type!==s.FLOAT)return s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;c=!0;const e=t._attachmentLevel[s.COLOR_ATTACHMENT0];r.push(o._levelWidth[e]),n.push(o._levelHeight[e])}else if(o instanceof j){const t=o._format;if(t!==s.RGBA4&&t!==s.RGB565&&t!==s.RGB5_A1)return s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;c=!0,r.push(o._width),n.push(o._height)}}if(!(c||a||i||o))return s.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT;if(r.length<=0||n.length<=0)return s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT;for(let t=1;t<r.length;++t)if(r[t-1]!==r[t]||n[t-1]!==n[t])return s.FRAMEBUFFER_INCOMPLETE_DIMENSIONS;return 0===r[0]||0===n[0]?s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:(t._width=r[0],t._height=n[0],s.FRAMEBUFFER_COMPLETE)}_isConstantBlendFunc(t){return t===s.CONSTANT_COLOR||t===s.ONE_MINUS_CONSTANT_COLOR||t===s.CONSTANT_ALPHA||t===s.ONE_MINUS_CONSTANT_ALPHA}_isObject(t,e,r){if(null!=t&&!(t instanceof r))throw new TypeError(e+"("+r.name+")");return!(!this._checkValid(t,r)||!this._checkOwns(t))}_resizeDrawingBuffer(t,e){const r=this._activeFramebuffer,n=this._getActiveTexture(s.TEXTURE_2D),i=this._activeRenderbuffer,o=this._contextAttributes,a=this._drawingBuffer;super.bindFramebuffer(s.FRAMEBUFFER,a._framebuffer);const u=this._getAttachments();for(let t=0;t<u.length;++t)super.framebufferTexture2D(s.FRAMEBUFFER,u[t],s.TEXTURE_2D,0,0);super.bindTexture(s.TEXTURE_2D,a._color);const l=o.alpha?s.RGBA:s.RGB;super.texImage2D(s.TEXTURE_2D,0,l,t,e,0,l,s.UNSIGNED_BYTE,null),super.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST),super.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),super.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,a._color,0);let c=0,h=0;o.depth&&o.stencil?(c=s.DEPTH_STENCIL,h=s.DEPTH_STENCIL_ATTACHMENT):o.depth?(c=33191,h=s.DEPTH_ATTACHMENT):o.stencil&&(c=s.STENCIL_INDEX8,h=s.STENCIL_ATTACHMENT),c&&(super.bindRenderbuffer(s.RENDERBUFFER,a._depthStencil),super.renderbufferStorage(s.RENDERBUFFER,c,t,e),super.framebufferRenderbuffer(s.FRAMEBUFFER,h,s.RENDERBUFFER,a._depthStencil)),this.bindFramebuffer(s.FRAMEBUFFER,r),this.bindTexture(s.TEXTURE_2D,n),this.bindRenderbuffer(s.RENDERBUFFER,i)}_restoreError(t){const e=this._errorStack.pop();e===s.NO_ERROR?this.setError(t):this.setError(e)}_saveError(){this._errorStack.push(this.getError())}_switchActiveProgram(t){t&&(t._refCount-=1,t._checkDelete())}_tryDetachFramebuffer(t,e){if(t&&t._linked(e)){const r=this._getAttachments(),n=Object.keys(t._attachments);for(let i=0;i<n.length;++i)t._attachments[r[i]]===e&&this.framebufferTexture2D(s.FRAMEBUFFER,0|r[i],s.TEXTURE_2D,null)}}_updateFramebufferAttachments(t){const e=t._status,r=this._getAttachments();if(t._status=this._preCheckFramebufferStatus(t),t._status===s.FRAMEBUFFER_COMPLETE){for(let e=0;e<r.length;++e){const n=r[e];super.framebufferTexture2D(s.FRAMEBUFFER,n,t._attachmentFace[n],0,t._attachmentLevel[n])}for(let e=0;e<r.length;++e){const n=r[e],i=t._attachments[n];i instanceof z?super.framebufferTexture2D(s.FRAMEBUFFER,n,t._attachmentFace[n],0|i._,t._attachmentLevel[n]):i instanceof j&&super.framebufferRenderbuffer(s.FRAMEBUFFER,n,s.RENDERBUFFER,0|i._)}}else if(e===s.FRAMEBUFFER_COMPLETE)for(let e=0;e<r.length;++e){const n=r[e];super.framebufferTexture2D(s.FRAMEBUFFER,n,t._attachmentFace[n],0,t._attachmentLevel[n])}}_validBlendFunc(t){return t===s.ZERO||t===s.ONE||t===s.SRC_COLOR||t===s.ONE_MINUS_SRC_COLOR||t===s.DST_COLOR||t===s.ONE_MINUS_DST_COLOR||t===s.SRC_ALPHA||t===s.ONE_MINUS_SRC_ALPHA||t===s.DST_ALPHA||t===s.ONE_MINUS_DST_ALPHA||t===s.SRC_ALPHA_SATURATE||t===s.CONSTANT_COLOR||t===s.ONE_MINUS_CONSTANT_COLOR||t===s.CONSTANT_ALPHA||t===s.ONE_MINUS_CONSTANT_ALPHA}_validBlendMode(t){return t===s.FUNC_ADD||t===s.FUNC_SUBTRACT||t===s.FUNC_REVERSE_SUBTRACT||this._extensions.ext_blend_minmax&&(t===this._extensions.ext_blend_minmax.MIN_EXT||t===this._extensions.ext_blend_minmax.MAX_EXT)}_validCubeTarget(t){return t===s.TEXTURE_CUBE_MAP_POSITIVE_X||t===s.TEXTURE_CUBE_MAP_NEGATIVE_X||t===s.TEXTURE_CUBE_MAP_POSITIVE_Y||t===s.TEXTURE_CUBE_MAP_NEGATIVE_Y||t===s.TEXTURE_CUBE_MAP_POSITIVE_Z||t===s.TEXTURE_CUBE_MAP_NEGATIVE_Z}_validFramebufferAttachment(t){switch(t){case s.DEPTH_ATTACHMENT:case s.STENCIL_ATTACHMENT:case s.DEPTH_STENCIL_ATTACHMENT:case s.COLOR_ATTACHMENT0:return!0}if(this._extensions.webgl_draw_buffers){const{webgl_draw_buffers:e}=this._extensions;return t<e.COLOR_ATTACHMENT0_WEBGL+e._maxDrawBuffers}return!1}_validGLSLIdentifier(t){return!(0===t.indexOf("webgl_")||0===t.indexOf("_webgl_")||t.length>256)}_validTextureTarget(t){return t===s.TEXTURE_2D||t===s.TEXTURE_CUBE_MAP}_verifyTextureCompleteness(t,e,r){const n=this._getActiveTextureUnit();let i=null;if(t===s.TEXTURE_2D?i=n._bind2D:this._validCubeTarget(t)&&(i=n._bindCube),this._extensions.oes_texture_float&&!this._extensions.oes_texture_float_linear&&i&&i._type===s.FLOAT&&(e===s.TEXTURE_MAG_FILTER||e===s.TEXTURE_MIN_FILTER)&&(r===s.LINEAR||r===s.LINEAR_MIPMAP_NEAREST||r===s.NEAREST_MIPMAP_LINEAR||r===s.LINEAR_MIPMAP_LINEAR))return i._complete=!1,void this.bindTexture(t,i);i&&!1===i._complete&&(i._complete=!0,this.bindTexture(t,i))}_wrapShader(t,e){return!this._extensions.oes_standard_derivatives&&/#ifdef\s+GL_OES_standard_derivatives/.test(e)&&(e="#undef GL_OES_standard_derivatives\n"+e),this._extensions.webgl_draw_buffers?e:"#define gl_MaxDrawBuffers 1\n"+e}_beginAttrib0Hack(){super.bindBuffer(s.ARRAY_BUFFER,this._attrib0Buffer._),super.bufferData(s.ARRAY_BUFFER,this._vertexGlobalState._attribs[0]._data,s.STREAM_DRAW),super.enableVertexAttribArray(0),super.vertexAttribPointer(0,4,s.FLOAT,!1,0,0),super._vertexAttribDivisor(0,1)}_endAttrib0Hack(){const t=this._vertexObjectState._attribs[0];t._pointerBuffer?super.bindBuffer(s.ARRAY_BUFFER,t._pointerBuffer._):super.bindBuffer(s.ARRAY_BUFFER,0),super.vertexAttribPointer(0,t._inputSize,t._pointerType,t._pointerNormal,t._inputStride,t._pointerOffset),super._vertexAttribDivisor(0,t._divisor),super.disableVertexAttribArray(0),this._vertexGlobalState._arrayBufferBinding?super.bindBuffer(s.ARRAY_BUFFER,this._vertexGlobalState._arrayBufferBinding._):super.bindBuffer(s.ARRAY_BUFFER,0)}activeTexture(t){const e=(t|=0)-s.TEXTURE0;if(e>=0&&e<this._textureUnits.length)return this._activeTextureUnit=e,super.activeTexture(t);this.setError(s.INVALID_ENUM)}attachShader(t,e){if(!x(t)||!x(e))throw new TypeError("attachShader(WebGLProgram, WebGLShader)");if(t&&e){if(t instanceof B&&e instanceof U&&this._checkOwns(t)&&this._checkOwns(e)&&!t._linked(e)){this._saveError(),super.attachShader(0|t._,0|e._);const r=this.getError();return this._restoreError(r),void(r===s.NO_ERROR&&t._link(e))}this.setError(s.INVALID_OPERATION)}else this.setError(s.INVALID_VALUE)}bindAttribLocation(t,e,r){if(!x(t)||"string"!=typeof r)throw new TypeError("bindAttribLocation(WebGLProgram, GLint, String)");if(!w(r+="")||r.length>256)this.setError(s.INVALID_VALUE);else if(/^_?webgl_a/.test(r))this.setError(s.INVALID_OPERATION);else if(this._checkWrapper(t,B))return super.bindAttribLocation(0|t._,0|e,r)}bindFramebuffer(t,e){if(!x(e))throw new TypeError("bindFramebuffer(GLenum, WebGLFramebuffer)");if(t!==s.FRAMEBUFFER)return void this.setError(s.INVALID_ENUM);if(e){if(e._pendingDelete)return;if(!this._checkWrapper(e,D))return;super.bindFramebuffer(s.FRAMEBUFFER,0|e._)}else super.bindFramebuffer(s.FRAMEBUFFER,this._drawingBuffer._framebuffer);const r=this._activeFramebuffer;r!==e&&(r&&(r._refCount-=1,r._checkDelete()),e&&(e._refCount+=1)),this._activeFramebuffer=e,e&&this._updateFramebufferAttachments(e)}bindBuffer(t,e){if(t|=0,!x(e))throw new TypeError("bindBuffer(GLenum, WebGLBuffer)");if(t===s.ARRAY_BUFFER||t===s.ELEMENT_ARRAY_BUFFER){if(e){if(e._pendingDelete)return;if(!this._checkWrapper(e,k))return;if(e._binding&&e._binding!==t)return void this.setError(s.INVALID_OPERATION);e._binding=0|t,super.bindBuffer(t,0|e._)}else e=null,super.bindBuffer(t,0);t===s.ARRAY_BUFFER?this._vertexGlobalState.setArrayBuffer(e):this._vertexObjectState.setElementArrayBuffer(e)}else this.setError(s.INVALID_ENUM)}bindRenderbuffer(t,e){if(!x(e))throw new TypeError("bindRenderbuffer(GLenum, WebGLRenderbuffer)");if(t!==s.RENDERBUFFER)return void this.setError(s.INVALID_ENUM);if(e){if(e._pendingDelete)return;if(!this._checkWrapper(e,j))return;super.bindRenderbuffer(0|t,0|e._)}else super.bindRenderbuffer(0|t,0);const r=this._activeRenderbuffer;r!==e&&(r&&(r._refCount-=1,r._checkDelete()),e&&(e._refCount+=1)),this._activeRenderbuffer=e}bindTexture(t,e){if(t|=0,!x(e))throw new TypeError("bindTexture(GLenum, WebGLTexture)");if(!this._validTextureTarget(t))return void this.setError(s.INVALID_ENUM);let r=0;if(e){if(e instanceof z&&e._pendingDelete)return;if(!this._checkWrapper(e,z))return;if(e._binding&&e._binding!==t)return void this.setError(s.INVALID_OPERATION);e._binding=t,e._complete&&(r=0|e._)}else e=null;this._saveError(),super.bindTexture(t,r);const n=this.getError();if(this._restoreError(n),n!==s.NO_ERROR)return;const i=this._getActiveTextureUnit(),o=this._getActiveTexture(t);o!==e&&(o&&(o._refCount-=1,o._checkDelete()),e&&(e._refCount+=1)),t===s.TEXTURE_2D?i._bind2D=e:t===s.TEXTURE_CUBE_MAP&&(i._bindCube=e)}blendColor(t,e,r,n){return super.blendColor(+t,+e,+r,+n)}blendEquation(t){if(t|=0,this._validBlendMode(t))return super.blendEquation(t);this.setError(s.INVALID_ENUM)}blendEquationSeparate(t,e){if(t|=0,e|=0,this._validBlendMode(t)&&this._validBlendMode(e))return super.blendEquationSeparate(t,e);this.setError(s.INVALID_ENUM)}createBuffer(){const t=super.createBuffer();if(t<=0)return null;const e=new k(t,this);return this._buffers[t]=e,e}createFramebuffer(){const t=super.createFramebuffer();if(t<=0)return null;const e=new D(t,this);return this._framebuffers[t]=e,e}createProgram(){const t=super.createProgram();if(t<=0)return null;const e=new B(t,this);return this._programs[t]=e,e}createRenderbuffer(){const t=super.createRenderbuffer();if(t<=0)return null;const e=new j(t,this);return this._renderbuffers[t]=e,e}createTexture(){const t=super.createTexture();if(t<=0)return null;const e=new z(t,this);return this._textures[t]=e,e}getContextAttributes(){return this._contextAttributes}getExtension(t){const e=t.toLowerCase();if(e in this._extensions)return this._extensions[e];const r=$[e]?$[e](this):null;return r&&(this._extensions[e]=r),r}getSupportedExtensions(){const t=["ANGLE_instanced_arrays","STACKGL_resize_drawingbuffer","STACKGL_destroy_context"],e=super.getSupportedExtensions();return e.indexOf("GL_OES_element_index_uint")>=0&&t.push("OES_element_index_uint"),e.indexOf("GL_OES_standard_derivatives")>=0&&t.push("OES_standard_derivatives"),e.indexOf("GL_OES_texture_float")>=0&&t.push("OES_texture_float"),e.indexOf("GL_OES_texture_float_linear")>=0&&t.push("OES_texture_float_linear"),e.indexOf("EXT_draw_buffers")>=0&&t.push("WEBGL_draw_buffers"),e.indexOf("EXT_blend_minmax")>=0&&t.push("EXT_blend_minmax"),e.indexOf("EXT_texture_filter_anisotropic")>=0&&t.push("EXT_texture_filter_anisotropic"),e.indexOf("GL_OES_vertex_array_object")>=0&&t.push("OES_vertex_array_object"),t}setError(t){u.setError.call(this,0|t)}blendFunc(t,e){t|=0,e|=0,this._validBlendFunc(t)&&this._validBlendFunc(e)?this._isConstantBlendFunc(t)&&this._isConstantBlendFunc(e)?this.setError(s.INVALID_OPERATION):super.blendFunc(t,e):this.setError(s.INVALID_ENUM)}blendFuncSeparate(t,e,r,n){t|=0,e|=0,r|=0,n|=0,this._validBlendFunc(t)&&this._validBlendFunc(e)&&this._validBlendFunc(r)&&this._validBlendFunc(n)?this._isConstantBlendFunc(t)&&this._isConstantBlendFunc(e)||this._isConstantBlendFunc(r)&&this._isConstantBlendFunc(n)?this.setError(s.INVALID_OPERATION):super.blendFuncSeparate(t,e,r,n):this.setError(s.INVALID_ENUM)}bufferData(t,e,r){if(t|=0,(r|=0)!==s.STREAM_DRAW&&r!==s.STATIC_DRAW&&r!==s.DYNAMIC_DRAW)return void this.setError(s.INVALID_ENUM);if(t!==s.ARRAY_BUFFER&&t!==s.ELEMENT_ARRAY_BUFFER)return void this.setError(s.INVALID_ENUM);const n=this._getActiveBuffer(t);if(n)if("object"==typeof e){let i=null;if(O(e))i=R(e);else{if(!(e instanceof ArrayBuffer))return void this.setError(s.INVALID_VALUE);i=new Uint8Array(e)}this._saveError(),super.bufferData(t,i,r);const o=this.getError();if(this._restoreError(o),o!==s.NO_ERROR)return;n._size=i.length,t===s.ELEMENT_ARRAY_BUFFER&&(n._elements=new Uint8Array(i))}else if("number"==typeof e){const i=0|e;if(i<0)return void this.setError(s.INVALID_VALUE);this._saveError(),super.bufferData(t,i,r);const o=this.getError();if(this._restoreError(o),o!==s.NO_ERROR)return;n._size=i,t===s.ELEMENT_ARRAY_BUFFER&&(n._elements=new Uint8Array(i))}else this.setError(s.INVALID_VALUE);else this.setError(s.INVALID_OPERATION)}bufferSubData(t,e,r){if(e|=0,(t|=0)!==s.ARRAY_BUFFER&&t!==s.ELEMENT_ARRAY_BUFFER)return void this.setError(s.INVALID_ENUM);if(null===r)return;if(!r||"object"!=typeof r)return void this.setError(s.INVALID_VALUE);const n=this._getActiveBuffer(t);if(!n)return void this.setError(s.INVALID_OPERATION);if(e<0||e>=n._size)return void this.setError(s.INVALID_VALUE);let i=null;if(O(r))i=R(r);else{if(!(r instanceof ArrayBuffer))return void this.setError(s.INVALID_VALUE);i=new Uint8Array(r)}e+i.length>n._size?this.setError(s.INVALID_VALUE):(t===s.ELEMENT_ARRAY_BUFFER&&n._elements.set(i,e),super.bufferSubData(t,e,i))}checkFramebufferStatus(t){if(t!==s.FRAMEBUFFER)return this.setError(s.INVALID_ENUM),0;const e=this._activeFramebuffer;return e?this._preCheckFramebufferStatus(e):s.FRAMEBUFFER_COMPLETE}clear(t){if(this._framebufferOk())return super.clear(0|t)}clearColor(t,e,r,n){return super.clearColor(+t,+e,+r,+n)}clearDepth(t){return super.clearDepth(+t)}clearStencil(t){return this._checkStencil=!1,super.clearStencil(0|t)}colorMask(t,e,r,n){return super.colorMask(!!t,!!e,!!r,!!n)}compileShader(t){if(!x(t))throw new TypeError("compileShader(WebGLShader)");if(this._checkWrapper(t,U)&&this._checkShaderSource(t)){const e=this.getError();super.compileShader(0|t._);const r=this.getError();t._compileStatus=!!super.getShaderParameter(0|t._,s.COMPILE_STATUS),t._compileInfo=super.getShaderInfoLog(0|t._),this.getError(),this.setError(e||r)}}copyTexImage2D(t,e,r,i,o,a,u,l){t|=0,e|=0,r|=0,i|=0,o|=0,a|=0,u|=0,l|=0;const c=this._getTexImage(t);if(!c)return void this.setError(s.INVALID_OPERATION);if(r!==s.RGBA&&r!==s.RGB&&r!==s.ALPHA&&r!==s.LUMINANCE&&r!==s.LUMINANCE_ALPHA)return void this.setError(s.INVALID_ENUM);if(e<0||a<0||u<0||0!==l)return void this.setError(s.INVALID_VALUE);if(e>0&&(!n.isPow2(a)||!n.isPow2(u)))return void this.setError(s.INVALID_VALUE);this._saveError(),super.copyTexImage2D(t,e,r,i,o,a,u,l);const h=this.getError();this._restoreError(h),h===s.NO_ERROR&&(c._levelWidth[e]=a,c._levelHeight[e]=u,c._format=s.RGBA,c._type=s.UNSIGNED_BYTE)}copyTexSubImage2D(t,e,r,n,i,o,a,u){t|=0,e|=0,r|=0,n|=0,i|=0,o|=0,a|=0,u|=0,this._getTexImage(t)?a<0||u<0||r<0||n<0||e<0?this.setError(s.INVALID_VALUE):super.copyTexSubImage2D(t,e,r,n,i,o,a,u):this.setError(s.INVALID_OPERATION)}cullFace(t){return super.cullFace(0|t)}createShader(t){if((t|=0)!==s.FRAGMENT_SHADER&&t!==s.VERTEX_SHADER)return this.setError(s.INVALID_ENUM),null;const e=super.createShader(t);if(e<0)return null;const r=new U(e,this,t);return this._shaders[e]=r,r}deleteProgram(t){return this._deleteLinkable("deleteProgram",t,B)}deleteShader(t){return this._deleteLinkable("deleteShader",t,U)}_deleteLinkable(t,e,r){if(!x(e))throw new TypeError(t+"("+r.name+")");if(e instanceof r&&this._checkOwns(e))return e._pendingDelete=!0,void e._checkDelete();this.setError(s.INVALID_OPERATION)}deleteBuffer(t){if(!x(t)||null!==t&&!(t instanceof k))throw new TypeError("deleteBuffer(WebGLBuffer)");t instanceof k&&this._checkOwns(t)?(this._vertexGlobalState._arrayBufferBinding===t&&this.bindBuffer(s.ARRAY_BUFFER,null),this._vertexObjectState._elementArrayBufferBinding===t&&this.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null),this._vertexObjectState===this._defaultVertexObjectState&&this._vertexObjectState.releaseArrayBuffer(t),t._pendingDelete=!0,t._checkDelete()):this.setError(s.INVALID_OPERATION)}deleteFramebuffer(t){if(!x(t))throw new TypeError("deleteFramebuffer(WebGLFramebuffer)");t instanceof D&&this._checkOwns(t)?(this._activeFramebuffer===t&&this.bindFramebuffer(s.FRAMEBUFFER,null),t._pendingDelete=!0,t._checkDelete()):this.setError(s.INVALID_OPERATION)}deleteRenderbuffer(t){if(!x(t))throw new TypeError("deleteRenderbuffer(WebGLRenderbuffer)");if(!(t instanceof j&&this._checkOwns(t)))return void this.setError(s.INVALID_OPERATION);this._activeRenderbuffer===t&&this.bindRenderbuffer(s.RENDERBUFFER,null);const e=this._activeFramebuffer;this._tryDetachFramebuffer(e,t),t._pendingDelete=!0,t._checkDelete()}deleteTexture(t){if(!x(t))throw new TypeError("deleteTexture(WebGLTexture)");if(!(t instanceof z))return;if(!this._checkOwns(t))return void this.setError(s.INVALID_OPERATION);const e=this._activeTextureUnit;for(let e=0;e<this._textureUnits.length;++e){const r=this._textureUnits[e];r._bind2D===t?(this.activeTexture(s.TEXTURE0+e),this.bindTexture(s.TEXTURE_2D,null)):r._bindCube===t&&(this.activeTexture(s.TEXTURE0+e),this.bindTexture(s.TEXTURE_CUBE_MAP,null))}this.activeTexture(s.TEXTURE0+e);const r=this;!function(e){if(e&&e._linked(t)){const n=r._getAttachments();for(let i=0;i<n.length;++i){const o=n[i];e._attachments[o]===t&&r.framebufferTexture2D(s.FRAMEBUFFER,o,s.TEXTURE_2D,null)}}}(this._activeFramebuffer),t._pendingDelete=!0,t._checkDelete()}depthFunc(t){switch(t|=0){case s.NEVER:case s.LESS:case s.EQUAL:case s.LEQUAL:case s.GREATER:case s.NOTEQUAL:case s.GEQUAL:case s.ALWAYS:return super.depthFunc(t);default:this.setError(s.INVALID_ENUM)}}depthMask(t){return super.depthMask(!!t)}depthRange(t,e){if((t=+t)<=(e=+e))return super.depthRange(t,e);this.setError(s.INVALID_OPERATION)}destroy(){super.destroy()}detachShader(t,e){if(!x(t)||!x(e))throw new TypeError("detachShader(WebGLProgram, WebGLShader)");this._checkWrapper(t,B)&&this._checkWrapper(e,U)&&(t._linked(e)?(super.detachShader(t._,e._),t._unlink(e)):this.setError(s.INVALID_OPERATION))}disable(t){if(t|=0,super.disable(t),t===s.TEXTURE_2D||t===s.TEXTURE_CUBE_MAP){const e=this._getActiveTextureUnit();e._mode===t&&(e._mode=0)}}disableVertexAttribArray(t){(t|=0)<0||t>=this._vertexObjectState._attribs.length?this.setError(s.INVALID_VALUE):(super.disableVertexAttribArray(t),this._vertexObjectState._attribs[t]._isPointer=!1)}drawArrays(t,e,r){if(t|=0,r|=0,(e|=0)<0||r<0)return void this.setError(s.INVALID_VALUE);if(!this._checkStencilState())return;const n=C(t,r);if(n<0)return void this.setError(s.INVALID_ENUM);if(!this._framebufferOk())return;if(0===r)return;let i=e;if(r>0&&(i=r+e-1>>>0),this._checkVertexAttribState(i)){if(this._vertexObjectState._attribs[0]._isPointer||this._extensions.webgl_draw_buffers&&this._extensions.webgl_draw_buffers._buffersState&&this._extensions.webgl_draw_buffers._buffersState.length>0)return super.drawArrays(t,e,n);this._beginAttrib0Hack(),super._drawArraysInstanced(t,e,n,1),this._endAttrib0Hack()}}drawElements(t,e,r,n){if(t|=0,r|=0,n|=0,(e|=0)<0||n<0)return void this.setError(s.INVALID_VALUE);if(!this._checkStencilState())return;const i=this._vertexObjectState._elementArrayBufferBinding;if(!i)return void this.setError(s.INVALID_OPERATION);let o=null,a=n;if(r===s.UNSIGNED_SHORT){if(a%2)return void this.setError(s.INVALID_OPERATION);a>>=1,o=new Uint16Array(i._elements.buffer)}else if(this._extensions.oes_element_index_uint&&r===s.UNSIGNED_INT){if(a%4)return void this.setError(s.INVALID_OPERATION);a>>=2,o=new Uint32Array(i._elements.buffer)}else{if(r!==s.UNSIGNED_BYTE)return void this.setError(s.INVALID_ENUM);o=i._elements}let u=e;switch(t){case s.TRIANGLES:e%3&&(u-=e%3);break;case s.LINES:e%2&&(u-=e%2);break;case s.POINTS:break;case s.LINE_LOOP:case s.LINE_STRIP:if(e<2)return void this.setError(s.INVALID_OPERATION);break;case s.TRIANGLE_FAN:case s.TRIANGLE_STRIP:if(e<3)return void this.setError(s.INVALID_OPERATION);break;default:return void this.setError(s.INVALID_ENUM)}if(!this._framebufferOk())return;if(0===e)return void this._checkVertexAttribState(0);if(e+a>>>0>o.length)return void this.setError(s.INVALID_OPERATION);let l=-1;for(let t=a;t<a+e;++t)l=Math.max(l,o[t]);if(l<0)this._checkVertexAttribState(0);else if(this._checkVertexAttribState(l)&&u>0){if(this._vertexObjectState._attribs[0]._isPointer)return super.drawElements(t,u,r,n);this._beginAttrib0Hack(),super._drawElementsInstanced(t,u,r,n,1),this._endAttrib0Hack()}}enable(t){t|=0,super.enable(t)}enableVertexAttribArray(t){(t|=0)<0||t>=this._vertexObjectState._attribs.length?this.setError(s.INVALID_VALUE):(super.enableVertexAttribArray(t),this._vertexObjectState._attribs[t]._isPointer=!0)}finish(){return super.finish()}flush(){return super.flush()}framebufferRenderbuffer(t,e,r,n){if(t|=0,e|=0,r|=0,!x(n))throw new TypeError("framebufferRenderbuffer(GLenum, GLenum, GLenum, WebGLRenderbuffer)");if(t!==s.FRAMEBUFFER||!this._validFramebufferAttachment(e)||r!==s.RENDERBUFFER)return void this.setError(s.INVALID_ENUM);const i=this._activeFramebuffer;i?n&&!this._checkWrapper(n,j)||(i._setAttachment(n,e),this._updateFramebufferAttachments(i)):this.setError(s.INVALID_OPERATION)}framebufferTexture2D(t,e,r,n,i){if(t|=0,e|=0,r|=0,i|=0,!x(n))throw new TypeError("framebufferTexture2D(GLenum, GLenum, GLenum, WebGLTexture, GLint)");if(t!==s.FRAMEBUFFER||!this._validFramebufferAttachment(e))return void this.setError(s.INVALID_ENUM);if(0!==i)return void this.setError(s.INVALID_VALUE);if(n&&!this._checkWrapper(n,z))return;if(r===s.TEXTURE_2D){if(n&&n._binding!==s.TEXTURE_2D)return void this.setError(s.INVALID_OPERATION)}else{if(!this._validCubeTarget(r))return void this.setError(s.INVALID_ENUM);if(n&&n._binding!==s.TEXTURE_CUBE_MAP)return void this.setError(s.INVALID_OPERATION)}const o=this._activeFramebuffer;o?(o._attachmentLevel[e]=i,o._attachmentFace[e]=r,o._setAttachment(n,e),this._updateFramebufferAttachments(o)):this.setError(s.INVALID_OPERATION)}frontFace(t){return super.frontFace(0|t)}generateMipmap(t){return 0|super.generateMipmap(0|t)}getActiveAttrib(t,e){if(!x(t))throw new TypeError("getActiveAttrib(WebGLProgram)");if(t){if(this._checkWrapper(t,B)){const r=super.getActiveAttrib(0|t._,0|e);if(r)return new L(r)}}else this.setError(s.INVALID_VALUE);return null}getActiveUniform(t,e){if(!x(t))throw new TypeError("getActiveUniform(WebGLProgram, GLint)");if(t){if(this._checkWrapper(t,B)){const r=super.getActiveUniform(0|t._,0|e);if(r)return new L(r)}}else this.setError(s.INVALID_VALUE);return null}getAttachedShaders(t){if(!x(t)||"object"==typeof t&&null!==t&&!(t instanceof B))throw new TypeError("getAttachedShaders(WebGLProgram)");if(t){if(this._checkWrapper(t,B)){const e=super.getAttachedShaders(0|t._);if(!e)return null;const r=new Array(e.length);for(let t=0;t<e.length;++t)r[t]=this._shaders[e[t]];return r}}else this.setError(s.INVALID_VALUE);return null}getAttribLocation(t,e){if(!x(t))throw new TypeError("getAttribLocation(WebGLProgram, String)");if(!w(e+="")||e.length>256)this.setError(s.INVALID_VALUE);else if(this._checkWrapper(t,B))return super.getAttribLocation(0|t._,e+"");return-1}getParameter(t){switch(t|=0){case s.ARRAY_BUFFER_BINDING:return this._vertexGlobalState._arrayBufferBinding;case s.ELEMENT_ARRAY_BUFFER_BINDING:return this._vertexObjectState._elementArrayBufferBinding;case s.CURRENT_PROGRAM:return this._activeProgram;case s.FRAMEBUFFER_BINDING:return this._activeFramebuffer;case s.RENDERBUFFER_BINDING:return this._activeRenderbuffer;case s.TEXTURE_BINDING_2D:return this._getActiveTextureUnit()._bind2D;case s.TEXTURE_BINDING_CUBE_MAP:return this._getActiveTextureUnit()._bindCube;case s.VERSION:return"WebGL 1.0 stack-gl "+o;case s.VENDOR:return"stack-gl";case s.RENDERER:return"ANGLE";case s.SHADING_LANGUAGE_VERSION:return"WebGL GLSL ES 1.0 stack-gl";case s.COMPRESSED_TEXTURE_FORMATS:return new Uint32Array(0);case s.MAX_VIEWPORT_DIMS:case s.SCISSOR_BOX:case s.VIEWPORT:return new Int32Array(super.getParameter(t));case s.ALIASED_LINE_WIDTH_RANGE:case s.ALIASED_POINT_SIZE_RANGE:case s.DEPTH_RANGE:case s.BLEND_COLOR:case s.COLOR_CLEAR_VALUE:return new Float32Array(super.getParameter(t));case s.COLOR_WRITEMASK:return super.getParameter(t);case s.DEPTH_CLEAR_VALUE:case s.LINE_WIDTH:case s.POLYGON_OFFSET_FACTOR:case s.POLYGON_OFFSET_UNITS:case s.SAMPLE_COVERAGE_VALUE:return+super.getParameter(t);case s.BLEND:case s.CULL_FACE:case s.DEPTH_TEST:case s.DEPTH_WRITEMASK:case s.DITHER:case s.POLYGON_OFFSET_FILL:case s.SAMPLE_COVERAGE_INVERT:case s.SCISSOR_TEST:case s.STENCIL_TEST:case s.UNPACK_FLIP_Y_WEBGL:case s.UNPACK_PREMULTIPLY_ALPHA_WEBGL:return!!super.getParameter(t);case s.ACTIVE_TEXTURE:case s.ALPHA_BITS:case s.BLEND_DST_ALPHA:case s.BLEND_DST_RGB:case s.BLEND_EQUATION_ALPHA:case s.BLEND_EQUATION_RGB:case s.BLEND_SRC_ALPHA:case s.BLEND_SRC_RGB:case s.BLUE_BITS:case s.CULL_FACE_MODE:case s.DEPTH_BITS:case s.DEPTH_FUNC:case s.FRONT_FACE:case s.GENERATE_MIPMAP_HINT:case s.GREEN_BITS:case s.MAX_COMBINED_TEXTURE_IMAGE_UNITS:case s.MAX_CUBE_MAP_TEXTURE_SIZE:case s.MAX_FRAGMENT_UNIFORM_VECTORS:case s.MAX_RENDERBUFFER_SIZE:case s.MAX_TEXTURE_IMAGE_UNITS:case s.MAX_TEXTURE_SIZE:case s.MAX_VARYING_VECTORS:case s.MAX_VERTEX_ATTRIBS:case s.MAX_VERTEX_TEXTURE_IMAGE_UNITS:case s.MAX_VERTEX_UNIFORM_VECTORS:case s.PACK_ALIGNMENT:case s.RED_BITS:case s.SAMPLE_BUFFERS:case s.SAMPLES:case s.STENCIL_BACK_FAIL:case s.STENCIL_BACK_FUNC:case s.STENCIL_BACK_PASS_DEPTH_FAIL:case s.STENCIL_BACK_PASS_DEPTH_PASS:case s.STENCIL_BACK_REF:case s.STENCIL_BACK_VALUE_MASK:case s.STENCIL_BACK_WRITEMASK:case s.STENCIL_BITS:case s.STENCIL_CLEAR_VALUE:case s.STENCIL_FAIL:case s.STENCIL_FUNC:case s.STENCIL_PASS_DEPTH_FAIL:case s.STENCIL_PASS_DEPTH_PASS:case s.STENCIL_REF:case s.STENCIL_VALUE_MASK:case s.STENCIL_WRITEMASK:case s.SUBPIXEL_BITS:case s.UNPACK_ALIGNMENT:case s.UNPACK_COLORSPACE_CONVERSION_WEBGL:return 0|super.getParameter(t);case s.IMPLEMENTATION_COLOR_READ_FORMAT:case s.IMPLEMENTATION_COLOR_READ_TYPE:return super.getParameter(t);default:if(this._extensions.webgl_draw_buffers){const e=this._extensions.webgl_draw_buffers;switch(t){case e.DRAW_BUFFER0_WEBGL:case e.DRAW_BUFFER1_WEBGL:case e.DRAW_BUFFER2_WEBGL:case e.DRAW_BUFFER3_WEBGL:case e.DRAW_BUFFER4_WEBGL:case e.DRAW_BUFFER5_WEBGL:case e.DRAW_BUFFER6_WEBGL:case e.DRAW_BUFFER7_WEBGL:case e.DRAW_BUFFER8_WEBGL:case e.DRAW_BUFFER9_WEBGL:case e.DRAW_BUFFER10_WEBGL:case e.DRAW_BUFFER11_WEBGL:case e.DRAW_BUFFER12_WEBGL:case e.DRAW_BUFFER13_WEBGL:case e.DRAW_BUFFER14_WEBGL:case e.DRAW_BUFFER15_WEBGL:return 1===e._buffersState.length&&e._buffersState[0]===s.BACK?s.BACK:super.getParameter(t);case e.MAX_DRAW_BUFFERS_WEBGL:case e.MAX_COLOR_ATTACHMENTS_WEBGL:return super.getParameter(t)}}return this._extensions.oes_standard_derivatives&&t===this._extensions.oes_standard_derivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES||this._extensions.ext_texture_filter_anisotropic&&t===this._extensions.ext_texture_filter_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT?super.getParameter(t):this._extensions.oes_vertex_array_object&&t===this._extensions.oes_vertex_array_object.VERTEX_ARRAY_BINDING_OES?this._extensions.oes_vertex_array_object._activeVertexArrayObject:(this.setError(s.INVALID_ENUM),null)}}getShaderPrecisionFormat(t,e){if(e|=0,(t|=0)!==s.FRAGMENT_SHADER&&t!==s.VERTEX_SHADER||e!==s.LOW_FLOAT&&e!==s.MEDIUM_FLOAT&&e!==s.HIGH_FLOAT&&e!==s.LOW_INT&&e!==s.MEDIUM_INT&&e!==s.HIGH_INT)return void this.setError(s.INVALID_ENUM);const r=super.getShaderPrecisionFormat(t,e);return r?new V(r):null}getBufferParameter(t,e){if(e|=0,(t|=0)!==s.ARRAY_BUFFER&&t!==s.ELEMENT_ARRAY_BUFFER)return this.setError(s.INVALID_ENUM),null;switch(e){case s.BUFFER_SIZE:case s.BUFFER_USAGE:return super.getBufferParameter(0|t,0|e);default:return this.setError(s.INVALID_ENUM),null}}getError(){return super.getError()}getFramebufferAttachmentParameter(t,e,r){if(e|=0,r|=0,(t|=0)!==s.FRAMEBUFFER||!this._validFramebufferAttachment(e))return this.setError(s.INVALID_ENUM),null;const n=this._activeFramebuffer;if(!n)return this.setError(s.INVALID_OPERATION),null;const i=n._attachments[e];if(null===i){if(r===s.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE)return s.NONE}else if(i instanceof z)switch(r){case s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:return i;case s.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:return s.TEXTURE;case s.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:return n._attachmentLevel[e];case s.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:{const t=n._attachmentFace[e];return t===s.TEXTURE_2D?0:t}}else if(i instanceof j)switch(r){case s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:return i;case s.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:return s.RENDERBUFFER}return this.setError(s.INVALID_ENUM),null}getProgramParameter(t,e){if(e|=0,!x(t))throw new TypeError("getProgramParameter(WebGLProgram, GLenum)");if(this._checkWrapper(t,B)){switch(e){case s.DELETE_STATUS:return t._pendingDelete;case s.LINK_STATUS:return t._linkStatus;case s.VALIDATE_STATUS:return!!super.getProgramParameter(t._,e);case s.ATTACHED_SHADERS:case s.ACTIVE_ATTRIBUTES:case s.ACTIVE_UNIFORMS:return super.getProgramParameter(t._,e)}this.setError(s.INVALID_ENUM)}return null}getProgramInfoLog(t){if(!x(t))throw new TypeError("getProgramInfoLog(WebGLProgram)");return this._checkWrapper(t,B)?t._linkInfoLog:null}getRenderbufferParameter(t,e){if(e|=0,(t|=0)!==s.RENDERBUFFER)return this.setError(s.INVALID_ENUM),null;const r=this._activeRenderbuffer;if(!r)return this.setError(s.INVALID_OPERATION),null;switch(e){case s.RENDERBUFFER_INTERNAL_FORMAT:return r._format;case s.RENDERBUFFER_WIDTH:return r._width;case s.RENDERBUFFER_HEIGHT:return r._height;case s.RENDERBUFFER_SIZE:case s.RENDERBUFFER_RED_SIZE:case s.RENDERBUFFER_GREEN_SIZE:case s.RENDERBUFFER_BLUE_SIZE:case s.RENDERBUFFER_ALPHA_SIZE:case s.RENDERBUFFER_DEPTH_SIZE:case s.RENDERBUFFER_STENCIL_SIZE:return super.getRenderbufferParameter(t,e)}return this.setError(s.INVALID_ENUM),null}getShaderParameter(t,e){if(e|=0,!x(t))throw new TypeError("getShaderParameter(WebGLShader, GLenum)");if(this._checkWrapper(t,U)){switch(e){case s.DELETE_STATUS:return t._pendingDelete;case s.COMPILE_STATUS:return t._compileStatus;case s.SHADER_TYPE:return t._type}this.setError(s.INVALID_ENUM)}return null}getShaderInfoLog(t){if(!x(t))throw new TypeError("getShaderInfoLog(WebGLShader)");return this._checkWrapper(t,U)?t._compileInfo:null}getShaderSource(t){if(!x(t))throw new TypeError("Input to getShaderSource must be an object");return this._checkWrapper(t,U)?t._source:null}getTexParameter(t,e){if(t|=0,e|=0,!this._checkTextureTarget(t))return null;const r=this._getActiveTextureUnit();if(t===s.TEXTURE_2D&&!r._bind2D||t===s.TEXTURE_CUBE_MAP&&!r._bindCube)return this.setError(s.INVALID_OPERATION),null;switch(e){case s.TEXTURE_MAG_FILTER:case s.TEXTURE_MIN_FILTER:case s.TEXTURE_WRAP_S:case s.TEXTURE_WRAP_T:return super.getTexParameter(t,e)}return this._extensions.ext_texture_filter_anisotropic&&e===this._extensions.ext_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT?super.getTexParameter(t,e):(this.setError(s.INVALID_ENUM),null)}getUniform(t,e){if(!x(t)||!x(e))throw new TypeError("getUniform(WebGLProgram, WebGLUniformLocation)");if(!t)return this.setError(s.INVALID_VALUE),null;if(!e)return null;if(this._checkWrapper(t,B)){if(!T(t,e))return this.setError(s.INVALID_OPERATION),null;const r=super.getUniform(0|t._,0|e._);if(!r)return null;switch(e._activeInfo.type){case s.FLOAT:return r[0];case s.FLOAT_VEC2:return new Float32Array(r.slice(0,2));case s.FLOAT_VEC3:return new Float32Array(r.slice(0,3));case s.FLOAT_VEC4:return new Float32Array(r.slice(0,4));case s.INT:return 0|r[0];case s.INT_VEC2:return new Int32Array(r.slice(0,2));case s.INT_VEC3:return new Int32Array(r.slice(0,3));case s.INT_VEC4:return new Int32Array(r.slice(0,4));case s.BOOL:return!!r[0];case s.BOOL_VEC2:return[!!r[0],!!r[1]];case s.BOOL_VEC3:return[!!r[0],!!r[1],!!r[2]];case s.BOOL_VEC4:return[!!r[0],!!r[1],!!r[2],!!r[3]];case s.FLOAT_MAT2:return new Float32Array(r.slice(0,4));case s.FLOAT_MAT3:return new Float32Array(r.slice(0,9));case s.FLOAT_MAT4:return new Float32Array(r.slice(0,16));case s.SAMPLER_2D:case s.SAMPLER_CUBE:return 0|r[0];default:return null}}return null}getUniformLocation(t,e){if(!x(t))throw new TypeError("getUniformLocation(WebGLProgram, String)");if(w(e+="")){if(this._checkWrapper(t,B)){const r=super.getUniformLocation(0|t._,e);if(r>=0){let n=e;/\[\d+\]$/.test(e)&&(n=e.replace(/\[\d+\]$/,"[0]"));let i=null;for(let e=0;e<t._uniforms.length;++e){const r=t._uniforms[e];r.name===n&&(i={size:r.size,type:r.type,name:r.name})}if(!i)return null;const o=new W(r,t,i);if(/\[0\]$/.test(e)){const r=e.replace(/\[0\]$/,""),n=[];this._saveError();for(let e=0;this.getError()===s.NO_ERROR;++e){const i=super.getUniformLocation(0|t._,r+"["+e+"]");if(this.getError()!==s.NO_ERROR||i<0)break;n.push(i)}this._restoreError(s.NO_ERROR),o._array=n}else if(/\[(\d+)\]$/.test(e)){const t=+/\[(\d+)\]$/.exec(e)[1];if(t<0||t>=i.size)return null}return o}}return null}this.setError(s.INVALID_VALUE)}getVertexAttrib(t,e){if(e|=0,(t|=0)<0||t>=this._vertexObjectState._attribs.length)return this.setError(s.INVALID_VALUE),null;const r=this._vertexObjectState._attribs[t],n=this._vertexGlobalState._attribs[t]._data,i=this._extensions.angle_instanced_arrays;if(i&&e===i.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)return r._divisor;switch(e){case s.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:return r._pointerBuffer;case s.VERTEX_ATTRIB_ARRAY_ENABLED:return r._isPointer;case s.VERTEX_ATTRIB_ARRAY_SIZE:return r._inputSize;case s.VERTEX_ATTRIB_ARRAY_STRIDE:return r._inputStride;case s.VERTEX_ATTRIB_ARRAY_TYPE:return r._pointerType;case s.VERTEX_ATTRIB_ARRAY_NORMALIZED:return r._pointerNormal;case s.CURRENT_VERTEX_ATTRIB:return new Float32Array(n);default:return this.setError(s.INVALID_ENUM),null}}getVertexAttribOffset(t,e){return e|=0,(t|=0)<0||t>=this._vertexObjectState._attribs.length?(this.setError(s.INVALID_VALUE),null):e===s.VERTEX_ATTRIB_ARRAY_POINTER?this._vertexObjectState._attribs[t]._pointerOffset:(this.setError(s.INVALID_ENUM),null)}hint(t,e){if(e|=0,(t|=0)===s.GENERATE_MIPMAP_HINT||this._extensions.oes_standard_derivatives&&t===this._extensions.oes_standard_derivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES){if(e===s.FASTEST||e===s.NICEST||e===s.DONT_CARE)return super.hint(t,e);this.setError(s.INVALID_ENUM)}else this.setError(s.INVALID_ENUM)}isBuffer(t){return!!this._isObject(t,"isBuffer",k)&&super.isBuffer(0|t._)}isFramebuffer(t){return!!this._isObject(t,"isFramebuffer",D)&&super.isFramebuffer(0|t._)}isProgram(t){return!!this._isObject(t,"isProgram",B)&&super.isProgram(0|t._)}isRenderbuffer(t){return!!this._isObject(t,"isRenderbuffer",j)&&super.isRenderbuffer(0|t._)}isShader(t){return!!this._isObject(t,"isShader",U)&&super.isShader(0|t._)}isTexture(t){return!!this._isObject(t,"isTexture",z)&&super.isTexture(0|t._)}isEnabled(t){return super.isEnabled(0|t)}lineWidth(t){if(!isNaN(t))return super.lineWidth(+t);this.setError(s.INVALID_VALUE)}linkProgram(t){if(!x(t))throw new TypeError("linkProgram(WebGLProgram)");if(this._checkWrapper(t,B)){t._linkCount+=1,t._attributes=[];const e=this.getError();super.linkProgram(0|t._);const r=this.getError();r===s.NO_ERROR&&(t._linkStatus=this._fixupLink(t)),this.getError(),this.setError(e||r)}}pixelStorei(t,e){if(e|=0,(t|=0)===s.UNPACK_ALIGNMENT){if(1!==e&&2!==e&&4!==e&&8!==e)return void this.setError(s.INVALID_VALUE);this._unpackAlignment=e}else if(t===s.PACK_ALIGNMENT){if(1!==e&&2!==e&&4!==e&&8!==e)return void this.setError(s.INVALID_VALUE);this._packAlignment=e}else if(t===s.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e!==s.NONE&&e!==s.BROWSER_DEFAULT_WEBGL)return void this.setError(s.INVALID_VALUE);return super.pixelStorei(t,e)}polygonOffset(t,e){return super.polygonOffset(+t,+e)}readPixels(t,e,r,n,i,o,a){if(t|=0,e|=0,r|=0,n|=0,this._extensions.oes_texture_float&&o===s.FLOAT&&i===s.RGBA);else{if(i===s.RGB||i===s.ALPHA||o!==s.UNSIGNED_BYTE)return void this.setError(s.INVALID_OPERATION);if(i!==s.RGBA)return void this.setError(s.INVALID_ENUM);if(r<0||n<0||!(a instanceof Uint8Array))return void this.setError(s.INVALID_VALUE)}if(!this._framebufferOk())return;let u=4*r;u%this._packAlignment!=0&&(u+=this._packAlignment-u%this._packAlignment);const l=u*(n-1)+4*r;if(l<=0)return;if(a.length<l)return void this.setError(s.INVALID_VALUE);let c=this.drawingBufferWidth,h=this.drawingBufferHeight;this._activeFramebuffer&&(c=this._activeFramebuffer._width,h=this._activeFramebuffer._height);const f=R(a);if(t>=c||t+r<=0||e>=h||e+n<=0)for(let t=0;t<f.length;++t)f[t]=0;else if(t<0||t+r>c||e<0||e+n>h){for(let t=0;t<f.length;++t)f[t]=0;let s=t,a=r;t<0&&(a+=t,s=0),s+r>c&&(a=c-s);let l=e,d=n;e<0&&(d+=e,l=0),l+n>h&&(d=h-l);let p=4*a;if(p%this._packAlignment!=0&&(p+=this._packAlignment-p%this._packAlignment),a>0&&d>0){const r=new Uint8Array(p*d);super.readPixels(s,l,a,d,i,o,r);const n=4*(s-t)+(l-e)*u;for(let t=0;t<d;++t)for(let e=0;e<a;++e)for(let i=0;i<4;++i)f[n+t*u+4*e+i]=r[t*p+4*e+i]}}else super.readPixels(t,e,r,n,i,o,f)}renderbufferStorage(t,e,r,n){if(e|=0,r|=0,n|=0,(t|=0)!==s.RENDERBUFFER)return void this.setError(s.INVALID_ENUM);const i=this._activeRenderbuffer;if(!i)return void this.setError(s.INVALID_OPERATION);if(e!==s.RGBA4&&e!==s.RGB565&&e!==s.RGB5_A1&&e!==s.DEPTH_COMPONENT16&&e!==s.STENCIL_INDEX&&e!==s.STENCIL_INDEX8&&e!==s.DEPTH_STENCIL)return void this.setError(s.INVALID_ENUM);this._saveError(),super.renderbufferStorage(t,e,r,n);const o=this.getError();if(this._restoreError(o),o!==s.NO_ERROR)return;i._width=r,i._height=n,i._format=e;const a=this._activeFramebuffer;if(a){let t=!1;const e=this._getAttachments();for(let r=0;r<e.length;++r)if(a._attachments[e[r]]===i){t=!0;break}t&&this._updateFramebufferAttachments(this._activeFramebuffer)}}resize(t,e){if(e|=0,!((t|=0)>0&&e>0))throw new Error("Invalid surface dimensions");t===this.drawingBufferWidth&&e===this.drawingBufferHeight||(this._resizeDrawingBuffer(t,e),this.drawingBufferWidth=t,this.drawingBufferHeight=e)}sampleCoverage(t,e){return super.sampleCoverage(+t,!!e)}scissor(t,e,r,n){return super.scissor(0|t,0|e,0|r,0|n)}shaderSource(t,e){if(!x(t))throw new TypeError("shaderSource(WebGLShader, String)");t&&(e||"string"==typeof e)&&w(e+="")?this._checkWrapper(t,U)&&(super.shaderSource(0|t._,this._wrapShader(t._type,e)),t._source=e):this.setError(s.INVALID_VALUE)}stencilFunc(t,e,r){return this._checkStencil=!0,super.stencilFunc(0|t,0|e,0|r)}stencilFuncSeparate(t,e,r,n){return this._checkStencil=!0,super.stencilFuncSeparate(0|t,0|e,0|r,0|n)}stencilMask(t){return this._checkStencil=!0,super.stencilMask(0|t)}stencilMaskSeparate(t,e){return this._checkStencil=!0,super.stencilMaskSeparate(0|t,0|e)}stencilOp(t,e,r){return this._checkStencil=!0,super.stencilOp(0|t,0|e,0|r)}stencilOpSeparate(t,e,r,n){return this._checkStencil=!0,super.stencilOpSeparate(0|t,0|e,0|r,0|n)}texImage2D(t,e,r,n,i,o,a,u,l){if(6===arguments.length){if(u=i,a=n,null==(l=I(l=o)))throw new TypeError("texImage2D(GLenum, GLint, GLenum, GLint, GLenum, GLenum, ImageData | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement)");n=l.width,i=l.height,l=l.data}if(t|=0,e|=0,r|=0,n|=0,i|=0,o|=0,a|=0,u|=0,"object"!=typeof l&&void 0!==l)throw new TypeError("texImage2D(GLenum, GLint, GLenum, GLint, GLint, GLint, GLenum, GLenum, Uint8Array)");if(!N(a)||!N(r))return void this.setError(s.INVALID_ENUM);if(u===s.FLOAT&&!this._extensions.oes_texture_float)return void this.setError(s.INVALID_ENUM);const c=this._getTexImage(t);if(!c||a!==r)return void this.setError(s.INVALID_OPERATION);const h=this._computePixelSize(u,a);if(0===h)return;if(!this._checkDimensions(t,n,i,e))return;const f=M(l),d=this._computeRowStride(n,h)*i;if(f&&f.length<d)return void this.setError(s.INVALID_OPERATION);if(0!==o||P(t)&&n!==i)return void this.setError(s.INVALID_VALUE);this._saveError(),super.texImage2D(t,e,r,n,i,o,a,u,f);const p=this.getError();if(this._restoreError(p),p!==s.NO_ERROR)return;c._levelWidth[e]=n,c._levelHeight[e]=i,c._format=a,c._type=u;const g=this._activeFramebuffer;if(g){let t=!1;const e=this._getAttachments();for(let r=0;r<e.length;++r)if(g._attachments[e[r]]===c){t=!0;break}t&&this._updateFramebufferAttachments(this._activeFramebuffer)}}texSubImage2D(t,e,r,n,i,o,a,u,l){if(7===arguments.length){if(l=a,u=o,a=i,null==(l=I(l)))throw new TypeError("texSubImage2D(GLenum, GLint, GLint, GLint, GLenum, GLenum, ImageData | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement)");i=l.width,o=l.height,l=l.data}if("object"!=typeof l)throw new TypeError("texSubImage2D(GLenum, GLint, GLint, GLint, GLint, GLint, GLenum, GLenum, Uint8Array)");if(t|=0,e|=0,r|=0,n|=0,i|=0,o|=0,a|=0,u|=0,!this._getTexImage(t))return void this.setError(s.INVALID_OPERATION);if(u===s.FLOAT&&!this._extensions.oes_texture_float)return void this.setError(s.INVALID_ENUM);const c=this._computePixelSize(u,a);if(0===c)return;if(!this._checkDimensions(t,i,o,e))return;if(r<0||n<0)return void this.setError(s.INVALID_VALUE);const h=M(l),f=this._computeRowStride(i,c)*o;!h||h.length<f?this.setError(s.INVALID_OPERATION):super.texSubImage2D(t,e,r,n,i,o,a,u,h)}texParameterf(t,e,r){if(t|=0,e|=0,r=+r,this._checkTextureTarget(t)){switch(this._verifyTextureCompleteness(t,e,r),e){case s.TEXTURE_MIN_FILTER:case s.TEXTURE_MAG_FILTER:case s.TEXTURE_WRAP_S:case s.TEXTURE_WRAP_T:return super.texParameterf(t,e,r)}if(this._extensions.ext_texture_filter_anisotropic&&e===this._extensions.ext_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT)return super.texParameterf(t,e,r);this.setError(s.INVALID_ENUM)}}texParameteri(t,e,r){if(t|=0,e|=0,r|=0,this._checkTextureTarget(t)){switch(this._verifyTextureCompleteness(t,e,r),e){case s.TEXTURE_MIN_FILTER:case s.TEXTURE_MAG_FILTER:case s.TEXTURE_WRAP_S:case s.TEXTURE_WRAP_T:return super.texParameteri(t,e,r)}if(this._extensions.ext_texture_filter_anisotropic&&e===this._extensions.ext_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT)return super.texParameteri(t,e,r);this.setError(s.INVALID_ENUM)}}useProgram(t){if(!x(t))throw new TypeError("useProgram(WebGLProgram)");return t?this._checkWrapper(t,B)?(this._activeProgram!==t&&(this._switchActiveProgram(this._activeProgram),this._activeProgram=t,t._refCount+=1),super.useProgram(0|t._)):void 0:(this._switchActiveProgram(this._activeProgram),this._activeProgram=null,super.useProgram(0))}validateProgram(t){if(this._checkWrapper(t,B)){super.validateProgram(0|t._);const e=this.getError();e===s.NO_ERROR&&(t._linkInfoLog=super.getProgramInfoLog(0|t._)),this.getError(),this.setError(e)}}vertexAttribPointer(t,e,r,n,i,o){if(i<0||o<0)return void this.setError(s.INVALID_VALUE);if(t|=0,e|=0,r|=0,n=!!n,o|=0,(i|=0)<0||o<0||t<0||t>=this._vertexObjectState._attribs.length||1!==e&&2!==e&&3!==e&&4!==e)return void this.setError(s.INVALID_VALUE);if(null===this._vertexGlobalState._arrayBufferBinding)return void this.setError(s.INVALID_OPERATION);const a=A(r);0!==a&&r!==s.INT&&r!==s.UNSIGNED_INT?i>255||i<0?this.setError(s.INVALID_VALUE):i%a==0&&o%a==0?(super.vertexAttribPointer(t,e,r,n,i,o),this._vertexObjectState.setVertexAttribPointer(this._vertexGlobalState._arrayBufferBinding,t,e*a,o,i||e*a,r,n,i,e)):this.setError(s.INVALID_OPERATION):this.setError(s.INVALID_ENUM)}viewport(t,e,r,n){return super.viewport(0|t,0|e,0|r,0|n)}_allocateDrawingBuffer(t,e){this._drawingBuffer=new F(super.createFramebuffer(),super.createTexture(),super.createRenderbuffer()),this._resizeDrawingBuffer(t,e)}isContextLost(){return!1}compressedTexImage2D(){}compressedTexSubImage2D(){}_checkUniformValid(t,e,r,n,i){if(!x(t))throw new TypeError(`${r}(WebGLUniformLocation, ...)`);if(!t)return!1;if(this._checkLocationActive(t)){const r=t._activeInfo.type;if(r===s.SAMPLER_2D||r===s.SAMPLER_CUBE){if(1!==n)return void this.setError(s.INVALID_VALUE);if("i"!==i)return void this.setError(s.INVALID_OPERATION);if(e<0||e>=this._textureUnits.length)return this.setError(s.INVALID_VALUE),!1}return!(S(r)>n&&(this.setError(s.INVALID_OPERATION),1))}return!1}_checkUniformValueValid(t,e,r,n,i){if(!x(t)||!x(e))throw new TypeError(`${r}v(WebGLUniformLocation, Array)`);if(!t)return!1;if(!this._checkLocationActive(t))return!1;if("object"!=typeof e||!e||"number"!=typeof e.length)throw new TypeError(`Second argument to ${r} must be array`);return S(t._activeInfo.type)>n?(this.setError(s.INVALID_OPERATION),!1):e.length>=n&&e.length%n==0?!!t._array||e.length===n||(this.setError(s.INVALID_OPERATION),!1):(this.setError(s.INVALID_VALUE),!1)}uniform1f(t,e){this._checkUniformValid(t,e,"uniform1f",1,"f")&&super.uniform1f(0|t._,e)}uniform1fv(t,e){if(this._checkUniformValueValid(t,e,"uniform1fv",1,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&t<e.length;++t){const n=r[t];super.uniform1f(n,e[t])}}else super.uniform1f(0|t._,e[0])}uniform1i(t,e){this._checkUniformValid(t,e,"uniform1i",1,"i")&&super.uniform1i(0|t._,e)}uniform1iv(t,e){if(this._checkUniformValueValid(t,e,"uniform1iv",1,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&t<e.length;++t){const n=r[t];super.uniform1i(n,e[t])}}else this.uniform1i(t,e[0])}uniform2f(t,e,r){this._checkUniformValid(t,e,"uniform2f",2,"f")&&super.uniform2f(0|t._,e,r)}uniform2fv(t,e){if(this._checkUniformValueValid(t,e,"uniform2fv",2,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&2*t<e.length;++t){const n=r[t];super.uniform2f(n,e[2*t],e[2*t+1])}}else super.uniform2f(0|t._,e[0],e[1])}uniform2i(t,e,r){this._checkUniformValid(t,e,"uniform2i",2,"i")&&super.uniform2i(0|t._,e,r)}uniform2iv(t,e){if(this._checkUniformValueValid(t,e,"uniform2iv",2,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&2*t<e.length;++t){const n=r[t];super.uniform2i(n,e[2*t],e[2*t+1])}}else this.uniform2i(t,e[0],e[1])}uniform3f(t,e,r,n){this._checkUniformValid(t,e,"uniform3f",3,"f")&&super.uniform3f(0|t._,e,r,n)}uniform3fv(t,e){if(this._checkUniformValueValid(t,e,"uniform3fv",3,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&3*t<e.length;++t){const n=r[t];super.uniform3f(n,e[3*t],e[3*t+1],e[3*t+2])}}else super.uniform3f(0|t._,e[0],e[1],e[2])}uniform3i(t,e,r,n){this._checkUniformValid(t,e,"uniform3i",3,"i")&&super.uniform3i(0|t._,e,r,n)}uniform3iv(t,e){if(this._checkUniformValueValid(t,e,"uniform3iv",3,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&3*t<e.length;++t){const n=r[t];super.uniform3i(n,e[3*t],e[3*t+1],e[3*t+2])}}else this.uniform3i(t,e[0],e[1],e[2])}uniform4f(t,e,r,n,i){this._checkUniformValid(t,e,"uniform4f",4,"f")&&super.uniform4f(0|t._,e,r,n,i)}uniform4fv(t,e){if(this._checkUniformValueValid(t,e,"uniform4fv",4,"f"))if(t._array){const r=t._array;for(let t=0;t<r.length&&4*t<e.length;++t){const n=r[t];super.uniform4f(n,e[4*t],e[4*t+1],e[4*t+2],e[4*t+3])}}else super.uniform4f(0|t._,e[0],e[1],e[2],e[3])}uniform4i(t,e,r,n,i){this._checkUniformValid(t,e,"uniform4i",4,"i")&&super.uniform4i(0|t._,e,r,n,i)}uniform4iv(t,e){if(this._checkUniformValueValid(t,e,"uniform4iv",4,"i"))if(t._array){const r=t._array;for(let t=0;t<r.length&&4*t<e.length;++t){const n=r[t];super.uniform4i(n,e[4*t],e[4*t+1],e[4*t+2],e[4*t+3])}}else this.uniform4i(t,e[0],e[1],e[2],e[3])}_checkUniformMatrix(t,e,r,n,i){if(!x(t)||"object"!=typeof r)throw new TypeError(n+"(WebGLUniformLocation, Boolean, Array)");return e||"object"!=typeof r||null===r||!r.length||r.length%i*i!=0?(this.setError(s.INVALID_VALUE),!1):!(!t||!this._checkLocationActive(t)||r.length!==i*i&&!t._array&&(this.setError(s.INVALID_VALUE),1))}uniformMatrix2fv(t,e,r){if(!this._checkUniformMatrix(t,e,r,"uniformMatrix2fv",2))return;const n=new Float32Array(r);super.uniformMatrix2fv(0|t._,!!e,n)}uniformMatrix3fv(t,e,r){if(!this._checkUniformMatrix(t,e,r,"uniformMatrix3fv",3))return;const n=new Float32Array(r);super.uniformMatrix3fv(0|t._,!!e,n)}uniformMatrix4fv(t,e,r){if(!this._checkUniformMatrix(t,e,r,"uniformMatrix4fv",4))return;const n=new Float32Array(r);super.uniformMatrix4fv(0|t._,!!e,n)}vertexAttrib1f(t,e){if(t|=0,!this._checkVertexIndex(t))return;const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[1]=r[2]=0,r[0]=e,super.vertexAttrib1f(0|t,+e)}vertexAttrib2f(t,e,r){if(t|=0,!this._checkVertexIndex(t))return;const n=this._vertexGlobalState._attribs[t]._data;return n[3]=1,n[2]=0,n[1]=r,n[0]=e,super.vertexAttrib2f(0|t,+e,+r)}vertexAttrib3f(t,e,r,n){if(t|=0,!this._checkVertexIndex(t))return;const i=this._vertexGlobalState._attribs[t]._data;return i[3]=1,i[2]=n,i[1]=r,i[0]=e,super.vertexAttrib3f(0|t,+e,+r,+n)}vertexAttrib4f(t,e,r,n,i){if(t|=0,!this._checkVertexIndex(t))return;const o=this._vertexGlobalState._attribs[t]._data;return o[3]=i,o[2]=n,o[1]=r,o[0]=e,super.vertexAttrib4f(0|t,+e,+r,+n,+i)}vertexAttrib1fv(t,e){if("object"!=typeof e||null===e||e.length<1)return void this.setError(s.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[2]=0,r[1]=0,r[0]=e[0],super.vertexAttrib1f(0|t,+e[0])}vertexAttrib2fv(t,e){if("object"!=typeof e||null===e||e.length<2)return void this.setError(s.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[2]=0,r[1]=e[1],r[0]=e[0],super.vertexAttrib2f(0|t,+e[0],+e[1])}vertexAttrib3fv(t,e){if("object"!=typeof e||null===e||e.length<3)return void this.setError(s.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=1,r[2]=e[2],r[1]=e[1],r[0]=e[0],super.vertexAttrib3f(0|t,+e[0],+e[1],+e[2])}vertexAttrib4fv(t,e){if("object"!=typeof e||null===e||e.length<4)return void this.setError(s.INVALID_OPERATION);const r=this._vertexGlobalState._attribs[t]._data;return r[3]=e[3],r[2]=e[2],r[1]=e[1],r[0]=e[0],super.vertexAttrib4f(0|t,+e[0],+e[1],+e[2],+e[3])}}t.exports={WebGLRenderingContext:q,wrapContext:function(t){const e=new q;return b(Object.keys(t),e,t,X),b(Object.keys(t.constructor.prototype),e,t,X),b(Object.getOwnPropertyNames(t),e,t,X),b(Object.getOwnPropertyNames(t.constructor.prototype),e,t,X),Object.defineProperties(e,{drawingBufferWidth:{get:()=>t.drawingBufferWidth,set(e){t.drawingBufferWidth=e}},drawingBufferHeight:{get:()=>t.drawingBufferHeight,set(e){t.drawingBufferHeight=e}}}),e}}},(t,e,r)=>{var n=r(52);t.exports=function(t,e){var r=n(e),i=[];return(i=i.concat(r(t))).concat(r(null))}},(t,e,r)=>{t.exports=function(t){var e,r,h,f=0,d=0,p=u,g=[],v=[],m=1,_=0,y=0,b=!1,x=!1,T="",E=o,w=n;"300 es"===(t=t||{}).version&&(E=a,w=s);var A={},S={};for(f=0;f<E.length;f++)A[E[f]]=!0;for(f=0;f<w.length;f++)S[w[f]]=!0;return function(t){return v=[],null!==t?function(t){var r;for(f=0,t.toString&&(t=t.toString()),T+=t.replace(/\r\n/g,"\n"),h=T.length;e=T[f],f<h;){switch(r=f,p){case 0:f=M();break;case 1:case 2:f=R();break;case 3:f=N();break;case 4:f=D();break;case 11:f=L();break;case 5:f=k();break;case l:f=F();break;case 9:f=O();break;case u:f=C()}r!==f&&("\n"===T[r]?(_=0,++m):++_)}return d+=f,T=T.slice(f),v}(t):(g.length&&I(g.join("")),p=10,I("(eof)"),v)};function I(t){t.length&&v.push({type:c[p],data:t,position:y,line:m,column:_})}function C(){return g=g.length?[]:g,"/"===r&&"*"===e?(y=d+f-1,p=0,r=e,f+1):"/"===r&&"/"===e?(y=d+f-1,p=1,r=e,f+1):"#"===e?(p=2,y=d+f,f):/\s/.test(e)?(p=9,y=d+f,f):(b=/\d/.test(e),x=/[^\w_]/.test(e),y=d+f,p=b?4:x?3:l,f)}function O(){return/[^\s]/g.test(e)?(I(g.join("")),p=u,f):(g.push(e),r=e,f+1)}function R(){return"\r"!==e&&"\n"!==e||"\\"===r?(g.push(e),r=e,f+1):(I(g.join("")),p=u,f)}function M(){return"/"===e&&"*"===r?(g.push(e),I(g.join("")),p=u,f+1):(g.push(e),r=e,f+1)}function N(){if("."===r&&/\d/.test(e))return p=5,f;if("/"===r&&"*"===e)return p=0,f;if("/"===r&&"/"===e)return p=1,f;if("."===e&&g.length){for(;P(g););return p=5,f}if(";"===e||")"===e||"("===e){if(g.length)for(;P(g););return I(e),p=u,f+1}var t=2===g.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;P(g););return p=u,f}return g.push(e),r=e,f+1}function P(t){for(var e,r,n=0;;){if(e=i.indexOf(t.slice(0,t.length+n).join("")),r=i[e],-1===e){if(n--+t.length>0)continue;r=t.slice(0,1).join("")}return I(r),y+=r.length,(g=g.slice(r.length)).length}}function L(){return/[^a-fA-F0-9]/.test(e)?(I(g.join("")),p=u,f):(g.push(e),r=e,f+1)}function D(){return"."===e||/[eE]/.test(e)?(g.push(e),p=5,r=e,f+1):"x"===e&&1===g.length&&"0"===g[0]?(p=11,g.push(e),r=e,f+1):/[^\d]/.test(e)?(I(g.join("")),p=u,f):(g.push(e),r=e,f+1)}function k(){return"f"===e&&(g.push(e),r=e,f+=1),/[eE]/.test(e)?(g.push(e),r=e,f+1):("-"!==e&&"+"!==e||!/[eE]/.test(r))&&/[^\d]/.test(e)?(I(g.join("")),p=u,f):(g.push(e),r=e,f+1)}function F(){if(/[^\d\w_]/.test(e)){var t=g.join("");return p=S[t]?8:A[t]?7:6,I(g.join("")),p=u,f}return g.push(e),r=e,f+1}};var n=r(53),i=r(54),o=r(55),s=r(56),a=r(57),u=999,l=9999,c=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},t=>{t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},t=>{t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},t=>{t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},(t,e,r)=>{var n=r(53);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},(t,e,r)=>{var n=r(55);n=n.slice().filter((function(t){return!/^(gl\_|texture)/.test(t)})),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},t=>{"use strict";t.exports=JSON.parse('{"name":"gl","version":"4.9.2","description":"Creates a WebGL context without a window","main":"index.js","directories":{"test":"test"},"browser":"browser_index.js","engines":{"node":">=12.0.0"},"scripts":{"test":"standard | snazzy && tape test/*.js | faucet","rebuild":"node-gyp rebuild --verbose","prebuild":"prebuild --all --strip","install":"prebuild-install || node-gyp rebuild"},"dependencies":{"bindings":"^1.5.0","bit-twiddle":"^1.0.2","glsl-tokenizer":"^2.0.2","nan":"^2.15.0","node-abi":"^2.30.1","node-gyp":"^7.1.2","prebuild-install":"^5.3.6"},"devDependencies":{"angle-normals":"^1.0.0","bunny":"^1.0.1","faucet":"0.0.1","gl-conformance":"^2.0.9","prebuild":"^10.0.1","snazzy":"^8.0.0","standard":"^14.3.4","tape":"^5.3.1"},"repository":{"type":"git","url":"git://github.com/stackgl/headless-gl.git"},"keywords":["webgl","opengl","gl","headless","server","gpgpu"],"author":"Mikola Lysenko","license":"BSD-2-Clause","gypfile":true}')},(t,e,r)=>{const n=r(60)("webgl"),{WebGLRenderingContext:i}=n;process.on("exit",n.cleanup);const o=i.prototype;delete o["1.0.0"],delete i["1.0.0"],t.exports={gl:o,NativeWebGL:n,NativeWebGLRenderingContext:i}},(t,e,r)=>{var n=r(61),i=r(62),o=r(63),s=i.join,a=i.dirname,u=n.accessSync&&function(t){try{n.accessSync(t)}catch(t){return!1}return!0}||n.existsSync||i.existsSync,l={arrow:process.env.NODE_BINDINGS_ARROW||"  ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};t.exports=e=function(t){"string"==typeof t?t={bindings:t}:t||(t={}),Object.keys(l).map((function(e){e in t||(t[e]=l[e])})),t.module_root||(t.module_root=e.getRoot(e.getFileName())),".node"!=i.extname(t.bindings)&&(t.bindings+=".node");for(var r,n,o,a=require,u=[],c=0,h=t.try.length;c<h;c++){r=s.apply(null,t.try[c].map((function(e){return t[e]||e}))),u.push(r);try{return n=t.path?a.resolve(r):a(r),t.path||(n.path=r),n}catch(t){if("MODULE_NOT_FOUND"!==t.code&&"QUALIFIED_PATH_RESOLUTION_FAILED"!==t.code&&!/not find/i.test(t.message))throw t}}throw(o=new Error("Could not locate the bindings file. Tried:\n"+u.map((function(e){return t.arrow+e})).join("\n"))).tries=u,o},e.getFileName=function(t){var e,r=Error.prepareStackTrace,n=Error.stackTraceLimit;return Error.stackTraceLimit=10,Error.prepareStackTrace=function(r,n){for(var i=0,o=n.length;i<o;i++)if("/index.js"!==(e=n[i].getFileName())){if(!t)return;if(e!==t)return}},Error.captureStackTrace({}),Error.prepareStackTrace=r,Error.stackTraceLimit=n,0===e.indexOf("file://")&&(e=o(e)),e},e.getRoot=function(t){for(var e,r=a(t);;){if("."===r&&(r=process.cwd()),u(s(r,"package.json"))||u(s(r,"node_modules")))return r;if(e===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');e=r,r=s(r,"..")}}},()=>{},t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",i=0):i=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,a):n=t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var t,n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(n=s+"/"+n,i=47===s.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(t){if(e(t),0===t.length)return".";var n=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t="."),t.length>0&&i&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=n.resolve(t))===(r=n.resolve(r)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,s=o-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var u=r.length-a,l=s<u?s:u,c=-1,h=0;h<=l;++h){if(h===l){if(u>l){if(47===r.charCodeAt(a+h))return r.slice(a+h+1);if(0===h)return r.slice(a+h)}else s>l&&(47===t.charCodeAt(i+h)?c=h:0===h&&(c=0));break}var f=t.charCodeAt(i+h);if(f!==r.charCodeAt(a+h))break;47===f&&(c=h)}var d="";for(h=i+c+1;h<=o;++h)h!==o&&47!==t.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(a+c):(a+=c,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),n=47===r,i=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":t.slice(0,i)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var n,i=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var a=r.length-1,u=-1;for(n=t.length-1;n>=0;--n){var l=t.charCodeAt(n);if(47===l){if(!s){i=n+1;break}}else-1===u&&(s=!1,u=n+1),a>=0&&(l===r.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=u))}return i===o?o=u:-1===o&&(o=t.length),t.slice(i,o)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":t.slice(i,o)},extname:function(t){e(t);for(var r=-1,n=0,i=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(47!==u)-1===i&&(o=!1,i=a+1),46===u?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){n=a+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?"":t.slice(r,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n,i=t.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var s=-1,a=0,u=-1,l=!0,c=t.length-1,h=0;c>=n;--c)if(47!==(i=t.charCodeAt(c)))-1===u&&(l=!1,u=c+1),46===i?-1===s?s=c:1!==h&&(h=1):-1!==s&&(h=-1);else if(!l){a=c+1;break}return-1===s||-1===u||0===h||1===h&&s===u-1&&s===a+1?-1!==u&&(r.base=r.name=0===a&&o?t.slice(1,u):t.slice(a,u)):(0===a&&o?(r.name=t.slice(1,s),r.base=t.slice(1,u)):(r.name=t.slice(a,s),r.base=t.slice(a,u)),r.ext=t.slice(s,u)),a>0?r.dir=t.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,t.exports=n},(t,e,r)=>{var n=r(62).sep||"/";t.exports=function(t){if("string"!=typeof t||t.length<=7||"file://"!=t.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");var e=decodeURI(t.substring(7)),r=e.indexOf("/"),i=e.substring(0,r),o=e.substring(r+1);return"localhost"==i&&(i=""),i&&(i=n+n+i),o=o.replace(/^(.+)\|/,"$1:"),"\\"==n&&(o=o.replace(/\//g,"\\")),/^.+\:/.test(o)||(o=n+o),i+o}},(t,e,r)=>{const{gl:n}=r(59),{vertexCount:i}=r(65);class o{constructor(t){this.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070,this.ctx=t,this._drawArraysInstanced=n._drawArraysInstanced.bind(t),this._drawElementsInstanced=n._drawElementsInstanced.bind(t),this._vertexAttribDivisor=n._vertexAttribDivisor.bind(t)}drawArraysInstancedANGLE(t,e,r,o){const{ctx:s}=this;if(t|=0,r|=0,o|=0,(e|=0)<0||r<0||o<0)return void s.setError(n.INVALID_VALUE);if(!s._checkStencilState())return;const a=i(t,r);if(a<0)return void s.setError(n.INVALID_ENUM);if(!s._framebufferOk())return;if(0===r||0===o)return;let u=e;return r>0&&(u=r+e-1>>>0),this.checkInstancedVertexAttribState(u,o)?this._drawArraysInstanced(t,e,a,o):void 0}drawElementsInstancedANGLE(t,e,r,i,o){const{ctx:s}=this;if(t|=0,r|=0,i|=0,o|=0,(e|=0)<0||i<0||o<0)return void s.setError(n.INVALID_VALUE);if(!s._checkStencilState())return;const a=s._vertexObjectState._elementArrayBufferBinding;if(!a)return void s.setError(n.INVALID_OPERATION);let u=null,l=i;if(r===n.UNSIGNED_SHORT){if(l%2)return void s.setError(n.INVALID_OPERATION);l>>=1,u=new Uint16Array(a._elements.buffer)}else if(s._extensions.oes_element_index_uint&&r===n.UNSIGNED_INT){if(l%4)return void s.setError(n.INVALID_OPERATION);l>>=2,u=new Uint32Array(a._elements.buffer)}else{if(r!==n.UNSIGNED_BYTE)return void s.setError(n.INVALID_ENUM);u=a._elements}let c=e;switch(t){case n.TRIANGLES:e%3&&(c-=e%3);break;case n.LINES:e%2&&(c-=e%2);break;case n.POINTS:break;case n.LINE_LOOP:case n.LINE_STRIP:if(e<2)return void s.setError(n.INVALID_OPERATION);break;case n.TRIANGLE_FAN:case n.TRIANGLE_STRIP:if(e<3)return void s.setError(n.INVALID_OPERATION);break;default:return void s.setError(n.INVALID_ENUM)}if(!s._framebufferOk())return;if(0===e||0===o)return void this.checkInstancedVertexAttribState(0,0);if(e+l>>>0>u.length)return void s.setError(n.INVALID_OPERATION);let h=-1;for(let t=l;t<l+e;++t)h=Math.max(h,u[t]);h<0?this.checkInstancedVertexAttribState(0,0):this.checkInstancedVertexAttribState(h,o)&&c>0&&this._drawElementsInstanced(t,c,r,i,o)}vertexAttribDivisorANGLE(t,e){const{ctx:r}=this;t|=0,(e|=0)<0||t<0||t>=r._vertexObjectState._attribs.length?r.setError(n.INVALID_VALUE):(r._vertexObjectState._attribs[t]._divisor=e,this._vertexAttribDivisor(t,e))}checkInstancedVertexAttribState(t,e){const{ctx:r}=this,i=r._activeProgram;if(!i)return r.setError(n.INVALID_OPERATION),!1;const o=r._vertexObjectState._attribs;let s=!1;for(let a=0;a<o.length;++a){const u=o[a];if(u._isPointer){const o=u._pointerBuffer;if(i._attributes.indexOf(a)>=0){if(!o)return r.setError(n.INVALID_OPERATION),!1;let i=0;if(0===u._divisor?(s=!0,i=u._pointerStride*t+u._pointerSize+u._pointerOffset):i=u._pointerStride*(Math.ceil(e/u._divisor)-1)+u._pointerSize+u._pointerOffset,i>o._size)return r.setError(n.INVALID_OPERATION),!1}}}return!!s||(r.setError(n.INVALID_OPERATION),!1)}}t.exports={ANGLEInstancedArrays:o,getANGLEInstancedArrays:function(t){return new o(t)}}},(t,e,r)=>{const{gl:n}=r(59),{WebGLUniformLocation:i}=r(66);function o(t){return new Uint8Array(t.buffer).subarray(t.byteOffset,t.byteLength+t.byteOffset)}t.exports={bindPublics:function(t,e,r,n){for(let i=0;i<t.length;i++){const o=t[i],s=r[o];if("function"==typeof s)-1===n.indexOf(o)&&(e[o]=s.bind(r));else{if("_"===o[0]||"0"===o[0]||"1"===o[0])continue;e[o]=s}}},checkObject:function(t){return"object"==typeof t||void 0===t},isTypedArray:function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Uint32Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array},isValidString:function(t){const e=t.replace(/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,"");return!/["$`@\\'\0]/.test(e)},vertexCount:function(t,e){switch(t){case n.TRIANGLES:return e-e%3;case n.LINES:return e-e%2;case n.LINE_LOOP:case n.POINTS:return e;case n.TRIANGLE_FAN:case n.LINE_STRIP:return e<2?0:e;case n.TRIANGLE_STRIP:return e<3?0:e;default:return-1}},typeSize:function(t){switch(t){case n.UNSIGNED_BYTE:case n.BYTE:return 1;case n.UNSIGNED_SHORT:case n.SHORT:return 2;case n.UNSIGNED_INT:case n.INT:case n.FLOAT:return 4}return 0},uniformTypeSize:function(t){switch(t){case n.BOOL_VEC4:case n.INT_VEC4:case n.FLOAT_VEC4:return 4;case n.BOOL_VEC3:case n.INT_VEC3:case n.FLOAT_VEC3:return 3;case n.BOOL_VEC2:case n.INT_VEC2:case n.FLOAT_VEC2:return 2;case n.BOOL:case n.INT:case n.FLOAT:case n.SAMPLER_2D:case n.SAMPLER_CUBE:return 1;default:return 0}},unpackTypedArray:o,extractImageData:function(t){if("object"==typeof t&&void 0!==t.width&&void 0!==t.height){if(void 0!==t.data)return t;let e=null;if("function"==typeof t.getContext)e=t.getContext("2d");else if(void 0!==t.src&&"object"==typeof document&&"function"==typeof document.createElement){const r=document.createElement("canvas");"object"==typeof r&&"function"==typeof r.getContext&&(e=r.getContext("2d"),null!==e&&e.drawImage(t,0,0))}if(null!==e)return e.getImageData(0,0,t.width,t.height)}return null},formatSize:function(t){switch(t){case n.ALPHA:case n.LUMINANCE:return 1;case n.LUMINANCE_ALPHA:return 2;case n.RGB:return 3;case n.RGBA:return 4}return 0},checkFormat:function(t){return t===n.ALPHA||t===n.LUMINANCE_ALPHA||t===n.LUMINANCE||t===n.RGB||t===n.RGBA},checkUniform:function(t,e){return e instanceof i&&e._program===t&&e._linkCount===t._linkCount},convertPixels:function(t){if("object"==typeof t&&null!==t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint8ClampedArray||t instanceof Float32Array)return o(t);if(t instanceof Buffer)return new Uint8Array(t)}return null},validCubeTarget:function(t){return t===n.TEXTURE_CUBE_MAP_POSITIVE_X||t===n.TEXTURE_CUBE_MAP_NEGATIVE_X||t===n.TEXTURE_CUBE_MAP_POSITIVE_Y||t===n.TEXTURE_CUBE_MAP_NEGATIVE_Y||t===n.TEXTURE_CUBE_MAP_POSITIVE_Z||t===n.TEXTURE_CUBE_MAP_NEGATIVE_Z}}},t=>{t.exports={WebGLUniformLocation:class{constructor(t,e,r){this._=t,this._program=e,this._linkCount=e._linkCount,this._activeInfo=r,this._array=null}}}},t=>{class e{}t.exports={getOESElementIndexUint:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_element_index_uint")>=0&&(r=new e),r},OESElementIndexUint:e}},t=>{class e{constructor(){this.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723}}t.exports={getOESStandardDerivatives:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_standard_derivatives")>=0&&(r=new e),r},OESStandardDerivatives:e}},t=>{class e{}t.exports={getOESTextureFloat:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_texture_float")>=0&&(r=new e),r},OESTextureFloat:e}},t=>{class e{}t.exports={getOESTextureFloatLinear:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("OES_texture_float_linear")>=0&&(r=new e),r},OESTextureFloatLinear:e}},t=>{class e{constructor(t){this.destroy=t.destroy.bind(t)}}t.exports={getSTACKGLDestroyContext:function(t){return new e(t)},STACKGLDestroyContext:e}},t=>{class e{constructor(t){this.resize=t.resize.bind(t)}}t.exports={getSTACKGLResizeDrawingBuffer:function(t){return new e(t)},STACKGLResizeDrawingBuffer:e}},(t,e,r)=>{const{gl:n}=r(59);class i{constructor(t){this.ctx=t;const e=t.getSupportedExtensions();if(e&&e.indexOf("WEBGL_draw_buffers")>=0){Object.assign(this,t.extWEBGL_draw_buffers()),this._buffersState=[t.BACK],this._maxDrawBuffers=t._getParameterDirect(this.MAX_DRAW_BUFFERS_WEBGL),this._ALL_ATTACHMENTS=[],this._ALL_COLOR_ATTACHMENTS=[];const e=[this.COLOR_ATTACHMENT0_WEBGL,this.COLOR_ATTACHMENT1_WEBGL,this.COLOR_ATTACHMENT2_WEBGL,this.COLOR_ATTACHMENT3_WEBGL,this.COLOR_ATTACHMENT4_WEBGL,this.COLOR_ATTACHMENT5_WEBGL,this.COLOR_ATTACHMENT6_WEBGL,this.COLOR_ATTACHMENT7_WEBGL,this.COLOR_ATTACHMENT8_WEBGL,this.COLOR_ATTACHMENT9_WEBGL,this.COLOR_ATTACHMENT10_WEBGL,this.COLOR_ATTACHMENT11_WEBGL,this.COLOR_ATTACHMENT12_WEBGL,this.COLOR_ATTACHMENT13_WEBGL,this.COLOR_ATTACHMENT14_WEBGL,this.COLOR_ATTACHMENT15_WEBGL];for(;this._ALL_ATTACHMENTS.length<this._maxDrawBuffers;){const t=e.shift();this._ALL_ATTACHMENTS.push(t),this._ALL_COLOR_ATTACHMENTS.push(t)}this._ALL_ATTACHMENTS.push(n.DEPTH_ATTACHMENT,n.STENCIL_ATTACHMENT,n.DEPTH_STENCIL_ATTACHMENT)}}drawBuffersWEBGL(t){const{ctx:e}=this;if(t.length<1)e.setError(n.INVALID_OPERATION);else{if(1===t.length&&t[0]===n.BACK)return this._buffersState=t,void e.drawBuffersWEBGL([this.COLOR_ATTACHMENT0_WEBGL]);if(!e._activeFramebuffer){if(t.length>1)return void e.setError(n.INVALID_OPERATION);for(let r=0;r<t.length;r++)if(t[r]>n.NONE)return void e.setError(n.INVALID_OPERATION)}this._buffersState=t,e.drawBuffersWEBGL(t)}}}t.exports={getWebGLDrawBuffers:function(t){const e=t.getSupportedExtensions();return e&&e.indexOf("WEBGL_draw_buffers")>=0?new i(t):null},WebGLDrawBuffers:i}},t=>{class e{constructor(){this.MIN_EXT=32775,this.MAX_EXT=32776}}t.exports={getEXTBlendMinMax:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("EXT_blend_minmax")>=0&&(r=new e),r},EXTBlendMinMax:e}},t=>{class e{constructor(){this.TEXTURE_MAX_ANISOTROPY_EXT=34046,this.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047}}t.exports={getEXTTextureFilterAnisotropic:function(t){let r=null;const n=t.getSupportedExtensions();return n&&n.indexOf("EXT_texture_filter_anisotropic")>=0&&(r=new e),r},EXTTextureFilterAnisotropic:e}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59),{checkObject:o}=r(65),{WebGLVertexArrayObjectState:s}=r(78);class a extends n{constructor(t,e,r){super(t),this._ctx=e,this._ext=r,this._vertexState=new s(e)}_performDelete(){this._vertexState.cleanUp(),delete this._vertexState,delete this._ext._vaos[this._],i.deleteVertexArrayOES.call(this._ctx,0|this._)}}class u{constructor(t){this.VERTEX_ARRAY_BINDING_OES=34229,this._ctx=t,this._vaos={},this._activeVertexArrayObject=null}createVertexArrayOES(){const{_ctx:t}=this,e=i.createVertexArrayOES.call(t);if(e<=0)return null;const r=new a(e,t,this);return this._vaos[e]=r,r}deleteVertexArrayOES(t){const{_ctx:e}=this;if(!o(t))throw new TypeError("deleteVertexArrayOES(WebGLVertexArrayObjectOES)");t instanceof a&&e._checkOwns(t)?t._pendingDelete||(this._activeVertexArrayObject===t&&this.bindVertexArrayOES(null),t._pendingDelete=!0,t._checkDelete()):e.setError(i.INVALID_OPERATION)}bindVertexArrayOES(t){const{_ctx:e,_activeVertexArrayObject:r}=this;if(!o(t))throw new TypeError("bindVertexArrayOES(WebGLVertexArrayObjectOES)");if(t){if(t instanceof a&&t._pendingDelete)return void e.setError(i.INVALID_OPERATION);if(!e._checkWrapper(t,a))return;i.bindVertexArrayOES.call(e,t._)}else t=null,i.bindVertexArrayOES.call(e,null);r!==t&&(r&&(r._refCount-=1,r._checkDelete()),t&&(t._refCount+=1)),e._vertexObjectState=null===t?e._defaultVertexObjectState:t._vertexState,this._activeVertexArrayObject=t}isVertexArrayOES(t){const{_ctx:e}=this;return!!e._isObject(t,"isVertexArrayOES",a)&&i.isVertexArrayOES.call(e,0|t._)}}t.exports={WebGLVertexArrayObjectOES:a,OESVertexArrayObject:u,getOESVertexArrayObject:function(t){const e=t.getSupportedExtensions();return e&&e.indexOf("OES_vertex_array_object")>=0?new u(t):null}}},t=>{t.exports={Linkable:class{constructor(t){this._=t,this._references=[],this._refCount=0,this._pendingDelete=!1,this._binding=0}_link(t){return this._references.push(t),t._refCount+=1,!0}_unlink(t){let e=this._references.indexOf(t);if(e<0)return!1;for(;e>=0;)this._references[e]=this._references[this._references.length-1],this._references.pop(),t._refCount-=1,t._checkDelete(),e=this._references.indexOf(t);return!0}_linked(t){return this._references.indexOf(t)>=0}_checkDelete(){if(this._refCount<=0&&this._pendingDelete&&0!==this._){for(;this._references.length>0;)this._unlink(this._references[0]);this._performDelete(),this._=0}}_performDelete(){}}}},(t,e,r)=>{const{gl:n}=r(59),{WebGLBuffer:i}=r(79);class o{constructor(t,e){this._ctx=t,this._idx=e,this._clear()}_clear(){this._isPointer=!1,this._pointerBuffer=null,this._pointerOffset=0,this._pointerSize=0,this._pointerStride=0,this._pointerType=n.FLOAT,this._pointerNormal=!1,this._divisor=0,this._inputSize=4,this._inputStride=0}}class s{constructor(t){this._idx=t,this._data=new Float32Array([0,0,0,1])}}t.exports={WebGLVertexArrayObjectAttribute:o,WebGLVertexArrayGlobalAttribute:s,WebGLVertexArrayObjectState:class{constructor(t){const e=t.getParameter(t.MAX_VERTEX_ATTRIBS);this._attribs=new Array(e);for(let r=0;r<e;++r)this._attribs[r]=new o(t,r);this._elementArrayBufferBinding=null}setElementArrayBuffer(t){if(null!==t&&!(t instanceof i))throw new TypeError("setElementArrayBuffer(WebGLBuffer?)");const e=this._elementArrayBufferBinding;e!==t&&(e&&(e._refCount-=1,e._checkDelete()),t&&(t._refCount+=1),this._elementArrayBufferBinding=t)}cleanUp(){const t=this._elementArrayBufferBinding;t&&(t._refCount-=1,t._checkDelete(),this._elementArrayBufferBinding=null);for(let t=0;t<this._attribs.length;++t){const e=this._attribs[t];e._pointerBuffer&&(e._pointerBuffer._refCount-=1,e._pointerBuffer._checkDelete()),e._clear()}}releaseArrayBuffer(t){if(t)for(let e=0;e<this._attribs.length;++e){const r=this._attribs[e];r._pointerBuffer===t&&(r._pointerBuffer._refCount-=1,r._pointerBuffer._checkDelete(),r._clear())}}setVertexAttribPointer(t,e,r,n,i,o,s,a,u){const l=this._attribs[e];t!==l._pointerBuffer&&(l._pointerBuffer&&(l._pointerBuffer._refCount-=1,l._pointerBuffer._checkDelete()),t&&(t._refCount+=1),l._pointerBuffer=t),l._pointerSize=r,l._pointerOffset=n,l._pointerStride=i,l._pointerType=o,l._pointerNormal=s,l._inputStride=a,l._inputSize=u}},WebGLVertexArrayGlobalState:class{constructor(t){const e=t.getParameter(t.MAX_VERTEX_ATTRIBS);this._attribs=new Array(e);for(let t=0;t<e;++t)this._attribs[t]=new s(t);this._arrayBufferBinding=null}setArrayBuffer(t){if(null!==t&&!(t instanceof i))throw new TypeError("setArrayBuffer(WebGLBuffer?)");const e=this._arrayBufferBinding;e!==t&&(e&&(e._refCount-=1,e._checkDelete()),t&&(t._refCount+=1),this._arrayBufferBinding=t)}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLBuffer:class extends n{constructor(t,e){super(t),this._ctx=e,this._size=0,this._elements=new Uint8Array(0)}_performDelete(){const t=this._ctx;delete t._buffers[0|this._],i.deleteBuffer.call(t,0|this._)}}}},t=>{t.exports={WebGLActiveInfo:class{constructor(t){this.size=t.size,this.type=t.type,this.name=t.name}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLFramebuffer:class extends n{constructor(t,e){if(super(t),this._ctx=e,this._binding=0,this._width=0,this._height=0,this._status=null,this._attachments={},this._attachments[i.COLOR_ATTACHMENT0]=null,this._attachments[i.DEPTH_ATTACHMENT]=null,this._attachments[i.STENCIL_ATTACHMENT]=null,this._attachments[i.DEPTH_STENCIL_ATTACHMENT]=null,this._attachmentLevel={},this._attachmentLevel[i.COLOR_ATTACHMENT0]=0,this._attachmentLevel[i.DEPTH_ATTACHMENT]=0,this._attachmentLevel[i.STENCIL_ATTACHMENT]=0,this._attachmentLevel[i.DEPTH_STENCIL_ATTACHMENT]=0,this._attachmentFace={},this._attachmentFace[i.COLOR_ATTACHMENT0]=0,this._attachmentFace[i.DEPTH_ATTACHMENT]=0,this._attachmentFace[i.STENCIL_ATTACHMENT]=0,this._attachmentFace[i.DEPTH_STENCIL_ATTACHMENT]=0,e._extensions.webgl_draw_buffers){const{webgl_draw_buffers:t}=e._extensions;this._attachments[t.COLOR_ATTACHMENT1_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT2_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT3_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT4_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT5_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT6_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT7_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT8_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT9_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT10_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT11_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT12_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT13_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT14_WEBGL]=null,this._attachments[t.COLOR_ATTACHMENT15_WEBGL]=null,this._attachments[i.NONE]=null,this._attachments[i.BACK]=null,this._attachmentLevel[t.COLOR_ATTACHMENT1_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT2_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT3_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT4_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT5_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT6_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT7_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT8_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT9_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT10_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT11_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT12_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT13_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT14_WEBGL]=0,this._attachmentLevel[t.COLOR_ATTACHMENT15_WEBGL]=0,this._attachmentLevel[i.NONE]=null,this._attachmentLevel[i.BACK]=null,this._attachmentFace[t.COLOR_ATTACHMENT1_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT2_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT3_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT4_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT5_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT6_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT7_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT8_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT9_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT10_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT11_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT12_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT13_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT14_WEBGL]=0,this._attachmentFace[t.COLOR_ATTACHMENT15_WEBGL]=0,this._attachmentFace[i.NONE]=null,this._attachmentFace[i.BACK]=null}}_clearAttachment(t){const e=this._attachments[t];e&&(this._attachments[t]=null,this._unlink(e))}_setAttachment(t,e){this._attachments[e]!==t&&(this._clearAttachment(e),t&&(this._attachments[e]=t,this._link(t)))}_performDelete(){const t=this._ctx;delete t._framebuffers[0|this._],i.deleteFramebuffer.call(t,0|this._)}}}},t=>{t.exports={WebGLDrawingBufferWrapper:class{constructor(t,e,r){this._framebuffer=t,this._color=e,this._depthStencil=r}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLProgram:class extends n{constructor(t,e){super(t),this._ctx=e,this._linkCount=0,this._linkStatus=!1,this._linkInfoLog="not linked",this._attributes=[],this._uniforms=[]}_performDelete(){const t=this._ctx;delete t._programs[0|this._],i.deleteProgram.call(t,0|this._)}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLRenderbuffer:class extends n{constructor(t,e){super(t),this._ctx=e,this._binding=0,this._width=0,this._height=0,this._format=0}_performDelete(){const t=this._ctx;delete t._renderbuffers[0|this._],i.deleteRenderbuffer.call(t,0|this._)}}}},(t,e,r)=>{const{gl:n}=r(59),{Linkable:i}=r(77);t.exports={WebGLShader:class extends i{constructor(t,e,r){super(t),this._type=r,this._ctx=e,this._source="",this._compileStatus=!1,this._compileInfo=""}_performDelete(){const t=this._ctx;delete t._shaders[0|this._],n.deleteShader.call(t,0|this._)}}}},t=>{t.exports={WebGLShaderPrecisionFormat:class{constructor(t){this.rangeMin=t.rangeMin,this.rangeMax=t.rangeMax,this.precision=t.precision}}}},(t,e,r)=>{const{Linkable:n}=r(77),{gl:i}=r(59);t.exports={WebGLTexture:class extends n{constructor(t,e){super(t),this._ctx=e,this._binding=0,this._levelWidth=new Int32Array(32),this._levelHeight=new Int32Array(32),this._format=0,this._type=0,this._complete=!0}_performDelete(){const t=this._ctx;delete t._textures[0|this._],i.deleteTexture.call(t,0|this._)}}}},t=>{t.exports={WebGLTextureUnit:class{constructor(t,e){this._ctx=t,this._idx=e,this._mode=0,this._bind2D=null,this._bindCube=null}}}},(t,e,r)=>{const n=r(90);e.parseFont=n,e.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})},e.createImageData=function(t,e,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,r)}},e.loadImage=function(t,e){return new Promise((function(r,n){const i=Object.assign(document.createElement("img"),e);function o(){i.onload=null,i.onerror=null}i.onload=function(){o(),r(i)},i.onerror=function(){o(),n(new Error('Failed to load the image "'+t+'"'))},i.src=t}))}},t=>{"use strict";const e="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",r=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),n=new RegExp("(italic|oblique) +","i"),i=new RegExp("(small-caps) +","i"),o=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),s=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${e})( *, *(?:${e}))*)`),a={};t.exports=t=>{if(a[t])return a[t];const e=s.exec(t);if(!e)return;const u={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")};let l,c,h,f;const d=t.substring(0,e.index);switch((l=r.exec(d))&&(u.weight=l[1]),(c=n.exec(d))&&(u.style=c[1]),(h=i.exec(d))&&(u.variant=h[1]),(f=o.exec(d))&&(u.stretch=f[1]),u.unit){case"pt":u.size/=.75;break;case"pc":u.size*=16;break;case"in":u.size*=96;break;case"cm":u.size*=96/2.54;break;case"mm":u.size*=96/25.4;break;case"%":break;case"em":case"rem":u.size*=16/.75;break;case"q":u.size*=96/25.4/4}return a[t]=u}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t||r};class r{}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={fixGetUniformLocation(t){var e=t.getUniformLocation;t.getUniformLocation=function(t,r){if(t._uniforms&&!/\[\d+\]$/.test(r))for(var n=new RegExp(r+"\\[\\d+\\]$"),i=0;i<t._uniforms.length;i++){var o=t._uniforms[i].name;n.test(o)&&(r=o)}return e.call(this,t,r)}},fixTexImage2D(t){t.texImage2D}};e.default=r},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(28),o=(n=r(94))&&n.__esModule?n:{default:n};function s(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}class a extends o.default{constructor(){super(),this.children=[],this.sortableChildren=!1,this.sortDirty=!1}onChildrenChange(){}addChild(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t}swapChildren(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}}getChildIndex(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,i.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]}removeChild(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,i.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t}removeChildAt(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e}removeChildren(t,e){void 0===t&&(t=0);var r,n=t,i="number"==typeof e?e:this.children.length,o=i-n;if(o>0&&o<=i){r=this.children.splice(n,o);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<r.length;++a)r[a].emit("removed",this);return r}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}removeAllChildren(){for(var t=this.children.length-1;t>=0;t--)this.removeChild(this.children[t])}sortChildren(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(s),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID}_calculateBounds(){}renderWebGL(t){var e,r;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.hasFilters())this._renderAdvancedWebGL(t);else for(this._renderWebGL(t),e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}_renderAdvancedWebGL(t){t.flush();var e=this.filters,r=this._mask;if(e&&e.length>0){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()}_renderWebGL(t){}_renderCanvas(t){}renderCanvas(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}}destroy(t){if(!this.destroyed){super.destroy(),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(e)for(var n=0;n<r.length;++n)r[n].destroy(t)}}destroyChildren(t){for(var e=this.removeChildren(0,this.children.length),r=0;r<e.length;++r)e[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=_(r(31)),i=r(17),o=_(r(95)),s=_(r(34)),a=_(r(96)),u=r(28),l=r(18),c=_(r(98)),h=_(r(99)),f=_(r(119)),d=_(r(125)),p=_(r(126)),g=_(r(127)),v=_(r(129)),m=_(r(130));function _(t){return t&&t.__esModule?t:{default:t}}class y extends n.default{constructor(){super();var t=s.default.TRANSFORM_MODE===i.TRANSFORM_MODE.STATIC?c.default:a.default;this.tempDisplayObjectParent=null,this.transform=new t,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.filterArea=null,this.filters=[],this._enabledFilters=null,this._bounds=new o.default,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._blur=0,this._chroma=null,this._motion=null,this._fxaa=!1,this.maskEnabled=!0,this.destroyed=!1,this.id=(0,u.uuidvx)()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new y),this.tempDisplayObjectParent}updateTransform(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.maskEnabled&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n}toGlobal(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}getGlobalPosition(t,e){return void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}toLocal(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)}copyFromProxy(t){var e=e=>{null!==t[e]&&(this[e]=t[e])};e("x"),e("y"),e("text"),e("style"),e("width"),e("height"),e("alpha"),e("rotation"),e("blendMode"),this.scale.copy(t.scale),this.anchor.copy(t.anchor)}substitute(t){this.copyFromProxy(t);var{parent:e}=t;if(e){var r=e.getChildIndex(t);e.removeChild(t),e.addChildAt(this,r)}t.destroy(),t=null}renderWebGL(t){}renderCanvas(t){}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}setTransform(t,e,r,n,i,o,s,a,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this}attr(t){for(var e in t){var r=t[e];switch(e){case"scale":this.scale.x=r,this.scale.y=r;break;case"skew":this.skew.x=r,this.skew.y=r;break;case"rotate":this.rotation=r;break;default:this[e]=r}}}getAttr(t){var e;switch(t){case"scale":e=this.scale.x;break;case"rotate":e=this.rotation;break;default:e=this[t]}return e}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copy(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copy(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copy(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copy(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get worldVisible(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}hasFilters(){return!(!this.filters||!this.filters.length)}addFilter(t){try{var e=new m.default(t);return this.filters.push(e),e}catch(t){return void console.error(t)}}removeFilter(t){this.filters=this.filters.filter((e=>e!=t))}setMotion(t,e){var r=this.filters.find((t=>t instanceof p.default));if(t)return r?(r.maskSprite=t,r.map=t._texture,r.setScale(e,e)):(r=new p.default(t,e),this.filters.push(r)),r;r&&(this.filters=this.filters.filter((t=>t!=r)))}setTransition(t){this.filters=this.filters.filter((t=>!(t instanceof g.default)));var e=new g.default(t);return this.filters.push(e),e}get colorMatrix(){return{matrix:this._colorMatrix,alpha:this._colorMatrixAlpha}}setColorMatrix(t,e){void 0===e&&(e=1),this._colorMatrix=t,this._colorMatrixAlpha=e;var r=this.filters.find((t=>t instanceof v.default));if(Array.isArray(t)&&t.length)return r?r.init():(r=new v.default,this.filters.push(r)),r.alpha=e,t.map((t=>{var{key:e,value:n}=t;"function"==typeof r[e]&&(void 0===n||Array.isArray(n)||(n=[n]),n||(n=[]),n.push(!0),r[e].call(r,...n))})),r;r&&(this.filters=this.filters.filter((t=>t!=r)))}set chroma(t){if(t&&"object"==typeof t){var{color:e,similarity:r=.3,smoothness:n=.1,saturation:i=.1,shadowness:o=.5}=t,s=(0,u.str2rgb)(e,255);isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?this._chroma=null:this._chroma={color:e,rgbColor:s,similarity:r,smoothness:n,saturation:i,shadowness:o}}else this._chroma=null;var a=this.filters.find((t=>t instanceof d.default));if(this._chroma){var{rgbColor:l,similarity:c,smoothness:h,saturation:f,shadowness:p}=this._chroma;a?(a.color=l,a.similarity=c,a.smoothness=h,a.saturation=f,a.shadowness=p):(a=new d.default(l,c,h,f,p),this.filters.push(a))}else a&&(this.filters=this.filters.filter((t=>t!=a)))}get chroma(){return this._chroma}set blur(t){void 0===t&&(t=0),this._blur=t;var e=this.filters.find((t=>t instanceof f.default));if(t<=0)e&&(this.filters=this.filters.filter((t=>t!=e)));else{if(e)return e.blur=t;e=new f.default(t),this.filters.push(e)}}set fxaa(t){this._fxaa=t;var e=this.filters.find((t=>t instanceof h.default));!1===t?e&&(this.filters=this.filters.filter((t=>t!=e))):e||(e=new h.default,this.filters.push(e))}get fxaa(){return this._fxaa}get blur(){return this._blur}destroy(){this.destroyed||(this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.blur=0,this.fxaa=!1,this.filters=null,this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this.destroyed=!0)}}e.default=y,y.prototype.displayObjectUpdateTransform=y.prototype.updateTransform},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(18);e.default=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addQuad(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,c=o.tx,h=o.ty,f=this.minX,d=this.minY,p=this.maxX,g=this.maxY,v=s*e+u*r+c,m=a*e+l*r+h;f=v<f?v:f,d=m<d?m:d,p=v>p?v:p,g=m>g?m:g,f=(v=s*n+u*r+c)<f?v:f,d=(m=a*n+l*r+h)<d?m:d,p=v>p?v:p,g=m>g?m:g,f=(v=s*e+u*i+c)<f?v:f,d=(m=a*e+l*i+h)<d?m:d,p=v>p?v:p,g=m>g?m:g,f=(v=s*n+u*i+c)<f?v:f,d=(m=a*n+l*i+h)<d?m:d,p=v>p?v:p,g=m>g?m:g,this.minX=f,this.minY=d,this.maxX=p,this.maxY=g}addVertices(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,c=i.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,g=r;g<n;g+=2){var v=e[g],m=e[g+1],_=o*v+a*m+l,y=u*m+s*v+c;h=_<h?_:h,f=y<f?y:f,d=_>d?_:d,p=y>p?y:p}this.minX=h,this.minY=f,this.maxX=d,this.maxY=p}addBounds(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i}addBoundsMask(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}}addBoundsArea(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),o=(n=r(97))&&n.__esModule?n:{default:n};class s extends o.default{constructor(){super(),this.position=new i.Point(0,0),this.scale=new i.Point(1,1),this.skew=new i.ObservablePoint(this.updateSkew,this,0,0),this.pivot=new i.Point(0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}updateSkew(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)}updateLocalTransform(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)}updateTransform(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++}setFromMatrix(t){t.decompose(this)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.updateSkew()}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(18);class i{constructor(){this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}updateLocalTransform(){}updateTransform(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++}}e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),o=(n=r(97))&&n.__esModule?n:{default:n};class s extends o.default{constructor(){super(),this.position=new i.ObservablePoint(this.onChange,this,0,0),this.scale=new i.ObservablePoint(this.onChange,this,1,1),this.pivot=new i.ObservablePoint(this.onChange,this,0,0),this.skew=new i.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++}updateLocalTransform(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class o extends n.default{constructor(){super("\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(101)),i=r(28),o=r(17),s=a(r(34));function a(t){return t&&t.__esModule?t:{default:t}}var u={};class l{constructor(t,e,r){for(var a in this.vertexSrc=t||l.defaultVertexSrc,this.fragmentSrc=e||l.defaultFragmentSrc,this._blendMode=o.BLEND_MODES.NORMAL,this.uniformData=r||(0,n.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[a]=this.uniformData[a].value,this.uniformData[a].type&&(this.uniformData[a].type=this.uniformData[a].type.toLowerCase());this.glShaders={},u[this.vertexSrc+this.fragmentSrc]||(u[this.vertexSrc+this.fragmentSrc]=(0,i.uid)()),this.glShaderKey=u[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=s.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t}static get defaultVertexSrc(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}static get defaultFragmentSrc(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}e.default=l},(t,e,r)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=o(t),i=o(e);return Object.assign(n,i)};var i=((n=r(102))&&n.__esModule?n:{default:n}).default.shader.defaultValue;function o(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},o=t.replace(/\s+/g," ").split(/\s*[;}]\s*/),s=0;s<o.length;s++){var a=o[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),l=u[1],c=u[2],h=1;c.indexOf("[")>-1&&(e=c.split(/\[|]/),c=e[0],h*=Number(e[1])),c.match(r)||(n[c]={value:i(l,h),name:c,type:l})}}return n}},(t,e,r)=>{var n={createContext:r(103),setVertexAttribArrays:r(104),GLBuffer:r(105),GLFramebuffer:r(106),GLShader:r(108),GLTexture:r(107),VertexArrayObject:r(117),shader:r(118)};t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},t=>{t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},t=>{t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},t=>{var e=new ArrayBuffer(0),r=function(t,r,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=r||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=e,n&&this.upload(n),this._updateID=0};r.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},(t,e,r)=>{var n=r(107),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},t=>{var e=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};e.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var r=!1;e.prototype.uploadData=function(t,e,n){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!r){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},e.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},e.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},e.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},e.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},e.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},e.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},e.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},e.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},e.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},e.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},e.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},e.fromSource=function(t,r,n){var i=new e(t);return i.premultiplyAlpha=n||!1,i.upload(r),i},e.fromData=function(t,r,n,i){var o=new e(t);return o.uploadData(r,n,i),o},t.exports=e},(t,e,r)=>{var n=r(109),i=r(110),o=r(113),s=r(115),a=r(116),u=function(t,e,r,u,l){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},t=>{var e=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,r,n,i){var o=e(t,t.VERTEX_SHADER,r),s=e(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),i)for(var u in i)t.bindAttribLocation(a,i[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},(t,e,r)=>{var n=r(111),i=r(112),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),l=n(t,u.type);r[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},t=>{var e=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,n){if(!e){var i=Object.keys(r);e={};for(var o=0;o<i.length;++o){var s=i[o];e[t[s]]=r[s]}}return e[n]}},t=>{var e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return e[t]}},(t,e,r)=>{var n=r(111),i=r(114);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),l=n(t,a.type);r[u]={type:l,size:a.size,location:t.getUniformLocation(e,u),value:i(l,a.size)}}return r}},t=>{var e=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,r){switch(t){case"float":case"int":case"sampler2D":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"bool":return!1;case"bvec2":return e(2*r);case"bvec3":return e(3*r);case"bvec4":return e(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},t=>{t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},t=>{var e=function(t){return function(){return this.data[t].value}},r={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},n={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function i(t,e){return function(i){this.data[t].value=i;var o=this.data[t].location;1===e.size?r[e.type](this.gl,o,i):n[e.type](this.gl,o,i)}}function o(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,r){var n={data:{}};n.gl=t;for(var s=Object.keys(r),a=0;a<s.length;a++){var u=s[a],l=u.split("."),c=l[l.length-1],h=o(l,n),f=r[u];h.data[c]=f,h.gl=t,Object.defineProperty(h,c,{get:e(c),set:i(c,f)})}return n}},(t,e,r)=>{var n=r(104);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},(t,e,r)=>{t.exports={compileProgram:r(109),defaultValue:r(114),extractAttributes:r(110),extractUniforms:r(113),generateUniformAccessObject:r(116),setPrecision:r(115),mapSize:r(112),mapType:r(111)}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(34)),i=a(r(100)),o=a(r(120)),s=a(r(124));function a(t){return t&&t.__esModule?t:{default:t}}class u extends i.default{constructor(t,e,r,i){super(),this.blurXFilter=new o.default(t,e,r,i),this.blurYFilter=new s.default(t,e,r,i),this.padding=0,this.resolution=r||n.default.RESOLUTION,this.quality=e||4,this.blur=t||8}apply(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blendMode(){return this.blurYFilter._blendMode}set blendMode(t){this.blurYFilter._blendMode=t}}e.default=u},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(34)),i=u(r(100)),o=u(r(121)),s=u(r(122)),a=u(r(123));function u(t){return t&&t.__esModule?t:{default:t}}class l extends i.default{constructor(t,e,r,i){i=i||5,super((0,o.default)(i,!0),(0,s.default)(i)),this.resolution=r||n.default.RESOLUTION,this._quality=0,this.quality=e||4,this.strength=t||8,this.firstRun=!0}apply(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var l=t.getRenderTarget(!0),c=e,h=l,f=0;f<this.passes-1;f++){t.applyFilter(this,c,h,!0);var d=h;h=c,c=d}t.applyFilter(this,c,r,n),t.returnRenderTarget(l)}}get blur(){return this.strength}set blur(t){this.padding=2*Math.abs(t),this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}e.default=l},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=Math.ceil(t/2),o=r,s="";n=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=n.replace("%index%",a);s+=u=u.replace("%sampleIndex%",a-(i-1)+".0"),s+="\n"}return(o=o.replace("%blur%",s)).replace("%size%",t)};var r=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,i=r[t],o=i.length,s=n,a="",u=0;u<t;u++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);e=u,u>=o&&(e=t-u-1),a+=l=l.replace("%value%",i[e]),a+="\n"}return(s=s.replace("%blur%",a)).replace("%size%",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(34)),i=u(r(100)),o=u(r(121)),s=u(r(122)),a=u(r(123));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}class c extends i.default{constructor(t,e,r,i){i=i||5,super((0,o.default)(i,!1),(0,s.default)(i)),this.resolution=r||n.RESOLUTION,this._quality=0,this.quality=e||4,this.strength=t||8,this.firstRun=!0}apply(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var l=t.getRenderTarget(!0),c=e,h=l,f=0;f<this.passes-1;f++){t.applyFilter(this,c,h,!0);var d=h;h=c,c=d}t.applyFilter(this,c,r,n),t.returnRenderTarget(l)}}get blur(){return this.strength}set blur(t){this.padding=2*Math.abs(t),this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}e.default=c},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(100))&&n.__esModule?n:{default:n};r(62),r(28);class o extends i.default{constructor(t,e,r,n,i){void 0===e&&(e=.3),void 0===r&&(r=.1),void 0===n&&(n=.1),void 0===i&&(i=.5),super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec3 uColor;\nuniform float uSimilarity;\nuniform float uSmoothness;\nuniform float uSaturation;\nuniform float uShadowness;\n\nvec2 RGBtoUV(vec3 rgb) {\n  return vec2(\n    rgb.r * -0.169 + rgb.g * -0.331 + rgb.b *  0.5    + 0.5,\n    rgb.r *  0.5   + rgb.g * -0.419 + rgb.b * -0.081  + 0.5\n  );\n}\n\nvec4 ProcessChromaKey(vec2 uv) {\n  vec4 rgba = texture2D(uSampler, uv);\n  float chromaDist = distance(RGBtoUV(rgba.rgb), RGBtoUV(uColor));\n\n  float diff = chromaDist - uSimilarity;\n  float alpha = pow(clamp(diff / uSmoothness, 0., 1.), 1.5);\n  rgba *= alpha;\n\n  float sat = pow(clamp(diff / uSaturation, 0., 1.), 1.5);\n  float luma = clamp(rgba.r * 0.2126 + rgba.g * 0.7152 + rgba.b * 0.0722, 0., 1.) * uShadowness;\n  rgba.rgb = mix(vec3(luma, luma, luma), rgba.rgb, sat);\n\n  return rgba;\n}\n\nvoid main(void) {\n  gl_FragColor = ProcessChromaKey(vTextureCoord);\n}\n"),this.color=t,this.similarity=Math.max(e,.001),this.smoothness=Math.max(r,.001),this.saturation=Math.max(n,.001),this.shadowness=Math.max(i,.001),this.glShaderKey="chroma"}get color(){return this.uniforms.uColor}set color(t){this.uniforms.uColor=t}get similarity(){return this.uniforms.uSimilarity}set similarity(t){this.uniforms.uSimilarity=t}get smoothness(){return this.uniforms.uSmoothness}set smoothness(t){this.uniforms.uSmoothness=t}get saturation(){return this.uniforms.uSaturation}set saturation(t){this.uniforms.uSaturation=t}get shadowness(){return this.uniforms.uShadowness}set shadowness(t){this.uniforms.uShadowness=t}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(100)),i=s(r(21)),o=s(r(19));function s(t){return t&&t.__esModule?t:{default:t}}r(62);class a extends n.default{constructor(t,e){var r=new i.default;t.renderable=!1,super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"),this.maskSprite=t,this.maskMatrix=r,this.uniforms.mapSampler=t._texture,this.uniforms.filterMatrix=r,this.uniforms.scale={x:1,y:1},null==e&&(e=20),this.setScale(e,e)}setScale(t,e){this.scale=new o.default(t,e)}apply(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,super.apply(t,e,r)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(100)),i=o(r(21));function o(t){return t&&t.__esModule?t:{default:t}}o(r(19)),r(62),o(r(128));class s extends n.default{constructor(t){var e="precision highp float;\n\nvarying vec2 _uv;\n\nuniform float progress;\nuniform float ratio;\nuniform vec2 _offset;\n\nuniform sampler2D fromSampler;\nuniform sampler2D toSampler;\n\nvec4 getColor(sampler2D tex, vec2 uv) {\n  return texture2D(tex, vec2(uv.x + _offset.x, 1.0 - (uv.y + _offset.y)));\n}\n\nvec4 getFromColor(vec2 uv) {\n  return getColor(fromSampler, uv);\n}\n\nvec4 getToColor(vec2 uv) {\n  return getColor(toSampler, uv);\n}\n\n${transitionGlsl}\n\nvoid main(void) {\n  gl_FragColor = transition(_uv - _offset);\n  //gl_FragColor = getFromColor(_uv);\n}\n",r=t.glsl,n=[];for(var o of r.split("\n"))if(!(o=o.trim()).startsWith("//"))if(o.startsWith("uniform ")){var s=[];for(var a of o.replace(/\s+/g," ").split(" ")){if(a.startsWith("//"))break;s.push(a)}n.push(s.join(" "))}else n.push(o);r=n.join("\n"),super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 _uv;\n\nvoid main(void) {\n  vec2 _p = (projectionMatrix * vec3(aVertexPosition, 1.0)).xy;\n  gl_Position = vec4(_p, 0.0, 1.0);\n  vTextureCoord = aTextureCoord;\n  _uv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));\n}",e=e.replace("${transitionGlsl}",r)),this.fromMatrix=new i.default,this.toMatrix=new i.default,this.transition=t}get prev(){return this.fromSprite}get next(){return this.toSprite}set prev(t){this.setSprite("from",t)}set next(t){this.setSprite("to",t)}get ratio(){return this.uniforms.ratio}set ratio(t){this.uniforms.ratio=t}get offset(){return this.uniforms._offset}set offset(t){this.uniforms._offset=t}set params(t){var e=2,{transition:r,uniforms:n}=this;for(var i in r.paramsTypes){var o=i in t?t[i]:r.defaultParams[i];if("sampler2D"===r.paramsTypes[i])if(o){if("function"!=typeof o.bind)throw new Error("uniform["+i+"]: A gl-texture2d API-like object was expected");n[i]=o.bind(e++)}else console.warn("uniform["+i+"]: A texture MUST be defined for uniform sampler2D of a texture");else n[i]=o}}setSprite(t,e){this[t+"Sprite"]=e,e.renderable=!1,this.uniforms[t+"Sampler"]=e.texture}updateProgress(t){this.uniforms.progress=t}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(21))&&n.__esModule?n:{default:n},o=new i.default;e.default=class{constructor(t,e){this._texture=t,this.mapCoord=new i.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e}get texture(){return this._texture}set texture(t){this._texture=t,this._lastTextureID=-1}multiplyUvs(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e}update(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(o.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(o));var s=e.baseTexture,a=this.uClampFrame,u=this.clampMargin/s.resolution,l=this.clampOffset;return a[0]=(e._frame.x+u+l)/s.width,a[1]=(e._frame.y+u+l)/s.height,a[2]=(e._frame.x+e._frame.width-u+l)/s.width,a[3]=(e._frame.y+e._frame.height-u+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,!0}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class o extends n.default{constructor(){super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"),this.init()}init(){this.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1}_loadMatrix(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t}_colorMatrix(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}greyscale(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}blackAndWhite(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)}hue(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)}contrast(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)}saturate(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)}desaturate(){this.saturate(-1)}negative(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)}sepia(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)}technicolor(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)}polaroid(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)}toBGR(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)}kodachrome(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)}browni(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)}vintage(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)}colorTone(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,c=(255&n)/255,h=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,l,c,e=e||.15,0,o-u,s-l,a-c,0,0];this._loadMatrix(h,i)}night(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}predator(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)}lsd(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}e.default=o,o.prototype.grayscale=o.prototype.greyscale},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(100)),i=(r(62),s(r(21))),o=s(r(128));function s(t){return t&&t.__esModule?t:{default:t}}class a extends n.default{constructor(t){var{key:e,vert:r,frag:n,render:o,vars:s}=t||{};if(o||(o="vec4 render(sampler2D tex, vec2 uv, vec4 bg, vec4 mask, float alpha) { return bg; }"),r||(r="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}"),!n){var a=[];if(s)for(var[u,l]of Object.entries(s))if(u){var c=Array.isArray(l)?"vec"+l.length:"float";a.push("uniform "+c+" "+u+";")}n=(n="varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord; // for mask\n\nuniform sampler2D uSampler;\nuniform sampler2D uMask;\n\nuniform vec2 uMaskAnchor;\nuniform vec2 uMaskSize;\nuniform float uMaskRotation;\n\nuniform vec4 maskClamp;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 uFrameSize;\n\nuniform bool useMask;\nuniform bool useBinaryMask;\nuniform bool useReverseMask;\n\nuniform float uStart;\nuniform float uDuration;\n\n${uniforms}\n\n${render}\n\nvoid main(void) {\n  vec4 bg = texture2D(uSampler, vTextureCoord);\n  vec4 mask = vec4(1.0);\n  float alpha = 1.0;\n  if (useMask) {\n    float clip = step(3.5,\n      step(maskClamp.x, vFilterCoord.x) +\n      step(maskClamp.y, vFilterCoord.y) +\n      step(vFilterCoord.x, maskClamp.z) +\n      step(vFilterCoord.y, maskClamp.w));\n    mask = texture2D(uMask, vFilterCoord);\n    alpha = clamp(dot(mask.rgb, vec3(1.0, 1.0, 1.0)) * clip, 0.0, 1.0);\n    if (useBinaryMask) alpha = step(0.01, alpha);\n    if (useReverseMask) alpha = 1.0 - alpha;\n  }\n  vec4 color = render(uSampler, vTextureCoord, bg, mask, alpha);\n  color = mix(bg, color, alpha);\n  gl_FragColor = color;\n}\n").replace("${uniforms}",a.join("\n")).replace("${render}",o)}super(r,n),e&&(this.glShaderKey=e),this.vars=s,this._maskMatrix=new i.default}apply(t,e,r,n){this.uniforms.uFrameSize&&(this.uniforms.uFrameSize[0]=e.sourceFrame.width,this.uniforms.uFrameSize[1]=e.sourceFrame.height),void 0!==this.uniforms.filterMatrix&&this._mask&&(this.uniforms.filterMatrix=t.calculateSpriteMatrix(this._maskMatrix,this._mask)),this._mask&&(this.uniforms.uMaskAnchor=[this._mask.x,this._mask.y],this.uniforms.uMaskSize=[this._mask.width,this._mask.height],this.uniforms.uMaskRotation=this._mask.rotation,this.uniforms.useBinaryMask=!!this._mask.binaryMask,this.uniforms.useReverseMask=!!this._mask.reverseMask),super.apply(t,e,r,n)}set vars(t){if(this._vars=t,t)for(var[e,r]of Object.entries(t))e&&(this.uniforms[e]=r)}get vars(){return this._vars}get mask(){return this._mask}set mask(t){if(this._mask=t,void 0!==this.uniforms.uMask)if(t){var e=t.texture;e.transform||(e.transform=new o.default(e,0)),e.transform.update(),this.uniforms.uMask=e,this.uniforms.useMask=!0,this.uniforms.maskClamp=e.transform.uClampFrame}else this.uniforms.useMask=!1}setTime(t,e){this.uniforms.uStart=t,this.uniforms.uDuration=e}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(132)),i=o(r(136));function o(t){return t&&t.__esModule?t:{default:t}}class s extends i.default{constructor(t,e){var r=null;if(!(t instanceof n.default)){var i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+i+", "+o+") instead of the ctor directly."),r=arguments[0],e=null,t=new n.default(i,o,s,a)}super(t,e),this.legacyRenderer=r,this.valid=!0,this._updateUvs()}resize(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()}static create(t,e,r,i){return new s(new n.default(t,e,r,i))}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(133)),i=o(r(34));function o(t){return t&&t.__esModule?t:{default:t}}class s extends n.default{constructor(t,e,r,n){void 0===t&&(t=100),void 0===e&&(e=100),super(null,r),this.resolution=n||i.default.RESOLUTION,this.width=Math.ceil(t),this.height=Math.ceil(e),this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.scaleMode=void 0!==r?r:i.default.SCALE_MODE,this.hasLoaded=!0,this._glRenderTargets={},this._canvasRenderTarget=null,this.valid=!1}resize(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))}destroy(){super.destroy(!0),this.renderer=null}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(134)),i=l(r(34)),o=l(r(48)),s=l(r(31)),a=r(28),u=r(135);function l(t){return t&&t.__esModule?t:{default:t}}r(89);class c extends s.default{constructor(t,e,r){super(),this.uid=(0,a.uid)(),this.touched=0,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.resolution=r||i.default.RESOLUTION,this.scaleMode=void 0!==e?e:i.default.SCALE_MODE,this.hasLoaded=!1,this.isLoading=!1,this.image=null,this.source=null,this.imageType=null,this.sourceScale=1,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.cutout=!1,this.cutoutColors=null,this.mipmap=i.default.MIPMAP_TEXTURES,this.wrapMode=i.default.WRAP_MODE,this._glTextures={},this._enabled=0,this._virtalBoundId=-1,this.destroyed=!1,this.textureCacheIds=[],this.loadSource(t)}updateSource(t){this.image||(this.image=new n.default),this.resetImage(this.image),this.loadSource(this.image),this.image.src=t,this.imageUrl=t,this.resolution=(0,a.getResolutionOfUrl)(t)}loadSource(t){if(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&this.removeHandler(this.source);var r=!this.source;this.source=t;var{src:n,width:i,height:o,complete:s,getContext:a,network:u}=t;(n&&s||u&&s||a)&&i&&o?(this._updateImageType(),this._sourceLoaded(),r&&this.emit("loaded",this)):a||(this.isLoading=!0,t.onload=()=>{this._updateImageType(),this.removeHandler(t),this.isLoading&&(this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this))},t.onerror=()=>{this.removeHandler(t),this.isLoading&&(this.isLoading=!1,this.emit("error",this))},s&&n&&(this.removeHandler(t),this.isLoading=!1,i&&o?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)))}}removeHandler(t){t.onload=null,t.onerror=null}resetImage(t){t.src="",t.width=0,t.height=0}adaptedNodeCanvas(){var{source:t,cutout:e,cutoutColors:r}=this;t&&t instanceof n.default&&t.isPsImage&&(this.source=n.default.convertToImageData(t))}update(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)}_updateDimensions(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=o.default.isPow2(this.realWidth)&&o.default.isPow2(this.realHeight)}_updateImageType(){if(this.imageUrl){var t,e=(0,a.decomposeDataUri)(this.imageUrl);if(e&&"image"===e.mediaType){var r=e.subType.split("+")[0];t=(0,a.getUrlFileExt)("."+r)}else t=(0,a.getUrlFileExt)(this.imageUrl);this.imageType=t||"png"}}_sourceLoaded(){this.hasLoaded=!0,this.update()}destroy(){this.imageUrl&&(delete u.TextureCache[this.imageUrl],this.imageUrl=null,this.source.src="",this.removeHandler(this.source)),this.image&&(this.image.src="",this.image=null),this.source=null,this.dispose(),(0,u.removeFromBaseTextureCache)(this),this.textureCacheIds=null,this.destroyed=!0,this.cutout=!1,this.cutoutColors=null}dispose(){this.emit("dispose",this)}static fromImage(t,e,r,i){var o=u.BaseTextureCache[t];if(!o){var s=new n.default;(o=new c(s,r)).imageUrl=t,i&&(o.sourceScale=i),o.resolution=(0,a.getResolutionOfUrl)(t),s.src=t,(0,u.addToBaseTextureCache)(o,t)}return o}static fromCanvas(t,e,r){void 0===r&&(r="canvas"),t.__paintId||(t.__paintId=r+"_"+(0,a.uid)());var n=u.BaseTextureCache[t.__paintId];return n||(n=new c(t,e),(0,u.addToBaseTextureCache)(n,t.__paintId)),n}static from(t,e,r){if("string"==typeof t)return c.fromImage(t,void 0,e,r);if(t instanceof HTMLImageElement){var n=t.src,i=u.BaseTextureCache[n];return i||((i=new c(t,e)).imageUrl=n,r&&(i.sourceScale=r),i.resolution=(0,a.getResolutionOfUrl)(n),(0,u.addToBaseTextureCache)(i,n)),i}return t instanceof HTMLCanvasElement?c.fromCanvas(t,e):t}}e.default=c},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=u(r(91)),o=r(44),s=u(r(31)),a=r(42);function u(t){return t&&t.__esModule?t:{default:t}}class l extends((0,i.default)(o.Image)){constructor(){super(...arguments),this.isPsImage=!0}addEventListener(t,e){this._eventemitter||(this._eventemitter=new s.default),this._eventemitter.once(t,e)}static convertToImageData(t,e){void 0===e&&(e=!1);var{width:r,height:i}=t;n||(n=(0,o.createCanvas)(r,i)),n.width=r,n.height=i;var s=n.getContext("2d");return e&&(s.scale(1,-1),s.translate(0,-i)),s.clearRect(r,i),s.drawImage(t,0,0),s.getImageData(0,0,r,i)}static convertToCanvas(t,e,r){var n=(0,o.createCanvas)(e,r);return n.getContext("2d").putImageData(t,0,0),n}}var c=a.isBrowser?window.Image:l;e.default=c},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureCache=e.BaseTextureCache=void 0,e.addToBaseTextureCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),i[e]=t)},e.addToTextureCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n[e]=t)},e.deleteAllTextureCache=s,e.destroyAllTextureCache=o,e.destroyAndCleanAllCache=function(){o(),s()},e.destroyBaseTextureCache=function(t){i[t]&&(i[t].destroy(),delete i[t])},e.destroyTextureCache=function(t){n[t]&&(n[t].destroy(),delete n[t])},e.removeFromBaseTextureCache=function(t){if("string"==typeof t){var e=i[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete i[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete i[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e.removeFromTextureCache=function(t){if("string"==typeof t){var e=n[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)n[t.textureCacheIds[i]]===t&&delete n[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null};var n=Object.create(null);e.TextureCache=n;var i=Object.create(null);function o(){var t;for(t in n)n[t].destroy();for(t in i)i[t].destroy()}function s(){var t;for(t in n)delete n[t];for(t in i)delete i[t]}e.BaseTextureCache=i,r.g.InkPaintCache={TextureCache:n,BaseTextureCache:i}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(r(133)),i=c(r(34)),o=c(r(137)),s=c(r(31)),a=r(18),u=r(28),l=r(135);function c(t){return t&&t.__esModule?t:{default:t}}class h extends s.default{constructor(t,e,r,n,i,o){if(super(),e?this.hasDefaultFrame=!0:(this.hasDefaultFrame=!1,e=new a.Rectangle(0,0,1,1)),this._uvs=null,this._cache=[],this.valid=!1,this.destroyed=!1,this.requiresUpdate=!1,this.cutout=!1,this.cutoutColors=null,this.trim=n,this.orig=r||e,this._frame=e,this._rotate=Number(i||0),this._updateID=0,this.transform=null,this.textureCacheIds=[],!0===i)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs.");this.id=(0,u.uuidvx)(),this.initBaseTexture(t,e),this.defaultAnchor=o?new a.Point(o.x,o.y):new a.Point(0,0)}initBaseTexture(t,e){if(t instanceof h&&(t=t.baseTexture),this.baseTexture=t,this.addToCache(t.imageUrl),t.hasLoaded){if(this.hasDefaultFrame)this.frame=e;else{var{width:r,height:n}=t;this.frame=new a.Rectangle(0,0,r,n),t.on("update",this.onBaseTextureUpdated,this)}t.adaptedNodeCanvas()}else t.once("loaded",this.onBaseTextureLoaded,this);t.on("error",this.onBaseTextureError,this)}update(){this.baseTexture.update()}addToCache(t){t&&this._cache.indexOf(t)<0&&this._cache.push(t)}updateSource(t,e){void 0===e&&(e=!1),this.baseTexture.imageUrl!==t&&(e?(this.addToCache(t),this.baseTexture=n.default.fromImage(t),this.baseTexture.adaptedNodeCanvas()):this.baseTexture.updateSource(t))}getImageUrl(){return this.baseTexture.imageUrl}onBaseTextureLoaded(t){if(this._updateID++,this.hasDefaultFrame)this.frame=this._frame;else{var{width:e,height:r}=t;this.frame=new a.Rectangle(0,0,e,r)}t.adaptedNodeCanvas(),this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)}onBaseTextureError(t){this.emit("error",t)}onBaseTextureUpdated(t){this._updateID++,this.hasDefaultFrame||(this._frame.width=t.width,this._frame.height=t.height),t.adaptedNodeCanvas(),this.emit("update",this)}destroy(t){if(!this.destroyed){if(this.baseTexture){if(t){var{imageUrl:e}=this.baseTexture;l.TextureCache[e]&&(0,l.removeFromTextureCache)(e);for(var r=0;r<this._cache.length;r++){var n=this._cache[r];(0,l.destroyBaseTextureCache)(n)}this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture.off("error",this.onBaseTextureError,this),this.baseTexture=null}this._cache.length=0,this._cache=null,this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.cutout=!1,this.cutoutColors=null,this.destroyed=!0,(0,l.removeFromTextureCache)(this),this.textureCacheIds=null}}clone(){return new h(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)}_updateUvs(){this._uvs||(this._uvs=new o.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}get frame(){return this._frame}set frame(t){this._frame=t,this.hasDefaultFrame=!0;var{x:e,y:r,width:n,height:i}=t,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,l="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+l)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this._updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}static newEmpty(){return new h(new n.default)}static fromImage(t,e,r,i){var o=l.TextureCache[t];return o||(o=e instanceof a.Rectangle?new h(n.default.fromImage(t),e,r,i):new h(n.default.fromImage(t,e,r,i)),(0,l.addToTextureCache)(o,t),o)}static fromFrame(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in cache');return e}static fromCanvas(t,e,r){return void 0===r&&(r="canvas"),new h(n.default.fromCanvas(t,e,r))}static from(t){return"string"==typeof t?l.TextureCache[t]||h.fromImage(t):t instanceof h?t:t instanceof HTMLImageElement?new h(n.default.from(t)):t instanceof HTMLCanvasElement?h.fromCanvas(t,i.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof n.default?new h(t):t}static fromLoader(t,e,r){var i=new n.default(t,void 0,(0,u.getResolutionOfUrl)(e)),o=new h(i);return i.imageUrl=e,r||(r=e),(0,l.addToBaseTextureCache)(o.baseTexture,r),(0,l.addToTextureCache)(o,r),r!==e&&((0,l.addToBaseTextureCache)(o.baseTexture,e),(0,l.addToTextureCache)(o,e)),o}}function f(t){t.destroy=()=>{},t.on=()=>{},t.once=()=>{},t.emit=()=>{}}e.default=h,h.EMPTY=new h(new n.default),f(h.EMPTY),f(h.EMPTY.baseTexture)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(22))&&n.__esModule?n:{default:n};e.default=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}set(t,e,r){var n=e.width,o=e.height;if(r){var s=t.width/2/n,a=t.height/2/o,u=t.x/n+s,l=t.y/o+a;r=i.default.add(r,i.default.NW),this.x0=u+s*i.default.uX(r),this.y0=l+a*i.default.uY(r),r=i.default.add(r,2),this.x1=u+s*i.default.uX(r),this.y1=l+a*i.default.uY(r),r=i.default.add(r,2),this.x2=u+s*i.default.uX(r),this.y2=l+a*i.default.uY(r),r=i.default.add(r,2),this.x3=u+s*i.default.uX(r),this.y3=l+a*i.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/o,this.x1=(t.x+t.width)/n,this.y1=t.y/o,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/o,this.x3=t.x/n,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17);e.default=class{constructor(t){this.renderer=t}pushMask(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r}renderGraphicsShape(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points,u=o.holes,l=void 0,c=void 0;e.moveTo(a[0],a[1]);for(var h=2;h<a.length;h+=2)e.lineTo(a[h],a[h+1]);if(a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath(),u.length>0){l=0;for(var f=0;f<a.length;f+=2)l+=a[f]*a[f+3]-a[f+1]*a[f+2];for(var d=0;d<u.length;d++){a=u[d].points,c=0;for(var p=0;p<a.length;p+=2)c+=a[p]*a[p+3]-a[p+1]*a[p+2];if(e.moveTo(a[0],a[1]),c*l<0)for(var g=2;g<a.length;g+=2)e.lineTo(a[g],a[g+1]);else for(var v=a.length-2;v>=2;v-=2)e.lineTo(a[v],a[v+1])}}}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var m=2*s.width,_=2*s.height,y=s.x-m/2,b=s.y-_/2,x=.5522848,T=m/2*x,E=_/2*x,w=y+m,A=b+_,S=y+m/2,I=b+_/2;e.moveTo(y,I),e.bezierCurveTo(y,I-E,S-T,b,S,b),e.bezierCurveTo(S+T,b,w,I-E,w,I),e.bezierCurveTo(w,I+E,S+T,A,S,A),e.bezierCurveTo(S-T,A,y,I+E,y,I),e.closePath()}else if(o.type===n.SHAPES.RREC){var C=s.x,O=s.y,R=s.width,M=s.height,N=s.radius,P=Math.min(R,M)/2|0;N=N>P?P:N,e.moveTo(C,O+N),e.lineTo(C,O+M-N),e.quadraticCurveTo(C,O+M,C+N,O+M),e.lineTo(C+R-N,O+M),e.quadraticCurveTo(C+R,O+M,C+R,O+M-N),e.lineTo(C+R,O+N),e.quadraticCurveTo(C+R,O,C+R-N,O),e.lineTo(C+N,O),e.quadraticCurveTo(C,O,C,O+N),e.closePath()}}}}popMask(t){t.context.restore(),t.invalidateBlendMode()}destroy(){}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return void 0===t&&(t=[]),(0,o.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var n,i=r(17),o=(n=r(140))&&n.__esModule?n:{default:n}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!0}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=_(r(40)),i=_(r(142)),o=_(r(145)),s=_(r(146)),a=_(r(147)),u=_(r(152)),l=_(r(153)),c=_(r(133)),h=_(r(154)),f=_(r(155)),d=_(r(157)),p=_(r(158)),g=r(28),v=_(r(102)),m=r(17);function _(t){return t&&t.__esModule?t:{default:t}}var y=0;class b extends n.default{constructor(t,e,r){super("WebGL",t,e,r),this.legacy=this.options.legacy,this.legacy&&(v.default.VertexArrayObject.FORCE_NATIVE=!0),this.type=m.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._contextOptions={alpha:this.transparent,antialias:this.options.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:this.options.preserveDrawingBuffer,powerPreference:this.options.powerPreference},this._backgroundColorRgba[3]=this.transparent?0:1,this.maskManager=new i.default(this),this.stencilManager=new o.default(this),this.emptyRenderer=new u.default(this),this.currentRenderer=this.emptyRenderer,this.textureManager=null,this.filterManager=null,this.initPlugins(),this.options.context&&(0,p.default)(this.options.context),this.gl=this.options.context||v.default.createContext(this.view,this._contextOptions),this.CONTEXT_UID=y++,this.state=new f.default(this.gl),this.renderingToScreen=!0,this.boundTextures=null,this._activeShader=null,this._activeVao=null,this._activeRenderTarget=null,this._initContext(),this.drawModes=(0,d.default)(this.gl),this._nextTextureLocation=0,this.setBlendMode(0)}_initContext(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new l.default(this),this.filterManager=new s.default(this),this.textureGC=new h.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new v.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new c.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)}render(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}resize(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))}setBlendMode(t){this.state.setBlendMode(t)}deleteTexture(t){this.gl.deleteTexture(t)}clear(t){this._activeRenderTarget.clear(t)}setTransform(t){this._activeRenderTarget.transform=t}clearRenderTexture(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this}bindRenderTexture(t,e){var r;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this}bindRenderTarget(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this}bindShader(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this}bindTexture(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e}unbindTexture(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===this.emptyTextures[r]&&(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture))}for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this}createVao(){return new v.default.VertexArrayObject(this.gl,this.state.attribState)}bindVao(t){return this._activeVao===t||(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t),this}reset(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this}handleContextLost(t){t.preventDefault()}handleContextRestored(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()}destroy(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),super.destroy(t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null}}e.default=b,g.pluginTarget.mixin(b)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(143)),i=o(r(144));function o(t){return t&&t.__esModule?t:{default:t}}class s extends n.default{constructor(t){super(t),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!0,this.alphaMaskPool=[],this.alphaMaskIndex=0}pushMask(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)}popMask(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)}pushSpriteMask(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var n=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=n,this.alphaMaskIndex++}popSpriteMask(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--}pushStencilMask(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)}popStencilMask(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()}pushScissorMask(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0}popScissorMask(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)}}e.default=s},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}onContextChange(){}destroy(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(100)),i=r(18),o=(r(62),s(r(128)));function s(t){return t&&t.__esModule?t:{default:t}}class a extends n.default{constructor(t){var e=new i.Matrix;super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nuniform bool useBinaryMask;\nuniform bool useReverseMask;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 mask = texture2D(mask, vMaskCoord);\n    float a = clamp(dot(mask.rgb, vec3(1.0, 1.0, 1.0)) * alpha * clip, 0.0, 1.0);\n    if (useBinaryMask) a = step(0.01, alpha);\n    if (useReverseMask) a = 1.0 - a;\n    original *= a;\n    gl_FragColor = original;\n}\n"),t.renderable=!1,this.maskSprite=t,this.maskMatrix=e}apply(t,e,r,n){var i=this.maskSprite,s=this.maskSprite.texture;s.valid&&(s.transform||(s.transform=new o.default(s,0)),s.transform.update(),this.uniforms.mask=s,this.uniforms.useBinaryMask=!!i.binaryMask,this.uniforms.useReverseMask=!!i.reverseMask,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(s.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=s.transform.uClampFrame,t.applyFilter(this,e,r,n))}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(143))&&n.__esModule?n:{default:n};class o extends i.default{constructor(t){super(t),this.stencilMaskStack=null}setMaskStack(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)}pushStencil(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()}popStencil(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())}_useCurrent(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}_getBitwiseMask(){return(1<<this.stencilMaskStack.length)-1}destroy(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=h(r(143)),i=h(r(147)),o=h(r(148)),s=r(18),a=h(r(150)),u=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(151)),l=h(r(48));function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}function h(t){return t&&t.__esModule?t:{default:t}}class f{constructor(){this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[]}clear(){this.filters=null,this.target=null,this.renderTarget=null}}class d extends n.default{constructor(t){super(t),this.gl=this.renderer.gl,this.quad=new o.default(this.gl,t.state.attribState),this.shaderCache={},this.pool={},this.filterData=null,this.managedFilters=[],this.renderer.on("prerender",this.onPrerender,this),this._screenWidth=t.view.width,this._screenHeight=t.view.height}pushFilter(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],s=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new f);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,u=e[0].resolution,l=0|e[0].padding,c=a?r.screen:t.filterArea||t.getBounds(!0),h=o.sourceFrame,d=o.destinationFrame;h.x=(c.x*u|0)/u,h.y=(c.y*u|0)/u,h.width=(c.width*u|0)/u,h.height=(c.height*u|0)/u,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(s),h.pad(l)),d.width=h.width,d.height=h.height;var p=this.getPotRenderTarget(r.gl,h.width,h.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,h),r.bindRenderTarget(p),p.clear()}popFilter(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)}applyFilter(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)}syncUniforms(t,e){var r,n=e.uniformData,i=e.uniforms,o=1;if(t.uniforms.filterArea){r=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=r.renderTarget.size.width,s[1]=r.renderTarget.size.height,s[2]=r.sourceFrame.x,s[3]=r.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){r=r||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(r.sourceFrame.width-1)/r.renderTarget.size.width,a[3]=(r.sourceFrame.height-1)/r.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in n)if(t.uniforms.data[u]){var l=n[u].type;if("sampler2d"===l&&0!==i[u]){if(i[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(i[u].baseTexture,o);else{t.uniforms[u]=o;var c=this.renderer.gl;this.renderer.boundTextures[o]=this.renderer.emptyTextures[o],c.activeTexture(c.TEXTURE0+o),i[u].texture.bind()}o++}else if("mat3"===l)void 0!==i[u].a?t.uniforms[u]=i[u].toArray(!0):t.uniforms[u]=i[u];else if("vec2"===l)if(void 0!==i[u].x){var h=t.uniforms[u]||new Float32Array(2);h[0]=i[u].x,h[1]=i[u].y,t.uniforms[u]=h}else t.uniforms[u]=i[u];else"float"===l?t.uniforms.data[u].value!==n[u]&&(t.uniforms[u]=i[u]):t.uniforms[u]=i[u]}}getRenderTarget(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n}returnRenderTarget(t){this.freePotRenderTarget(t)}calculateScreenSpaceMatrix(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)}calculateNormalizedScreenSpaceMatrix(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)}calculateSpriteMatrix(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)}destroy(t){void 0===t&&(t=!1);var e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()}getPotRenderTarget(t,e,r,n){var o="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=l.default.nextPow2(e)))<<16|65535&(r=l.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=n,s.defaultFrame.width=s.size.width=e/n,s.defaultFrame.height=s.size.height=r/n,s.filterPoolKey=o,s}emptyPool(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}}freePotRenderTarget(t){this.pool[t.filterPoolKey].push(t)}onPrerender(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}}}e.default=d},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),o=r(17),s=(n=r(34))&&n.__esModule?n:{default:n},a=r(102);e.default=class{constructor(t,e,r,n,u,l){this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=u||s.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==n?n:s.default.SCALE_MODE,this.root=l||!1,this.root?(this.frameBuffer=new a.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=a.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}clear(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])}attachStencilBuffer(){this.root||this.frameBuffer.enableStencil()}setFrame(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame}activate(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)}calculateProjection(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)}resize(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}}destroy(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(102)),i=o(r(149));function o(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(t,e){this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t,e)}initVao(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)}map(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this}upload(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this}destroy(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)}}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(102),o=(n=r(34))&&n.__esModule?n:{default:n};function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}class a extends i.GLShader{constructor(t,e,r,n,i){super(t,s(e,i||o.default.PRECISION_VERTEX),s(r,i||o.default.PRECISION_FRAGMENT),void 0,n)}}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateSpriteMatrix=function(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s};var n=r(18)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(143))&&n.__esModule?n:{default:n};class o extends i.default{start(){}stop(){this.flush()}flush(){}render(t){}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(102),o=r(17),s=(n=r(147))&&n.__esModule?n:{default:n},a=r(28);e.default=class{constructor(t){this.renderer=t,this.gl=t.gl,this._managedTextures=[]}bindTexture(){}getTexture(){}updateTexture(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<a.length;++u)if(a[u]===t){e=u;break}}a[e]=t,r.activeTexture(r.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(n){var c=new s.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);c.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=c,l=c.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(l=new i.GLTexture(this.gl,null,null,null,null)).bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l}destroyTexture(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer,n=r.CONTEXT_UID,i=t._glTextures,o=t._glRenderTargets;if(i[n]&&(r.unbindTexture(t),i[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete i[n],!e)){var s=this._managedTextures.indexOf(t);-1!==s&&(0,a.removeItems)(this._managedTextures,s,1)}o&&o[n]&&(r._activeRenderTarget===o[n]&&r.bindRenderTarget(r.rootRenderTarget),o[n].destroy(),delete o[n])}}removeAll(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}}destroy(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(17),o=(n=r(34))&&n.__esModule?n:{default:n};e.default=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}update(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))}run(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}}unload(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(156))&&n.__esModule?n:{default:n};e.default=class{constructor(t){this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}push(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]}pop(){var t=this.stack[--this.stackIndex];this.setState(t)}setState(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])}setBlend(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))}setBlendMode(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}}setDepthTest(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))}setCullFace(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))}setFrontFace(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))}resetAttributes(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)}resetToDefault(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return void 0===e&&(e=[]),e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e};var n=r(17)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return void 0===e&&(e={}),e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(17)},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(18),o=(n=r(31))&&n.__esModule?n:{default:n};class s extends o.default{constructor(){super(),this.width=null,this.height=null,this.alpha=1,this.worldAlpha=1,this.rotation=0,this.x=0,this.y=0,this.scale=new i.Point(1,1),this.anchor=new i.Point,this.transform={},this.blendMode=null,this.text=null,this.style=null,this.parent=null,this.isProxy=!0}attr(t){}replaceFromParent(t){var{parent:e}=this;if(e){var r=e.getChildIndex(this);e.removeChild(this),e.addChildAt(t,r)}}updateStyle(t){for(var e in this.style||(this.style={}),t){var r=this.camelCase(e);"color"===r&&(r="fill"),this.style[r]=t[e]}}camelCase(t){return t.replace(/([\:\-\_]+(.))/g,(function(t,e,r,n){return n?r.toUpperCase():r})).replace(/^moz([A-Z])/,"Moz$1")}destroy(){this.width=null,this.height=null,this.alpha=null,this.x=null,this.y=null,this.scale=null,this.pivot=null,this.anchor=null,this.text=null,this.style=null,this.transform=null,this.parent=null,this.removeAllListeners()}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(18),i=r(28),o=r(17),s=l(r(136)),a=l(r(93)),u=r(135);function l(t){return t&&t.__esModule?t:{default:t}}var c=new n.Point;class h extends a.default{constructor(t){super(),this._anchor=new n.ObservablePoint(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=o.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||s.default.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.pluginName="sprite",this.log=!1}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,i.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,i.sign)(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,d=0,p=0,g=0;l?(f=(d=l.x-h._x*c.width)+l.width,p=(g=l.y-h._y*c.height)+l.height):(f=(d=-h._x*c.width)+c.width,p=(g=-h._y*c.height)+c.height),u[0]=r*d+i*g+s,u[1]=o*g+n*d+a,u[2]=r*f+i*g+s,u[3]=o*g+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,c=i.ty,h=-n._x*r.width,f=h+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*h+a*d+l,e[1]=u*d+s*h+c,e[2]=o*f+a*d+l,e[3]=u*d+s*f+c,e[4]=o*f+a*p+l,e[5]=u*p+s*f+c,e[6]=o*h+a*p+l,e[7]=u*p+s*h+c}_renderWebGL(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_renderCanvas(t){t.plugins[this.pluginName].render(this)}_calculateBounds(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}updateBaseTexture(t,e){void 0===e&&(e=!1),this.texture&&this.texture.updateSource(t,e)}getLocalBounds(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,c);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return c.x>=n&&c.x<n+e&&(i=-r*this.anchor.y,c.y>=i&&c.y<i+r)}destroy(t){if(!this.destroyed){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null,this.shader=null}}static from(t){return new h(s.default.from(t))}static fromFrame(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist');return new h(e)}static fromImage(t,e,r){return new h(s.default.fromImage(t,e,r))}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){var e=(0,i.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){var e=(0,i.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copy(t)}get tint(){return this._tint}set tint(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t||s.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}e.default=h},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(160)),i=r(36),o=u(r(162)),s=u(r(136)),a=r(17);function u(t){return t&&t.__esModule?t:{default:t}}class l extends n.default{constructor(t,e){super(t[0]instanceof s.default?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this._autoUpdate=!1!==e,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}stop(){this.playing&&(this.playing=!1,this._autoUpdate&&i.shared.remove(this.update,this))}play(){this.playing||(this.playing=!0,this._autoUpdate&&i.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH))}gotoAndStop(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}gotoAndPlay(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()}update(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=o.default.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)}destroy(t){this.stop(),super.destroy(t)}static fromFrames(t){for(var e=[],r=0;r<t.length;++r)e.push(s.default.fromFrame(t[r]));return new l(e)}static fromImages(t){for(var e=[],r=0;r<t.length;++r)e.push(s.default.fromImage(t[r]));return new l(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof s.default)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}get currentFrame(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}e.default=l},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={sign:t=>0===(t=Number(t))||isNaN(t)?t:t>0?1:-1};e.default=r},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(39)),i=r(17),o=r(18),s=a(r(134));function a(t){return t&&t.__esModule?t:{default:t}}a(r(164));var u=new o.Matrix;class l{constructor(t){this.renderer=t}render(t){var e=t._texture,r=this.renderer,n=e._frame.width,s=e._frame.height,a=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var h=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==h&&(r.context[r.smoothProperty]=h),l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height,e.rotate&&(a.copy(u),a=u,o.GroupD8.matrixAppendRotationInv(a,e.rotate,l,c),l=0,c=0),l-=n/2,c-=s/2,r.roundPixels?(r.context.setTransform(a.a,a.b,a.c,a.d,a.tx*r.resolution|0,a.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(a.a,a.b,a.c,a.d,a.tx*r.resolution,a.ty*r.resolution);var f,d,p,g,v=e.baseTexture.resolution;this.adaptedNodeCanvas(e.baseTexture),f=e._frame.x,d=e._frame.y,e.trim?(p=e.trim.width,g=e.trim.height):(p=n,g=s),r.context.drawImage(e.baseTexture.source,f*v,d*v,n*v,s*v,l*r.resolution,c*r.resolution,p*r.resolution,g*r.resolution)}}adaptedNodeCanvas(t){if(t.source&&!t.source.isPSCanvas&&this.isImageData(t.source)){var{source:e,width:r,height:n}=t;t.source=s.default.convertToCanvas(e,r,n)}}isImageData(t){return!!t&&!!(t.width&&t.height&&t.data&&t.data.length)}destroy(){this.renderer=null}}e.default=l,n.default.registerPlugin("sprite",l)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(134)),i=r(28);function o(t){return t&&t.__esModule?t:{default:t}}var s={getTintedTexture:(t,e)=>{var r=t._texture,i="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var o,a=r.tintCache[i];if(a){if(a.tintId===r._updateID)return r.tintCache[i];o=r.tintCache[i]}else o=s.canvas;if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var u=new n.default;u.src=o.toDataURL(),r.tintCache[i]=u}else r.tintCache[i]=o,s.canvas=null;return o},tintWithMultiply:(t,e,r)=>{var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:(t,e,r)=>{var n=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore();for(var a=(0,i.hex2rgb)(e),u=a[0],l=a[1],c=a[2],h=n.getImageData(0,0,o.width,o.height),f=h.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=c;n.putImageData(h,0,0)},roundColor:t=>{var e=s.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,o(r(140)).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel;var a=s;e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=d(r(152)),i=d(r(141)),o=d(r(149)),s=d(r(166)),a=d(r(167)),u=d(r(168)),l=d(r(34)),c=r(28),h=d(r(102)),f=d(r(48));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,g=0;class v extends n.default{constructor(t){super(t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=l.default.SPRITE_BATCH_SIZE,this.buffers=[];for(var e=1;e<=f.default.nextPow2(this.size);e*=2)this.buffers.push(new u.default(4*e*this.vertByteSize));this.indices=(0,o.default)(this.size),this.shader=null,this.currentIndex=0,this.groups=[];for(var r=0;r<this.size;r++)this.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};this.sprites=[],this.vertexBuffers=[],this.vaos=[],this.vaoMax=2,this.vertexCount=0,this.renderer.on("prerender",this.onPrerender,this)}onContextChange(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=h.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=h.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)}onPrerender(){this.vertexCount=0}render(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)}flush(){if(0!==this.currentIndex){var t,e,r,n,i,o=this.renderer.gl,s=this.MAX_TEXTURES,a=f.default.nextPow2(this.currentIndex),u=f.default.log2(a),d=this.buffers[u],v=this.sprites,m=this.groups,_=d.float32View,y=d.uint32View,b=this.boundTextures,x=this.renderer.boundTextures,T=this.renderer.textureGC.count,E=0,w=1,A=0,S=m[0],I=c.premultiplyBlendMode[v[0]._texture.baseTexture.premultipliedAlpha?1:0][v[0].blendMode];for(S.textureCount=0,S.start=0,S.blend=I,p++,i=0;i<s;++i){var C=x[i];C._enabled!==p?(b[i]=C,C._virtalBoundId=i,C._enabled=p):b[i]=this.renderer.emptyTextures[i]}for(p++,i=0;i<this.currentIndex;++i){var O=v[i];v[i]=null,t=O._texture.baseTexture;var R=c.premultiplyBlendMode[Number(t.premultipliedAlpha)][O.blendMode];if(I!==R&&(I=R,e=null,A=s,p++),e!==t&&(e=t,t._enabled!==p)){if(A===s&&(p++,S.size=i-S.start,A=0,(S=m[w++]).blend=I,S.textureCount=0,S.start=i),t.touched=T,-1===t._virtalBoundId)for(var M=0;M<s;++M){var N=(M+g)%s,P=b[N];if(P._enabled!==p){g++,P._virtalBoundId=-1,t._virtalBoundId=N,b[N]=t;break}}t._enabled=p,S.textureCount++,S.ids[A]=t._virtalBoundId,S.textures[A++]=t}if(r=O.vertexData,n=O._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;_[E]=(r[0]*L|0)/L,_[E+1]=(r[1]*L|0)/L,_[E+5]=(r[2]*L|0)/L,_[E+6]=(r[3]*L|0)/L,_[E+10]=(r[4]*L|0)/L,_[E+11]=(r[5]*L|0)/L,_[E+15]=(r[6]*L|0)/L,_[E+16]=(r[7]*L|0)/L}else _[E]=r[0],_[E+1]=r[1],_[E+5]=r[2],_[E+6]=r[3],_[E+10]=r[4],_[E+11]=r[5],_[E+15]=r[6],_[E+16]=r[7];y[E+2]=n[0],y[E+7]=n[1],y[E+12]=n[2],y[E+17]=n[3];var D=Math.min(O.worldAlpha,1),k=D<1&&t.premultipliedAlpha?(0,c.premultiplyTint)(O._tintRGB,D):O._tintRGB+(255*D<<24);y[E+3]=y[E+8]=y[E+13]=y[E+18]=k,_[E+4]=_[E+9]=_[E+14]=_[E+19]=t._virtalBoundId,E+=20}if(S.size=i-S.start,l.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(d.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,B=this.vertexBuffers[this.vertexCount]=h.default.GLBuffer.createVertexBuffer(o,null,o.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(B,F.aVertexPosition,o.FLOAT,!1,this.vertByteSize,0).addAttribute(B,F.aTextureCoord,o.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(B,F.aColor,o.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&j.addAttribute(B,F.aTextureId,o.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(d.vertices,0,!1),this.vertexCount++}for(i=0;i<s;++i)x[i]._virtalBoundId=-1;for(i=0;i<w;++i){for(var U=m[i],V=U.textureCount,z=0;z<V;z++)e=U.textures[z],x[U.ids[z]]!==e&&this.renderer.bindTexture(e,U.ids[z],!0),e._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),o.drawElements(o.TRIANGLES,6*U.size,o.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}}start(){this.renderer.bindShader(this.shader),l.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())}stop(){this.flush()}destroy(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var e=0;e<this.buffers.length;++e)this.buffers[e].destroy()}}e.default=v,i.default.registerPlugin("sprite",v)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=o;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"}(e));for(var n=new i.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),s=[],a=0;a<e;a++)s[a]=a;return n.bind(),n.uniforms.uSamplers=s,n};var n,i=(n=r(150))&&n.__esModule?n:{default:n};r(62);var o=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var i=e.createShader(e.FRAGMENT_SHADER);;){var o=r.replace(/%forloop%/gi,n(t));if(e.shaderSource(i,o),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t};var r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function n(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}destroy(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=p(r(160)),i=p(r(136)),o=r(28),s=r(18),a=r(17),u=p(r(34)),l=p(r(170)),c=p(r(171)),h=p(r(172)),f=p(r(41)),d=r(135);function p(t){return t&&t.__esModule?t:{default:t}}p(r(173));var g={texture:!0,children:!1,baseTexture:!0};class v extends n.default{constructor(t,e,r){(r=r||f.default.createElement("canvas")).width=3,r.height=3;var n=i.default.fromCanvas(r,u.default.SCALE_MODE,"text");n.orig=new s.Rectangle,n.trim=new s.Rectangle,super(n),(0,d.addToTextureCache)(this._texture,this._texture.baseTexture.textureCacheIds[0]),this.canvas=r,this.context=this.canvas.getContext("2d"),this.resolution=u.default.RESOLUTION,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}updateText(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,i=this.context,o=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,u=o.lines,l=o.lineHeight,h=o.lineWidths,f=o.maxLineWidth,d=o.fontProperties;this.lineHeight=o.lineHeight,this.charWidth=d.fontSize+this._style.letterSpacing,this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBackground(e),this.drawSelection(),i.font=this._font,i.strokeStyle=e.stroke,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;var p=(l-d.fontSize)/2;if(e.dropShadow){i.fillStyle=e.dropShadowColor,i.globalAlpha=e.dropShadowAlpha,i.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(i.shadowColor=e.dropShadowColor);for(var g=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,m=0;m<u.length;m++)r=e.strokeThickness/2,n=p+e.strokeThickness/2+m*l+d.ascent,"right"===e.align?r+=f-h[m]:"center"===e.align&&(r+=(f-h[m])/2),e.fill&&(this.drawLetterSpacing(u[m],r+g+e.padding,n+v+e.padding),e.stroke&&e.strokeThickness&&(i.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(u[m],r+g+e.padding,n+v+e.padding,!0),i.strokeStyle=e.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(e,u);for(var _=[],y=0;y<u.length;y++)if(r=e.strokeThickness/2,n=p+e.strokeThickness/2+y*l+d.ascent,"right"===e.align?r+=f-h[y]:"center"===e.align&&(r+=(f-h[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[y],r+e.padding,n+e.padding,!0),e.fill){var b=_[_.length-1],x=b?b[b.length-1].ci:-1;_.push(this.drawLetterSpacing(u[y],r+e.padding,n+e.padding,!1,x+1))}this.chars=_,this.updateTexture()}}drawBackground(t){var e=t.background||t.backgroundColor;if(e){var{context:r,canvas:n,text:i}=this;String(i).trim()?(r.fillStyle=e,r.fillRect(0,0,n.width,n.height)):r.clearRect(0,0,n.width,n.height)}}drawSelection(){if(this.selectionStart&&this.selectionEnd){var t=this.lineHeight,[e,r]=this.selectionStart.lineIdx<this.selectionEnd.lineIdx||this.selectionStart.lineIdx==this.selectionEnd.lineIdx&&this.selectionStart.charIdx<=this.selectionEnd.charIdx?[this.selectionStart,this.selectionEnd]:[this.selectionEnd,this.selectionStart];this.selection={start:e,end:r};for(var n=e.lineIdx;n<=r.lineIdx;n++){var i,o,s=n===e.lineIdx?e.x:(null==(i=this.chars[n][0])?void 0:i.left)||0,a=n===r.lineIdx?r.x:(null==(o=this.chars[n][this.chars[n].length-1])?void 0:o.right)||0;this.context.fillStyle=this._style.selectionBgColor,this.context.fillRect(s,n*t,a-s,t)}}else this.selection=null}drawLetterSpacing(t,e,r,n,i){void 0===n&&(n=!1),void 0===i&&(i=0);for(var o=this._style.letterSpacing,s=Array.from(t),a=e,u=0,l="",c=this.context.measureText(t).width,h=0,f=[];u<s.length;){l=s[u++],e=a,n?this.context.strokeText(l,e,r):this.context.fillText(l,e,r),a+=c-(h=this.context.measureText(s.slice(u).join("")).width)+o,c=h;var d=a-.5*o;f.push({char:l,ci:i,top:r,left:e,right:d,cx:.5*(e+d)}),i++}return f}updateStyle(t){for(var e in t){var r=this.camelCase(e);"color"===r&&(r="fill"),this.style[r]=t[e]}}selectStart(t){this.selectionStart=this.indexOf(t),this.selectionEnd=null}selectEnd(t){this.selectionEnd=this.indexOf(t),this.cursorPoint={x:this.selectionEnd.x,y:this.selectionEnd.y+1},this.updateText(!1)}selectMove(t,e,r,n){if(this.selectionEnd){if(0!==t){var i;if(!r&&this.selection&&this.selection.start.ci<this.selection.end.ci){var o=this.selection[t>0?"end":"start"];i={x:o.x,y:o.y+1}}else if(!n&&t<0&&this.selectionEnd.charIdx<=0){if(this.selectionEnd.lineIdx>0){var s=this.chars[this.selectionEnd.lineIdx-1],a=s[s.length-1];i={x:a.left,y:a.top+1}}}else if(!n&&t>0&&this.selectionEnd.charIdx>=this.textLine(this.selectionEnd.lineIdx).length){if(this.selectionEnd.lineIdx+1<this.chars.length){var u=this.chars[this.selectionEnd.lineIdx],l="\n"!==u[u.length-1].char?"right":"left",c=this.chars[this.selectionEnd.lineIdx+1][0];i={x:c[l],y:c.top+1}}}else{var h=this.selectionEnd.charIdx+(t>0?1:-1),f=this.textLine(this.selectionEnd.lineIdx);n&&(h=t>0?f.length:0);var d=h>=f.length?"right":"left",p=f[Math.min(h,f.length-1)];i={x:p[d],y:p.top+1}}i&&(this.cursorPoint=i,this.selectionEnd=this.indexOf(i))}else{var g=this.selectionEnd.lineIdx+(e>0?1:-1),v=this.cursorPoint.x;n&&(g=e>0?this.chars.length:0,v=e>0?this.width:0),this.selectionEnd=this.indexOf({x:v,y:this.lineHeight*g+1})}r||(this.selectionStart=this.selectionEnd),this.updateText(!1)}}textLine(t){return this.chars[t].filter((t=>"\n"!=t.char))}indexOf(t){var e=Math.max(0,Math.min(this.chars.length-1,Math.floor(t.y/this.lineHeight))),r=0,n=this.chars[e][0]?this.chars[e][0].ci:0,i=this.chars[e][0]?this.chars[e][0].left:0;for(var o of this.chars[e])if("\n"!==o.char){if(t.x<o.cx)break;r++,i=o.right,n=o.ci+1}var s=this.lineHeight;return{lineIdx:e,charIdx:r,ci:n,x:i,y:e*s,height:s}}cursor(t){var e=t;void 0===t&&(e=this.selectionEnd.ci);var r=this.charOf(e),n="left";if(!r){var i=this.chars[this.chars.length-1];r=i[i.length-1],n="right"}if(this.selectionEnd=this.indexOf({x:r[n],y:r.top+1}),void 0===t)return this.selectionEnd;this.selectionStart=this.selectionEnd}input(t){var{text:e,cursorIndex:r}=this.delete(!1),n=Array.from(e);return n.splice(r,0,t),{text:n.join(""),cursorIndex:r+Array.from(t).length}}delete(t){void 0===t&&(t=!0);var e=Array.from(this.text),r=this.selection.start.ci-1,n=1,i=this.selectionEnd;if(this.selection&&this.selection.start.ci<this.selection.end.ci)r=this.selection.start.ci,n=this.selection.end.ci-this.selection.start.ci,i=this.selection.end,this.selectionStart=this.selectionEnd=i;else if(!t||!i||i.ci<1)return{text:this.text,cursorIndex:i?i.ci:e.length+1};e.splice(r,n);var o=this.chars[i.lineIdx],s=i.charIdx<o.length?"left":"right",a=o[Math.min(i.charIdx,o.length-1)];"right"===s&&this.chars[i.lineIdx+1]&&this.chars[i.lineIdx+1][0]&&(a=this.chars[i.lineIdx+1][0],s="left");var u=a.ci+("right"===s?1:0)-n;return{text:e.join(""),cursorIndex:u}}charOf(t){for(var e of this.chars)for(var r of e)if(r.ci===t)return r}selectionText(){return this.selection&&this.selection.start.ci<this.selection.end.ci?Array.from(this.text).slice(this.selection.start.ci,this.selection.end.ci).join(""):""}camelCase(t){return t.replace(/([\:\-\_]+(.))/g,(function(t,e,r,n){return n?r.toUpperCase():r})).replace(/^moz([A-Z])/,"Moz$1")}updateTexture(){var t=this.canvas;if(this._style.trim){var e=(0,h.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),o.adaptedNodeCanvas(),this.dirty=!1}renderWebGL(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),super.renderWebGL(t)}_renderCanvas(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}_generateFillStyle(t,e){if(t.fillImage)return this.context.createPattern(t.fillImage,"repeat");if(!Array.isArray(t.fill))return t.fill;var r,n,i,o,s=this.canvas.width/this.resolution,u=this.canvas.height/this.resolution,l=t.fill.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,f=1;f<h;++f)c.push(f/h);if(l.unshift(t.fill[0]),c.unshift(0),l.push(t.fill[t.fill.length-1]),c.push(1),t.fillGradientType===a.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,u),n=(l.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<l.length;p++)o="number"==typeof c[p]?c[p]/e.length+d/e.length:i/n,r.addColorStop(o,l[p]),i++}}else{r=this.context.createLinearGradient(0,u/2,s,u/2),n=l.length+1,i=1;for(var g=0;g<l.length;g++)o="number"==typeof c[g]?c[g]:i/n,r.addColorStop(o,l[g]),i++}return r}destroy(t){this.destroyed||("boolean"==typeof t&&(t={children:t}),t=Object.assign({},g,t),super.destroy(t),this.context=null,this.canvas=null,this._style=null)}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get font(){return this._font}get style(){return this._style}set style(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}e.default=v},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(17),i=r(28),o={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:["Helvetica","Arial","sans-serif"],fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];class a{constructor(t){this.styleID=0,this.reset(),c(this,t,t)}clone(){var t={};return c(t,this,o),new a(t)}reset(){c(this,o,o)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){var e=l(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){var e=l(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){var e=l(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&s.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")}}function u(t){return"number"==typeof t?(0,i.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function l(t){if(!Array.isArray(t))return u(t);for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}function c(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=a},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(41))&&n.__esModule?n:{default:n};class o{constructor(t,e,r,n,i,o,s,a,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}static measureText(t,e,r,n){void 0===n&&(n=o._canvas),r=null==r?e.wordWrap:r;var i,s=e.toFontString(),a=o.measureFont(s),u=n.getContext("2d");u.font=s,i=r?o.wordWrap(t,e,n):t.split(/(?:\r\n|\r|\n)/).map((t=>t+"\n"));var l=0;i[i.length-1].endsWith("\n")&&(l=-1);var c=Array.from(t).length;i.map((t=>l+=Array.from(t).length)),c!==l&&console.error("text parse err!!!",{before:c,after:l},i);for(var h=new Array(i.length),f=0,d=0;d<i.length;d++){var p=i[d];p.endsWith("\n")&&(p=p.substring(0,p.length-1));var g=u.measureText(p).width+(Array.from(p).length-1)*e.letterSpacing;h[d]=g,f=Math.max(f,g)}var v=f+e.strokeThickness;e.dropShadow&&(v+=e.dropShadowDistance);var m=e.lineHeight||a.fontSize+e.strokeThickness,_=Math.max(m,a.fontSize+e.strokeThickness)+(i.length-1)*(m+e.leading);return e.dropShadow&&(_+=e.dropShadowDistance),new o(t,e,v,_,i,h,m+e.leading,f,a)}static wordWrap(t,e,r){void 0===r&&(r=o._canvas);for(var n=r.getContext("2d"),i=0,s="",a=[],u={},{letterSpacing:l,whiteSpace:c}=e,h=o.collapseSpaces(c),f=o.collapseNewlines(c),d=!h,p=e.wordWrapWidth+l,g=o.tokenize(t),v=0;v<g.length;v++){var m=g[v];if(o.isNewline(m)){if(!f){a.push(o.addLine(s,"T0")),d=!h,s="",i=0;continue}m=" "}if(h){var _=o.isBreakingSpace(m),y=o.isBreakingSpace(s[s.length-1]);if(_&&y)continue}var b=o.getFromCache(m,l,u,n);if(b>p)if(""!==s&&(a.push(o.addLine(s,"T1",!1)),s="",i=0),o.canBreakWords(m,e.breakWords))for(var x=Array.from(m),T=0;T<x.length;T++){for(var E=x[T],w=1;x[T+w];){var A=x[T+w],S=E[E.length-1];if(o.canBreakChars(S,A,m,T,e.breakWords))break;E+=A,w++,T++}var I=o.getFromCache(E,l,u,n);I+i>p&&(a.push(o.addLine(s,"T2",!1)),d=!1,s="",i=0),s+=E,i+=I}else{s.length>0&&(a.push(o.addLine(s,"T3",!1)),s="",i=0);var C=v===g.length-1;a.push(o.addLine(m,"T4",C)),d=!1,s="",i=0}else{if(b+i>p){for(d=!1;o.isBreakingSpace(m);)if(s+=m,void 0===(m=g[++v])){m="";break}a.push(o.addLine(s,"T5",!1)),s="",i=0}(s.length>0||!o.isBreakingSpace(m)||d)&&(s+=m,i+=b)}}a.push(o.addLine(s,"T6"));for(var O=0;O<a.length-1;O++)a[O].endsWith("\n")||"\n"!==a[O+1]||(a[O]+=a[O+1],a[O+1]="");return a.filter((t=>t.length>0))}static addLine(t,e,r){return void 0===r&&(r=!0),r?t+"\n":t}static getFromCache(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i}static collapseSpaces(t){return"normal"===t||"pre-line"===t}static collapseNewlines(t){return"normal"===t}static trimRight(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!o.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&o._newlines.indexOf(t.charCodeAt(0))>=0}static isBreakingSpace(t){return"string"==typeof t&&o._breakingSpaces.indexOf(t.charCodeAt(0))>=0}static tokenize(t){var e=[],r="";if("string"!=typeof t)return e;for(var n=0;n<t.length;n++){var i=t[n];o.isBreakingSpace(i)||o.isNewline(i)?(""!==r&&(e.push(r),r=""),e.push(i)):r+=i}return""!==r&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static measureFont(t){if(o._fonts[t])return o._fonts[t];var e={},r=o._canvas,n=o._context;n.font=t;var i=o.METRICS_STRING+o.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width),a=Math.ceil(n.measureText(o.BASELINE_SYMBOL).width),u=2*a;a=a*o.BASELINE_MULTIPLIER|0,r.width=s,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,s,u),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,a);var l=n.getImageData(0,0,s,u).data,c=l.length,h=4*s,f=0,d=0,p=!1;for(f=0;f<a;++f){for(var g=0;g<h;g+=4)if(255!==l[d+g]){p=!0;break}if(p)break;d+=h}for(e.ascent=a-f,d=c-h,p=!1,f=u;f>a;--f){for(var v=0;v<h;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d-=h}return e.descent=f-a,e.fontSize=e.ascent+e.descent,o._fonts[t]=e,e}static clearMetrics(t){void 0===t&&(t=""),t?delete o._fonts[t]:o._fonts={}}}e.default=o;var s=i.default.createElement("canvas");s.width=s.height=10,o._canvas=s,o._context=s.getContext("2d"),o._fonts={},o.METRICS_STRING="|q",o.BASELINE_SYMBOL="M",o.BASELINE_MULTIPLIER=1.4,o._newlines=[10,13],o._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,r,n,i=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,i,o).data,u=a.length,l={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<u;e+=4)0!==a[e+3]&&(r=e/4%i,n=~~(e/4/i),null===l.top&&(l.top=n),(null===l.left||r<l.left)&&(l.left=r),(null===l.right||l.right<r)&&(l.right=r+1),(null===l.bottom||l.bottom<n)&&(l.bottom=n));return null!==l.top&&(i=l.right-l.left,o=l.bottom-l.top+1,c=s.getImageData(l.left,l.top,i,o)),{height:o,width:i,data:c}}},function(t,e,r){var n;t=r.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,l=128,c=1/0,h=9007199254740991,f=NaN,d=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],g="[object Arguments]",v="[object Array]",m="[object Boolean]",_="[object Date]",y="[object Error]",b="[object Function]",x="[object GeneratorFunction]",T="[object Map]",E="[object Number]",w="[object Object]",A="[object Promise]",S="[object RegExp]",I="[object Set]",C="[object String]",O="[object Symbol]",R="[object WeakMap]",M="[object ArrayBuffer]",N="[object DataView]",P="[object Float32Array]",L="[object Float64Array]",D="[object Int8Array]",k="[object Int16Array]",F="[object Int32Array]",B="[object Uint8Array]",j="[object Uint8ClampedArray]",U="[object Uint16Array]",V="[object Uint32Array]",z=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,X=RegExp(H.source),q=RegExp($.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),nt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",Et="A-Z\\xc0-\\xd6\\xd8-\\xde",wt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="["+wt+"]",St="["+xt+"]",It="\\d+",Ct="["+Tt+"]",Ot="[^\\ud800-\\udfff"+wt+It+"\\u2700-\\u27bf"+Tt+Et+"]",Rt="\\ud83c[\\udffb-\\udfff]",Mt="[^\\ud800-\\udfff]",Nt="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="["+Et+"]",Dt="(?:"+Ct+"|"+Ot+")",kt="(?:"+Lt+"|"+Ot+")",Ft="(?:['](?:d|ll|m|re|s|t|ve))?",Bt="(?:['](?:D|LL|M|RE|S|T|VE))?",jt="(?:"+St+"|"+Rt+")?",Ut="[\\ufe0e\\ufe0f]?",Vt=Ut+jt+"(?:\\u200d(?:"+[Mt,Nt,Pt].join("|")+")"+Ut+jt+")*",zt="(?:"+["[\\u2700-\\u27bf]",Nt,Pt].join("|")+")"+Vt,Wt="(?:"+[Mt+St+"?",St,Nt,Pt,"[\\ud800-\\udfff]"].join("|")+")",Gt=RegExp("[']","g"),Ht=RegExp(St,"g"),$t=RegExp(Rt+"(?="+Rt+")|"+Wt+Vt,"g"),Xt=RegExp([Lt+"?"+Ct+"+"+Ft+"(?="+[At,Lt,"$"].join("|")+")",kt+"+"+Bt+"(?="+[At,Lt+Dt,"$"].join("|")+")",Lt+"?"+Dt+"+"+Ft,Lt+"+"+Bt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,zt].join("|"),"g"),qt=RegExp("[\\u200d\\ud800-\\udfff"+xt+"\\ufe0e\\ufe0f]"),Yt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jt=-1,Zt={};Zt[P]=Zt[L]=Zt[D]=Zt[k]=Zt[F]=Zt[B]=Zt[j]=Zt[U]=Zt[V]=!0,Zt[g]=Zt[v]=Zt[M]=Zt[m]=Zt[N]=Zt[_]=Zt[y]=Zt[b]=Zt[T]=Zt[E]=Zt[w]=Zt[S]=Zt[I]=Zt[C]=Zt[R]=!1;var Qt={};Qt[g]=Qt[v]=Qt[M]=Qt[N]=Qt[m]=Qt[_]=Qt[P]=Qt[L]=Qt[D]=Qt[k]=Qt[F]=Qt[T]=Qt[E]=Qt[w]=Qt[S]=Qt[I]=Qt[C]=Qt[O]=Qt[B]=Qt[j]=Qt[U]=Qt[V]=!0,Qt[y]=Qt[b]=Qt[R]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,re=parseInt,ne="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=ne||ie||Function("return this")(),se=e&&!e.nodeType&&e,ae=se&&t&&!t.nodeType&&t,ue=ae&&ae.exports===se,le=ue&&ne.process,ce=function(){try{return ae&&ae.require&&ae.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),he=ce&&ce.isArrayBuffer,fe=ce&&ce.isDate,de=ce&&ce.isMap,pe=ce&&ce.isRegExp,ge=ce&&ce.isSet,ve=ce&&ce.isTypedArray;function me(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function _e(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function ye(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function be(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function xe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Te(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ee(t,e){return!(null==t||!t.length)&&Pe(t,e,0)>-1}function we(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ae(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Se(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Ie(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ce(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Oe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Re=Fe("length");function Me(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Ne(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Pe(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Ne(t,De,r)}function Le(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function De(t){return t!=t}function ke(t,e){var r=null==t?0:t.length;return r?Ue(t,e)/r:f}function Fe(t){return function(e){return null==e?i:e[t]}}function Be(t){return function(e){return null==t?i:t[e]}}function je(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Ue(t,e){for(var r,n=-1,o=t.length;++n<o;){var s=e(t[n]);s!==i&&(r=r===i?s:r+s)}return r}function Ve(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function ze(t){return t?t.slice(0,sr(t)+1).replace(nt,""):t}function We(t){return function(e){return t(e)}}function Ge(t,e){return Ae(e,(function(e){return t[e]}))}function He(t,e){return t.has(e)}function $e(t,e){for(var r=-1,n=t.length;++r<n&&Pe(e,t[r],0)>-1;);return r}function Xe(t,e){for(var r=t.length;r--&&Pe(e,t[r],0)>-1;);return r}function qe(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var Ye=Be({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Ke=Be({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Je(t){return"\\"+te[t]}function Ze(t){return qt.test(t)}function Qe(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function tr(t,e){return function(r){return t(e(r))}}function er(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==a||(t[r]=a,o[i++]=r)}return o}function rr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function nr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function ir(t){return Ze(t)?function(t){for(var e=$t.lastIndex=0;$t.test(t);)++e;return e}(t):Re(t)}function or(t){return Ze(t)?function(t){return t.match($t)||[]}(t):function(t){return t.split("")}(t)}function sr(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var ar=Be({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ur=function t(e){var r,n=(e=null==e?oe:ur.defaults(oe.Object(),e,ur.pick(oe,Kt))).Array,it=e.Date,xt=e.Error,Tt=e.Function,Et=e.Math,wt=e.Object,At=e.RegExp,St=e.String,It=e.TypeError,Ct=n.prototype,Ot=Tt.prototype,Rt=wt.prototype,Mt=e["__core-js_shared__"],Nt=Ot.toString,Pt=Rt.hasOwnProperty,Lt=0,Dt=(r=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",kt=Rt.toString,Ft=Nt.call(wt),Bt=oe._,jt=At("^"+Nt.call(Pt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=ue?e.Buffer:i,Vt=e.Symbol,zt=e.Uint8Array,Wt=Ut?Ut.allocUnsafe:i,$t=tr(wt.getPrototypeOf,wt),qt=wt.create,te=Rt.propertyIsEnumerable,ne=Ct.splice,ie=Vt?Vt.isConcatSpreadable:i,se=Vt?Vt.iterator:i,ae=Vt?Vt.toStringTag:i,le=function(){try{var t=lo(wt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Re=it&&it.now!==oe.Date.now&&it.now,Be=e.setTimeout!==oe.setTimeout&&e.setTimeout,lr=Et.ceil,cr=Et.floor,hr=wt.getOwnPropertySymbols,fr=Ut?Ut.isBuffer:i,dr=e.isFinite,pr=Ct.join,gr=tr(wt.keys,wt),vr=Et.max,mr=Et.min,_r=it.now,yr=e.parseInt,br=Et.random,xr=Ct.reverse,Tr=lo(e,"DataView"),Er=lo(e,"Map"),wr=lo(e,"Promise"),Ar=lo(e,"Set"),Sr=lo(e,"WeakMap"),Ir=lo(wt,"create"),Cr=Sr&&new Sr,Or={},Rr=jo(Tr),Mr=jo(Er),Nr=jo(wr),Pr=jo(Ar),Lr=jo(Sr),Dr=Vt?Vt.prototype:i,kr=Dr?Dr.valueOf:i,Fr=Dr?Dr.toString:i;function Br(t){if(ra(t)&&!Hs(t)&&!(t instanceof zr)){if(t instanceof Vr)return t;if(Pt.call(t,"__wrapped__"))return Uo(t)}return new Vr(t)}var jr=function(){function t(){}return function(e){if(!ea(e))return{};if(qt)return qt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function Ur(){}function Vr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function zr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Hr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $r(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Hr;++e<r;)this.add(t[e])}function Xr(t){var e=this.__data__=new Gr(t);this.size=e.size}function qr(t,e){var r=Hs(t),n=!r&&Gs(t),i=!r&&!n&&Ys(t),o=!r&&!n&&!i&&ca(t),s=r||n||i||o,a=s?Ve(t.length,St):[],u=a.length;for(var l in t)!e&&!Pt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mo(l,u))||a.push(l);return a}function Yr(t){var e=t.length;return e?t[$n(0,e-1)]:i}function Kr(t,e){return Lo(Ii(t),sn(e,0,t.length))}function Jr(t){return Lo(Ii(t))}function Zr(t,e,r){(r!==i&&!Vs(t[e],r)||r===i&&!(e in t))&&nn(t,e,r)}function Qr(t,e,r){var n=t[e];Pt.call(t,e)&&Vs(n,r)&&(r!==i||e in t)||nn(t,e,r)}function tn(t,e){for(var r=t.length;r--;)if(Vs(t[r][0],e))return r;return-1}function en(t,e,r,n){return hn(t,(function(t,i,o){e(n,t,r(t),o)})),n}function rn(t,e){return t&&Ci(e,Na(e),t)}function nn(t,e,r){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function on(t,e){for(var r=-1,o=e.length,s=n(o),a=null==t;++r<o;)s[r]=a?i:Ia(t,e[r]);return s}function sn(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function an(t,e,r,n,o,s){var a,u=1&e,l=2&e,c=4&e;if(r&&(a=o?r(t,n,o,s):r(t)),a!==i)return a;if(!ea(t))return t;var h=Hs(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return Ii(t,a)}else{var f=fo(t),d=f==b||f==x;if(Ys(t))return xi(t,u);if(f==w||f==g||d&&!o){if(a=l||d?{}:go(t),!u)return l?function(t,e){return Ci(t,ho(t),e)}(t,function(t,e){return t&&Ci(e,Pa(e),t)}(a,t)):function(t,e){return Ci(t,co(t),e)}(t,rn(a,t))}else{if(!Qt[f])return o?t:{};a=function(t,e,r){var n,i=t.constructor;switch(e){case M:return Ti(t);case m:case _:return new i(+t);case N:return function(t,e){var r=e?Ti(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case P:case L:case D:case k:case F:case B:case j:case U:case V:return Ei(t,r);case T:return new i;case E:case C:return new i(t);case S:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new i;case O:return n=t,kr?wt(kr.call(n)):{}}}(t,f,u)}}s||(s=new Xr);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(n){a.add(an(n,e,r,n,t,s))})):na(t)&&t.forEach((function(n,i){a.set(i,an(n,e,r,i,t,s))}));var v=h?i:(c?l?ro:eo:l?Pa:Na)(t);return ye(v||t,(function(n,i){v&&(n=t[i=n]),Qr(a,i,an(n,e,r,i,t,s))})),a}function un(t,e,r){var n=r.length;if(null==t)return!n;for(t=wt(t);n--;){var o=r[n],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function ln(t,e,r){if("function"!=typeof t)throw new It(o);return Ro((function(){t.apply(i,r)}),e)}function cn(t,e,r,n){var i=-1,o=Ee,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;r&&(e=Ae(e,We(r))),n?(o=we,s=!1):e.length>=200&&(o=He,s=!1,e=new $r(e));t:for(;++i<a;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,s&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,n)||u.push(c)}return u}Br.templateSettings={escape:Y,evaluate:K,interpolate:J,variable:"",imports:{_:Br}},Br.prototype=Ur.prototype,Br.prototype.constructor=Br,Vr.prototype=jr(Ur.prototype),Vr.prototype.constructor=Vr,zr.prototype=jr(Ur.prototype),zr.prototype.constructor=zr,Wr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},Wr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wr.prototype.get=function(t){var e=this.__data__;if(Ir){var r=e[t];return r===s?i:r}return Pt.call(e,t)?e[t]:i},Wr.prototype.has=function(t){var e=this.__data__;return Ir?e[t]!==i:Pt.call(e,t)},Wr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ir&&e===i?s:e,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(t){var e=this.__data__,r=tn(e,t);return!(r<0||(r==e.length-1?e.pop():ne.call(e,r,1),--this.size,0))},Gr.prototype.get=function(t){var e=this.__data__,r=tn(e,t);return r<0?i:e[r][1]},Gr.prototype.has=function(t){return tn(this.__data__,t)>-1},Gr.prototype.set=function(t,e){var r=this.__data__,n=tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Er||Gr),string:new Wr}},Hr.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Hr.prototype.get=function(t){return ao(this,t).get(t)},Hr.prototype.has=function(t){return ao(this,t).has(t)},Hr.prototype.set=function(t,e){var r=ao(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},$r.prototype.add=$r.prototype.push=function(t){return this.__data__.set(t,s),this},$r.prototype.has=function(t){return this.__data__.has(t)},Xr.prototype.clear=function(){this.__data__=new Gr,this.size=0},Xr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Xr.prototype.get=function(t){return this.__data__.get(t)},Xr.prototype.has=function(t){return this.__data__.has(t)},Xr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!Er||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(t,e),this.size=r.size,this};var hn=Mi(yn),fn=Mi(bn,!0);function dn(t,e){var r=!0;return hn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function pn(t,e,r){for(var n=-1,o=t.length;++n<o;){var s=t[n],a=e(s);if(null!=a&&(u===i?a==a&&!la(a):r(a,u)))var u=a,l=s}return l}function gn(t,e){var r=[];return hn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function vn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=vo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?vn(a,e-1,r,n,i):Se(i,a):n||(i[i.length]=a)}return i}var mn=Ni(),_n=Ni(!0);function yn(t,e){return t&&mn(t,e,Na)}function bn(t,e){return t&&_n(t,e,Na)}function xn(t,e){return Te(e,(function(e){return Zs(t[e])}))}function Tn(t,e){for(var r=0,n=(e=mi(e,t)).length;null!=t&&r<n;)t=t[Bo(e[r++])];return r&&r==n?t:i}function En(t,e,r){var n=e(t);return Hs(t)?n:Se(n,r(t))}function wn(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in wt(t)?function(t){var e=Pt.call(t,ae),r=t[ae];try{t[ae]=i;var n=!0}catch(t){}var o=kt.call(t);return n&&(e?t[ae]=r:delete t[ae]),o}(t):function(t){return kt.call(t)}(t)}function An(t,e){return t>e}function Sn(t,e){return null!=t&&Pt.call(t,e)}function In(t,e){return null!=t&&e in wt(t)}function Cn(t,e,r){for(var o=r?we:Ee,s=t[0].length,a=t.length,u=a,l=n(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Ae(f,We(e))),c=mr(f.length,c),l[u]=!r&&(e||s>=120&&f.length>=120)?new $r(u&&f):i}f=t[0];var d=-1,p=l[0];t:for(;++d<s&&h.length<c;){var g=f[d],v=e?e(g):g;if(g=r||0!==g?g:0,!(p?He(p,v):o(h,v,r))){for(u=a;--u;){var m=l[u];if(!(m?He(m,v):o(t[u],v,r)))continue t}p&&p.push(v),h.push(g)}}return h}function On(t,e,r){var n=null==(t=So(t,e=mi(e,t)))?t:t[Bo(Jo(e))];return null==n?i:me(n,t,r)}function Rn(t){return ra(t)&&wn(t)==g}function Mn(t,e,r,n,o){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,n,o,s){var a=Hs(t),u=Hs(e),l=a?v:fo(t),c=u?v:fo(e),h=(l=l==g?w:l)==w,f=(c=c==g?w:c)==w,d=l==c;if(d&&Ys(t)){if(!Ys(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Xr),a||ca(t)?Qi(t,e,r,n,o,s):function(t,e,r,n,i,o,s){switch(r){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!o(new zt(t),new zt(e)));case m:case _:case E:return Vs(+t,+e);case y:return t.name==e.name&&t.message==e.message;case S:case C:return t==e+"";case T:var a=Qe;case I:var u=1&n;if(a||(a=rr),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;n|=2,s.set(t,e);var c=Qi(a(t),a(e),n,i,o,s);return s.delete(t),c;case O:if(kr)return kr.call(t)==kr.call(e)}return!1}(t,e,l,r,n,o,s);if(!(1&r)){var p=h&&Pt.call(t,"__wrapped__"),b=f&&Pt.call(e,"__wrapped__");if(p||b){var x=p?t.value():t,A=b?e.value():e;return s||(s=new Xr),o(x,A,r,n,s)}}return!!d&&(s||(s=new Xr),function(t,e,r,n,o,s){var a=1&r,u=eo(t),l=u.length;if(l!=eo(e).length&&!a)return!1;for(var c=l;c--;){var h=u[c];if(!(a?h in e:Pt.call(e,h)))return!1}var f=s.get(t),d=s.get(e);if(f&&d)return f==e&&d==t;var p=!0;s.set(t,e),s.set(e,t);for(var g=a;++c<l;){var v=t[h=u[c]],m=e[h];if(n)var _=a?n(m,v,h,e,t,s):n(v,m,h,t,e,s);if(!(_===i?v===m||o(v,m,r,n,s):_)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,r,n,o,s))}(t,e,r,n,Mn,o))}function Nn(t,e,r,n){var o=r.length,s=o,a=!n;if(null==t)return!s;for(t=wt(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var l=(u=r[o])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===i&&!(l in t))return!1}else{var f=new Xr;if(n)var d=n(c,h,l,t,e,f);if(!(d===i?Mn(h,c,3,n,f):d))return!1}}return!0}function Pn(t){return!(!ea(t)||(e=t,Dt&&Dt in e))&&(Zs(t)?jt:gt).test(jo(t));var e}function Ln(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Hs(t)?jn(t[0],t[1]):Bn(t):du(t)}function Dn(t){if(!To(t))return gr(t);var e=[];for(var r in wt(t))Pt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function kn(t,e){return t<e}function Fn(t,e){var r=-1,i=Xs(t)?n(t.length):[];return hn(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Bn(t){var e=uo(t);return 1==e.length&&e[0][2]?wo(e[0][0],e[0][1]):function(r){return r===t||Nn(r,t,e)}}function jn(t,e){return yo(t)&&Eo(e)?wo(Bo(t),e):function(r){var n=Ia(r,t);return n===i&&n===e?Ca(r,t):Mn(e,n,3)}}function Un(t,e,r,n,o){t!==e&&mn(e,(function(s,a){if(o||(o=new Xr),ea(s))!function(t,e,r,n,o,s,a){var u=Co(t,r),l=Co(e,r),c=a.get(l);if(c)Zr(t,r,c);else{var h=s?s(u,l,r+"",t,e,a):i,f=h===i;if(f){var d=Hs(l),p=!d&&Ys(l),g=!d&&!p&&ca(l);h=l,d||p||g?Hs(u)?h=u:qs(u)?h=Ii(u):p?(f=!1,h=xi(l,!0)):g?(f=!1,h=Ei(l,!0)):h=[]:oa(l)||Gs(l)?(h=u,Gs(u)?h=_a(u):ea(u)&&!Zs(u)||(h=go(l))):f=!1}f&&(a.set(l,h),o(h,l,n,s,a),a.delete(l)),Zr(t,r,h)}}(t,e,a,r,Un,n,o);else{var u=n?n(Co(t,a),s,a+"",t,e,o):i;u===i&&(u=s),Zr(t,a,u)}}),Pa)}function Vn(t,e){var r=t.length;if(r)return mo(e+=e<0?r:0,r)?t[e]:i}function zn(t,e,r){e=e.length?Ae(e,(function(t){return Hs(t)?function(e){return Tn(e,1===t.length?t[0]:t)}:t})):[iu];var n=-1;e=Ae(e,We(so()));var i=Fn(t,(function(t,r,i){var o=Ae(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var u=wi(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}));n--;)t[n]=t[n].value;return t}(i)}function Wn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Tn(t,s);r(a,s)&&Jn(o,mi(s,t),a)}return o}function Gn(t,e,r,n){var i=n?Le:Pe,o=-1,s=e.length,a=t;for(t===e&&(e=Ii(e)),r&&(a=Ae(t,We(r)));++o<s;)for(var u=0,l=e[o],c=r?r(l):l;(u=i(a,c,u,n))>-1;)a!==t&&ne.call(a,u,1),ne.call(t,u,1);return t}function Hn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;mo(i)?ne.call(t,i,1):li(t,i)}}return t}function $n(t,e){return t+cr(br()*(e-t+1))}function Xn(t,e){var r="";if(!t||e<1||e>h)return r;do{e%2&&(r+=t),(e=cr(e/2))&&(t+=t)}while(e);return r}function qn(t,e){return Mo(Ao(t,e,iu),t+"")}function Yn(t){return Yr(Va(t))}function Kn(t,e){var r=Va(t);return Lo(r,sn(e,0,r.length))}function Jn(t,e,r,n){if(!ea(t))return t;for(var o=-1,s=(e=mi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var l=Bo(e[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=a){var h=u[l];(c=n?n(h,l,u):i)===i&&(c=ea(h)?h:mo(e[o+1])?[]:{})}Qr(u,l,c),u=u[l]}return t}var Zn=Cr?function(t,e){return Cr.set(t,e),t}:iu,Qn=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ti(t){return Lo(Va(t))}function ei(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function ri(t,e){var r;return hn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!la(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return ii(t,e,iu,r)}function ii(t,e,r,n){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,u=null===e,l=la(e),c=e===i;o<s;){var h=cr((o+s)/2),f=r(t[h]),d=f!==i,p=null===f,g=f==f,v=la(f);if(a)var m=n||g;else m=c?g&&(n||d):u?g&&d&&(n||!p):l?g&&d&&!p&&(n||!v):!p&&!v&&(n?f<=e:f<e);m?o=h+1:s=h}return mr(s,4294967294)}function oi(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Vs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function si(t){return"number"==typeof t?t:la(t)?f:+t}function ai(t){if("string"==typeof t)return t;if(Hs(t))return Ae(t,ai)+"";if(la(t))return Fr?Fr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,r){var n=-1,i=Ee,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=we;else if(o>=200){var l=e?null:Xi(t);if(l)return rr(l);s=!1,i=He,u=new $r}else u=e?[]:a;t:for(;++n<o;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(c)}else i(u,h,r)||(u!==a&&u.push(h),a.push(c))}return a}function li(t,e){return null==(t=So(t,e=mi(e,t)))||delete t[Bo(Jo(e))]}function ci(t,e,r,n){return Jn(t,e,r(Tn(t,e)),n)}function hi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?ei(t,n?0:o,n?o+1:i):ei(t,n?o+1:0,n?i:o)}function fi(t,e){var r=t;return r instanceof zr&&(r=r.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,Se([t],e.args))}),r)}function di(t,e,r){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=cn(s[o]||a,t[u],e,r));return ui(vn(s,1),e,r)}function pi(t,e,r){for(var n=-1,o=t.length,s=e.length,a={};++n<o;){var u=n<s?e[n]:i;r(a,t[n],u)}return a}function gi(t){return qs(t)?t:[]}function vi(t){return"function"==typeof t?t:iu}function mi(t,e){return Hs(t)?t:yo(t,e)?[t]:Fo(ya(t))}var _i=qn;function yi(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ei(t,e,r)}var bi=ce||function(t){return oe.clearTimeout(t)};function xi(t,e){if(e)return t.slice();var r=t.length,n=Wt?Wt(r):new t.constructor(r);return t.copy(n),n}function Ti(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function Ei(t,e){var r=e?Ti(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function wi(t,e){if(t!==e){var r=t!==i,n=null===t,o=t==t,s=la(t),a=e!==i,u=null===e,l=e==e,c=la(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||n&&a&&l||!r&&l||!o)return 1;if(!n&&!s&&!c&&t<e||c&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!l)return-1}return 0}function Ai(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,l=e.length,c=vr(s-a,0),h=n(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Si(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,l=-1,c=e.length,h=vr(s-u,0),f=n(h+c),d=!i;++o<h;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++a<u;)(d||o<s)&&(f[p+r[a]]=t[o++]);return f}function Ii(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ci(t,e,r,n){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=n?n(r[u],t[u],u,r,t):i;l===i&&(l=t[u]),o?nn(r,u,l):Qr(r,u,l)}return r}function Oi(t,e){return function(r,n){var i=Hs(r)?_e:en,o=e?e():{};return i(r,t,so(n,2),o)}}function Ri(t){return qn((function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&_o(r[0],r[1],a)&&(s=o<3?i:s,o=1),e=wt(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e}))}function Mi(t,e){return function(r,n){if(null==r)return r;if(!Xs(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=wt(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ni(t){return function(e,r,n){for(var i=-1,o=wt(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function Pi(t){return function(e){var r=Ze(e=ya(e))?or(e):i,n=r?r[0]:e.charAt(0),o=r?yi(r,1).join(""):e.slice(1);return n[t]()+o}}function Li(t){return function(e){return Ie(Za(Ga(e).replace(Gt,"")),t,"")}}function Di(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=jr(t.prototype),n=t.apply(r,e);return ea(n)?n:r}}function ki(t){return function(e,r,n){var o=wt(e);if(!Xs(e)){var s=so(r,3);e=Na(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,n);return a>-1?o[s?e[a]:a]:i}}function Fi(t){return to((function(e){var r=e.length,n=r,s=Vr.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new It(o);if(s&&!u&&"wrapper"==io(a))var u=new Vr([],!0)}for(n=u?n:r;++n<r;){var l=io(a=e[n]),c="wrapper"==l?no(a):i;u=c&&bo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[io(c[0])].apply(u,c[3]):1==a.length&&bo(a)?u[l]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Hs(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Bi(t,e,r,o,s,a,u,c,h,f){var d=e&l,p=1&e,g=2&e,v=24&e,m=512&e,_=g?i:Di(t);return function i(){for(var l=arguments.length,y=n(l),b=l;b--;)y[b]=arguments[b];if(v)var x=oo(i),T=qe(y,x);if(o&&(y=Ai(y,o,s,v)),a&&(y=Si(y,a,u,v)),l-=T,v&&l<f){var E=er(y,x);return Hi(t,e,Bi,i.placeholder,r,y,E,c,h,f-l)}var w=p?r:this,A=g?w[t]:t;return l=y.length,c?y=Io(y,c):m&&l>1&&y.reverse(),d&&h<l&&(y.length=h),this&&this!==oe&&this instanceof i&&(A=_||Di(A)),A.apply(w,y)}}function ji(t,e){return function(r,n){return function(t,e,r,n){return yn(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Ui(t,e){return function(r,n){var o;if(r===i&&n===i)return e;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ai(r),n=ai(n)):(r=si(r),n=si(n)),o=t(r,n)}return o}}function Vi(t){return to((function(e){return e=Ae(e,We(so())),qn((function(r){var n=this;return t(e,(function(t){return me(t,n,r)}))}))}))}function zi(t,e){var r=(e=e===i?" ":ai(e)).length;if(r<2)return r?Xn(e,t):e;var n=Xn(e,lr(t/ir(e)));return Ze(e)?yi(or(n),0,t).join(""):n.slice(0,t)}function Wi(t){return function(e,r,o){return o&&"number"!=typeof o&&_o(e,r,o)&&(r=o=i),e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r,i){for(var o=-1,s=vr(lr((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,o=o===i?e<r?1:-1:pa(o),t)}}function Gi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ma(e),r=ma(r)),t(e,r)}}function Hi(t,e,r,n,o,s,a,l,c,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var d=[t,e,o,f?s:i,f?a:i,f?i:s,f?i:a,l,c,h],p=r.apply(i,d);return bo(t)&&Oo(p,d),p.placeholder=n,No(p,t,e)}function $i(t){var e=Et[t];return function(t,r){if(t=ma(t),(r=null==r?0:mr(ga(r),292))&&dr(t)){var n=(ya(t)+"e").split("e");return+((n=(ya(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Xi=Ar&&1/rr(new Ar([,-0]))[1]==c?function(t){return new Ar(t)}:lu;function qi(t){return function(e){var r=fo(e);return r==T?Qe(e):r==I?nr(e):function(t,e){return Ae(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,r,s,c,h,f,d){var p=2&e;if(!p&&"function"!=typeof t)throw new It(o);var g=s?s.length:0;if(g||(e&=-97,s=c=i),f=f===i?f:vr(ga(f),0),d=d===i?d:ga(d),g-=c?c.length:0,64&e){var v=s,m=c;s=c=i}var _=p?i:no(t),y=[t,e,r,s,c,v,m,h,f,d];if(_&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,s=n==l&&8==r||n==l&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!s)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ai(c,u,e[4]):u,t[4]=c?er(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Si(c,u,e[6]):u,t[6]=c?er(t[5],a):e[6]),(u=e[7])&&(t[7]=u),n&l&&(t[8]=null==t[8]?e[8]:mr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,_),t=y[0],e=y[1],r=y[2],s=y[3],c=y[4],!(d=y[9]=y[9]===i?p?0:t.length:vr(y[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,r){var o=Di(t);return function s(){for(var a=arguments.length,u=n(a),l=a,c=oo(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:er(u,c);return(a-=h.length)<r?Hi(t,e,Bi,s.placeholder,i,u,h,i,i,r-a):me(this&&this!==oe&&this instanceof s?o:t,this,u)}}(t,e,d):e!=u&&33!=e||c.length?Bi.apply(i,y):function(t,e,r,i){var o=1&e,s=Di(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==oe&&this instanceof e?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return me(f,o?r:this,h)}}(t,e,r,s);else var b=function(t,e,r){var n=1&e,i=Di(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return No((_?Zn:Oo)(b,y),t,e)}function Ki(t,e,r,n){return t===i||Vs(t,Rt[r])&&!Pt.call(n,r)?e:t}function Ji(t,e,r,n,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Un(t,e,i,Ji,s),s.delete(e)),t}function Zi(t){return oa(t)?i:t}function Qi(t,e,r,n,o,s){var a=1&r,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,d=!0,p=2&r?new $r:i;for(s.set(t,e),s.set(e,t);++f<u;){var g=t[f],v=e[f];if(n)var m=a?n(v,g,f,e,t,s):n(g,v,f,t,e,s);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Oe(e,(function(t,e){if(!He(p,e)&&(g===t||o(g,t,r,n,s)))return p.push(e)}))){d=!1;break}}else if(g!==v&&!o(g,v,r,n,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function to(t){return Mo(Ao(t,i,$o),t+"")}function eo(t){return En(t,Na,co)}function ro(t){return En(t,Pa,ho)}var no=Cr?function(t){return Cr.get(t)}:lu;function io(t){for(var e=t.name+"",r=Or[e],n=Pt.call(Or,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(Pt.call(Br,"placeholder")?Br:t).placeholder}function so(){var t=Br.iteratee||ou;return t=t===ou?Ln:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function uo(t){for(var e=Na(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Eo(i)]}return e}function lo(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return Pn(r)?r:i}var co=hr?function(t){return null==t?[]:(t=wt(t),Te(hr(t),(function(e){return te.call(t,e)})))}:vu,ho=hr?function(t){for(var e=[];t;)Se(e,co(t)),t=$t(t);return e}:vu,fo=wn;function po(t,e,r){for(var n=-1,i=(e=mi(e,t)).length,o=!1;++n<i;){var s=Bo(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&mo(s,i)&&(Hs(t)||Gs(t))}function go(t){return"function"!=typeof t.constructor||To(t)?{}:jr($t(t))}function vo(t){return Hs(t)||Gs(t)||!!(ie&&t&&t[ie])}function mo(t,e){var r=typeof t;return!!(e=null==e?h:e)&&("number"==r||"symbol"!=r&&mt.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,r){if(!ea(r))return!1;var n=typeof e;return!!("number"==n?Xs(r)&&mo(e,r.length):"string"==n&&e in r)&&Vs(r[e],t)}function yo(t,e){if(Hs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!la(t))||Q.test(t)||!Z.test(t)||null!=e&&t in wt(e)}function bo(t){var e=io(t),r=Br[e];if("function"!=typeof r||!(e in zr.prototype))return!1;if(t===r)return!0;var n=no(r);return!!n&&t===n[0]}(Tr&&fo(new Tr(new ArrayBuffer(1)))!=N||Er&&fo(new Er)!=T||wr&&fo(wr.resolve())!=A||Ar&&fo(new Ar)!=I||Sr&&fo(new Sr)!=R)&&(fo=function(t){var e=wn(t),r=e==w?t.constructor:i,n=r?jo(r):"";if(n)switch(n){case Rr:return N;case Mr:return T;case Nr:return A;case Pr:return I;case Lr:return R}return e});var xo=Mt?Zs:mu;function To(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function Eo(t){return t==t&&!ea(t)}function wo(t,e){return function(r){return null!=r&&r[t]===e&&(e!==i||t in wt(r))}}function Ao(t,e,r){return e=vr(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=vr(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),me(t,this,u)}}function So(t,e){return e.length<2?t:Tn(t,ei(e,0,-1))}function Io(t,e){for(var r=t.length,n=mr(e.length,r),o=Ii(t);n--;){var s=e[n];t[n]=mo(s,r)?o[s]:i}return t}function Co(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Oo=Po(Zn),Ro=Be||function(t,e){return oe.setTimeout(t,e)},Mo=Po(Qn);function No(t,e,r){var n=e+"";return Mo(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ye(p,(function(r){var n="_."+r[0];e&r[1]&&!Ee(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(n),r)))}function Po(t){var e=0,r=0;return function(){var n=_r(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Lo(t,e){var r=-1,n=t.length,o=n-1;for(e=e===i?n:e;++r<e;){var s=$n(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var Do,ko,Fo=(Do=Ds((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,r,n,i){e.push(n?i.replace(ct,"$1"):r||t)})),e}),(function(t){return 500===ko.size&&ko.clear(),t})),ko=Do.cache,Do);function Bo(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Uo(t){if(t instanceof zr)return t.clone();var e=new Vr(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vo=qn((function(t,e){return qs(t)?cn(t,vn(e,1,qs,!0)):[]})),zo=qn((function(t,e){var r=Jo(e);return qs(r)&&(r=i),qs(t)?cn(t,vn(e,1,qs,!0),so(r,2)):[]})),Wo=qn((function(t,e){var r=Jo(e);return qs(r)&&(r=i),qs(t)?cn(t,vn(e,1,qs,!0),i,r):[]}));function Go(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ga(r);return i<0&&(i=vr(n+i,0)),Ne(t,so(e,3),i)}function Ho(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ga(r),o=r<0?vr(n+o,0):mr(o,n-1)),Ne(t,so(e,3),o,!0)}function $o(t){return null!=t&&t.length?vn(t,1):[]}function Xo(t){return t&&t.length?t[0]:i}var qo=qn((function(t){var e=Ae(t,gi);return e.length&&e[0]===t[0]?Cn(e):[]})),Yo=qn((function(t){var e=Jo(t),r=Ae(t,gi);return e===Jo(r)?e=i:r.pop(),r.length&&r[0]===t[0]?Cn(r,so(e,2)):[]})),Ko=qn((function(t){var e=Jo(t),r=Ae(t,gi);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?Cn(r,i,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Zo=qn(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Gn(t,e):t}var ts=to((function(t,e){var r=null==t?0:t.length,n=on(t,e);return Hn(t,Ae(e,(function(t){return mo(t,r)?+t:t})).sort(wi)),n}));function es(t){return null==t?t:xr.call(t)}var rs=qn((function(t){return ui(vn(t,1,qs,!0))})),ns=qn((function(t){var e=Jo(t);return qs(e)&&(e=i),ui(vn(t,1,qs,!0),so(e,2))})),is=qn((function(t){var e=Jo(t);return e="function"==typeof e?e:i,ui(vn(t,1,qs,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=Te(t,(function(t){if(qs(t))return e=vr(t.length,e),!0})),Ve(e,(function(e){return Ae(t,Fe(e))}))}function ss(t,e){if(!t||!t.length)return[];var r=os(t);return null==e?r:Ae(r,(function(t){return me(e,i,t)}))}var as=qn((function(t,e){return qs(t)?cn(t,e):[]})),us=qn((function(t){return di(Te(t,qs))})),ls=qn((function(t){var e=Jo(t);return qs(e)&&(e=i),di(Te(t,qs),so(e,2))})),cs=qn((function(t){var e=Jo(t);return e="function"==typeof e?e:i,di(Te(t,qs),i,e)})),hs=qn(os),fs=qn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,ss(t,r)}));function ds(t){var e=Br(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var gs=to((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return on(e,t)};return!(e>1||this.__actions__.length)&&n instanceof zr&&mo(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Vr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),vs=Oi((function(t,e,r){Pt.call(t,r)?++t[r]:nn(t,r,1)})),ms=ki(Go),_s=ki(Ho);function ys(t,e){return(Hs(t)?ye:hn)(t,so(e,3))}function bs(t,e){return(Hs(t)?be:fn)(t,so(e,3))}var xs=Oi((function(t,e,r){Pt.call(t,r)?t[r].push(e):nn(t,r,[e])})),Ts=qn((function(t,e,r){var i=-1,o="function"==typeof e,s=Xs(t)?n(t.length):[];return hn(t,(function(t){s[++i]=o?me(e,t,r):On(t,e,r)})),s})),Es=Oi((function(t,e,r){nn(t,r,e)}));function ws(t,e){return(Hs(t)?Ae:Fn)(t,so(e,3))}var As=Oi((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),Ss=qn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&_o(t,e[0],e[1])?e=[]:r>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),zn(t,vn(e,1),[])})),Is=Re||function(){return oe.Date.now()};function Cs(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Yi(t,l,i,i,i,i,e)}function Os(t,e){var r;if("function"!=typeof e)throw new It(o);return t=ga(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Rs=qn((function(t,e,r){var n=1;if(r.length){var i=er(r,oo(Rs));n|=u}return Yi(t,n,e,r,i)})),Ms=qn((function(t,e,r){var n=3;if(r.length){var i=er(r,oo(Ms));n|=u}return Yi(e,n,t,r,i)}));function Ns(t,e,r){var n,s,a,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new It(o);function g(e){var r=n,o=s;return n=s=i,h=e,u=t.apply(o,r)}function v(t){return h=t,l=Ro(_,e),f?g(t):u}function m(t){var r=t-c;return c===i||r>=e||r<0||d&&t-h>=a}function _(){var t=Is();if(m(t))return y(t);l=Ro(_,function(t){var r=e-(t-c);return d?mr(r,a-(t-h)):r}(t))}function y(t){return l=i,p&&n?g(t):(n=s=i,u)}function b(){var t=Is(),r=m(t);if(n=arguments,s=this,c=t,r){if(l===i)return v(c);if(d)return bi(l),l=Ro(_,e),g(c)}return l===i&&(l=Ro(_,e)),u}return e=ma(e)||0,ea(r)&&(f=!!r.leading,a=(d="maxWait"in r)?vr(ma(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),b.cancel=function(){l!==i&&bi(l),h=0,n=c=s=l=i},b.flush=function(){return l===i?u:y(Is())},b}var Ps=qn((function(t,e){return ln(t,1,e)})),Ls=qn((function(t,e,r){return ln(t,ma(e)||0,r)}));function Ds(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ds.Cache||Hr),r}function ks(t){if("function"!=typeof t)throw new It(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ds.Cache=Hr;var Fs=_i((function(t,e){var r=(e=1==e.length&&Hs(e[0])?Ae(e[0],We(so())):Ae(vn(e,1),We(so()))).length;return qn((function(n){for(var i=-1,o=mr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return me(t,this,n)}))})),Bs=qn((function(t,e){var r=er(e,oo(Bs));return Yi(t,u,i,e,r)})),js=qn((function(t,e){var r=er(e,oo(js));return Yi(t,64,i,e,r)})),Us=to((function(t,e){return Yi(t,256,i,i,i,e)}));function Vs(t,e){return t===e||t!=t&&e!=e}var zs=Gi(An),Ws=Gi((function(t,e){return t>=e})),Gs=Rn(function(){return arguments}())?Rn:function(t){return ra(t)&&Pt.call(t,"callee")&&!te.call(t,"callee")},Hs=n.isArray,$s=he?We(he):function(t){return ra(t)&&wn(t)==M};function Xs(t){return null!=t&&ta(t.length)&&!Zs(t)}function qs(t){return ra(t)&&Xs(t)}var Ys=fr||mu,Ks=fe?We(fe):function(t){return ra(t)&&wn(t)==_};function Js(t){if(!ra(t))return!1;var e=wn(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Zs(t){if(!ea(t))return!1;var e=wn(t);return e==b||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var na=de?We(de):function(t){return ra(t)&&fo(t)==T};function ia(t){return"number"==typeof t||ra(t)&&wn(t)==E}function oa(t){if(!ra(t)||wn(t)!=w)return!1;var e=$t(t);if(null===e)return!0;var r=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Nt.call(r)==Ft}var sa=pe?We(pe):function(t){return ra(t)&&wn(t)==S},aa=ge?We(ge):function(t){return ra(t)&&fo(t)==I};function ua(t){return"string"==typeof t||!Hs(t)&&ra(t)&&wn(t)==C}function la(t){return"symbol"==typeof t||ra(t)&&wn(t)==O}var ca=ve?We(ve):function(t){return ra(t)&&ta(t.length)&&!!Zt[wn(t)]},ha=Gi(kn),fa=Gi((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Xs(t))return ua(t)?or(t):Ii(t);if(se&&t[se])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[se]());var e=fo(t);return(e==T?Qe:e==I?rr:Va)(t)}function pa(t){return t?(t=ma(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=pa(t),r=e%1;return e==e?r?e-r:e:0}function va(t){return t?sn(ga(t),0,d):0}function ma(t){if("number"==typeof t)return t;if(la(t))return f;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ze(t);var r=pt.test(t);return r||vt.test(t)?re(t.slice(2),r?2:8):dt.test(t)?f:+t}function _a(t){return Ci(t,Pa(t))}function ya(t){return null==t?"":ai(t)}var ba=Ri((function(t,e){if(To(e)||Xs(e))Ci(e,Na(e),t);else for(var r in e)Pt.call(e,r)&&Qr(t,r,e[r])})),xa=Ri((function(t,e){Ci(e,Pa(e),t)})),Ta=Ri((function(t,e,r,n){Ci(e,Pa(e),t,n)})),Ea=Ri((function(t,e,r,n){Ci(e,Na(e),t,n)})),wa=to(on),Aa=qn((function(t,e){t=wt(t);var r=-1,n=e.length,o=n>2?e[2]:i;for(o&&_o(e[0],e[1],o)&&(n=1);++r<n;)for(var s=e[r],a=Pa(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===i||Vs(h,Rt[c])&&!Pt.call(t,c))&&(t[c]=s[c])}return t})),Sa=qn((function(t){return t.push(i,Ji),me(Da,i,t)}));function Ia(t,e,r){var n=null==t?i:Tn(t,e);return n===i?r:n}function Ca(t,e){return null!=t&&po(t,e,In)}var Oa=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=r}),eu(iu)),Ra=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),Pt.call(t,e)?t[e].push(r):t[e]=[r]}),so),Ma=qn(On);function Na(t){return Xs(t)?qr(t):Dn(t)}function Pa(t){return Xs(t)?qr(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var r in wt(t))e.push(r);return e}(t);var e=To(t),r=[];for(var n in t)("constructor"!=n||!e&&Pt.call(t,n))&&r.push(n);return r}(t)}var La=Ri((function(t,e,r){Un(t,e,r)})),Da=Ri((function(t,e,r,n){Un(t,e,r,n)})),ka=to((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ae(e,(function(e){return e=mi(e,t),n||(n=e.length>1),e})),Ci(t,ro(t),r),n&&(r=an(r,7,Zi));for(var i=e.length;i--;)li(r,e[i]);return r})),Fa=to((function(t,e){return null==t?{}:function(t,e){return Wn(t,e,(function(e,r){return Ca(t,r)}))}(t,e)}));function Ba(t,e){if(null==t)return{};var r=Ae(ro(t),(function(t){return[t]}));return e=so(e),Wn(t,r,(function(t,r){return e(t,r[0])}))}var ja=qi(Na),Ua=qi(Pa);function Va(t){return null==t?[]:Ge(t,Na(t))}var za=Li((function(t,e,r){return e=e.toLowerCase(),t+(r?Wa(e):e)}));function Wa(t){return Ja(ya(t).toLowerCase())}function Ga(t){return(t=ya(t))&&t.replace(_t,Ye).replace(Ht,"")}var Ha=Li((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),$a=Li((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Xa=Pi("toLowerCase"),qa=Li((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),Ya=Li((function(t,e,r){return t+(r?" ":"")+Ja(e)})),Ka=Li((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ja=Pi("toUpperCase");function Za(t,e,r){return t=ya(t),(e=r?i:e)===i?function(t){return Yt.test(t)}(t)?function(t){return t.match(Xt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Qa=qn((function(t,e){try{return me(t,i,e)}catch(t){return Js(t)?t:new xt(t)}})),tu=to((function(t,e){return ye(e,(function(e){e=Bo(e),nn(t,e,Rs(t[e],t))})),t}));function eu(t){return function(){return t}}var ru=Fi(),nu=Fi(!0);function iu(t){return t}function ou(t){return Ln("function"==typeof t?t:an(t,1))}var su=qn((function(t,e){return function(r){return On(r,t,e)}})),au=qn((function(t,e){return function(r){return On(t,r,e)}}));function uu(t,e,r){var n=Na(e),i=xn(e,n);null!=r||ea(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=xn(e,Na(e)));var o=!(ea(r)&&"chain"in r&&!r.chain),s=Zs(t);return ye(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=Ii(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Se([this.value()],arguments))})})),t}function lu(){}var cu=Vi(Ae),hu=Vi(xe),fu=Vi(Oe);function du(t){return yo(t)?Fe(Bo(t)):function(t){return function(e){return Tn(e,t)}}(t)}var pu=Wi(),gu=Wi(!0);function vu(){return[]}function mu(){return!1}var _u,yu=Ui((function(t,e){return t+e}),0),bu=$i("ceil"),xu=Ui((function(t,e){return t/e}),1),Tu=$i("floor"),Eu=Ui((function(t,e){return t*e}),1),wu=$i("round"),Au=Ui((function(t,e){return t-e}),0);return Br.after=function(t,e){if("function"!=typeof e)throw new It(o);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},Br.ary=Cs,Br.assign=ba,Br.assignIn=xa,Br.assignInWith=Ta,Br.assignWith=Ea,Br.at=wa,Br.before=Os,Br.bind=Rs,Br.bindAll=tu,Br.bindKey=Ms,Br.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},Br.chain=ds,Br.chunk=function(t,e,r){e=(r?_o(t,e,r):e===i)?1:vr(ga(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=n(lr(o/e));s<o;)u[a++]=ei(t,s,s+=e);return u},Br.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Br.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Se(Hs(r)?Ii(r):[r],vn(e,1))},Br.cond=function(t){var e=null==t?0:t.length,r=so();return t=e?Ae(t,(function(t){if("function"!=typeof t[1])throw new It(o);return[r(t[0]),t[1]]})):[],qn((function(r){for(var n=-1;++n<e;){var i=t[n];if(me(i[0],this,r))return me(i[1],this,r)}}))},Br.conforms=function(t){return function(t){var e=Na(t);return function(r){return un(r,t,e)}}(an(t,1))},Br.constant=eu,Br.countBy=vs,Br.create=function(t,e){var r=jr(t);return null==e?r:rn(r,e)},Br.curry=function t(e,r,n){var o=Yi(e,8,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Br.curryRight=function t(e,r,n){var o=Yi(e,16,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Br.debounce=Ns,Br.defaults=Aa,Br.defaultsDeep=Sa,Br.defer=Ps,Br.delay=Ls,Br.difference=Vo,Br.differenceBy=zo,Br.differenceWith=Wo,Br.drop=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=r||e===i?1:ga(e))<0?0:e,n):[]},Br.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,0,(e=n-(e=r||e===i?1:ga(e)))<0?0:e):[]},Br.dropRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0,!0):[]},Br.dropWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0):[]},Br.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&_o(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=ga(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ga(n))<0&&(n+=o),n=r>n?0:va(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Br.filter=function(t,e){return(Hs(t)?Te:gn)(t,so(e,3))},Br.flatMap=function(t,e){return vn(ws(t,e),1)},Br.flatMapDeep=function(t,e){return vn(ws(t,e),c)},Br.flatMapDepth=function(t,e,r){return r=r===i?1:ga(r),vn(ws(t,e),r)},Br.flatten=$o,Br.flattenDeep=function(t){return null!=t&&t.length?vn(t,c):[]},Br.flattenDepth=function(t,e){return null!=t&&t.length?vn(t,e=e===i?1:ga(e)):[]},Br.flip=function(t){return Yi(t,512)},Br.flow=ru,Br.flowRight=nu,Br.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Br.functions=function(t){return null==t?[]:xn(t,Na(t))},Br.functionsIn=function(t){return null==t?[]:xn(t,Pa(t))},Br.groupBy=xs,Br.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Br.intersection=qo,Br.intersectionBy=Yo,Br.intersectionWith=Ko,Br.invert=Oa,Br.invertBy=Ra,Br.invokeMap=Ts,Br.iteratee=ou,Br.keyBy=Es,Br.keys=Na,Br.keysIn=Pa,Br.map=ws,Br.mapKeys=function(t,e){var r={};return e=so(e,3),yn(t,(function(t,n,i){nn(r,e(t,n,i),t)})),r},Br.mapValues=function(t,e){var r={};return e=so(e,3),yn(t,(function(t,n,i){nn(r,n,e(t,n,i))})),r},Br.matches=function(t){return Bn(an(t,1))},Br.matchesProperty=function(t,e){return jn(t,an(e,1))},Br.memoize=Ds,Br.merge=La,Br.mergeWith=Da,Br.method=su,Br.methodOf=au,Br.mixin=uu,Br.negate=ks,Br.nthArg=function(t){return t=ga(t),qn((function(e){return Vn(e,t)}))},Br.omit=ka,Br.omitBy=function(t,e){return Ba(t,ks(so(e)))},Br.once=function(t){return Os(2,t)},Br.orderBy=function(t,e,r,n){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(r=n?i:r)||(r=null==r?[]:[r]),zn(t,e,r))},Br.over=cu,Br.overArgs=Fs,Br.overEvery=hu,Br.overSome=fu,Br.partial=Bs,Br.partialRight=js,Br.partition=As,Br.pick=Fa,Br.pickBy=Ba,Br.property=du,Br.propertyOf=function(t){return function(e){return null==t?i:Tn(t,e)}},Br.pull=Zo,Br.pullAll=Qo,Br.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,so(r,2)):t},Br.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,i,r):t},Br.pullAt=ts,Br.range=pu,Br.rangeRight=gu,Br.rearg=Us,Br.reject=function(t,e){return(Hs(t)?Te:gn)(t,ks(so(e,3)))},Br.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=so(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Hn(t,i),r},Br.rest=function(t,e){if("function"!=typeof t)throw new It(o);return qn(t,e=e===i?e:ga(e))},Br.reverse=es,Br.sampleSize=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ga(e),(Hs(t)?Kr:Kn)(t,e)},Br.set=function(t,e,r){return null==t?t:Jn(t,e,r)},Br.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:Jn(t,e,r,n)},Br.shuffle=function(t){return(Hs(t)?Jr:ti)(t)},Br.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&_o(t,e,r)?(e=0,r=n):(e=null==e?0:ga(e),r=r===i?n:ga(r)),ei(t,e,r)):[]},Br.sortBy=Ss,Br.sortedUniq=function(t){return t&&t.length?oi(t):[]},Br.sortedUniqBy=function(t,e){return t&&t.length?oi(t,so(e,2)):[]},Br.split=function(t,e,r){return r&&"number"!=typeof r&&_o(t,e,r)&&(e=r=i),(r=r===i?d:r>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ai(e))&&Ze(t)?yi(or(t),0,r):t.split(e,r):[]},Br.spread=function(t,e){if("function"!=typeof t)throw new It(o);return e=null==e?0:vr(ga(e),0),qn((function(r){var n=r[e],i=yi(r,0,e);return n&&Se(i,n),me(t,this,i)}))},Br.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Br.take=function(t,e,r){return t&&t.length?ei(t,0,(e=r||e===i?1:ga(e))<0?0:e):[]},Br.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=n-(e=r||e===i?1:ga(e)))<0?0:e,n):[]},Br.takeRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!1,!0):[]},Br.takeWhile=function(t,e){return t&&t.length?hi(t,so(e,3)):[]},Br.tap=function(t,e){return e(t),t},Br.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new It(o);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ns(t,e,{leading:n,maxWait:e,trailing:i})},Br.thru=ps,Br.toArray=da,Br.toPairs=ja,Br.toPairsIn=Ua,Br.toPath=function(t){return Hs(t)?Ae(t,Bo):la(t)?[t]:Ii(Fo(ya(t)))},Br.toPlainObject=_a,Br.transform=function(t,e,r){var n=Hs(t),i=n||Ys(t)||ca(t);if(e=so(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ea(t)&&Zs(o)?jr($t(t)):{}}return(i?ye:yn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Br.unary=function(t){return Cs(t,1)},Br.union=rs,Br.unionBy=ns,Br.unionWith=is,Br.uniq=function(t){return t&&t.length?ui(t):[]},Br.uniqBy=function(t,e){return t&&t.length?ui(t,so(e,2)):[]},Br.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Br.unset=function(t,e){return null==t||li(t,e)},Br.unzip=os,Br.unzipWith=ss,Br.update=function(t,e,r){return null==t?t:ci(t,e,vi(r))},Br.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:ci(t,e,vi(r),n)},Br.values=Va,Br.valuesIn=function(t){return null==t?[]:Ge(t,Pa(t))},Br.without=as,Br.words=Za,Br.wrap=function(t,e){return Bs(vi(e),t)},Br.xor=us,Br.xorBy=ls,Br.xorWith=cs,Br.zip=hs,Br.zipObject=function(t,e){return pi(t||[],e||[],Qr)},Br.zipObjectDeep=function(t,e){return pi(t||[],e||[],Jn)},Br.zipWith=fs,Br.entries=ja,Br.entriesIn=Ua,Br.extend=xa,Br.extendWith=Ta,uu(Br,Br),Br.add=yu,Br.attempt=Qa,Br.camelCase=za,Br.capitalize=Wa,Br.ceil=bu,Br.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ma(r))==r?r:0),e!==i&&(e=(e=ma(e))==e?e:0),sn(ma(t),e,r)},Br.clone=function(t){return an(t,4)},Br.cloneDeep=function(t){return an(t,5)},Br.cloneDeepWith=function(t,e){return an(t,5,e="function"==typeof e?e:i)},Br.cloneWith=function(t,e){return an(t,4,e="function"==typeof e?e:i)},Br.conformsTo=function(t,e){return null==e||un(t,e,Na(e))},Br.deburr=Ga,Br.defaultTo=function(t,e){return null==t||t!=t?e:t},Br.divide=xu,Br.endsWith=function(t,e,r){t=ya(t),e=ai(e);var n=t.length,o=r=r===i?n:sn(ga(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},Br.eq=Vs,Br.escape=function(t){return(t=ya(t))&&q.test(t)?t.replace($,Ke):t},Br.escapeRegExp=function(t){return(t=ya(t))&&rt.test(t)?t.replace(et,"\\$&"):t},Br.every=function(t,e,r){var n=Hs(t)?xe:dn;return r&&_o(t,e,r)&&(e=i),n(t,so(e,3))},Br.find=ms,Br.findIndex=Go,Br.findKey=function(t,e){return Me(t,so(e,3),yn)},Br.findLast=_s,Br.findLastIndex=Ho,Br.findLastKey=function(t,e){return Me(t,so(e,3),bn)},Br.floor=Tu,Br.forEach=ys,Br.forEachRight=bs,Br.forIn=function(t,e){return null==t?t:mn(t,so(e,3),Pa)},Br.forInRight=function(t,e){return null==t?t:_n(t,so(e,3),Pa)},Br.forOwn=function(t,e){return t&&yn(t,so(e,3))},Br.forOwnRight=function(t,e){return t&&bn(t,so(e,3))},Br.get=Ia,Br.gt=zs,Br.gte=Ws,Br.has=function(t,e){return null!=t&&po(t,e,Sn)},Br.hasIn=Ca,Br.head=Xo,Br.identity=iu,Br.includes=function(t,e,r,n){t=Xs(t)?t:Va(t),r=r&&!n?ga(r):0;var i=t.length;return r<0&&(r=vr(i+r,0)),ua(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Pe(t,e,r)>-1},Br.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ga(r);return i<0&&(i=vr(n+i,0)),Pe(t,e,i)},Br.inRange=function(t,e,r){return e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r){return t>=mr(e,r)&&t<vr(e,r)}(t=ma(t),e,r)},Br.invoke=Ma,Br.isArguments=Gs,Br.isArray=Hs,Br.isArrayBuffer=$s,Br.isArrayLike=Xs,Br.isArrayLikeObject=qs,Br.isBoolean=function(t){return!0===t||!1===t||ra(t)&&wn(t)==m},Br.isBuffer=Ys,Br.isDate=Ks,Br.isElement=function(t){return ra(t)&&1===t.nodeType&&!oa(t)},Br.isEmpty=function(t){if(null==t)return!0;if(Xs(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ca(t)||Gs(t)))return!t.length;var e=fo(t);if(e==T||e==I)return!t.size;if(To(t))return!Dn(t).length;for(var r in t)if(Pt.call(t,r))return!1;return!0},Br.isEqual=function(t,e){return Mn(t,e)},Br.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?Mn(t,e,i,r):!!n},Br.isError=Js,Br.isFinite=function(t){return"number"==typeof t&&dr(t)},Br.isFunction=Zs,Br.isInteger=Qs,Br.isLength=ta,Br.isMap=na,Br.isMatch=function(t,e){return t===e||Nn(t,e,uo(e))},Br.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Nn(t,e,uo(e),r)},Br.isNaN=function(t){return ia(t)&&t!=+t},Br.isNative=function(t){if(xo(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pn(t)},Br.isNil=function(t){return null==t},Br.isNull=function(t){return null===t},Br.isNumber=ia,Br.isObject=ea,Br.isObjectLike=ra,Br.isPlainObject=oa,Br.isRegExp=sa,Br.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=h},Br.isSet=aa,Br.isString=ua,Br.isSymbol=la,Br.isTypedArray=ca,Br.isUndefined=function(t){return t===i},Br.isWeakMap=function(t){return ra(t)&&fo(t)==R},Br.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==wn(t)},Br.join=function(t,e){return null==t?"":pr.call(t,e)},Br.kebabCase=Ha,Br.last=Jo,Br.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ga(r))<0?vr(n+o,0):mr(o,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Ne(t,De,o,!0)},Br.lowerCase=$a,Br.lowerFirst=Xa,Br.lt=ha,Br.lte=fa,Br.max=function(t){return t&&t.length?pn(t,iu,An):i},Br.maxBy=function(t,e){return t&&t.length?pn(t,so(e,2),An):i},Br.mean=function(t){return ke(t,iu)},Br.meanBy=function(t,e){return ke(t,so(e,2))},Br.min=function(t){return t&&t.length?pn(t,iu,kn):i},Br.minBy=function(t,e){return t&&t.length?pn(t,so(e,2),kn):i},Br.stubArray=vu,Br.stubFalse=mu,Br.stubObject=function(){return{}},Br.stubString=function(){return""},Br.stubTrue=function(){return!0},Br.multiply=Eu,Br.nth=function(t,e){return t&&t.length?Vn(t,ga(e)):i},Br.noConflict=function(){return oe._===this&&(oe._=Bt),this},Br.noop=lu,Br.now=Is,Br.pad=function(t,e,r){t=ya(t);var n=(e=ga(e))?ir(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return zi(cr(i),r)+t+zi(lr(i),r)},Br.padEnd=function(t,e,r){t=ya(t);var n=(e=ga(e))?ir(t):0;return e&&n<e?t+zi(e-n,r):t},Br.padStart=function(t,e,r){t=ya(t);var n=(e=ga(e))?ir(t):0;return e&&n<e?zi(e-n,r)+t:t},Br.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),yr(ya(t).replace(nt,""),e||0)},Br.random=function(t,e,r){if(r&&"boolean"!=typeof r&&_o(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=br();return mr(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return $n(t,e)},Br.reduce=function(t,e,r){var n=Hs(t)?Ie:je,i=arguments.length<3;return n(t,so(e,4),r,i,hn)},Br.reduceRight=function(t,e,r){var n=Hs(t)?Ce:je,i=arguments.length<3;return n(t,so(e,4),r,i,fn)},Br.repeat=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ga(e),Xn(ya(t),e)},Br.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Br.result=function(t,e,r){var n=-1,o=(e=mi(e,t)).length;for(o||(o=1,t=i);++n<o;){var s=null==t?i:t[Bo(e[n])];s===i&&(n=o,s=r),t=Zs(s)?s.call(t):s}return t},Br.round=wu,Br.runInContext=t,Br.sample=function(t){return(Hs(t)?Yr:Yn)(t)},Br.size=function(t){if(null==t)return 0;if(Xs(t))return ua(t)?ir(t):t.length;var e=fo(t);return e==T||e==I?t.size:Dn(t).length},Br.snakeCase=qa,Br.some=function(t,e,r){var n=Hs(t)?Oe:ri;return r&&_o(t,e,r)&&(e=i),n(t,so(e,3))},Br.sortedIndex=function(t,e){return ni(t,e)},Br.sortedIndexBy=function(t,e,r){return ii(t,e,so(r,2))},Br.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ni(t,e);if(n<r&&Vs(t[n],e))return n}return-1},Br.sortedLastIndex=function(t,e){return ni(t,e,!0)},Br.sortedLastIndexBy=function(t,e,r){return ii(t,e,so(r,2),!0)},Br.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ni(t,e,!0)-1;if(Vs(t[r],e))return r}return-1},Br.startCase=Ya,Br.startsWith=function(t,e,r){return t=ya(t),r=null==r?0:sn(ga(r),0,t.length),e=ai(e),t.slice(r,r+e.length)==e},Br.subtract=Au,Br.sum=function(t){return t&&t.length?Ue(t,iu):0},Br.sumBy=function(t,e){return t&&t.length?Ue(t,so(e,2)):0},Br.template=function(t,e,r){var n=Br.templateSettings;r&&_o(t,e,r)&&(e=i),t=ya(t),e=Ta({},e,n,Ki);var o,s,a=Ta({},e.imports,n.imports,Ki),u=Na(a),l=Ge(a,u),c=0,h=e.interpolate||yt,f="__p += '",d=At((e.escape||yt).source+"|"+h.source+"|"+(h===J?ht:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jt+"]")+"\n";t.replace(d,(function(e,r,n,i,a,u){return n||(n=i),f+=t.slice(c,u).replace(bt,Je),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var g=Pt.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new xt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(z,""):f).replace(W,"$1").replace(G,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Qa((function(){return Tt(u,p+"return "+f).apply(i,l)}));if(v.source=f,Js(v))throw v;return v},Br.times=function(t,e){if((t=ga(t))<1||t>h)return[];var r=d,n=mr(t,d);e=so(e),t-=d;for(var i=Ve(n,e);++r<t;)e(r);return i},Br.toFinite=pa,Br.toInteger=ga,Br.toLength=va,Br.toLower=function(t){return ya(t).toLowerCase()},Br.toNumber=ma,Br.toSafeInteger=function(t){return t?sn(ga(t),-9007199254740991,h):0===t?t:0},Br.toString=ya,Br.toUpper=function(t){return ya(t).toUpperCase()},Br.trim=function(t,e,r){if((t=ya(t))&&(r||e===i))return ze(t);if(!t||!(e=ai(e)))return t;var n=or(t),o=or(e);return yi(n,$e(n,o),Xe(n,o)+1).join("")},Br.trimEnd=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.slice(0,sr(t)+1);if(!t||!(e=ai(e)))return t;var n=or(t);return yi(n,0,Xe(n,or(e))+1).join("")},Br.trimStart=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.replace(nt,"");if(!t||!(e=ai(e)))return t;var n=or(t);return yi(n,$e(n,or(e))).join("")},Br.truncate=function(t,e){var r=30,n="...";if(ea(e)){var o="separator"in e?e.separator:o;r="length"in e?ga(e.length):r,n="omission"in e?ai(e.omission):n}var s=(t=ya(t)).length;if(Ze(t)){var a=or(t);s=a.length}if(r>=s)return t;var u=r-ir(n);if(u<1)return n;var l=a?yi(a,0,u).join(""):t.slice(0,u);if(o===i)return l+n;if(a&&(u+=l.length-u),sa(o)){if(t.slice(u).search(o)){var c,h=l;for(o.global||(o=At(o.source,ya(ft.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(t.indexOf(ai(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+n},Br.unescape=function(t){return(t=ya(t))&&X.test(t)?t.replace(H,ar):t},Br.uniqueId=function(t){var e=++Lt;return ya(t)+e},Br.upperCase=Ka,Br.upperFirst=Ja,Br.each=ys,Br.eachRight=bs,Br.first=Xo,uu(Br,(_u={},yn(Br,(function(t,e){Pt.call(Br.prototype,e)||(_u[e]=t)})),_u),{chain:!1}),Br.VERSION="4.17.21",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Br[t].placeholder=Br})),ye(["drop","take"],(function(t,e){zr.prototype[t]=function(r){r=r===i?1:vr(ga(r),0);var n=this.__filtered__&&!e?new zr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,d),type:t+(n.__dir__<0?"Right":"")}),n},zr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;zr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),ye(["head","last"],(function(t,e){var r="take"+(e?"Right":"");zr.prototype[t]=function(){return this[r](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");zr.prototype[t]=function(){return this.__filtered__?new zr(this):this[r](1)}})),zr.prototype.compact=function(){return this.filter(iu)},zr.prototype.find=function(t){return this.filter(t).head()},zr.prototype.findLast=function(t){return this.reverse().find(t)},zr.prototype.invokeMap=qn((function(t,e){return"function"==typeof t?new zr(this):this.map((function(r){return On(r,t,e)}))})),zr.prototype.reject=function(t){return this.filter(ks(so(t)))},zr.prototype.slice=function(t,e){t=ga(t);var r=this;return r.__filtered__&&(t>0||e<0)?new zr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=ga(e))<0?r.dropRight(-e):r.take(e-t)),r)},zr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zr.prototype.toArray=function(){return this.take(d)},yn(zr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Br[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);o&&(Br.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof zr,l=a[0],c=u||Hs(e),h=function(t){var e=o.apply(Br,Se([t],a));return n&&f?e[0]:e};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,g=u&&!d;if(!s&&c){e=g?e:new zr(this);var v=t.apply(e,a);return v.__actions__.push({func:ps,args:[h],thisArg:i}),new Vr(v,f)}return p&&g?t.apply(this,a):(v=this.thru(h),p?n?v.value()[0]:v.value():v)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ct[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Br.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Hs(i)?i:[],t)}return this[r]((function(r){return e.apply(Hs(r)?r:[],t)}))}})),yn(zr.prototype,(function(t,e){var r=Br[e];if(r){var n=r.name+"";Pt.call(Or,n)||(Or[n]=[]),Or[n].push({name:e,func:r})}})),Or[Bi(i,2).name]=[{name:"wrapper",func:i}],zr.prototype.clone=function(){var t=new zr(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t},zr.prototype.reverse=function(){if(this.__filtered__){var t=new zr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Hs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=mr(e,t+s);break;case"takeRight":t=vr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=n?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=mr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return fi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[l+=e];++g<h;){var m=c[g],_=m.iteratee,y=m.type,b=_(v);if(2==y)v=b;else if(!b){if(1==y)continue t;break t}}p[f++]=v}return p},Br.prototype.at=gs,Br.prototype.chain=function(){return ds(this)},Br.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},Br.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Br.prototype.plant=function(t){for(var e,r=this;r instanceof Ur;){var n=Uo(r);n.__index__=0,n.__values__=i,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},Br.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zr){var e=t;return this.__actions__.length&&(e=new zr(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:i}),new Vr(e,this.__chain__)}return this.thru(es)},Br.prototype.toJSON=Br.prototype.valueOf=Br.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Br.prototype.first=Br.prototype.head,se&&(Br.prototype[se]=function(){return this}),Br}();oe._=ur,(n=function(){return ur}.call(e,r,e,t))===i||(t.exports=n)}.call(this)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=g(r(93)),o=g(r(131)),s=g(r(136)),a=g(r(175)),u=g(r(160)),l=r(18),c=r(28),h=r(17),f=g(r(95)),d=g(r(176)),p=g(r(39));function g(t){return t&&t.__esModule?t:{default:t}}var v=new l.Matrix,m=new l.Point,_=new Float32Array(4),y=new Float32Array(4);class b extends i.default{constructor(t){void 0===t&&(t=!1),super(),this.fillAlpha=1,this.lineWidth=0,this.nativeLines=t,this.lineColor=0,this.lineAlignment=.5,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=h.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new f.default,this.dirty=0,this.fastRectDirty=-1,this.clearDirty=0,this.boundsDirty=-1,this.cachedSpriteDirty=!1,this._spriteRect=null,this._fastRect=!1,this._prevRectTint=null,this._prevRectFillColor=null}clone(){var t=new b;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t}_quadraticCurveLength(t,e,r,n,i,o){var s=t-2*r+i,a=e-2*n+o,u=2*r-2*t,l=2*n-2*e,c=4*(s*s+a*a),h=4*(s*u+a*l),f=u*u+l*l,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),g=2*c*p,v=2*Math.sqrt(f),m=h/p;return(g*d+p*h*(d-v)+(4*f*c-h*h)*Math.log((2*p+m+d)/(m+v)))/(4*g)}_bezierCurveLength(t,e,r,n,i,o,s,a){for(var u=0,l=0,c=0,h=0,f=0,d=0,p=0,g=0,v=0,m=0,_=0,y=t,b=e,x=1;x<=10;++x)m=y-(g=(p=(d=(f=1-(l=x/10))*f)*f)*t+3*d*l*r+3*f*(c=l*l)*i+(h=c*l)*s),_=b-(v=p*e+3*d*l*n+3*f*c*o+h*a),y=g,b=v,u+=Math.sqrt(m*m+_*_);return u}_segmentsCount(t){var e=Math.ceil(t/b.CURVES.maxLength);return e<b.CURVES.minSegments?e=b.CURVES.minSegments:e>b.CURVES.maxSegments&&(e=b.CURVES.maxSegments),e}lineStyle(t,e,r,n){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=.5),this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new l.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this}moveTo(t,e){var r=new l.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this}lineTo(t,e){var r=this.currentPath.shape.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||(r.push(t,e),this.dirty++),this}quadraticCurveTo(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,s=0;0===i.length&&this.moveTo(0,0);for(var a=i[i.length-2],u=i[i.length-1],l=b.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(a,u,t,e,r,n)):20,c=1;c<=l;++c){var h=c/l;o=a+(t-a)*h,s=u+(e-u)*h,i.push(o+(t+(r-t)*h-o)*h,s+(e+(n-e)*h-s)*h)}return this.dirty++,this}bezierCurveTo(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];s.length-=2;var l=b.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(a,u,t,e,r,n,i,o)):20;return(0,d.default)(a,u,t,e,r,n,i,o,l,s),this.dirty++,this}arcTo(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,l=n-e,c=r-t,h=Math.abs(a*c-u*l);if(h<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=l*l+c*c,p=a*l+u*c,g=i*Math.sqrt(f)/h,v=i*Math.sqrt(d)/h,m=g*p/f,_=v*p/d,y=g*c+v*u,b=g*l+v*a,x=u*(v+m),T=a*(v+m),E=c*(g+_),w=l*(g+_),A=Math.atan2(T-b,x-y),S=Math.atan2(w-b,E-y);this.arc(y+t,b+e,i,A,S,u*l>c*a)}return this.dirty++,this}arc(t,e,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;!o&&i<=n?i+=h.PI_2:o&&n<=i&&(n+=h.PI_2);var s=i-n,a=b.CURVES.adaptive?this._segmentsCount(Math.abs(s)*r):40*Math.ceil(Math.abs(s)/h.PI_2);if(0===s)return this;var u=t+Math.cos(n)*r,l=e+Math.sin(n)*r,c=this.currentPath?this.currentPath.shape.points:null;if(c){var f=Math.abs(c[c.length-2]-u),d=Math.abs(c[c.length-1]-l);f<.001&&d<.001||c.push(u,l)}else this.moveTo(u,l),c=this.currentPath.shape.points;for(var p=s/(2*a),g=2*p,v=Math.cos(p),m=Math.sin(p),_=a-1,y=_%1/_,x=0;x<=_;++x){var T=p+n+g*(x+y*x),E=Math.cos(T),w=-Math.sin(T);c.push((v*E+m*w)*r+t,(v*-w+m*E)*r+e)}return this.dirty++,this}beginFill(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this}endFill(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this}drawRect(t,e,r,n){return this.drawShape(new l.Rectangle(t,e,r,n)),this}drawRoundedRect(t,e,r,n,i){return this.drawShape(new l.RoundedRectangle(t,e,r,n,i)),this}drawCircle(t,e,r){return this.drawShape(new l.Circle(t,e,r)),this}drawEllipse(t,e,r,n){return this.drawShape(new l.Ellipse(t,e,r,n)),this}drawPolygon(t){var e=t,r=!0;if(e instanceof l.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new l.Polygon(e);return i.closed=r,this.drawShape(i),this}drawStar(t,e,r,n,i,o){void 0===o&&(o=0),i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=h.PI_2/a,l=[],c=0;c<a;c++){var f=c%2?i:n,d=c*u+s;l.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(l)}clear(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this}isFastRect(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===h.SHAPES.RECT&&!this.graphicsData[0].lineWidth}_renderWebGL(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))}_renderSpriteRect(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new u.default(new s.default(s.default.EMPTY)));var r=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)r.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var i=_,o=y;(0,c.hex2rgb)(n,i),(0,c.hex2rgb)(this.tint,o),i[0]*=o[0],i[1]*=o[1],i[2]*=o[2],r.tint=(0,c.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=n}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)}_renderCanvas(t){!0!==this.isMask&&t.plugins.graphics.render(this)}_calculateBounds(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)}containsPoint(t){this.worldTransform.applyInverse(t,m);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&n.shape&&n.shape.contains(m.x,m.y)){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++)if(n.holes[o].contains(m.x,m.y)){i=!0;break}if(!i)return!0}}return!1}updateLocalBounds(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,l=0;l<this.graphicsData.length;l++){var c=this.graphicsData[l],f=c.type,d=c.lineWidth*c.lineAlignment;if(i=c.shape,f===h.SHAPES.RECT||f===h.SHAPES.RREC)o=i.x-d,s=i.y-d,t=o<t?o:t,e=o+(a=i.width+2*d)>e?o+a:e,r=s<r?s:r,n=s+(u=i.height+2*d)>n?s+u:n;else if(f===h.SHAPES.CIRC)o=i.x,s=i.y,t=o-(a=i.radius+d)<t?o-a:t,e=o+a>e?o+a:e,r=s-(u=i.radius+d)<r?s-u:r,n=s+u>n?s+u:n;else if(f===h.SHAPES.ELIP)o=i.x,s=i.y,t=o-(a=i.width+d)<t?o-a:t,e=o+a>e?o+a:e,r=s-(u=i.height+d)<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,g=0,v=0,m=0,_=0,y=0,b=0,x=0,T=0,E=0;E+2<p.length;E+=2)o=p[E],s=p[E+1],g=p[E+2],v=p[E+3],m=Math.abs(g-o),_=Math.abs(v-s),u=2*d,(a=Math.sqrt(m*m+_*_))<1e-9||(t=(x=(g+o)/2)-(y=(u/a*_+m)/2)<t?x-y:t,e=x+y>e?x+y:e,r=(T=(v+s)/2)-(b=(u/a*m+_)/2)<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var w=this.boundsPadding;this._localBounds.minX=t-w,this._localBounds.maxX=e+w,this._localBounds.minY=r-w,this._localBounds.maxY=n+w}drawShape(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===h.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e}generateTexture(t,e,r){void 0===r&&(r=1);var n=this.getLocalBounds(),i=o.default.create(n.width,n.height,e,r);return this.transform.updateLocalTransform(),this.transform.localTransform.copy(v),v.invert(),v.tx-=n.x,v.ty-=n.y,t.render(this,i,!0,v),i}generateCanvasTexture(t,e){void 0===e&&(e=1);var r=this.getLocalBounds(),i=o.default.create(r.width,r.height,t,e);n||(n=new p.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(v),v.invert(),v.tx-=r.x,v.ty-=r.y,n.render(this,i,!0,v);var a=s.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics");return a.baseTexture.resolution=e,a.baseTexture.update(),a}closePath(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this}addHole(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this}destroy(t){super.destroy(t);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var r in this._webGL)for(var n=0;n<this._webGL[r].data.length;++n)this._webGL[r].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null}}e.default=b,b._SPRITE_TEXTURE=null,b.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e,r,n,i,o,s,a,u){this.lineWidth=t,this.lineAlignment=u,this.nativeLines=s,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=n,this.fillAlpha=i,this._fillTint=n,this.fill=o,this.holes=[],this.shape=a,this.type=a.type}clone(){return new r(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)}addHole(t){this.holes.push(t)}destroy(){this.shape=null,this.holes=null}}e.default=r},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n,i,o,s,a,u,l){void 0===l&&(l=[]);var c=0,h=0,f=0,d=0,p=0;l.push(t,e);for(var g=1,v=0;g<=u;++g)f=(h=(c=1-(v=g/u))*c)*c,p=(d=v*v)*v,l.push(f*t+3*h*v*r+3*c*d*i+p*s,f*e+3*h*v*n+3*c*d*o+p*a);return l}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(28),i=r(17),o=d(r(152)),s=d(r(141)),a=d(r(178)),u=d(r(179)),l=d(r(180)),c=d(r(182)),h=d(r(183)),f=d(r(184));function d(t){return t&&t.__esModule?t:{default:t}}class p extends o.default{constructor(t){super(t),this.graphicsDataPool=[],this.primitiveShader=null,this.gl=t.gl,this.CONTEXT_UID=0}onContextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)}destroy(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null}render(t){var e,r=this.renderer,i=r.gl,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;r.bindShader(s),r.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var l=(e=o.data[a]).shader;r.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,n.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,r.bindVao(e.vao),e.nativeLines?i.drawArrays(i.LINES,0,e.points.length/6):e.vao.draw(i.TRIANGLE_STRIP,e.indices.length)}}updateGraphics(t){var e,r,n=this.renderer.gl,o=t._webGL[this.CONTEXT_UID];if(o||(o=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:n,clearDirty:-1,dirty:-1}),o.dirty=t.dirty,t.clearDirty!==o.clearDirty){o.clearDirty=t.clearDirty;for(var s=0;s<o.data.length;s++)this.graphicsDataPool.push(o.data[s]);o.data.length=0,o.lastIndex=0}for(var a=o.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];e=this.getWebGLData(o,0),u.nativeLines&&u.lineWidth&&(r=this.getWebGLData(o,0,!0),o.lastIndex++),u.type===i.SHAPES.POLY&&(0,l.default)(u,e,r),u.type===i.SHAPES.RECT?(0,c.default)(u,e,r):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,e,r):u.type===i.SHAPES.RREC&&(0,h.default)(u,e,r),o.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<o.data.length;d++)(e=o.data[d]).dirty&&e.upload()}getWebGLData(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n}}e.default=p,s.default.registerPlugin("graphics",p)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(102))&&n.__esModule?n:{default:n};e.default=class{constructor(t,e,r){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new i.default.VertexArrayObject(t,r).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,t.FLOAT,!1,24,8)}reset(){this.points.length=0,this.indices.length=0}upload(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1}destroy(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(150))&&n.__esModule?n:{default:n};class o extends i.default{constructor(t){super(t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"))}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,l=0;l<u.length;l++){var c=u[l];a.push(s.length/2),s=s.concat(c.points)}var h=e.points,f=e.indices,d=s.length/2,p=(0,i.hex2rgb)(t.fillColor),g=t.fillAlpha,v=p[0]*g,m=p[1]*g,_=p[2]*g,y=(0,o.default)(s,a,2);if(!y)return;for(var b=h.length/6,x=0;x<y.length;x+=3)f.push(y[x]+b),f.push(y[x]+b),f.push(y[x+1]+b),f.push(y[x+2]+b),f.push(y[x+2]+b);for(var T=0;T<d;T++)h.push(s[2*T],s[2*T+1],v,m,_,g)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=s(r(181)),i=r(28),o=s(r(29));function s(t){return t&&t.__esModule?t:{default:t}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0!==n.length){var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=a[0]*u,c=a[1]*u,h=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],g=n[2*r+1];o.push(f,d),o.push(l,c,h,u),o.push(p,g),o.push(l,c,h,u)}}}(t,r):function(t,e){var r=t.points;if(0!==r.length){var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var l=e.points,c=e.indices,h=r.length/2,f=r.length,d=l.length/6,p=t.lineWidth/2,g=(0,i.hex2rgb)(t.lineColor),v=t.lineAlpha,m=g[0]*v,_=g[1]*v,y=g[2]*v,b=r[0],x=r[1],T=r[2],E=r[3],w=0,A=0,S=-(x-E),I=b-T,C=0,O=0,R=0,M=0,N=Math.sqrt(S*S+I*I);S/=N,I/=N,S*=p,I*=p;var P=t.lineAlignment,L=2*(1-P),D=2*P;l.push(b-S*L,x-I*L,m,_,y,v),l.push(b+S*D,x+I*D,m,_,y,v);for(var k=1;k<h-1;++k){b=r[2*(k-1)],x=r[2*(k-1)+1],T=r[2*k],E=r[2*k+1],w=r[2*(k+1)],A=r[2*(k+1)+1],S=-(x-E),I=b-T,S/=N=Math.sqrt(S*S+I*I),I/=N,S*=p,I*=p,C=-(E-A),O=T-w,C/=N=Math.sqrt(C*C+O*O),O/=N;var F=-I+x-(-I+E),B=-S+T-(-S+b),j=(-S+b)*(-I+E)-(-S+T)*(-I+x),U=-(O*=p)+A-(-O+E),V=-(C*=p)+T-(-C+w),z=(-C+w)*(-O+E)-(-C+T)*(-O+A),W=F*V-U*B;if(Math.abs(W)<.1)W+=10.1,l.push(T-S*L,E-I*L,m,_,y,v),l.push(T+S*D,E+I*D,m,_,y,v);else{var G=(B*z-V*j)/W,H=(U*j-F*z)/W;(G-T)*(G-T)+(H-E)*(H-E)>196*p*p?(R=S-C,M=I-O,R/=N=Math.sqrt(R*R+M*M),M/=N,R*=p,M*=p,l.push(T-R*L,E-M*L),l.push(m,_,y,v),l.push(T+R*D,E+M*D),l.push(m,_,y,v),l.push(T-R*D*L,E-M*L),l.push(m,_,y,v),f++):(l.push(T+(G-T)*L,E+(H-E)*L),l.push(m,_,y,v),l.push(T-(G-T)*D,E-(H-E)*D),l.push(m,_,y,v))}}b=r[2*(h-2)],x=r[2*(h-2)+1],T=r[2*(h-1)],S=-(x-(E=r[2*(h-1)+1])),I=b-T,S/=N=Math.sqrt(S*S+I*I),I/=N,S*=p,I*=p,l.push(T-S*L,E-I*L),l.push(m,_,y,v),l.push(T+S*D,E+I*D),l.push(m,_,y,v),c.push(d);for(var $=0;$<f;++$)c.push(d++);c.push(d-1)}}(t,e)};var n=r(18),i=r(28)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=t.shape,s=n.x,a=n.y,u=n.width,l=n.height;if(t.fill){var c=(0,o.hex2rgb)(t.fillColor),h=t.fillAlpha,f=c[0]*h,d=c[1]*h,p=c[2]*h,g=e.points,v=e.indices,m=g.length/6;g.push(s,a),g.push(f,d,p,h),g.push(s+u,a),g.push(f,d,p,h),g.push(s,a+l),g.push(f,d,p,h),g.push(s+u,a+l),g.push(f,d,p,h),v.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var _=t.points;t.points=[s,a,s+u,a,s+u,a+l,s,a+l,s,a],(0,i.default)(t,e,r),t.points=_}};var n,i=(n=r(181))&&n.__esModule?n:{default:n},o=r(28)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var s=t.shape,a=s.x,l=s.y,c=s.width,h=s.height,f=s.radius,d=[];if(d.push(a+f,l),u(a+c-f,l,a+c,l,a+c,l+f,d),u(a+c,l+h-f,a+c,l+h,a+c-f,l+h,d),u(a+f,l+h,a,l+h,a,l+h-f,d),u(a,l+f,a,l,a+f+1e-10,l,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),g=t.fillAlpha,v=p[0]*g,m=p[1]*g,_=p[2]*g,y=e.points,b=e.indices,x=y.length/6,T=(0,n.default)(d,null,2),E=0,w=T.length;E<w;E+=3)b.push(T[E]+x),b.push(T[E]+x),b.push(T[E+1]+x),b.push(T[E+2]+x),b.push(T[E+2]+x);for(var A=0,S=d.length;A<S;A++)y.push(d[A],d[++A],v,m,_,g)}if(t.lineWidth){var I=t.points;t.points=d,(0,i.default)(t,e,r),t.points=I}};var n=s(r(29)),i=s(r(181)),o=r(28);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i,o,s){void 0===s&&(s=[]);for(var u=s,l=0,c=0,h=0,f=0,d=0,p=0,g=0,v=0;g<=20;++g)l=a(t,r,v=g/20),c=a(e,n,v),h=a(r,i,v),f=a(n,o,v),d=a(l,h,v),p=a(c,f,v),u.push(d,p);return u}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n,a,u=t.shape,l=u.x,c=u.y;if(t.type===o.SHAPES.CIRC?(n=u.radius,a=u.radius):(n=u.width,a=u.height),0!==n&&0!==a){var h=Math.floor(30*Math.sqrt(u.radius))||Math.floor(15*Math.sqrt(u.width+u.height)),f=2*Math.PI/h;if(t.fill){var d=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,g=d[0]*p,v=d[1]*p,m=d[2]*p,_=e.points,y=e.indices,b=_.length/6;y.push(b);for(var x=0;x<h+1;x++)_.push(l,c,g,v,m,p),_.push(l+Math.sin(f*x)*n,c+Math.cos(f*x)*a,g,v,m,p),y.push(b++,b++);y.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var E=0;E<h;E++)t.points.push(l+Math.sin(f*-E)*n,c+Math.cos(f*-E)*a);t.points.push(t.points[0],t.points[1]),(0,i.default)(t,e,r),t.points=T}}};var n,i=(n=r(181))&&n.__esModule?n:{default:n},o=r(17),s=r(28)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(39))&&n.__esModule?n:{default:n},o=r(17);class s{constructor(t){this.renderer=t}render(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,s=e.resolution;r.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,i.tx*s,i.ty*s),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],l=u.shape,c=u._fillTint,h=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===o.SHAPES.POLY){r.beginPath();var f=l.points,d=u.holes,p=void 0,g=void 0,v=void 0,m=void 0;r.moveTo(f[0],f[1]);for(var _=2;_<f.length;_+=2)r.lineTo(f[_],f[_+1]);if(l.closed&&r.closePath(),d.length>0){p=0,v=f[0],m=f[1];for(var y=2;y+2<f.length;y+=2)p+=(f[y]-v)*(f[y+3]-m)-(f[y+2]-v)*(f[y+1]-m);for(var b=0;b<d.length;b++)if(f=d[b].points){g=0,v=f[0],m=f[1];for(var x=2;x+2<f.length;x+=2)g+=(f[x]-v)*(f[x+3]-m)-(f[x+2]-v)*(f[x+1]-m);if(g*p<0){r.moveTo(f[0],f[1]);for(var T=2;T<f.length;T+=2)r.lineTo(f[T],f[T+1])}else{r.moveTo(f[f.length-2],f[f.length-1]);for(var E=f.length-4;E>=0;E-=2)r.lineTo(f[E],f[E+1])}d[b].close&&r.closePath()}}u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}else if(u.type===o.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===o.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke());else if(u.type===o.SHAPES.ELIP){var w=2*l.width,A=2*l.height,S=l.x-w/2,I=l.y-A/2;r.beginPath();var C=.5522848,O=w/2*C,R=A/2*C,M=S+w,N=I+A,P=S+w/2,L=I+A/2;r.moveTo(S,L),r.bezierCurveTo(S,L-R,P-O,I,P,I),r.bezierCurveTo(P+O,I,M,L-R,M,L),r.bezierCurveTo(M,L+R,P+O,N,P,N),r.bezierCurveTo(P-O,N,S,L+R,S,L),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}else if(u.type===o.SHAPES.RREC){var D=l.x,k=l.y,F=l.width,B=l.height,j=l.radius,U=Math.min(F,B)/2|0;j=j>U?U:j,r.beginPath(),r.moveTo(D,k+j),r.lineTo(D,k+B-j),r.quadraticCurveTo(D,k+B,D+j,k+B),r.lineTo(D+F-j,k+B),r.quadraticCurveTo(D+F,k+B,D+F,k+B-j),r.lineTo(D+F,k+j),r.quadraticCurveTo(D+F,k,D+F-j,k),r.lineTo(D+j,k),r.quadraticCurveTo(D,k,D,k+j),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}}}updateGraphicsTint(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}}renderPolygon(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()}destroy(){this.renderer=null}}e.default=s,i.default.registerPlugin("graphics",s)},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(16),i=r(28),o=r(135);class s{static get BATCH_SIZE(){return 1e3}constructor(t,e,r){void 0===r&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t){var e=this.data.meta.scale,r=(0,i.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r}parse(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=s.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}_processFrames(t){for(var e=t,r=s.BATCH_SIZE,i=this.baseTexture.sourceScale;e-t<r&&e<this._frameKeys.length;){var a=this._frameKeys[e],u=this._frames[a],l=u.frame;if(l){var c,h=null,f=!1!==u.trimmed&&u.sourceSize?u.sourceSize:u.frame,d=new n.Rectangle(0,0,Math.floor(f.w*i)/this.resolution,Math.floor(f.h*i)/this.resolution);c=u.rotated?new n.Rectangle(Math.floor(l.x*i)/this.resolution,Math.floor(l.y*i)/this.resolution,Math.floor(l.h*i)/this.resolution,Math.floor(l.w*i)/this.resolution):new n.Rectangle(Math.floor(l.x*i)/this.resolution,Math.floor(l.y*i)/this.resolution,Math.floor(l.w*i)/this.resolution,Math.floor(l.h*i)/this.resolution),!1!==u.trimmed&&u.spriteSourceSize&&(h=new n.Rectangle(Math.floor(u.spriteSourceSize.x*i)/this.resolution,Math.floor(u.spriteSourceSize.y*i)/this.resolution,Math.floor(l.w*i)/this.resolution,Math.floor(l.h*i)/this.resolution)),this.textures[a]=new n.Texture(this.baseTexture,c,d,h,u.rotated?2:0,u.anchor),(0,o.addToTextureCache)(this.textures[a],a)}e++}}_processAnimations(){var t=this.data.animations||{};for(var e in t)for(var r of(this.animations[e]=[],t[e]))this.animations[e].push(this.textures[r])}_parseComplete(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*s.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*s.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null}}e.default=s},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(34)),i=u(r(93)),o=r(188),s=r(36),a=r(17);function u(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(t,e,r,a,u){"number"==typeof t&&(t=Object.assign({width:t,height:e||n.default.RENDER_OPTIONS.height,useGL:!!a,sharedTicker:!!u},r)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,useGL:!1,sharedLoader:!1,autoRender:!1},t),this.renderer=(0,o.autoRenderer)(t),this.stage=new i.default,this.stage.isStage=!0,this._ticker=null,t.autoRender&&(this.ticker=t.sharedTicker?s.shared:new s.Ticker),t.autoStart&&this.start()}set ticker(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,a.UPDATE_PRIORITY.LOW)}get ticker(){return this._ticker}render(){this.renderer.render(this.stage)}stop(){this.ticker&&this.ticker.stop()}start(){this.ticker&&this.ticker.start()}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroyChildren(t){this.stage.destroyChildren(t)}destroy(t,e){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(e),this.renderer.destroy(t),this.renderer=null,this._options=null,this.stage=null}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autoRenderer=function(t){return void 0===t&&(t={}),t.useGL?new i.default(t):new n.default(t)};var n=o(r(39)),i=o(r(141));function o(t){return t&&t.__esModule?t:{default:t}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"ChromaFilter",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return i.default}});var n=f(r(99)),i=f(r(190)),o=f(r(126)),s=f(r(119)),a=f(r(120)),u=f(r(124)),l=f(r(129)),c=f(r(191)),h=f(r(125));function f(t){return t&&t.__esModule?t:{default:t}}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class o extends n.default{constructor(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random()),super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(34));var n=i(r(100));function i(t){return t&&t.__esModule?t:{default:t}}r(62);class o extends n.default{constructor(t){void 0===t&&(t=1),super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"),this.alpha=t,this.glShaderKey="alpha"}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}e.default=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Loader",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return i.Resource}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}}),e.shared=e.loader=void 0,Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return s.default}});var n=u(r(193)),i=r(195),o=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(227)),s=u(r(194));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(a=function(t){return t?r:e})(t)}function u(t){return t&&t.__esModule?t:{default:t}}var l=new n.default;e.shared=l,l.destroy=()=>{};var c=l||null;e.loader=c},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(31)),i=u(r(194)),o=r(28),s=r(195),a=u(r(227));function u(t){return t&&t.__esModule?t:{default:t}}class l extends s.ResourceLoader{constructor(t,e){super(t,e),n.default.call(this);for(var r=0;r<l._pixiMiddleware.length;++r)this.use(l._pixiMiddleware[r]());this.onStart.add((t=>this.emit("start",t))),this.onLoad.add(((t,e)=>this.emit("load",t,e))),this.onProgress.add(((t,e)=>this.emit("progress",t,e))),this.onError.add(((t,e,r)=>this.emit("error",t,e,r))),this.onComplete.add(((t,e)=>this.emit("complete",t,e)))}static addPixiMiddleware(t){l._pixiMiddleware.push(t)}destroy(){this.removeAllListeners(),super.destroy()}}e.default=l,(0,o.inherit)(l,n.default),l._pixiMiddleware=[i.default,a.default]},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=o.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=r(195),o=(n=r(136))&&n.__esModule?n:{default:n}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"ResourceLoader",{enumerable:!0,get:function(){return o.default}});var n=a(r(196)),i=a(r(197)),o=a(r(198)),s=a(r(201));function a(t){return t&&t.__esModule?t:{default:t}}o.default.base64=n.default,o.default.async=i.default,o.default.encodeBinary=n.default,o.default.Resource=s.default},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeBinary=function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var s=0;s<i.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[s])}return e}},(t,e)=>{"use strict";function r(){}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}Object.defineProperty(e,"__esModule",{value:!0}),e.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout((()=>{e(t[i++],s)}),1):e(t[i++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push(t,e){s(t,!1,e)},kill(){i=0,o.drain=r,o.started=!1,o._tasks=[]},unshift(t,e){s(t,!0,e)},process(){for(;!o.paused&&i<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(i+=1)===o.concurrency&&o.saturated(),t(e.data,n(a(e)))}},length:()=>o._tasks.length,running:()=>i,idle:()=>o._tasks.length+i===0,pause(){!0!==o.paused&&(o.paused=!0)},resume(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout((()=>o.drain()),1);else{var i={data:t,callback:"function"==typeof n?n:r};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout((()=>o.process()),1)}}function a(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),i<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(199)),i=u(r(200)),o=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(197)),s=u(r(201));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(a=function(t){return t?r:e})(t)}function u(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/;class c{constructor(t,e){void 0===t&&(t=""),void 0===e&&(e=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=(t,e)=>this._loadResource(t,e),this._queue=o.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new n.default,this.onError=new n.default,this.onLoad=new n.default,this.onStart=new n.default,this.onComplete=new n.default;for(var r=0;r<c._defaultBeforeMiddleware.length;++r)this.pre(c._defaultBeforeMiddleware[r]);for(var i=0;i<c._defaultAfterMiddleware.length;++i)this.use(c._defaultAfterMiddleware[i])}add(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),!this.resources[t]){if("string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources the loader is running.");if(e=this._prepareUrl(e),this.resources[t]=new s.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,a=[],u=0;u<o.children.length;++u)o.children[u].isComplete||a.push(o.children[u]);var l=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this}}pre(t){return this._beforeMiddleware.push(t),this}use(t){return this._afterMiddleware.push(t),this}reset(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort(),delete this.resources[t]}return this.resources={},this}destroy(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e.destroy&&e.destroy(),delete this.resources[t]}this.baseUrl="",this.defaultQueryString="",this._beforeMiddleware=null,this._afterMiddleware=null,this._resourcesParsing=null,this._boundLoadResource=null,this._queue=null,this.resources=null,this.onProgress=null,this.onLoad=null,this.onError=null,this.onStart=null,this.onComplete=null}loadAsync(){return new Promise(((t,e)=>{this.load(t)}))}load(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this}get concurrency(){return this._queue.concurrency}set concurrency(t){this._queue.concurrency=t}_prepareUrl(t){var e,r=(0,i.default)(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e}_loadResource(t,e){t._dequeue=e,o.eachSeries(this._beforeMiddleware,((e,r)=>{e.call(this,t,(()=>{r(t.isComplete?{}:null)}))}),(()=>{t.isComplete?this._onLoad(t):(t._onLoadBinding=t.onComplete.once(this._onLoad,this),t.load())}),!0)}_onStart(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)}_onComplete(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)}_onLoad(t){t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),o.eachSeries(this._afterMiddleware,((e,r)=>{e.call(this,t,r)}),(()=>{t.onAfterMiddleware.dispatch(t),this.progress=Math.min(100,this.progress+t.progressChunk),this.onProgress.dispatch(this,t),t.error?this.onError.dispatch(t.error,this,t):this.onLoad.dispatch(this,t),this._resourcesParsing.splice(this._resourcesParsing.indexOf(t),1),this._queue.idle()&&0===this._resourcesParsing.length&&this._onComplete()}),!0)}}e.default=c,c._defaultBeforeMiddleware=[],c._defaultAfterMiddleware=[],c.pre=function(t){return c._defaultBeforeMiddleware.push(t),c},c.use=function(t){return c._defaultAfterMiddleware.push(t),c}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new i(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new i(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=i,e.default=s,t.exports=e.default},t=>{"use strict";t.exports=(t,e={})=>{if(!t)return;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={};let o=14;for(;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(t,e,n){e&&(i[r.q.name][e]=n)})),i}},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(199)),i=u(r(202)),o=u(r(134)),s=r(42),a=r(226);function u(t){return t&&t.__esModule?t:{default:t}}function l(){}class c{constructor(t,e,r){if(void 0===r&&(r={}),"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required.");this._flags=0,this.setflag(a.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExt(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.error=null,this.children=[],this.type=c.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=l,this._onLoadBinding=null,this._elementTimer=0,this.metadata=r.metadata||{},this.onStart=new n.default,this.onProgress=new n.default,this.onComplete=new n.default,this.onAfterMiddleware=new n.default,this._onComplete=this._onComplete.bind(this),this._onError=this._onError.bind(this),this._onTimeout=this._onTimeout.bind(this),this._onXhrLoad=this._onXhrLoad.bind(this)}get isDataUrl(){return this.hasflag(a.STATUS_FLAGS.DATA_URL)}get isComplete(){return this.hasflag(a.STATUS_FLAGS.COMPLETE)}get isLoading(){return this.hasflag(a.STATUS_FLAGS.LOADING)}complete(){this._clearEvents(),this._finish()}load(t){var{isLoading:e,loadType:r,isComplete:n}=this;if(!e)if(n)t&&setTimeout((()=>t(this)),1);else switch(t&&this.onComplete.once(t),this.setflag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),r){case a.LOAD_TYPE.IMAGE:this.type=c.TYPE.IMAGE,this._loadImage();break;case a.LOAD_TYPE.XHR:default:this._loadOtherFile()}}abort(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.data)if(this.data.src)this.data.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}}destroy(){this.removeHandler(),this.data=null,this.name=null,this.url=null,this.metadata=null,this.onStart=null,this.onProgress=null,this.onComplete=null,this.onAfterMiddleware=null,this.children=null,this._dequeue=null,this._onLoadBinding=null,this._flags=0,this._onComplete=null,this._onError=null,this._onTimeout=null,this._onXhrLoad=null}_loadOtherFile(){this._isNetWork(this.url)||s.isBrowser?this._loadXhr():this._loadLocalFile()}_loadLocalFile(){(0,_fs.readFile)(this.url,((t,e)=>{if(t)this._onError(t);else{var r=JSON.parse(e);this._onXhrLoad(r)}}))}_loadXhr(){i.default.get(this.url).end(((t,e)=>{t?this._onError(t):this._onXhrLoad(e.body)}))}_isNetWork(t){return!!/^\s*https?:\/\//.test(t)}_onXhrLoad(t){this.data=t,this.type=c.TYPE.JSON,this.complete()}hasflag(t){return 0!=(this._flags&t)}setflag(t,e){this._flags=e?this._flags|t:this._flags&~t}removeHandler(){this.data&&(this.data.onerror=null,this.data.onload=null)}_clearEvents(){clearTimeout(this._elementTimer),this.removeHandler()}_finish(){this.isComplete||(this.setflag(a.STATUS_FLAGS.COMPLETE,!0),this.setflag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this))}_loadImage(){this.data=new o.default,this.data.onerror=this._onError,this.data.onload=this._onComplete,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this._isNetWork(this.url)?this.data.network=!0:this.data.network=!1,this.timeout&&(this._elementTimer=setTimeout(this._onTimeout,this.timeout))}_onError(t){this.abort("Failed to load element using: "+t)}_onTimeout(){this.abort("Load timed out.")}_onComplete(t){this.complete()}_determineLoadType(){return a.LOAD_TYPE_MAP[this.extension]||a.LOAD_TYPE.XHR}_getExt(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()}static setExtensionLoadType(t,e){h(a.LOAD_TYPE_MAP,t,e)}static setExtensionXhrType(t,e){h(a.XHR_TYPE_MAP,t,e)}}function h(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}e.default=c,c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6}},(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i;"undefined"!=typeof window?i=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),i=void 0):i=self;var o=r(203),s=r(204),a=r(205),u=r(221),l=r(222),c=r(223),h=r(225);function f(){}t.exports=function(t,r){return"function"==typeof r?new e.Request("GET",t).end(r):1===arguments.length?new e.Request("GET",t):new e.Request(t,r)};var d=e=t.exports;e.Request=b,d.getXHR=function(){if(i.XMLHttpRequest&&(!i.location||"file:"!==i.location.protocol||!i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function g(t){if(!l(t))return t;var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&v(e,r,t[r]);return e.join("&")}function v(t,e,r){if(void 0!==r)if(null!==r)if(Array.isArray(r))r.forEach((function(r){v(t,e,r)}));else if(l(r))for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&v(t,"".concat(e,"[").concat(n,"]"),r[n]);else t.push(encodeURI(e)+"="+encodeURIComponent(r));else t.push(encodeURI(e))}function m(t){for(var e,r,n={},i=t.split("&"),o=0,s=i.length;o<s;++o)-1===(r=(e=i[o]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return n}function _(t){return/[/+]json($|[^-\w])/i.test(t)}function y(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,r,n,i,o=t.split(/\r?\n/),s={},a=0,u=o.length;a<u;++a)-1!==(e=(r=o[a]).indexOf(":"))&&(n=r.slice(0,e).toLowerCase(),i=p(r.slice(e+1)),s[n]=i);return s}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function b(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,n=null;try{n=new y(r)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",n);try{r._isResponseOK(n)||(t=new Error(n.statusText||n.text||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=n,t.status=n.status,r.callback(t,n)):r.callback(null,n)}))}function x(t,e,r){var n=d("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}d.serializeObject=g,d.parseString=m,d.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":a.stringify,"application/json":s},d.parse={"application/x-www-form-urlencoded":m,"application/json":JSON.parse},c(y.prototype),y.prototype._parseBody=function(t){var e=d.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&_(this.type)&&(e=d.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},y.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot ".concat(e," ").concat(r," (").concat(this.status,")"),i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i},d.Response=y,o(b.prototype),u(b.prototype),b.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},b.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},b.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"===n(e)&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var i=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,i)},b.prototype.query=function(t){return"string"!=typeof t&&(t=g(t)),t&&this._query.push(t),this},b.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},b.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},b.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},b.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},b.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},b.prototype.ca=b.prototype.agent,b.prototype.buffer=b.prototype.ca,b.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},b.prototype.pipe=b.prototype.write,b.prototype._isHost=function(t){return t&&"object"===n(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},b.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||f,this._finalizeQueryString(),this._end()},b.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},b.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=d.getXHR();var e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===r){var n;try{n=e.status}catch(t){n=0}if(!n){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var n=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(t._uploadTimeoutTimer)),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.addEventListener("progress",n.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",n.bind(null,"upload"))}catch(t){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var i=this._header["content-type"],o=this._serializer||d.serialize[i?i.split(";")[0]:""];!o&&_(i)&&(o=d.serialize["application/json"]),o&&(r=o(r))}for(var s in this.header)null!==this.header[s]&&Object.prototype.hasOwnProperty.call(this.header,s)&&e.setRequestHeader(s,this.header[s]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===r?null:r)},d.agent=function(){return new h},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){h.prototype[t.toLowerCase()]=function(e,r){var n=new d.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}})),h.prototype.del=h.prototype.delete,d.get=function(t,e,r){var n=d("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},d.head=function(t,e,r){var n=d("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},d.options=function(t,e,r){var n=d("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},d.del=x,d.delete=x,d.patch=function(t,e,r){var n=d("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},d.post=function(t,e,r){var n=d("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},d.put=function(t,e,r){var n=d("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}},t=>{function e(t){if(t)return function(t){for(var r in e.prototype)t[r]=e.prototype[r];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},t=>{t.exports=s,s.default=s,s.stable=c,s.stableStringify=c;var e="[...]",r="[Circular]",n=[],i=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(t,e,r,s){var a;void 0===s&&(s=o()),u(t,"",0,[],void 0,0,s);try{a=0===i.length?JSON.stringify(t,e,r):JSON.stringify(t,f(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var l=n.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return a}function a(t,e,r,o){var s=Object.getOwnPropertyDescriptor(o,r);void 0!==s.get?s.configurable?(Object.defineProperty(o,r,{value:t}),n.push([o,r,e,s])):i.push([e,r,t]):(o[r]=t,n.push([o,r,e]))}function u(t,n,i,o,s,l,c){var h;if(l+=1,"object"==typeof t&&null!==t){for(h=0;h<o.length;h++)if(o[h]===t)return void a(r,t,n,s);if(void 0!==c.depthLimit&&l>c.depthLimit)return void a(e,t,n,s);if(void 0!==c.edgesLimit&&i+1>c.edgesLimit)return void a(e,t,n,s);if(o.push(t),Array.isArray(t))for(h=0;h<t.length;h++)u(t[h],h,h,o,t,l,c);else{var f=Object.keys(t);for(h=0;h<f.length;h++){var d=f[h];u(t[d],d,h,o,t,l,c)}}o.pop()}}function l(t,e){return t<e?-1:t>e?1:0}function c(t,e,r,s){void 0===s&&(s=o());var a,u=h(t,"",0,[],void 0,0,s)||t;try{a=0===i.length?JSON.stringify(u,e,r):JSON.stringify(u,f(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var l=n.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return a}function h(t,i,o,s,u,c,f){var d;if(c+=1,"object"==typeof t&&null!==t){for(d=0;d<s.length;d++)if(s[d]===t)return void a(r,t,i,u);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==f.depthLimit&&c>f.depthLimit)return void a(e,t,i,u);if(void 0!==f.edgesLimit&&o+1>f.edgesLimit)return void a(e,t,i,u);if(s.push(t),Array.isArray(t))for(d=0;d<t.length;d++)h(t[d],d,d,s,t,c,f);else{var p={},g=Object.keys(t).sort(l);for(d=0;d<g.length;d++){var v=g[d];h(t[v],v,d,s,t,c,f),p[v]=t[v]}if(void 0===u)return p;n.push([u,i,t]),u[i]=p}s.pop()}}function f(t){return t=void 0!==t?t:function(t,e){return e},function(e,r){if(i.length>0)for(var n=0;n<i.length;n++){var o=i[n];if(o[1]===e&&o[0]===r){r=o[2],i.splice(n,1);break}}return t.call(this,e,r)}}},(t,e,r)=>{"use strict";var n=r(206),i=r(220),o=r(219);t.exports={formats:o,parse:i,stringify:n}},(t,e,r)=>{"use strict";var n=r(207),i=r(218),o=r(219),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Array.isArray,l=String.prototype.split,c=Array.prototype.push,h=function(t,e){c.apply(t,u(e)?e:[e])},f=Date.prototype.toISOString,d=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},g={},v=function t(e,r,o,s,a,c,f,d,v,m,_,y,b,x,T){for(var E,w=e,A=T,S=0,I=!1;void 0!==(A=A.get(g))&&!I;){var C=A.get(e);if(S+=1,void 0!==C){if(C===S)throw new RangeError("Cyclic object value");I=!0}void 0===A.get(g)&&(S=0)}if("function"==typeof f?w=f(r,w):w instanceof Date?w=m(w):"comma"===o&&u(w)&&(w=i.maybeMap(w,(function(t){return t instanceof Date?m(t):t}))),null===w){if(s)return c&&!b?c(r,p.encoder,x,"key",_):r;w=""}if("string"==typeof(E=w)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||i.isBuffer(w)){if(c){var O=b?r:c(r,p.encoder,x,"key",_);if("comma"===o&&b){for(var R=l.call(String(w),","),M="",N=0;N<R.length;++N)M+=(0===N?"":",")+y(c(R[N],p.encoder,x,"value",_));return[y(O)+"="+M]}return[y(O)+"="+y(c(w,p.encoder,x,"value",_))]}return[y(r)+"="+y(String(w))]}var P,L=[];if(void 0===w)return L;if("comma"===o&&u(w))P=[{value:w.length>0?w.join(",")||null:void 0}];else if(u(f))P=f;else{var D=Object.keys(w);P=d?D.sort(d):D}for(var k=0;k<P.length;++k){var F=P[k],B="object"==typeof F&&void 0!==F.value?F.value:w[F];if(!a||null!==B){var j=u(w)?"function"==typeof o?o(r,F):r:r+(v?"."+F:"["+F+"]");T.set(e,S);var U=n();U.set(g,T),h(L,t(B,j,o,s,a,c,f,d,v,m,_,y,b,x,U))}}return L};t.exports=function(t,e){var r,i=t,l=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==t.format){if(!s.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=o.formatters[r],i=p.filter;return("function"==typeof t.filter||u(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof l.filter?i=(0,l.filter)("",i):u(l.filter)&&(r=l.filter);var c,f=[];if("object"!=typeof i||null===i)return"";c=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=a[c];r||(r=Object.keys(i)),l.sort&&r.sort(l.sort);for(var g=n(),m=0;m<r.length;++m){var _=r[m];l.skipNulls&&null===i[_]||h(f,v(i[_],_,d,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,g))}var y=f.join(l.delimiter),b=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""}},(t,e,r)=>{"use strict";var n=r(208),i=r(214),o=r(216),s=n("%TypeError%"),a=n("%WeakMap%",!0),u=n("%Map%",!0),l=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),d=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),g=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new s("Side channel does not contain "+o(t))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return l(t,n)}else if(u){if(e)return f(e,n)}else if(r)return function(t,e){var r=g(t,e);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return h(t,n)}else if(u){if(e)return p(e,n)}else if(r)return function(t,e){return!!g(t,e)}(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new a),c(t,n,i)):u?(e||(e=new u),d(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=g(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},(t,e,r)=>{"use strict";var n,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var l=function(){throw new s},c=u?function(){try{return l}catch(t){try{return u(arguments,"callee").get}catch(t){return l}}}():l,h=r(209)(),f=Object.getPrototypeOf||function(t){return t.__proto__},d={},p="undefined"==typeof Uint8Array?n:f(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},v=function t(e){var r;if("%AsyncFunction%"===e)r=a("async function () {}");else if("%GeneratorFunction%"===e)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=a("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(r=f(i.prototype))}return g[e]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=r(211),y=r(213),b=_.call(Function.call,Array.prototype.concat),x=_.call(Function.apply,Array.prototype.splice),T=_.call(Function.call,String.prototype.replace),E=_.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,S=function(t){var e=E(t,0,1),r=E(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return T(t,w,(function(t,e,r,i){n[n.length]=r?T(i,A,"$1"):e||t})),n},I=function(t,e){var r,n=t;if(y(m,n)&&(n="%"+(r=m[n])[0]+"%"),y(g,n)){var o=g[n];if(o===d&&(o=v(n)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var r=S(t),n=r.length>0?r[0]:"",o=I("%"+n+"%",e),a=o.name,l=o.value,c=!1,h=o.alias;h&&(n=h[0],x(r,b([0,1],h)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],v=E(p,0,1),m=E(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(c=!0),y(g,a="%"+(n+="."+p)+"%"))l=g[a];else if(null!=l){if(!(p in l)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&f+1>=r.length){var _=u(l,p);l=(d=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:l[p]}else d=y(l,p),l=l[p];d&&!c&&(g[a]=l)}}return l}},(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(210);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},(t,e,r)=>{"use strict";var n=r(212);t.exports=Function.prototype.bind||n},t=>{"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";t.exports=function(t){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(e+o);for(var s,a=r.call(arguments,1),u=function(){if(this instanceof s){var e=o.apply(this,a.concat(r.call(arguments)));return Object(e)===e?e:this}return o.apply(t,a.concat(r.call(arguments)))},l=Math.max(0,o.length-a.length),c=[],h=0;h<l;h++)c.push("$"+h);if(s=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var f=function(){};f.prototype=o.prototype,s.prototype=new f,f.prototype=null}return s}},(t,e,r)=>{"use strict";var n=r(211);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},(t,e,r)=>{"use strict";var n=r(208),i=r(215),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},(t,e,r)=>{"use strict";var n=r(211),i=r(208),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(s,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=a(n,s,arguments);if(u&&l){var r=u(e,"length");r.configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))})}return e};var h=function(){return a(n,o,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h},(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=a&&u&&"function"==typeof u.get?u.get:null,c=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,g=Object.prototype.toString,v=Function.prototype.toString,m=String.prototype.match,_=String.prototype.slice,y=String.prototype.replace,b=String.prototype.toUpperCase,x=String.prototype.toLowerCase,T=RegExp.prototype.test,E=Array.prototype.concat,w=Array.prototype.join,A=Array.prototype.slice,S=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"==typeof Symbol.iterator,M="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function L(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||T.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-S(-t):S(t);if(n!==t){var i=String(n),o=_.call(e,i.length+1);return y.call(i,r,"$&_")+"."+y.call(y.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(e,r,"$&_")}var D=r(217).custom,k=D&&U(D)?D:null;function F(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function B(t){return y.call(String(t),/"/g,"&quot;")}function j(t){return!("[object Array]"!==W(t)||M&&"object"==typeof t&&M in t)}function U(t){if(R)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!O)return!1;try{return O.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,i){var a=r||{};if(z(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!z(a,"customInspect")||a.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return H(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var b=String(e);return g?L(e,b):b}if("bigint"==typeof e){var T=String(e)+"n";return g?L(e,T):T}var S=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=S&&S>0&&"object"==typeof e)return j(e)?"[Array]":"[Object]";var C,D=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=w.call(Array(t.indent+1)," ")}return{base:r,prev:w.call(Array(e+1),r)}}(a,n);if(void 0===i)i=[];else if(G(i,e)>=0)return"[Circular]";function V(e,r,o){if(r&&(i=A.call(i)).push(r),o){var s={depth:a.depth};return z(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,n+1,i)}return t(e,a,n+1,i)}if("function"==typeof e){var $=function(t){if(t.name)return t.name;var e=m.call(v.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),Z=J(e,V);return"[Function"+($?": "+$:" (anonymous)")+"]"+(Z.length>0?" { "+w.call(Z,", ")+" }":"")}if(U(e)){var Q=R?y.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(e);return"object"!=typeof e||R?Q:X(Q)}if((C=e)&&"object"==typeof C&&("undefined"!=typeof HTMLElement&&C instanceof HTMLElement||"string"==typeof C.nodeName&&"function"==typeof C.getAttribute)){for(var tt="<"+x.call(String(e.nodeName)),et=e.attributes||[],rt=0;rt<et.length;rt++)tt+=" "+et[rt].name+"="+F(B(et[rt].value),"double",a);return tt+=">",e.childNodes&&e.childNodes.length&&(tt+="..."),tt+"</"+x.call(String(e.nodeName))+">"}if(j(e)){if(0===e.length)return"[]";var nt=J(e,V);return D&&!function(t){for(var e=0;e<t.length;e++)if(G(t[e],"\n")>=0)return!1;return!0}(nt)?"["+K(nt,D)+"]":"[ "+w.call(nt,", ")+" ]"}if(function(t){return!("[object Error]"!==W(t)||M&&"object"==typeof t&&M in t)}(e)){var it=J(e,V);return"cause"in e&&!N.call(e,"cause")?"{ ["+String(e)+"] "+w.call(E.call("[cause]: "+V(e.cause),it),", ")+" }":0===it.length?"["+String(e)+"]":"{ ["+String(e)+"] "+w.call(it,", ")+" }"}if("object"==typeof e&&u){if(k&&"function"==typeof e[k])return e[k]();if("symbol"!==u&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{l.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ot=[];return s.call(e,(function(t,r){ot.push(V(r,e,!0)+" => "+V(t,e))})),Y("Map",o.call(e),ot,D)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var st=[];return c.call(e,(function(t){st.push(V(t,e))})),Y("Set",l.call(e),st,D)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return q("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return q("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(t){}return!1}(e))return q("WeakRef");if(function(t){return!("[object Number]"!==W(t)||M&&"object"==typeof t&&M in t)}(e))return X(V(Number(e)));if(function(t){if(!t||"object"!=typeof t||!I)return!1;try{return I.call(t),!0}catch(t){}return!1}(e))return X(V(I.call(e)));if(function(t){return!("[object Boolean]"!==W(t)||M&&"object"==typeof t&&M in t)}(e))return X(p.call(e));if(function(t){return!("[object String]"!==W(t)||M&&"object"==typeof t&&M in t)}(e))return X(V(String(e)));if(!function(t){return!("[object Date]"!==W(t)||M&&"object"==typeof t&&M in t)}(e)&&!function(t){return!("[object RegExp]"!==W(t)||M&&"object"==typeof t&&M in t)}(e)){var at=J(e,V),ut=P?P(e)===Object.prototype:e instanceof Object||e.constructor===Object,lt=e instanceof Object?"":"null prototype",ct=!ut&&M&&Object(e)===e&&M in e?_.call(W(e),8,-1):lt?"Object":"",ht=(ut||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ct||lt?"["+w.call(E.call([],ct||[],lt||[]),": ")+"] ":"");return 0===at.length?ht+"{}":D?ht+"{"+K(at,D)+"}":ht+"{ "+w.call(at,", ")+" }"}return String(e)};var V=Object.prototype.hasOwnProperty||function(t){return t in this};function z(t,e){return V.call(t,e)}function W(t){return g.call(t)}function G(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function H(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return H(_.call(t,0,e.maxStringLength),e)+n}return F(y.call(y.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$),"single",e)}function $(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+b.call(e.toString(16))}function X(t){return"Object("+t+")"}function q(t){return t+" { ? }"}function Y(t,e,r,n){return t+" ("+e+") {"+(n?K(r,n):w.call(r,", "))+"}"}function K(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+w.call(t,","+r)+"\n"+e.prev}function J(t,e){var r=j(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=z(t,i)?e(t[i],t):""}var o,s="function"==typeof C?C(t):[];if(R){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)z(t,u)&&(r&&String(Number(u))===u&&u<t.length||R&&o["$"+u]instanceof Symbol||(T.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if("function"==typeof C)for(var l=0;l<s.length;l++)N.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}},()=>{},(t,e,r)=>{"use strict";var n=r(219),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],a=Object.keys(s),u=0;u<a.length;++u){var l=a[u],c=s[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:s,prop:l}),r.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,i,o){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",l=0;l<a.length;++l){var c=a.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===n.RFC1738&&(40===c||41===c)?u+=a.charAt(l):c<128?u+=s[c]:c<2048?u+=s[192|c>>6]+s[128|63&c]:c<55296||c>=57344?u+=s[224|c>>12]+s[128|c>>6&63]+s[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(l)),u+=s[240|c>>18]+s[128|c>>12&63]+s[128|c>>6&63]+s[128|63&c])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(o(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var s=e;return o(e)&&!o(r)&&(s=a(e,n)),o(e)&&o(r)?(r.forEach((function(r,o){if(i.call(e,o)){var s=e[o];s&&"object"==typeof s&&r&&"object"==typeof r?e[o]=t(s,r,n):e.push(r)}else e[o]=r})),e):Object.keys(r).reduce((function(e,o){var s=r[o];return i.call(e,o)?e[o]=t(e[o],s,n):e[o]=s,e}),s)}}},t=>{"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:n}},(t,e,r)=>{"use strict";var n=r(218),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},u=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},l=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),l=a?o.slice(0,a.index):o,c=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var h=0;r.depth>0&&null!==(a=s.exec(o))&&h<r.depth;){if(h+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),function(t,e,r,n){for(var i=n?e:u(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i}(c,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var r,l={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,f=c.split(e.delimiter,h),d=-1,p=e.charset;if(e.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?p="utf-8":"utf8=%26%2310003%3B"===f[r]&&(p="iso-8859-1"),d=r,r=f.length);for(r=0;r<f.length;++r)if(r!==d){var g,v,m=f[r],_=m.indexOf("]="),y=-1===_?m.indexOf("="):_+1;-1===y?(g=e.decoder(m,s.decoder,p,"key"),v=e.strictNullHandling?null:""):(g=e.decoder(m.slice(0,y),s.decoder,p,"key"),v=n.maybeMap(u(m.slice(y+1),e),(function(t){return e.decoder(t,s.decoder,p,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===p&&(v=a(v)),m.indexOf("[]=")>-1&&(v=o(v)?[v]:v),i.call(l,g)?l[g]=n.combine(l[g],v):l[g]=v}return l}(t,r):t,h=r.plainObjects?Object.create(null):{},f=Object.keys(c),d=0;d<f.length;++d){var p=f[d],g=l(p,c[p],r,"string"==typeof t);h=n.merge(h,g,r)}return!0===r.allowSparse?h:n.compact(h)}},(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(222);function o(t){if(t)return function(t){for(var e in o.prototype)Object.prototype.hasOwnProperty.call(o.prototype,e)&&(t[e]=o.prototype[e]);return t}(t)}t.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},o.prototype.parse=function(t){return this._parser=t,this},o.prototype.responseType=function(t){return this._responseType=t,this},o.prototype.serialize=function(t){return this._serializer=t,this},o.prototype.timeout=function(t){if(!t||"object"!==n(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},o.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var s=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),a=new Set([408,413,429,500,502,503,504,521,522,524]);o.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&a.has(e.status))return!0;if(t){if(t.code&&s.has(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},o.prototype.then=function(t,e){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){n.on("abort",(function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)e(r.timedoutError);else{var t=new Error("Aborted");t.code="ABORTED",t.status=r.status,t.method=r.method,t.url=r.url,e(t)}})),n.end((function(r,n){r?e(r):t(n)}))}))}return this._fullfilledPromise.then(t,e)},o.prototype.catch=function(t){return this.then(void 0,t)},o.prototype.use=function(t){return t(this),this},o.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},o.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},o.prototype.get=function(t){return this._header[t.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(t,e){if(i(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},o.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},o.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(i(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(r,t[r]);return this}if(Array.isArray(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(t,e[n]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},o.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},o.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},o.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},o.prototype.redirects=function(t){return this._maxRedirects=t,this},o.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(t){var e=i(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&i(this._data))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this._data[n]=t[n]);else"string"==typeof t?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===r?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||r||this.type("json"),this},o.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},o.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.slice(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}},o.prototype._appendQueryString=function(){console.warn("Unsupported")},o.prototype._timeoutError=function(t,e,r){if(!this._aborted){var n=new Error("".concat(t+e,"ms exceeded"));n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},o.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){return null!==t&&"object"===e(t)}},(t,e,r)=>{"use strict";var n=r(224);function i(t){if(t)return function(t){for(var e in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,e)&&(t[e]=i.prototype[e]);return t}(t)}t.exports=i,i.prototype.get=function(t){return this.header[t.toLowerCase()]},i.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=n.type(e);var r=n.params(e);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(this[i]=r[i]);this.links={};try{t.link&&(this.links=n.parseLinks(t.link))}catch(t){}},i.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t}},(t,e)=>{"use strict";function r(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){var e,n={},i=r(t.split(/ *; */));try{for(i.s();!(e=i.n()).done;){var o=e.value.split(/ *= */),s=o.shift(),a=o.shift();s&&a&&(n[s]=a)}}catch(t){i.e(t)}finally{i.f()}return n},e.parseLinks=function(t){var e,n={},i=r(t.split(/ *, */));try{for(i.s();!(e=i.n()).done;){var o=e.value.split(/ *; */),s=o[0].slice(1,-1);n[o[1].split(/ *= */)[1].slice(1,-1)]=s}}catch(t){i.e(t)}finally{i.f()}return n},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(t){r.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}})),r.prototype._setDefaults=function(t){this._defaults.forEach((function(r){var n;t[r.fn].apply(t,function(t){if(Array.isArray(t))return e(t)}(n=r.args)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))},t.exports=r},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHR_TYPE_MAP=e.XHR_RESPONSE_TYPE=e.STATUS_FLAGS=e.LOAD_TYPE_MAP=e.LOAD_TYPE=void 0,e.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};var r={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};e.LOAD_TYPE=r;var n={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};e.XHR_RESPONSE_TYPE=n;var i={xhtml:n.DOCUMENT,html:n.DOCUMENT,htm:n.DOCUMENT,xml:n.DOCUMENT,tmx:n.DOCUMENT,svg:n.DOCUMENT,tsx:n.DOCUMENT,fnt:n.DOCUMENT,gif:n.BLOB,png:n.BLOB,bmp:n.BLOB,jpg:n.BLOB,jpeg:n.BLOB,tif:n.BLOB,tiff:n.BLOB,webp:n.BLOB,tga:n.BLOB,json:n.JSON,text:n.TEXT,txt:n.TEXT,ttf:n.BUFFER,otf:n.BUFFER};e.XHR_TYPE_MAP=i;var o={gif:r.IMAGE,png:r.IMAGE,bmp:r.IMAGE,jpg:r.IMAGE,jpeg:r.IMAGE,tif:r.IMAGE,tiff:r.IMAGE,webp:r.IMAGE,tga:r.IMAGE,svg:r.IMAGE,mp3:r.AUDIO,ogg:r.AUDIO,wav:r.AUDIO,mp4:r.VIDEO,webm:r.VIDEO};e.LOAD_TYPE_MAP=o},(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},s=a(t,this.baseUrl);this.add(r,s,n,(function(r){if(r.error)e(r.error);else{var n=new o.default(r.texture.baseTexture,t.data,t.url);n.parse((()=>{t.spritesheet=n,t.textures=n.textures,e()}))}}))}else e()}},e.getResourcePath=a;var n=s(r(228)),i=r(195),o=s(r(186));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return t.isDataUrl?t.data.meta.image:n.default.resolve(t.url.replace(e,""),t.data.meta.image)}},(t,e,r)=>{"use strict";var n=r(229),i=r(230);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=y(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(231);function y(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(a);l[0]=l[0].replace(/\\/g,"/");var y=t=l.join(a);if(y=y.trim(),!r&&1===t.split("#").length){var b=u.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(y);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,y=y.substr(x.length)}if(r||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===y.substr(0,2);!E||x&&v[x]||(y=y.substr(2),this.slashes=!0)}if(!v[x]&&(E||x&&!m[x])){for(var w,A,S=-1,I=0;I<f.length;I++)-1!==(C=y.indexOf(f[I]))&&(-1===S||C<S)&&(S=C);for(-1!==(A=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(w=y.slice(0,A),y=y.slice(A+1),this.auth=decodeURIComponent(w)),S=-1,I=0;I<h.length;I++){var C;-1!==(C=y.indexOf(h[I]))&&(-1===S||C<S)&&(S=C)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var R=this.hostname.split(/\./),M=(I=0,R.length);I<M;I++){var N=R[I];if(N&&!N.match(d)){for(var P="",L=0,D=N.length;L<D;L++)N.charCodeAt(L)>127?P+="x":P+=N[L];if(!P.match(d)){var k=R.slice(0,I),F=R.slice(I+1),B=N.match(p);B&&(k.push(B[1]),F.unshift(B[2])),F.length&&(y="/"+F.join(".")+y),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=n.toASCII(this.hostname));var j=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+j,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[T])for(I=0,M=c.length;I<M;I++){var V=c[I];if(-1!==y.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),y=y.split(V).join(z)}}var W=y.indexOf("#");-1!==W&&(this.hash=y.substr(W),y=y.slice(0,W));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),e&&(this.query=_.parse(this.query)),y=y.slice(0,G)):e&&(this.search="",this.query={}),y&&(this.pathname=y),m[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(r[c]=t[c])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",_=r.search||"";r.path=g+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||y||r.host&&t.pathname,T=x,E=r.pathname&&r.pathname.split("/")||[],w=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===E[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search))return w&&(r.hostname=r.host=E.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=E.slice(-1)[0],S=(r.host||t.host||E.length>1)&&("."===A||".."===A)||""===A,I=0,C=E.length;C>=0;C--)"."===(A=E[C])?E.splice(C,1):".."===A?(E.splice(C,1),I++):I&&(E.splice(C,1),I--);if(!x&&!T)for(;I--;I)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var O,R=""===E[0]||E[0]&&"/"===E[0].charAt(0);return w&&(r.hostname=r.host=R?"":E.length?E.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),(x=x||r.host&&E.length)&&!R&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){var n;t=r.nmd(t),function(i){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,u=36,l=/^xn--/,c=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function g(t){throw RangeError(f[t])}function v(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+v((t=t.replace(h,".")).split("."),e).join(".")}function _(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function y(t){return v(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+p(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,r){var n=0;for(t=r?d(t/700):t>>1,t+=d(t/e);t>455;n+=u)t=d(t/35);return d(n+36*t/(t+38))}function T(t){var e,r,n,i,o,s,l,c,h,f,p,v=[],m=t.length,_=0,b=128,T=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&g("not-basic"),v.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=_,s=1,l=u;i>=m&&g("invalid-input"),((c=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||c>d((a-_)/s))&&g("overflow"),_+=c*s,!(c<(h=l<=T?1:l>=T+26?26:l-T));l+=u)s>d(a/(f=u-h))&&g("overflow"),s*=f;T=x(_-o,e=v.length+1,0==o),d(_/e)>a-b&&g("overflow"),b+=d(_/e),_%=e,v.splice(_++,0,b)}return y(v)}function E(t){var e,r,n,i,o,s,l,c,h,f,v,m,y,T,E,w=[];for(m=(t=_(t)).length,e=128,r=0,o=72,s=0;s<m;++s)(v=t[s])<128&&w.push(p(v));for(n=i=w.length,i&&w.push("-");n<m;){for(l=a,s=0;s<m;++s)(v=t[s])>=e&&v<l&&(l=v);for(l-e>d((a-r)/(y=n+1))&&g("overflow"),r+=(l-e)*y,e=l,s=0;s<m;++s)if((v=t[s])<e&&++r>a&&g("overflow"),v==e){for(c=r,h=u;!(c<(f=h<=o?1:h>=o+26?26:h-o));h+=u)E=c-f,T=u-f,w.push(p(b(f+E%T,0))),c=d(E/T);w.push(p(b(c,0))),o=x(r,y,n==i),r=0,++n}++r,++e}return w.join("")}s={version:"1.3.2",ucs2:{decode:_,encode:y},decode:T,encode:E,toASCII:function(t){return m(t,(function(t){return c.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return m(t,(function(t){return l.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return s}.call(e,r,e,t))||(t.exports=n)}()},t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},(t,e,r)=>{"use strict";e.decode=e.parse=r(232),e.encode=e.stringify=r(233)},t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var l=0;l<u;++l){var c,h,f,d,p=t[l].replace(s,"%20"),g=p.indexOf(n);g>=0?(c=p.substr(0,g),h=p.substr(g+1)):(c=p,h=""),f=decodeURIComponent(c),d=decodeURIComponent(h),e(o,f)?Array.isArray(o[f])?o[f].push(d):o[f]=[o[f],d]:o[f]=d}return o}},t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,i){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(e(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[i]))})).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(62),o=r(235),s=r(256),a=r(257),u=r(236),l=r(282),c=r(284),h=r(263),f=r(288),d=r(290),p=(r(291),r(320)),g=r(323),{Application:v,Loader:m,settings:_,destroyAndCleanAllCache:y}=r(14),{nodeRequire:b,genUuid:x}=r(236),T=b("../utils/opencv"),E=b("../utils/ffmpeg"),w=r(321),A=r(n?433:434),S=r(435);t.exports=class extends a{constructor(t={}){super({type:"creator",...t}),this.canplay=!1,this.visible=!0,this.maxzIndex=0,this.inCenter=!1,this._conf=new o(t),this.loader=new m,this.switchLog(this.getConf("log")),this.tweenGroup=new A.Group,this.timer=10,this.tweenGroup.now=()=>this.timer,this.frameCallbacks=[],this.mVIDEOS=[],this.createApp(),this.createRenderer(),this.addAudio(this.getConf("audio")),!1===this.getConf("opencv")&&(T.enable=!1),n||d.info({pos:"OpenCV",msg:`enable: ${T.enable} available: ${T.available()}`})}updateDisplay(){this.allNodes.filter((t=>{t.updateDisplay&&t.updateDisplay()})),super.updateDisplay()}get uuid(){return this.conf.refId}get absStartTime(){return 0}get playing(){return this.renderer.playing}createApp(){this.resetSize();const t=this.getConf("width"),e=this.getConf("height"),r=this.getConf("render"),i=this.getConf("clarity"),o=this.getConf("antialias"),a=`${this.type}_${r}`;_.PRECISION_FRAGMENT=`${i}p`;const u=this.getConf("canvas");if(n&&!u)throw new Error("Browser rendering need canvas!");this.setConf("useGL",!0);const l={useGL:!0,antialias:o,view:u,backgroundColor:0,transparent:!n};d.info({pos:"Creator",msg:`inkpaint app: ${JSON.stringify(l)}`});const c=s.get(a,(()=>new v(t,e,l)));c.renderer.resize(t,e),this.display=c.stage,this.display.sortableChildren=!0,this.app=c,this.width=t,this.height=e}get bgColor(){return this.app.renderer._backgroundColorString}resize(t,e){if(t&&e&&!isNaN(t)&&!isNaN(e)&&(t!==this.getConf("width")||e!==this.getConf("height"))){this.width=t,this.height=e,this.setConf("width",t),this.setConf("height",e),this.conf.width=t,this.conf.height=e,this.app.renderer.resize(t,e);for(const t of this.allNodes)t.display&&(t.resizeBackground&&t.resizeBackground(),t.updateAnimations&&t.updateAnimations(),t.fitSize&&t.fitSize(),t.fitTexture&&t.fitTexture());this.render(),this.emit("resize")}}createRenderer(){this.renderer=new p({creator:this})}generateOutput(){const t=this.getConf("ext"),e=this.getConf("outputDir");return e&&this.setOutput(i.join(e,`${x()}.${t}`)),this}getFFmpeg(){return E.getFFmpeg()}setCover(t){this.setConf("cover",t)}setFps(t){this.setConf("fps",t)}setDuration(t){this.setConf("duration",t)}setConf(t,e){this._conf.setVal(t,e)}getConf(t){return this._conf.getVal(t)}addAudio(t){t&&("string"==typeof t&&(t={path:t}),t instanceof h||void 0!==t.loop||(t.loop=!0),super.addAudio(t))}createEffect(t,e){g.createEffect(t,e)}resetSize(t,e){t||(t=this.getConf("width"),e=this.getConf("height")),this.setConf("width",u.courtship(t)),this.setConf("height",u.courtship(e))}setOutput(t){this.setConf("output",i.normalize(t))}getFile(){return this.getConf("output")}render(){try{this.app.render()}catch(t){console.log("App render error",t)}}output(t){this.setOutput(t)}openLog(){d.enable=!0}closeLog(){d.enable=!1}switchLog(t){t?this.openLog():this.closeLog()}setInputOptions(t){this.setConf("inputOptions",t)}setOutOptions(t){this.setConf("outputOptions",t)}async prepare(t=0){await this.start(25,!1);const e=this.toJson();if(e.pathId=this.rootConf("pathId"),!t||3*t>this.duration)return e;const r=Math.round(this.duration/t),n=Math.round(this.duration/r),i=[],o=JSON.stringify(e);for(let t=0;t<r;t++){const e=JSON.parse(o);e.mute=!0,e.start=t*n>>0,t+1<r&&(e.end=(t+1)*n>>0),i.push(e)}const s=JSON.parse(o);return s.ext="m4a",{videos:i,audio:s}}async start(t=25,e=!0){await u.sleep(t),this.destroyed||(this.addRenderEvent(),this.initSpine(),this.initzIndex(),await this.renderer.start(e))}initSpine(){let t=this.children.filter((t=>"spine"===t?.type));if(t.length>1)throw new Error("Num of Spine must only one!");if(0===t.length){if(this.children.filter((t=>"track"===t?.type)).length>0)throw new Error("Track should not exists when Spine absence!");t=new f,t.parent=this;const e=[t];this.children.map((r=>{"video"!==r.type||r.conf.start?e.push(r):t.addChild(r)})),this.children=e}}initzIndex(){let t=0;const e=r=>{r.children.map((r=>{r.zIndex=r.basezIndex+t++,this.maxzIndex=Math.max(r.zIndex,this.maxzIndex),e(r)}))};e(this)}time(t){return Number(t)}async play(t=1){if(!this.canplay)throw new Error("player not ready");this.playbackRate=t,this.renderer.play(t)}async pause(){if(!this.canplay)throw new Error("player not ready");return this.renderer.pause()}async jumpTo(t){if(!this.canplay)throw new Error("player not ready");const e=Number(t);if(isNaN(e)||e<0)throw new Error("jump to invalid time",t);this.renderer.jumpTo(Math.min(e,1e3*this.duration-50>>0))}addRenderEvent(){this.bubble(this.renderer);const t=async()=>{await u.sleep(20),this.destroy()};this.renderer.on("error",t),this.renderer.on("complete",t)}addFrameCallback(t){t&&!this.frameCallbacks.includes(t)&&(this.frameCallbacks.push(t),this.frameCallbacks.sort(((t,e)=>t.zIndex-e.zIndex)))}removeFrameCallback(t){if(!t)return;const e=this.frameCallbacks.indexOf(t);e>-1&&this.frameCallbacks.splice(e,1)}async timeUpdate(t=0,e=-1){if(t>0&&!this.canplay)return;const r=e>=0?e:this.timer+t,n=t>0?this.timer:r;this.timer=r;const i=Promise.all(this.frameCallbacks.map((e=>{if("function"==typeof e.drawing)return e.drawing(n,t)})));return this.tweenGroup.update(this.timer),i}get duration(){return Number(this.getConf("duration"))}get currentTime(){return this.tweenGroup.now()}destroyApp(){const t=this.getConf("pool"),e=this.getConf("render");t?(this.app.destroyChildren(!0),s.put(`${this.type}_${e}`,this.app)):this.app.destroy(!0,!0),this.app=null}annotate(){const t=this.children.filter((t=>"spine"===t.type))[0];t.annotate();let e=t.duration;this.allNodes.filter((t=>!t.isVirtual)).map((t=>e=Math.max(e,t.absEndTime)));let r=!1;e!==this.duration&&(r=!0,this.setDuration(e)),this.allNodes.map((t=>{t.annotate(),this.maxzIndex=Math.max(t.zIndex,this.maxzIndex)})),this.renderer.timeline.duration!==this.duration&&this.renderer.timeline.update(),this.updateDisplay(),r&&this.canplay&&this.emit({type:"loadedmetadata",duration:this.duration,width:this.getConf("width"),height:this.getConf("height")}),this.emit({type:"timeupdate",currentTime:this.currentTime,total:Math.floor(1e3*this.duration)})}get outputTime(){return{start:this.getConf("start")||0,end:this.getConf("end")||this.duration}}get audioOnly(){return"m4a"===`${this.getConf("ext")}`.toLowerCase()}toMiraML(t=!0,e=2){this.XML_INDENT=e;const r=this.toJson(t),n=['version="1.1"'];for(const t of["author","name","description"])r[t]&&(n.push(`${t}="${r[t]}"`),delete r[t]);return`<miraml ${n.join(" ")}>\n${this.xml(r,e)}</miraml>`}xml(t,e,r=null){const n=r||t.type;if(!n)return"";const i=e+this.XML_INDENT,o=[],s=t.children&&Array.isArray(t.children)?t.children.map((t=>this.xml(t,i))):[];"text"===t.type&&t.text&&(s.push(`${" ".repeat(i)}<content>${t.text}</content>\n`),delete t.text,delete t.content);for(let[e,r]of Object.entries(t))["type","children"].includes(e)||(Array.isArray(r)?(r=r.map((t=>"object"!=typeof t?t:(s.push(this.xml(t,i,e)),null))).filter((t=>null!==t)),r.length>0&&o.push(`${e}="${JSON.stringify(r)}"`)):"object"==typeof r?s.push(this.xml(r,i,e)):null!=r&&o.push(`${e}="${r}"`));const a=" ".repeat(e),u=`${o.length?" ":""}${o.join(" ")}`,l=s.join("");return l?`${a}<${n}${u}>\n${l}${a}</${n}>\n`:`${a}<${n}${u}></${n}>\n`}toJson(t=!1){const e=super.toJson(t);return e.type="canvas",t||(e.duration=this.duration),delete e.canvas,delete e.value,delete e.cacheDir,delete e.outputDir,delete e.log,t&&(delete e.library,delete e.materials),e}async destroy(){(this.renderer||this.display)&&(this.destroyed||(this.destroyed=!0,this.canplay=!1,await this.timeUpdate(0),this.loader.destroy(),this.renderer.destroy(),this.destroyApp(),super.destroy(),l.release(this.uuid),c.cancel(this.uuid),w.release(this.uuid),S.release(this.uuid),this.mVIDEOS=[],this.frameCallbacks=[],this._conf=null,this.conf=null,this.loader=null,this.display=null,this.renderer=null,this.inCenter=!1,this.emit("emptied"),d.info({pos:"Creator",msg:"destroyed!!"})))}static setFFmpegPath(t){E.setFFmpegPath(t)}static setFFprobePath(t){E.setFFprobePath(t)}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(62),o=r(236),s={getVal:t=>null,setVal:(t,e)=>null};t.exports=class{constructor(t={}){if(this.conf=t,this.conf.pathId=this.conf.pathId||o.genUuid(),this.copyByDefaultVal(t,"crf",20),this.copyByDefaultVal(t,"vb",null),this.copyByDefaultVal(t,"cover",null),this.copyByDefaultVal(t,"pool",!1),this.copyByDefaultVal(t,"debug",!1),this.copyByDefaultVal(t,"preload",!0),this.copyByDefaultVal(t,"antialias",!0),this.copyByDefaultVal(t,"audioLoop",!0),this.copyByDefaultVal(t,"ffmpeglog",!1),this.copyByDefaultVal(t,"ext","mp4"),this.copyByDefaultVal(t,"preset","ultrafast"),this.copyByDefaultVal(t,"cacheFormat","raw"),this.copyByDefaultVal(t,"cacheQuality",80),this.copyByDefaultVal(t,"adjustPlaySpeed",!1),this.copyByDefaultVal(t,"resolution",1),this.copyByDefaultVal(t,"defaultOutputOptions",{merge:!0,options:[]}),this.copyFromMultipleVal(t,"fps","rfps",24),this.copyFromMultipleVal(t,"width","w",800),this.copyFromMultipleVal(t,"height","h",450),this.copyFromMultipleVal(t,"parallel","frames",1),this.copyFromMultipleVal(t,"render","renderer","canvas"),this.copyFromMultipleVal(t,"normalizeAudio","norAudio",!0),this.copyFromMultipleVal(t,"clarity","renderClarity","medium"),!n){const e=r(255);this.copyFromMultipleVal(t,"outputDir","dir",i.join("./")),this.copyFromMultipleVal(t,"cacheDir","cacheDir",e.directory()),this.copyFromMultipleVal(t,"output","out",i.join("./",`${this.conf.pathId}.mp4`)),this.copyFromMultipleVal(t,"highWaterMark","size",process.env.HIGH_WATER_MARK||"200kb")}}getVal(t){return"detailedCacheDir"===t?this.getCacheDir():this.conf[t]}setVal(t,e){this.conf[t]=e}getWH(t="x"){return this.getVal("width")+t+this.getVal("height")}getCacheDir(){let t=this.getVal("cacheDir"),e=this.getVal("pathId");return i.join(t,e)}copyByDefaultVal(t,e,r){this.conf[e]=void 0===t[e]?r:t[e]}copyFromMultipleVal(t,e,r,n){this.conf[e]=t[e]||t[r]||n}static getFakeConf(){return s}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i={},o={safeRequire(t){try{return r(237)(t)}catch(t){}},nodeRequire:t=>n?null:o.safeRequire(t),isUA:t=>navigator&&navigator.userAgent.toLowerCase().includes(t.toLowerCase()),async getPixels(t,e){const n=r(238);return new Promise(((r,i)=>{n(t,e,((t,e,n)=>{if(t)return i(t);r({pixels:e,frameInfo:n})}))}))},awaitMap(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(e(t[n]));return Promise.all(r)},dmap(t,e,r=[]){const n=Array.isArray(t)?[]:{},i=Array.isArray(t)?t.map(((t,e)=>[e,t])):Object.entries(t);for(const[t,o]of i){const i=[...r,t];n[t]="object"==typeof o?DataUtil.dmap(o,e,i):e(o,t,i)}return n},genId:t=>(void 0===i[t]&&(i[t]=1),t+"_"+String(i[t]++)),genUuid:()=>Math.random().toString(36).substr(-8)+Math.random().toString(36).substr(-8),deleteArrayElement(t,e){const r=t.indexOf(e);return r>-1&&t.splice(r,1),t},swapArrayElement(t,e,r){const n="number"==typeof e?e:t.indexOf(e),i="number"==typeof r?r:t.indexOf(r),o=t[n];return t[n]=t[i],t[i]=o,t},isArray2D:t=>!(!t||!t.length)&&Array.isArray(t[0]),deleteUndefined(t){for(let e in t)void 0===t[e]&&delete t[e];return t},destroyObj(t){if("object"==typeof t)for(let e in t)delete t[e]},mergeExclude(t,e={},r=[]){for(let n in e)r.indexOf(n)<0&&void 0!==e[n]&&(t[n]=e[n]);return t},insertSubArray(t,e,r){if(r){t.splice(e,1);for(let n=0;n<r.length;n++)t.splice(e,0,r[0])}},courtship:t=>(t>>=0)%2==0?t:t-1,floor(t,e=2){const r=Math.pow(10,e);return Math.floor(t*r)/r},sleep:t=>new Promise((e=>setTimeout(e,t))),fixFolderPath:t=>t.replace(/\/\//gi,"/"),toHash(t){let e,r,n=0;for(e=0;e<t.length;e++)r=t.charCodeAt(e),n=(n<<5)-n+r,n|=0;return n+""},getErrStack:(t={})=>(t="string"==typeof t?{message:t}:t).message||t.stack||t,storage:{}};t.exports=o},t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=237,t.exports=e},(t,e,r)=>{"use strict";var n=r(62),i=r(239),o=r(242).GifReader,s=r(243).Buffer,a=(r(246),r(252),r(254));function u(t,e){var r;try{r=new o(t)}catch(t){return void e(t)}if(r.numFrames()>0){var n=[r.numFrames(),r.height,r.width,4],s=new Uint8Array(n[0]*n[1]*n[2]*n[3]),a=i(s,n),u=[];try{for(var l=0;l<r.numFrames();++l)r.decodeAndBlitFrameRGBA(l,s.subarray(a.index(l,0,0,0),a.index(l+1,0,0,0))),u.push(r.frameInfo(l))}catch(t){return void e(t)}e(null,a.transpose(0,2,1),u)}else{n=[r.height,r.width,4],s=new Uint8Array(n[0]*n[1]*n[2]),a=i(s,n);try{r.decodeAndBlitFrameRGBA(0,s)}catch(t){return void e(t)}e(null,a.transpose(1,0))}}t.exports=function(t,e,r){r||(r=e,e="");var o=n.extname(t);".GIF"===(e||o.toUpperCase())?function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.overrideMimeType&&r.overrideMimeType("application/binary"),r.onerror=function(t){e(t)},r.onload=function(){4===r.readyState&&u(new Uint8Array(r.response),e)},r.send()}(t,r):(s.isBuffer(t)&&(t="data:"+e+";base64,"+t.toString("base64")),0===t.indexOf("data:image/gif;")?function(t,e){process.nextTick((function(){try{var r=a(t);r?u(function(t){if(void 0===t[0]){for(var e=t.length,r=new Uint8Array(e),n=0;n<e;++n)r[n]=t.get(n);return r}return new Uint8Array(t)}(r),e):e(new Error("Error parsing data URI"))}catch(t){e(t)}}))}(t,r):function(t,e){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var n=t.getContext("2d");n.drawImage(r,0,0);var o=n.getImageData(0,0,r.width,r.height);e(null,i(new Uint8Array(o.data),[r.width,r.height,4],[4,4*r.width,1],0))},r.onerror=function(t){e(t)},r.src=t}(t,r))}},(t,e,r)=>{var n=r(240),i=r(241),o="undefined"!=typeof Float64Array;function s(t,e){return t[0]-e[0]}function a(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(s);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function u(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(o)()}if(0===e)return o="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",new Function("TrivialArray",o)(l[t][0]);o=["'use strict'"];var s=n(e),u=s.map((function(t){return"i"+t})),c="this.offset+"+s.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),h=s.map((function(t){return"b"+t})).join(","),f=s.map((function(t){return"c"+t})).join(",");o.push("function "+r+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+r+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),i?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+r+"_get("+u.join(",")+"){"),i?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+r+"_index(",u.join(),"){return "+c+"}"),o.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+s.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+s.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var d=s.map((function(t){return"a"+t+"=this.shape["+t+"]"})),p=s.map((function(t){return"c"+t+"=this.stride["+t+"]"}));o.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");for(o.push("return new "+r+"(this.data,"+s.map((function(t){return"a"+t})).join(",")+","+s.map((function(t){return"c"+t})).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+s.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+s.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");o.push("return new "+r+"(this.data,"+s.map((function(t){return"a"+t})).join(",")+","+s.map((function(t){return"b"+t})).join(",")+",c)}");var v=new Array(e),m=new Array(e);for(g=0;g<e;++g)v[g]="a[i"+g+"]",m[g]="b[i"+g+"]";for(o.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+v.join(",")+","+m.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset"),g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map((function(t){return"shape["+t+"]"})).join(",")+","+s.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(l[t],a)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,r,n){if(void 0===t)return(0,l.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===r){r=new Array(s);for(var a=s-1,c=1;a>=0;--a)r[a]=c,c*=e[a]}if(void 0===n)for(n=0,a=0;a<s;++a)r[a]<0&&(n-=(e[a]-1)*r[a]);for(var h=function(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),f=l[h];f.length<=s+1;)f.push(u(h,f.length-1));return(0,f[s+1])(t,e,r,n)}},t=>{"use strict";t.exports=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}},t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},(t,e)=>{"use strict";function r(t,e,r,n){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,u=i+1,l=(1<<u)-1,c=0,h=0,f=0,d=t[e++],p=new Int32Array(4096),g=null;;){for(;c<16&&0!==d;)h|=t[e++]<<c,c+=8,1===d?d=t[e++]:--d;if(c<u)break;var v=h&l;if(h>>=u,c-=u,v!==o){if(v===s)break;for(var m=v<a?v:g,_=0,y=m;y>o;)y=p[y]>>8,++_;var b=y;if(f+_+(m!==v?1:0)>n)return void console.log("Warning, gif stream longer than expected.");r[f++]=b;var x=f+=_;for(m!==v&&(r[f++]=b),y=m;_--;)y=p[y],r[--x]=255&y,y>>=8;null!==g&&a<4096&&(p[a++]=g<<8|b,a>=l+1&&u<12&&(++u,l=l<<1|1)),g=v}else a=s+1,l=(1<<(u=i+1))-1,g=null}return f!==n&&console.log("Warning, gif stream shorter than expected."),r}try{e.GifWriter=function(t,e,r,n){var i=0,o=void 0===(n=void 0===n?{}:n).loop?null:n.loop,s=void 0===n.palette?null:n.palette;if(e<=0||r<=0||e>65535||r>65535)throw new Error("Width/Height invalid.");function a(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[i++]=71,t[i++]=73,t[i++]=70,t[i++]=56,t[i++]=57,t[i++]=97;var u=0,l=0;if(null!==s){for(var c=a(s);c>>=1;)++u;if(c=1<<u,--u,void 0!==n.background){if((l=n.background)>=c)throw new Error("Background index out of range.");if(0===l)throw new Error("Background index explicitly passed as 0.")}}if(t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=(null!==s?128:0)|u,t[i++]=l,t[i++]=0,null!==s)for(var h=0,f=s.length;h<f;++h){var d=s[h];t[i++]=d>>16&255,t[i++]=d>>8&255,t[i++]=255&d}if(null!==o){if(o<0||o>65535)throw new Error("Loop count invalid.");t[i++]=33,t[i++]=255,t[i++]=11,t[i++]=78,t[i++]=69,t[i++]=84,t[i++]=83,t[i++]=67,t[i++]=65,t[i++]=80,t[i++]=69,t[i++]=50,t[i++]=46,t[i++]=48,t[i++]=3,t[i++]=1,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=0}var p=!1;this.addFrame=function(e,r,n,o,u,l){if(!0===p&&(--i,p=!1),l=void 0===l?{}:l,e<0||r<0||e>65535||r>65535)throw new Error("x/y invalid.");if(n<=0||o<=0||n>65535||o>65535)throw new Error("Width/Height invalid.");if(u.length<n*o)throw new Error("Not enough pixels for the frame size.");var c=!0,h=l.palette;if(null==h&&(c=!1,h=s),null==h)throw new Error("Must supply either a local or global palette.");for(var f=a(h),d=0;f>>=1;)++d;f=1<<d;var g=void 0===l.delay?0:l.delay,v=void 0===l.disposal?0:l.disposal;if(v<0||v>3)throw new Error("Disposal out of range.");var m=!1,_=0;if(void 0!==l.transparent&&null!==l.transparent&&(m=!0,(_=l.transparent)<0||_>=f))throw new Error("Transparent color index.");if((0!==v||m||0!==g)&&(t[i++]=33,t[i++]=249,t[i++]=4,t[i++]=v<<2|(!0===m?1:0),t[i++]=255&g,t[i++]=g>>8&255,t[i++]=_,t[i++]=0),t[i++]=44,t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=!0===c?128|d-1:0,!0===c)for(var y=0,b=h.length;y<b;++y){var x=h[y];t[i++]=x>>16&255,t[i++]=x>>8&255,t[i++]=255&x}return i=function(t,e,r,n){t[e++]=r;var i=e++,o=1<<r,s=o-1,a=o+1,u=a+1,l=r+1,c=0,h=0;function f(r){for(;c>=r;)t[e++]=255&h,h>>=8,c-=8,e===i+256&&(t[i]=255,i=e++)}function d(t){h|=t<<c,c+=l,f(8)}var p=n[0]&s,g={};d(o);for(var v=1,m=n.length;v<m;++v){var _=n[v]&s,y=p<<8|_,b=g[y];if(void 0===b){for(h|=p<<c,c+=l;c>=8;)t[e++]=255&h,h>>=8,c-=8,e===i+256&&(t[i]=255,i=e++);4096===u?(d(o),u=a+1,l=r+1,g={}):(u>=1<<l&&++l,g[y]=u++),p=_}else p=b}return d(p),d(a),f(1),i+1===e?t[i]=0:(t[i]=e-i-1,t[e++]=0),e}(t,i,d<2?2:d,u),i},this.end=function(){return!1===p&&(t[i++]=59,p=!0),i},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(t){i=t}},e.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,o=t[e++],s=o>>7,a=1<<1+(7&o);t[e++],t[e++];var u=null,l=null;s&&(u=e,l=a,e+=3*a);var c=!0,h=[],f=0,d=null,p=0,g=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],0==(1&v)&&(d=null),p=v>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,x=t[e++],T=x>>6&1,E=1<<1+(7&x),w=u,A=l,S=!1;x>>7&&(S=!0,w=e,A=E,e+=3*E);var I=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}h.push({x:m,y:_,width:y,height:b,has_local_palette:S,palette_offset:w,palette_size:A,data_offset:I,data_length:e-I,transparent_index:d,interlaced:!!T,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return g},this.frameInfo=function(t){if(t<0||t>=h.length)throw new Error("Frame index out of range.");return h[t]},this.decodeAndBlitFrameBGRA=function(e,i){var o=this.frameInfo(e),s=o.width*o.height,a=new Uint8Array(s);r(t,o.data_offset,a,s);var u=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var c=o.width,h=n-c,f=c,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),g=d,v=4*h;!0===o.interlaced&&(v+=4*n*7);for(var m=8,_=0,y=a.length;_<y;++_){var b=a[_];if(0===f&&(f=c,(g+=v)>=p&&(v=4*h+4*n*(m-1),g=d+(c+h)*(m<<1),m>>=1)),b===l)g+=4;else{var x=t[u+3*b],T=t[u+3*b+1],E=t[u+3*b+2];i[g++]=E,i[g++]=T,i[g++]=x,i[g++]=255}--f}},this.decodeAndBlitFrameRGBA=function(e,i){var o=this.frameInfo(e),s=o.width*o.height,a=new Uint8Array(s);r(t,o.data_offset,a,s);var u=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var c=o.width,h=n-c,f=c,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),g=d,v=4*h;!0===o.interlaced&&(v+=4*n*7);for(var m=8,_=0,y=a.length;_<y;++_){var b=a[_];if(0===f&&(f=c,(g+=v)>=p&&(v=4*h+4*n*(m-1),g=d+(c+h)*(m<<1),m>>=1)),b===l)g+=4;else{var x=t[u+3*b],T=t[u+3*b+1],E=t[u+3*b+2];i[g++]=x,i[g++]=T,i[g++]=E,i[g++]=255}--f}}}}catch(t){}},(t,e,r)=>{"use strict";const n=r(244),i=r(245),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return l(t,e,r)}function l(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|g(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||K(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(i)return n?-1:$(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function _(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(l(t,o)===l(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(t,o+n)!==l(e,n)){r=!1;break}if(r)return o}return-1}function b(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(K(n))return s;t[r+s]=n}return s}function x(t,e,r,n){return q($(e,t.length-r),t,r,n)}function T(t,e,r,n){return q(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return q(X(e),t,r,n)}function w(t,e,r,n){return q(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return l(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),l=this.slice(n,i),c=t.slice(e,r);for(let t=0;t<a;++t)if(l[t]!==c[t]){o=l[t],s=c[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return x(this,t,e,r);case"ascii":case"latin1":case"binary":return T(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function C(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=J[t[n]];return i}function M(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n,i){z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function D(t,e,r,n,i){z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function k(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,o){return e=+e,r>>>=0,o||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,o){return e=+e,r>>>=0,o||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const j={};function U(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function z(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||G(e,t.length-(r+1))}(n,i,o)}function W(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,r){if(Math.floor(t)!==t)throw W(t,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=V(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function $(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function X(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=u(t),s=o[0],a=o[1],l=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),c=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,l[c++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(l(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=l}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[r+d]=255&s,d+=p,s/=256,l-=8);t[r+d-p]|=128*g}},(t,e,r)=>{"use strict";var n=r(239),i=r(247);t.exports=function(t,e){for(var r=[],o=t,s=1;Array.isArray(o);)r.push(o.length),s*=o.length,o=o[0];return 0===r.length?n():(e||(e=n(new Float64Array(s),r)),i(e,t),e)}},(t,e,r)=>{t.exports=r(248)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},(t,e,r)=>{"use strict";var n=r(249);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var e=new i;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var o=0;o<r.length;++o){var s=r[o];if("array"===s||"object"==typeof s&&s.blockIndices){if(e.argTypes[o]="array",e.arrayArgs.push(o),e.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===s){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+r[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:s.array,offset:s.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,n(e)}},(t,e,r)=>{"use strict";var n=r(250);t.exports=function(t){var e=["'use strict'","var CACHED={}"],r=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],s=[],a=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],c=0;c<t.arrayArgs.length;++c){var h=t.arrayArgs[c];r.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),o.push("t"+h),o.push("r"+h),s.push("t"+h),s.push("r"+h+".join()"),a.push("array"+h+".data"),a.push("array"+h+".stride"),a.push("array"+h+".offset|0"),c>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),l.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),c=0;c<t.scalarArgs.length;++c)a.push("scalar"+t.scalarArgs[c]);return r.push(["type=[",s.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",a.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(n.bind(void 0,t))}},(t,e,r)=>{"use strict";var n=r(251);function i(t,e,r){var n,i,o=t.length,s=e.arrayArgs.length,a=e.indexArgs.length>0,u=[],l=[],c=0,h=0;for(n=0;n<o;++n)l.push(["i",n,"=0"].join(""));for(i=0;i<s;++i)for(n=0;n<o;++n)h=c,c=t[n],0===n?l.push(["d",i,"s",n,"=t",i,"p",c].join("")):l.push(["d",i,"s",n,"=(t",i,"p",c,"-s",h,"*t",i,"p",h,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),n=o-1;n>=0;--n)c=t[n],u.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(u.push(r),n=0;n<o;++n){for(h=c,c=t[n],i=0;i<s;++i)u.push(["p",i,"+=d",i,"s",n].join(""));a&&(n>0&&u.push(["index[",h,"]-=s",h].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function o(t,e,r){for(var n=t.body,i=[],o=[],s=0;s<t.args.length;++s){var a=t.args[s];if(!(a.count<=0)){var u=new RegExp(a.name,"g"),l="",c=e.arrayArgs.indexOf(s);switch(e.argTypes[s]){case"offset":var h=e.offsetArgIndex.indexOf(s);c=e.offsetArgs[h].array,l="+q"+h;case"array":l="p"+c+l;var f="l"+s,d="a"+c;if(0===e.arrayBlockIndices[c])1===a.count?"generic"===r[c]?a.lvalue?(i.push(["var ",f,"=",d,".get(",l,")"].join("")),n=n.replace(u,f),o.push([d,".set(",l,",",f,")"].join(""))):n=n.replace(u,[d,".get(",l,")"].join("")):n=n.replace(u,[d,"[",l,"]"].join("")):"generic"===r[c]?(i.push(["var ",f,"=",d,".get(",l,")"].join("")),n=n.replace(u,f),a.lvalue&&o.push([d,".set(",l,",",f,")"].join(""))):(i.push(["var ",f,"=",d,"[",l,"]"].join("")),n=n.replace(u,f),a.lvalue&&o.push([d,"[",l,"]=",f].join("")));else{for(var p=[a.name],g=[l],v=0;v<Math.abs(e.arrayBlockIndices[c]);v++)p.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+c+"b"+v);if(u=new RegExp(p.join(""),"g"),l=g.join("+"),"generic"===r[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+e.scalarArgs.indexOf(s));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[n]="u"+i.charAt(1)+o:e[n]=i.charAt(0)+o,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}t.exports=function(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,a=new Array(t.arrayArgs.length),u=new Array(t.arrayArgs.length),l=0;l<t.arrayArgs.length;++l)u[l]=e[2*l],a[l]=e[2*l+1];var c=[],h=[],f=[],d=[],p=[];for(l=0;l<t.arrayArgs.length;++l){t.arrayBlockIndices[l]<0?(f.push(0),d.push(r),c.push(r),h.push(r+t.arrayBlockIndices[l])):(f.push(t.arrayBlockIndices[l]),d.push(t.arrayBlockIndices[l]+r),c.push(0),h.push(t.arrayBlockIndices[l]));for(var g=[],v=0;v<a[l].length;v++)f[l]<=a[l][v]&&a[l][v]<d[l]&&g.push(a[l][v]-f[l]);p.push(g)}var m=["SS"],_=["'use strict'"],y=[];for(v=0;v<r;++v)y.push(["s",v,"=SS[",v,"]"].join(""));for(l=0;l<t.arrayArgs.length;++l){for(m.push("a"+l),m.push("t"+l),m.push("p"+l),v=0;v<r;++v)y.push(["t",l,"p",v,"=t",l,"[",f[l]+v,"]"].join(""));for(v=0;v<Math.abs(t.arrayBlockIndices[l]);++v)y.push(["t",l,"b",v,"=t",l,"[",c[l]+v,"]"].join(""))}for(l=0;l<t.scalarArgs.length;++l)m.push("Y"+l);if(t.shapeArgs.length>0&&y.push("shape=SS.slice(0)"),t.indexArgs.length>0){var b=new Array(r);for(l=0;l<r;++l)b[l]="0";y.push(["index=[",b.join(","),"]"].join(""))}for(l=0;l<t.offsetArgs.length;++l){var x=t.offsetArgs[l],T=[];for(v=0;v<x.offset.length;++v)0!==x.offset[v]&&(1===x.offset[v]?T.push(["t",x.array,"p",v].join("")):T.push([x.offset[v],"*t",x.array,"p",v].join("")));0===T.length?y.push("q"+l+"=0"):y.push(["q",l,"=",T.join("+")].join(""))}var E=n([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((y=y.concat(E)).length>0&&_.push("var "+y.join(",")),l=0;l<t.arrayArgs.length;++l)_.push("p"+l+"|=0");t.pre.body.length>3&&_.push(o(t.pre,t,u));var w=o(t.body,t,u),A=function(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}(p);A<r?_.push(function(t,e,r,n){for(var o=e.length,s=r.arrayArgs.length,a=r.blockSize,u=r.indexArgs.length>0,l=[],c=0;c<s;++c)l.push(["var offset",c,"=p",c].join(""));for(c=t;c<o;++c)l.push(["for(var j"+c+"=SS[",e[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",a,"){"].join("")),l.push(["s",e[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",e[c],"=",a].join("")),l.push(["j",c,"-=",a,"}"].join("")),u&&l.push(["index[",e[c],"]=j",c].join(""));for(c=0;c<s;++c){for(var h=["offset"+c],f=t;f<o;++f)h.push(["j",f,"*t",c,"p",e[f]].join(""));l.push(["p",c,"=(",h.join("+"),")"].join(""))}for(l.push(i(e,r,n)),c=t;c<o;++c)l.push("}");return l.join("\n")}(A,p[0],t,w)):_.push(i(p[0],t,w)),t.post.body.length>3&&_.push(o(t.post,t,u)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+_.join("\n")+"\n----------");var S=[t.funcName||"unnamed","_cwise_loop_",a[0].join("s"),"m",A,s(u)].join("");return new Function(["function ",S,"(",m.join(","),"){",_.join("\n"),"} return ",S].join(""))()}},t=>{"use strict";t.exports=function(t,e,r){return 0===t.length?t:e?(r||t.sort(e),function(t,e){for(var r=1,n=t.length,i=t[0],o=t[0],s=1;s<n;++s)if(o=i,e(i=t[s],o)){if(s===r){r++;continue}t[r++]=i}return t.length=r,t}(t,e)):(r||t.sort(),function(t){for(var e=1,r=t.length,n=t[0],i=t[0],o=1;o<r;++o,i=n)if(i=n,(n=t[o])!==i){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}(t))}},(t,e,r)=>{var n=r(253);function i(t,e,r){t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var i=!1,o=!1,s=[],a=!1,u=new n;function l(){for(;s.length&&!u.paused;){var t=s.shift();if(null===t)return u.emit("end");u.emit("data",t)}}function c(){u.writable=!1,e.call(u),!u.readable&&u.autoDestroy&&u.destroy()}return u.readable=u.writable=!0,u.paused=!1,u.autoDestroy=!(r&&!1===r.autoDestroy),u.write=function(e){return t.call(this,e),!u.paused},u.queue=u.push=function(t){return a||(null===t&&(a=!0),s.push(t),l()),u},u.on("end",(function(){u.readable=!1,!u.writable&&u.autoDestroy&&process.nextTick((function(){u.destroy()}))})),u.end=function(t){if(!i)return i=!0,arguments.length&&u.write(t),c(),u},u.destroy=function(){if(!o)return o=!0,i=!0,s.length=0,u.writable=u.readable=!1,u.emit("close"),u},u.pause=function(){if(!u.paused)return u.paused=!0,u},u.resume=function(){return u.paused&&(u.paused=!1,u.emit("resume")),l(),u.paused||u.emit("drain"),u},u}t.exports=i,i.through=i},()=>{},t=>{t.exports=function(t){if(!/^data\:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var e=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===e||e<=4)throw new TypeError("malformed data: URI");for(var r=t.substring(5,e).split(";"),n=!1,i="US-ASCII",o=0;o<r.length;o++)"base64"==r[o]?n=!0:0==r[o].indexOf("charset=")&&(i=r[o].substring(8));var s=unescape(t.substring(e+1)),a=new Buffer(s,n?"base64":"ascii");return a.type=r[0]||"text/plain",a.charset=i,a}},t=>{"use strict";t.exports=window.mtempy},t=>{"use strict";const e={cache:{},get(t,e){return this.cache[t]&&this.cache[t].length?this.cache[t].pop():e()},put(t,e){e&&(this.cache[t]||(this.cache[t]=[]),this.cache[t].push(e))},resetNode:t=>(t.removeAllChildren&&t.removeAllChildren(),t),toString(){let t="Pool: ";for(let e in this.cache){const r=this.cache[e];t+=`${e}-length:${r?r.length:0}  `}return t}};t.exports=e},(t,e,r)=>{"use strict";const{awaitMap:n}=r(236),i=r(258),o=(r(263),r(279)),{Sprite:s,Texture:a,Container:u,WebGLRenderer:l,CanvasRenderer:c,createCanvas:h}=(r(236),r(14));t.exports=class extends i{get audio(){return!this.conf.mute}set audio(t){this.conf.mute=!t,this.mute(!t)}mute(t){this.allNodes.map((e=>e.mute&&e.mute(t)))}resetMute(){this.mute(!this.audio)}createDisplay(){this.display=new u,this.display.sortableChildren=!0}updateDisplay(){this.display.sortDirty=!0}addDisplayChild(t){t.locked||t.parent===this.display&&this.display.children.includes(t)||this.display.addChild(t)}get previewRenderer(){if(this.pvRenderer)return this.pvRenderer;const t=this.rootConf("width"),e=this.rootConf("height");return this.rootConf("useGL")?this.pvRenderer=new l({width:t,height:e}):this.pvRenderer=new c({width:t,height:e}),this.pvRenderer}async getDisplay(t,e){const r=await this.getPreview(t,{...e,format:"canvas"});if(!r)throw new Error("null");return new s(a.fromCanvas(r))}async getPreview(t,{width:e,height:r,format:n="jpeg"}={}){const[i,l]=[this.rootConf("width"),this.rootConf("height")],c=new u;if(c.sortableChildren=!0,this.bgColor)try{const t=h(i,l);o.fillRect({canvas:t,color:this.bgColor});const e=new s(a.fromCanvas(t));c.addChildAt(e,0)}catch(t){return null}const f=[],d=async(e,r,n=null)=>{let i=r,o=null;if(e&&e.onTime(t,!1,"show"))if("filter"===e.type){const n=e.addFilterTo(r);n.enabled=!0,n.setTime(t-e.absStartTime,e.duration),o=n}else if(e.getDisplay){i=await e.getDisplay(t,{timing:"abs"}),i.zIndex=e.zIndex,e.display.chroma&&(i.chroma=e.display.chroma);const{matrix:o,alpha:s}=e.display.colorMatrix;if(o&&s&&i.setColorMatrix(o,s),c.addChild(i),e.conf.asMask){const t=i;n||(n=r),n.mask=t,t.renderable=!1,t.isMask=!0,t.binaryMask=!!e.conf.binaryMask,t.reverseMask=!!e.conf.reverseMask,i=null}"cover"===e.type&&f.push(i)}if(i&&"scene"!==e.type&&e.children)for(const t of e.children)await d(t,i,o)};try{for(const t of this.children)await d(t,c);f.sort(((t,e)=>t.zIndex-e.zIndex)).map((t=>{for(const e of[...c.children])e===t||e.zIndex>t.zIndex||e.isMask||e.parent!==t&&t.addChild(e)}))}catch(t){return null}c?.texture?.baseTexture&&c.texture.baseTexture.update(),this.previewRenderer.render(c),c.destroy(!0);const p={x:0,y:0,w:i,h:l};return this.subImage(this.previewRenderer.view,p,{width:e,height:r,format:n})}destroy(){this.pvRenderer&&this.pvRenderer.destroy(!0,!0),this.pvRenderer=null,super.destroy()}}},(t,e,r)=>{const n=r(259),{DisplayObject:i,createCanvas:o}=r(14),{dmap:s}=r(236);t.exports=class extends n{constructor(t={}){super({type:"clip",...t}),this.canvasWidth=t.canvasWidth,this.canvasHeight=t.canvasHeight,this.visible=!1,this.zIndex=0,this.children=[],this.active=void 0===t.active||!!t.active,this.onTime=()=>!1,this.createDisplay()}get muted(){for(const t of this.parents)if(t.conf.mute)return!0;return!1}get displayParent(){for(const t of this.parents.reverse())if("scene"===t.type)return t;return this.creator()}toJson(t=!1){const e={...this.conf};for(const t of Object.keys(e))t.startsWith("cached")&&e[t].startsWith("blob:")&&delete e[t];delete e.srcFile,delete e.canvasHeight,delete e.canvasWidth,delete e.innerHTML,t&&delete e.userfile,this.children&&Array.isArray(this.children)&&(e.children=this.children.map((e=>e.toJson(t))));const r=t=>{if(t)for(const[e,n]of Object.entries(t))"innerHTML"===e?delete t[e]:n&&"object"==typeof n&&r(n)};return r(e),e}createDisplay(){this.display=new i}addChild(t,e=null){return Array.isArray(t)?(t.map((t=>this.addChild(t,e))),this):this.hasChild(t)?(e&&this.hasChild(e)&&(this.children=this.children.filter((e=>e.id!==t.id)),this.children.splice(this.children.findIndex((t=>t.id==e.id)),0,t)),this):(t.parent=this,e&&this.hasChild(e)?this.children.splice(this.children.findIndex((t=>t.id==e.id)),0,t):this.children.push(t),this)}remove(){return this.parent&&this.parent.removeChild(this),this}hasChild(t){return!!this.children.find((e=>e.id==t?.id))}removeChild(t){return this.hasChild(t)?(this.children=this.children.filter((e=>e.id!==t.id)),t.parent=null,this):this}addDisplayChild(t){this.parent.addDisplayChild(t)}removeDisplayChild(t){t.parent&&(t.parent.removeChild(t),t.locked=!1)}setMask(t){this.display.mask!==t&&(this.display.mask=t)}removeMask(){this.display.mask=null}disable(){this.active=this.conf.active=!1,this.parent&&(this.hide(),this.removeTimelineCallback())}enable(){this.active=this.conf.active=!0,this.parent&&(this.touch(),this.addTimelineCallback())}touch(){this.onTime(this.creator().currentTime/1e3)}addTimelineCallback(){this.active&&this.addFrameCallback()}removeTimelineCallback(){this.removeFrameCallback()}async drawing(t=0,e=0){return!!this.onTime(.001*t)&&(0===e&&this.animations&&this.animations.start(),!0)}preProcessing(){return new Promise((t=>t()))}prepareMaterial(){return new Promise((t=>t()))}show(){this.visible=!0,this.display&&(this.display.zIndex=this.zIndex,this.parent.addDisplayChild(this.display),this.conf.asMask&&(this.display.binaryMask=!!this.conf.binaryMask,this.display.reverseMask=!!this.conf.reverseMask,this.parent.setMask(this.display)))}hide(){this.visible=!1,this.display&&(this.parent.removeDisplayChild(this.display),this.conf.asMask&&this.parent.removeMask())}annotate(){let[t,e]=[this.absStartTime,this.absEndTime],[r,n]=[t,e];const i=this.displayParent;if("trans"===this.prevSibling?.type)if(this.prevSibling.nextSibling===this){const e=t-this.prevSibling.absEndTime,n=.5*this.prevSibling.duration-e;r+=n,t-=n}else this.prevSibling=null;else i.absDrawStartTime<i.absShowStartTime&&t<=i.absStartTime&&(r=t=Math.min(t,i.absDrawStartTime));if("trans"===this.nextSibling?.type)if(this.nextSibling.prevSibling===this){const t=.5*this.nextSibling.duration;n-=t,e+=t}else this.nextSibling=null;else i.absDrawEndTime>i.absShowEndTime&&e>=i.absEndTime&&(n=e=Math.max(t,i.absDrawEndTime));this.absShowStartTime=r,this.absShowEndTime=n,this.absDrawStartTime=t,this.absDrawEndTime=e,this.addTimelineCallback(),this.onTime=(i,o=!0,s="draw")=>{const a=i>=r&&i<n&&this.active,u=i>=t&&i<e&&this.active;return o&&(a?this.show():this.hide()),"draw"===s?u:a}}get basezIndex(){return 1e3*Math.min(Number(this.conf.zIndex),999)||this.parent?.basezIndex||0}get allNodes(){let t=this.children;return this.children.map((e=>{t=t.concat(e.allNodes)})),t}getByRefId(t){return this.allNodes.find((e=>e.refId===t))}get absStartTime(){return this.rt(Math.max(0,this.parent?.absStartTime+this.startTime))}get absEndTime(){return this.rt(this.parent?.absStartTime+this.endTime)}get realAbsEndTime(){return this.rt(this.parent?.absStartTime+this.realEndTime)}get default(){return{startTime:("spine"===this.parent?.type?this.prevSibling?.endTime:0)||0,endTime:"100%"}}get startTime(){const t=this.time(this.conf.start);return this.rt(isNaN(t)?this.time(this.default.startTime):t)}get duration(){return this.rt(this.endTime-this.startTime)}get endTime(){const t=this.realEndTime;return"scene"!==this.parent?.type?this.rt(t):this.rt(Math.min(this.parent.duration,t))}get realEndTime(){const t=this.time(this.conf.end);if(!isNaN(t))return t;let e=this.time(this.conf.duration);if(e=isNaN(e)?this.time(this.default.duration):e,!isNaN(e))return this.startTime+e;const r=this.time(this.default.endTime);return r>this.startTime?r:this.startTime+3}get fps(){return this._fps||(this._fps=this.rootConf("fps")),this._fps}rt(t){return Math.round(1e3*t)/1e3}time(t){const e=this.parent?this.parent.duration:NaN;if("string"==typeof t&&t.endsWith("%")&&!isNaN(t.replace("%","")))return e*Number(t.replace("%",""))*.01;if("string"==typeof t){if((t=t.replaceAll(" ","")).includes("%+")&&2===t.split("%+").length){const[r,n]=t.split("%+");return.01*Number(r)*e+Number(n)}if(t.includes("%-")&&2===t.split("%-").length){const[r,n]=t.split("%-");return.01*Number(r)*e-Number(n)}}return Number(t)}px(t){const e=Number(t);if(!isNaN(e))return e;if("object"==typeof t)return s(t,(t=>this.px(t)));const[r,n]=this.deunit(t);return r}vu(t,e){let[r,n]=this.deunit(void 0===e?t:e),i=this.px(t);return n||(n="rpx"),this.enunit(i,n)}setConfRpx(t,e){this.conf[t]=this.vu(e,this.conf[t])}units(){const t=this.creator();return t&&(this.canvasWidth=t.width,this.canvasHeight=t.height),[["rpx",this.canvasWidth,360],["px",360,360],["vw",this.canvasWidth,100],["vh",this.canvasHeight,100]]}enunit(t,e){const r=this.units().filter((t=>t[0]===e))[0];if(!r)return t;let n=(t*(r[2]/r[1])).toFixed(3);return Math.abs(n-Math.round(n))<.001&&(n=Math.round(n)),`${n}${e}`}deunit(t){if("number"==typeof t||!t)return[t,null];const e=t.toString().toLowerCase().trim(),r=(t,e,r,n)=>{if(!t.endsWith(e))return null;const i=Number(t.substring(0,t.length-e.length));return isNaN(i)?null:i*(r/n)};for(const t of this.units()){const n=r(e,t[0],t[1],t[2]);if(null!==n)return[n,t[0]]}return[t,null]}subImage(t,e,{width:r,height:n,format:i="jpeg",fit:s="cover"}={}){r||n?r?n||(n=e.h/e.w*r):r=e.w/e.h*n:(r=e.w,n=e.h);const a=o(r,n),u=a.getContext("2d"),l=Math["cover"===s?"max":"min"](r/e.w,n/e.h),[c,h]=[e.w*l,e.h*l];return u.drawImage(t,e.x,e.y,e.w,e.h,(r-c)/2,(n-h)/2,c,h),"canvas"===i?a:a.toDataURL(`image/${i}`)}get mask(){return this.allNodes.find((t=>t.conf.asMask))}get controls(){return this.conf.controls}destroy(){this.destroyed||(this.destroyed=!0,this.removeTimelineCallback(),this.children.map((t=>t.destroy())),this.children=null,this.display&&this.display.destroy(!0),this.display=null,this.parent=null,this.prevSibling=null,this.nextSibling=null,super.destroy())}}},(t,e,r)=>{"use strict";const n=r(235),i=r(236),o=r(260);t.exports=class extends o{constructor(t){super(),this.conf={type:"base",...t},this.parent=null,this.retry=3,this.genId(),this.conf.parent&&"function"==typeof this.conf.parent.addChild&&(this.conf.parent.addChild(this),delete this.conf.parent),this.conf.refId||(this.conf.refId=i.genUuid())}get refId(){return this.conf.refId}get changed(){return`${Date.now()}`}set changed(t){}get groupId(){return this.conf.groupId}set groupId(t){return this.conf.groupId=t}get type(){return this.conf.type}set type(t){return this.conf.type=t}get name(){return this.conf.name}set name(t){return this.conf.name=t}get parents(){return this.parent&&this.parent.parents?[...this.parent.parents,this.parent]:[]}getParam(t){if(!t||"string"!=typeof t)return;if(!t.includes("."))return this[t];let e=this;for(const r of t.split(".")){if("object"!=typeof e)return;e=e[r]}return e}setParam(t,e){if(!t||"string"!=typeof t)throw new Error(`Invalid key: ${t}`);let r=this.conf;if(!t.includes("."))return r[t]=e;let n=t.split(".");for(let t=0;t<n.length;t++){const i=n[t];if(t===n.length-1)return r[i]=e;"object"!=typeof r[i]&&(r[i]=isNaN(n[t+1])?{}:[]),r=r[i]}}vu(t,e){return t}refresh(){}genId(){const{type:t,id:e}=this.conf;this.id=i.genId(e||t)}root(){return this.parent&&this.parent.root?this.parent.root():this}rootConf(t,e){let r=n.getFakeConf();const i=this.root();return i&&"creator"===i.type&&i._conf&&(r=i._conf),t?(void 0!==e&&r.setVal(t,e),r.getVal(t)):r}addFrameCallback(){this.creator()?.addFrameCallback(this)}removeFrameCallback(){this.creator()?.removeFrameCallback(this)}creator(){if(!this._creator){const t=this.root();"creator"===t.type&&(this._creator=t)}return this._creator}destroy(){super.destroy(),this.conf=null,this.parent=null,this._creator=null}}},(t,e,r)=>{"use strict";const n=r(261),i=r(262),o=r(236);t.exports=class extends i{constructor(){super()}emitProgress(t){this.progressEvent||(this.progressEvent=new n),this.progressEvent.init(t),this.emit("progress",this.progressEvent)}emitError({pos:t,error:e}){const r=new n;r.pos=t,r.error=o.getErrStack(e),this.emit("error",r)}emit(t,e={}){if("object"==typeof t){const r=new n(t);t=r.type,e=r}else e.type=t;e.target=this,super.emit(t,e),super.emit("*-*",e)}bubble(t){t.on("*-*",(t=>this.emit(t.type,t)))}destroy(){this.removeAllListeners()}}},t=>{"use strict";t.exports=class{constructor(t){this.init(t)}init(t={}){t.type=t.type||"normal",Object.assign(this,t)}}},t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||t,s),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,s),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&l.push(a[u]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},(t,e,r)=>{"use strict";const n=r(258),i=r(264),{isBrowser:o}=r(13),{nodeRequire:s}=r(236),a=s("ffmpeg-probe");let u;o&&(u=r(278).PitchShifter),t.exports=class extends n{constructor(t){t="string"==typeof t?{path:t}:t,super({type:"audio",audio:!0,...t}),!1===this.conf.active&&(this.audio=!1),this.active=this.audio}createDisplay(){this.display=null}get default(){const t=super.default;return{startTime:t.startTime,endTime:this.loop?t.endTime:void 0,duration:this.loop?void 0:this.material?.getDuration()}}annotate(){super.annotate(),this.material&&(this.material.duration=this.duration)}updateMaterialTime(){this.material.parseTimeConf(this.conf)}disable(){this.audio=!1}enable(){this.audio=!0}mute(t){this._muted=t}resetMute(){this._muted=!1}set audio(t){this.conf.audio=!!t,this.conf.audio?super.enable():super.disable(),this.conf.audio||this.pause()}get audio(){return!!this.conf.audio&&!this.muted}get loop(){return!!this.conf.loop}set loop(t){this.conf.loop=!!t}get pitch(){return Number(this.conf.pitch)||1}set pitch(t){this.conf.pitch=Number(t)||1}get speed(){return this.material.speed}set speed(t){this.conf.speed=t,this.material.setSpeed(t)}get volume(){return isNaN(this.conf.volume)?1:Math.max(Number(this.conf.volume),0)}set volume(t){this.conf.volume=t}get fadeIn(){return isNaN(this.conf.fadeIn)?0:Number(this.conf.fadeIn)}set fadeIn(t){this.conf.fadeIn=t}get fadeOut(){return isNaN(this.conf.fadeOut)?0:Number(this.conf.fadeOut)}set fadeOut(t){this.conf.fadeOut=t}async preProcessing(t){if(this.material&&this.material.destroy(),this.material=new i(this.conf),this.material.duration=this.duration,!o){const t=await a(this.material.path);return void(this.material.length=t.duration/1e3)}await this.initDom(),this.ctx=new AudioContext,this.gainNode=this.ctx.createGain(),this.gainNode.connect(this.ctx.destination),this.audioElementNode=this.ctx.createMediaElementSource(this.audioDom);const e=this.ctx.createScriptProcessor(256,2,2);this.audioElementNode.connect(e),this.sourceNode=new u(this.ctx,e,256)}getDuration(){return new Promise((t=>{this.audioDom.addEventListener("canplay",(()=>{t(this.audioDom.duration)}),{once:!0})}))}async initDom(){this.audioDom=new Audio,this.audioDom.src=this.material.path,this.audioDom.crossOrigin="anonymous",this.material.length=await this.getDuration()}async pause(){o&&this.playing&&(this.fading=!1,this.playing=!1,this.sourceNode.disconnect(),this.audioDom&&this.audioDom.pause())}async play(t){o&&!this.playing&&(this.audioDom.play(),this.audioDom.currentTime=t,this.audioDom.playbackRate=this.speed,this.sourceNode.pitch=this.pitch,this.sourceNode.connect(this.gainNode),await this.ctx.resume(),this.playing=!0)}async destroyAudioCtx(){this.ctx&&(await this.ctx.close(),this.ctx=null,this.gainNode=null,this.sourceNode=null,this.audioElementNode=null,this.audioDom&&this.audioDom.remove(),this.audioDom=null)}async drawing(t=0,e=0){if(!o)return!1;const r=t/1e3;let n=await super.drawing(t,e);if(n&&e>0&&this.mute(r<this.absStartTime||r>this.absEndTime),!n||!this.audio)return await this.pause(),!1;const i=r-this.parent.startTime;if(this.currentTime=i-this.startTime,e)if(this.currentTime<this.fadeIn){const e=this.volume*(this.currentTime/this.fadeIn);this.fade(e,this.volume,this.fadeIn-this.currentTime,t)}else if(this.endTime>i&&this.endTime-i<this.fadeOut){const e=this.endTime-i,r=this.volume*(e/this.fadeOut);this.fade(r,0,e,t)}else this.gainNode.gain.value=this.volume;const s=this.material.getDuration();let a=0;for(;this.loop&&this.currentTime>=s;)this.currentTime=Math.max(0,this.currentTime-s),a++;return a>0&&this.loops!=a?(this.loops=a,await this.pause()):e?void this.play(this.currentTime):await this.pause()}fade(t,e,r,n){this.fading>n||(this.gainNode.gain.value=t,this.gainNode.gain.linearRampToValueAtTime(e,this.ctx.currentTime+r),this.fading=n+1e3*r>>0)}addInput(t){t.addInput(this.material.path);let e=["-vn"];const r=this.material.getSliceOpts(!this.loop);r&&(e=e.concat(r)),t.addInputOptions(e)}toFilterCommand({input:t,output:e}){const r=this.toLoopFilter();return`[${t}]aformat=sample_rates=44100,${this.toDelayFilter()}${r}${this.toSpeedFilter()}${this.toVolumeFilter()}${this.toFadeInFilter()}${this.toFadeOutFilter()}[${e}]`}toLoopFilter(){let{pitch:t=1,loop:e}=this;return`,asetrate=${44100*t},aresample=44100,aloop=${e?"-1":"0"}:size=${44100*(this.material.getEndOffset(!0)-this.material.getStartOffset())}`}toDelayFilter(){let{speed:t=1,pitch:e=1}=this;t/=e;const r=this.absStartTime*t*1e3>>0;return`adelay=${r}|${r}`}toSpeedFilter(){let{speed:t=1,pitch:e=1}=this;return t/=e,1===t?"":`,atempo=${t}`}toVolumeFilter(){let{volume:t=-1}=this;return-1===t?"":(this.audio||(t=0),`,volume=${t}`)}toFadeInFilter(){const{fadeIn:t=-1,absStartTime:e=0}=this;return t<=0?"":`,afade=t=in:st=${e}:d=${t}`}toFadeOutFilter(){const{fadeOut:t=-1}=this;return t<=0?"":`,afade=t=out:st=${Math.max(0,this.absEndTime-t)}:d=${t}`}destroy(){super.destroy(),this.material?.destroy(),this.destroyAudioCtx()}}},(t,e,r)=>{"use strict";const n=r(265),i=r(62),o=r(277),{genUuid:s}=r(236),{Rectangle:a}=r(14),{nodeRequire:u}=r(236),l=u("../utils/fs");t.exports=class{constructor(t){this.creator=null,this.info={},this.path="",this.forceTrim=!1,this.start=-1,this.end=-1,this.length=NaN,this.fps=30,this.duration=NaN,this.setSpeed(Number(t.speed)||1),this.parseConf(t)}static playing(t){return!!(t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2)}setSpeed(t){this.speed=Math.round(100*t)/100}seekTime(t,e={}){const r=t*this.speed+this.getStartOffset(),n=this.forceTrim?this.getStartOffset():.01,i=this.forceTrim?this.getEndOffset():this.length;return(r<n||r>i)&&(e.overflow=!0),Math.min(i,Math.max(n,r))}parseConf(t){this.conf=t,this.type=t.type,this.path=t.cachedSrc||t.src||t.path||t.image||t.url,this.parseTimeConf(t)}parseTimeConf(t){this.start=this.parseTimeNumber(t.ss),this.end=this.parseTimeNumber(t.to)}parseTimeNumber(t){return"string"==typeof t&&t.includes(":")?o.hmsToSeconds(t):(t=Number(t),isNaN(t)?-1:t)}getStartOffset(){return-1==this.start?0:this.start}getEndOffset(t=!1){const e=[],r=this.getStartOffset()+this.duration*this.speed;return t&&!isNaN(r)&&e.push(r),isNaN(this.length)||e.push(this.length),-1!==this.end&&e.push(this.end),e.length>0?n(e):NaN}getStartHms(){return o.secondsToHms(this.getStartOffset())}getEndHms(){return o.secondsToHms(this.getEndOffset(!0))}getSliceOpts(t=!0){let e=[];return this.getStartOffset()>0&&(e=e.concat(["-ss",this.getStartHms()])),this.getEndOffset(!0)<this.length&&t&&(e=e.concat(["-to",this.getEndHms()])),e}getOutputPath(t,e){return l.ensureDir(t),i.join(t,e)}getDuration(t=!1){return Math.max(0,this.getSourceDuration(t)/this.speed)}getSourceDuration(t){return this.getEndOffset(t)-this.getStartOffset()}toString(){return`${this.type}:${this.path}-length:${this.length}`}destroy(){this.creator=null,this.info=null,this.path="",this.length=0}}},(t,e,r)=>{var n=r(266),i=r(275),o=r(276);t.exports=function(t){return t&&t.length?n(t,o,i):void 0}},(t,e,r)=>{var n=r(267);t.exports=function(t,e,r){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(void 0===u?a==a&&!n(a):r(a,u)))var u=a,l=s}return l}},(t,e,r)=>{var n=r(268),i=r(274);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},(t,e,r)=>{var n=r(269),i=r(272),o=r(273),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},(t,e,r)=>{var n=r(270).Symbol;t.exports=n},(t,e,r)=>{var n=r(271),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},(t,e,r)=>{var n=r(269),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},t=>{t.exports=function(t,e){return t<e}},t=>{t.exports=function(t){return t}},t=>{"use strict";const e={secondsToHms(t){if("string"==typeof t)return t;let e=Math.floor(t/3600),r=Math.floor((t-3600*e)/60),n=(t-3600*e-60*r).toFixed(3);return e<10&&(e="0"+e),r<10&&(r="0"+r),n<10&&(n="0"+n),e+":"+r+":"+n},hmsToSeconds(t){if("number"==typeof t)return t;const e=t.split(":");return 2===e.length&&e.unshift(0),60*+e[0]*60+60*+e[1]+ +e[2]},toMilliseconds:t=>0===t?0:1e3*t,toSeconds:t=>0===t?0:t>100?t/1e3:t};t.exports=e},(t,e,r)=>{"use strict";r.r(e),r.d(e,{AbstractFifoSamplePipe:()=>i,PitchShifter:()=>v,RateTransposer:()=>o,SimpleFilter:()=>a,SoundTouch:()=>h,Stretch:()=>l,WebAudioBufferSource:()=>f,getWebAudioNode:()=>d});class n{constructor(){this._vector=new Float32Array,this._position=0,this._frameCount=0}get vector(){return this._vector}get position(){return this._position}get startIndex(){return 2*this._position}get frameCount(){return this._frameCount}get endIndex(){return 2*(this._position+this._frameCount)}clear(){this.receive(this._frameCount),this.rewind()}put(t){this._frameCount+=t}putSamples(t,e,r=0){const n=2*(e=e||0);r>=0||(r=(t.length-n)/2);const i=2*r;this.ensureCapacity(r+this._frameCount);const o=this.endIndex;this.vector.set(t.subarray(n,n+i),o),this._frameCount+=r}putBuffer(t,e,r=0){e=e||0,r>=0||(r=t.frameCount-e),this.putSamples(t.vector,t.position+e,r)}receive(t){t>=0&&!(t>this._frameCount)||(t=this.frameCount),this._frameCount-=t,this._position+=t}receiveSamples(t,e=0){const r=2*e,n=this.startIndex;t.set(this._vector.subarray(n,n+r)),this.receive(e)}extract(t,e=0,r=0){const n=this.startIndex+2*e,i=2*r;t.set(this._vector.subarray(n,n+i))}ensureCapacity(t=0){const e=parseInt(2*t);if(this._vector.length<e){const t=new Float32Array(e);t.set(this._vector.subarray(this.startIndex,this.endIndex)),this._vector=t,this._position=0}else this.rewind()}ensureAdditionalCapacity(t=0){this.ensureCapacity(this._frameCount+t)}rewind(){this._position>0&&(this._vector.set(this._vector.subarray(this.startIndex,this.endIndex)),this._position=0)}}class i{constructor(t){t?(this._inputBuffer=new n,this._outputBuffer=new n):this._inputBuffer=this._outputBuffer=null}get inputBuffer(){return this._inputBuffer}set inputBuffer(t){this._inputBuffer=t}get outputBuffer(){return this._outputBuffer}set outputBuffer(t){this._outputBuffer=t}clear(){this._inputBuffer.clear(),this._outputBuffer.clear()}}class o extends i{constructor(t){super(t),this.reset(),this._rate=1}set rate(t){this._rate=t}reset(){this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0}clone(){const t=new o;return t.rate=this._rate,t}process(){const t=this._inputBuffer.frameCount;this._outputBuffer.ensureAdditionalCapacity(t/this._rate+1);const e=this.transpose(t);this._inputBuffer.receive(),this._outputBuffer.put(e)}transpose(t=0){if(0===t)return 0;const e=this._inputBuffer.vector,r=this._inputBuffer.startIndex,n=this._outputBuffer.vector,i=this._outputBuffer.endIndex;let o=0,s=0;for(;this.slopeCount<1;)n[i+2*s]=(1-this.slopeCount)*this.prevSampleL+this.slopeCount*e[r],n[i+2*s+1]=(1-this.slopeCount)*this.prevSampleR+this.slopeCount*e[r+1],s+=1,this.slopeCount+=this._rate;if(this.slopeCount-=1,1!==t)t:for(;;){for(;this.slopeCount>1;)if(this.slopeCount-=1,o+=1,o>=t-1)break t;const a=r+2*o;n[i+2*s]=(1-this.slopeCount)*e[a]+this.slopeCount*e[a+2],n[i+2*s+1]=(1-this.slopeCount)*e[a+1]+this.slopeCount*e[a+3],s+=1,this.slopeCount+=this._rate}return this.prevSampleL=e[r+2*t-2],this.prevSampleR=e[r+2*t-1],s}}const s=function(){};class a extends class{constructor(t){this._pipe=t}get pipe(){return this._pipe}get inputBuffer(){return this._pipe.inputBuffer}get outputBuffer(){return this._pipe.outputBuffer}fillInputBuffer(){throw new Error("fillInputBuffer() not overridden")}fillOutputBuffer(t=0){for(;this.outputBuffer.frameCount<t;){const t=16384-this.inputBuffer.frameCount;if(this.fillInputBuffer(t),this.inputBuffer.frameCount<16384)break;this._pipe.process()}}clear(){this._pipe.clear()}}{constructor(t,e,r=s){super(e),this.callback=r,this.sourceSound=t,this.historyBufferSize=22050,this._sourcePosition=0,this.outputBufferPosition=0,this._position=0}get position(){return this._position}set position(t){if(t>this._position)throw new RangeError("New position may not be greater than current position");const e=this.outputBufferPosition-(this._position-t);if(e<0)throw new RangeError("New position falls outside of history buffer");this.outputBufferPosition=e,this._position=t}get sourcePosition(){return this._sourcePosition}set sourcePosition(t){this.clear(),this._sourcePosition=t}onEnd(){this.callback()}fillInputBuffer(t=0){const e=new Float32Array(2*t),r=this.sourceSound.extract(e,t,this._sourcePosition);this._sourcePosition+=r,this.inputBuffer.putSamples(e,0,r)}extract(t,e=0){this.fillOutputBuffer(this.outputBufferPosition+e);const r=Math.min(e,this.outputBuffer.frameCount-this.outputBufferPosition);this.outputBuffer.extract(t,this.outputBufferPosition,r);const n=this.outputBufferPosition+r;return this.outputBufferPosition=Math.min(this.historyBufferSize,n),this.outputBuffer.receive(Math.max(n-this.historyBufferSize,0)),this._position+=r,r}handleSampleData(t){this.extract(t.data,4096)}clear(){super.clear(),this.outputBufferPosition=0}}const u=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];class l extends i{constructor(t){super(t),this._quickSeek=!0,this.midBufferDirty=!1,this.midBuffer=null,this.overlapLength=0,this.autoSeqSetting=!0,this.autoSeekSetting=!0,this._tempo=1,this.setParameters(44100,0,0,8)}clear(){super.clear(),this.clearMidBuffer()}clearMidBuffer(){this.midBufferDirty&&(this.midBufferDirty=!1,this.midBuffer=null)}setParameters(t,e,r,n){t>0&&(this.sampleRate=t),n>0&&(this.overlapMs=n),e>0?(this.sequenceMs=e,this.autoSeqSetting=!1):this.autoSeqSetting=!0,r>0?(this.seekWindowMs=r,this.autoSeekSetting=!1):this.autoSeekSetting=!0,this.calculateSequenceParameters(),this.calculateOverlapLength(this.overlapMs),this.tempo=this._tempo}set tempo(t){let e;this._tempo=t,this.calculateSequenceParameters(),this.nominalSkip=this._tempo*(this.seekWindowLength-this.overlapLength),this.skipFract=0,e=Math.floor(this.nominalSkip+.5),this.sampleReq=Math.max(e+this.overlapLength,this.seekWindowLength)+this.seekLength}get tempo(){return this._tempo}get inputChunkSize(){return this.sampleReq}get outputChunkSize(){return this.overlapLength+Math.max(0,this.seekWindowLength-2*this.overlapLength)}calculateOverlapLength(t=0){let e;e=this.sampleRate*t/1e3,e=e<16?16:e,e-=e%8,this.overlapLength=e,this.refMidBuffer=new Float32Array(2*this.overlapLength),this.midBuffer=new Float32Array(2*this.overlapLength)}checkLimits(t,e,r){return t<e?e:t>r?r:t}calculateSequenceParameters(){let t,e;this.autoSeqSetting&&(t=150+-50*this._tempo,t=this.checkLimits(t,50,125),this.sequenceMs=Math.floor(t+.5)),this.autoSeekSetting&&(e=28.333333333333332+-6.666666666666667*this._tempo,e=this.checkLimits(e,15,25),this.seekWindowMs=Math.floor(e+.5)),this.seekWindowLength=Math.floor(this.sampleRate*this.sequenceMs/1e3),this.seekLength=Math.floor(this.sampleRate*this.seekWindowMs/1e3)}set quickSeek(t){this._quickSeek=t}clone(){const t=new l;return t.tempo=this._tempo,t.setParameters(this.sampleRate,this.sequenceMs,this.seekWindowMs,this.overlapMs),t}seekBestOverlapPosition(){return this._quickSeek?this.seekBestOverlapPositionStereoQuick():this.seekBestOverlapPositionStereo()}seekBestOverlapPositionStereo(){let t,e,r,n=0;for(this.preCalculateCorrelationReferenceStereo(),t=0,e=Number.MIN_VALUE;n<this.seekLength;n+=1)r=this.calculateCrossCorrelationStereo(2*n,this.refMidBuffer),r>e&&(e=r,t=n);return t}seekBestOverlapPositionStereoQuick(){let t,e,r,n,i,o=0;for(this.preCalculateCorrelationReferenceStereo(),e=Number.MIN_VALUE,t=0,n=0,i=0;o<4;o+=1){let s=0;for(;u[o][s]&&(i=n+u[o][s],!(i>=this.seekLength));)r=this.calculateCrossCorrelationStereo(2*i,this.refMidBuffer),r>e&&(e=r,t=i),s+=1;n=t}return t}preCalculateCorrelationReferenceStereo(){let t,e,r=0;for(;r<this.overlapLength;r+=1)e=r*(this.overlapLength-r),t=2*r,this.refMidBuffer[t]=this.midBuffer[t]*e,this.refMidBuffer[t+1]=this.midBuffer[t+1]*e}calculateCrossCorrelationStereo(t,e){const r=this._inputBuffer.vector;t+=this._inputBuffer.startIndex;let n=0,i=2;const o=2*this.overlapLength;let s;for(;i<o;i+=2)s=i+t,n+=r[s]*e[i]+r[s+1]*e[i+1];return n}overlap(t){this.overlapStereo(2*t)}overlapStereo(t){const e=this._inputBuffer.vector;t+=this._inputBuffer.startIndex;const r=this._outputBuffer.vector,n=this._outputBuffer.endIndex;let i,o,s=0;const a=1/this.overlapLength;let u,l,c;for(;s<this.overlapLength;s+=1)o=(this.overlapLength-s)*a,u=s*a,i=2*s,l=i+t,c=i+n,r[c+0]=e[l+0]*u+this.midBuffer[i+0]*o,r[c+1]=e[l+1]*u+this.midBuffer[i+1]*o}process(){let t,e,r;if(null===this.midBuffer){if(this._inputBuffer.frameCount<this.overlapLength)return;this.midBuffer=new Float32Array(2*this.overlapLength),this._inputBuffer.receiveSamples(this.midBuffer,this.overlapLength)}for(;this._inputBuffer.frameCount>=this.sampleReq;){t=this.seekBestOverlapPosition(),this._outputBuffer.ensureAdditionalCapacity(this.overlapLength),this.overlap(Math.floor(t)),this._outputBuffer.put(this.overlapLength),e=this.seekWindowLength-2*this.overlapLength,e>0&&this._outputBuffer.putBuffer(this._inputBuffer,t+this.overlapLength,e);const n=this._inputBuffer.startIndex+2*(t+this.seekWindowLength-this.overlapLength);this.midBuffer.set(this._inputBuffer.vector.subarray(n,n+2*this.overlapLength)),this.skipFract+=this.nominalSkip,r=Math.floor(this.skipFract),this.skipFract-=r,this._inputBuffer.receive(r)}}}const c=function(t,e){return(t>e?t-e:e-t)>1e-10};class h{constructor(){this.transposer=new o(!1),this.stretch=new l(!1),this._inputBuffer=new n,this._intermediateBuffer=new n,this._outputBuffer=new n,this._rate=0,this._tempo=0,this.virtualPitch=1,this.virtualRate=1,this.virtualTempo=1,this.calculateEffectiveRateAndTempo()}clear(){this.transposer.clear(),this.stretch.clear()}clone(){const t=new h;return t.rate=this.rate,t.tempo=this.tempo,t}get rate(){return this._rate}set rate(t){this.virtualRate=t,this.calculateEffectiveRateAndTempo()}set rateChange(t){this._rate=1+.01*t}get tempo(){return this._tempo}set tempo(t){this.virtualTempo=t,this.calculateEffectiveRateAndTempo()}set tempoChange(t){this.tempo=1+.01*t}set pitch(t){this.virtualPitch=t,this.calculateEffectiveRateAndTempo()}set pitchOctaves(t){this.pitch=Math.exp(.69314718056*t),this.calculateEffectiveRateAndTempo()}set pitchSemitones(t){this.pitchOctaves=t/12}get inputBuffer(){return this._inputBuffer}get outputBuffer(){return this._outputBuffer}calculateEffectiveRateAndTempo(){const t=this._tempo,e=this._rate;this._tempo=this.virtualTempo/this.virtualPitch,this._rate=this.virtualRate*this.virtualPitch,c(this._tempo,t)&&(this.stretch.tempo=this._tempo),c(this._rate,e)&&(this.transposer.rate=this._rate),this._rate>1?this._outputBuffer!=this.transposer.outputBuffer&&(this.stretch.inputBuffer=this._inputBuffer,this.stretch.outputBuffer=this._intermediateBuffer,this.transposer.inputBuffer=this._intermediateBuffer,this.transposer.outputBuffer=this._outputBuffer):this._outputBuffer!=this.stretch.outputBuffer&&(this.transposer.inputBuffer=this._inputBuffer,this.transposer.outputBuffer=this._intermediateBuffer,this.stretch.inputBuffer=this._intermediateBuffer,this.stretch.outputBuffer=this._outputBuffer)}process(){this._rate>1?(this.stretch.process(),this.transposer.process()):(this.transposer.process(),this.stretch.process())}}class f{constructor(t){this.buffer=t,this._position=0}get dualChannel(){return this.buffer.numberOfChannels>1}get position(){return this._position}set position(t){this._position=t}extract(t,e=0,r=0){this.position=r;let n=this.buffer.getChannelData(0),i=this.dualChannel?this.buffer.getChannelData(1):this.buffer.getChannelData(0),o=0;for(;o<e;o++)t[2*o]=n[o+r],t[2*o+1]=i[o+r];return Math.min(e,n.length-r)}}const d=function(t,e,r=s,n=4096){const i=t.createScriptProcessor(n,2,2),o=new Float32Array(2*n);return i.onaudioprocess=t=>{let i=t.outputBuffer.getChannelData(0),s=t.outputBuffer.getChannelData(1),a=e.extract(o,n);r(e.sourcePosition),0===a&&e.onEnd();let u=0;for(;u<a;u++)i[u]=o[2*u],s[u]=o[2*u+1]},i},p=function(t){const e=Math.floor(t/60);return`${e}:${r=parseInt(t-60*e),2,n=n||"0",(r+="").length>=2?r:new Array(2-r.length+1).join(n)+r}`;var r,n},g=function(t){const e=this.timePlayed,r=this.sampleRate;if(this.sourcePosition=t,this.timePlayed=t/r,e!==this.timePlayed){const t=new CustomEvent("play",{detail:{timePlayed:this.timePlayed,formattedTimePlayed:this.formattedTimePlayed,percentagePlayed:this.percentagePlayed}});this._node.dispatchEvent(t)}};class v{constructor(t,e,r,n=s){this._soundtouch=new h;const i=new f(e);this.timePlayed=0,this.sourcePosition=0,this._filter=new a(i,this._soundtouch,n),this._node=d(t,this._filter,(t=>g.call(this,t)),r),this.tempo=1,this.rate=1,this.duration=e.duration,this.sampleRate=t.sampleRate,this.listeners=[]}get formattedDuration(){return p(this.duration)}get formattedTimePlayed(){return p(this.timePlayed)}get percentagePlayed(){return 100*this._filter.sourcePosition/(this.duration*this.sampleRate)}set percentagePlayed(t){this._filter.sourcePosition=parseInt(t*this.duration*this.sampleRate),this.sourcePosition=this._filter.sourcePosition,this.timePlayed=this.sourcePosition/this.sampleRate}get node(){return this._node}set pitch(t){this._soundtouch.pitch=t}set pitchSemitones(t){this._soundtouch.pitchSemitones=t}set rate(t){this._soundtouch.rate=t}set tempo(t){this._soundtouch.tempo=t}connect(t){this._node.connect(t)}disconnect(){this._node.disconnect()}on(t,e){this.listeners.push({name:t,cb:e}),this._node.addEventListener(t,(t=>e(t.detail)))}off(t=null){let e=this.listeners;t&&(e=e.filter((e=>e.name===t))),e.forEach((t=>{this._node.removeEventListener(t.name,(e=>t.cb(e.detail)))}))}}},(t,e,r)=>{"use strict";const n=r(236),{isBrowser:i}=(r(280),r(13)),{createCanvas:o,createImageData:s,registerFont:a}=r(14),u={canvas:null,getCanvas({width:t,height:e}){return this.canvas||(this.canvas=o(t,e)),this.canvas.width=t,this.canvas.height=e,this.canvas},toBuffer({type:t,canvas:e,quality:r=70}){r>>=0;let n,i,o=10-.1*(r=Math.min(r,100));switch(o>>=0,t){case"png":case"gif":n=e.toBuffer("image/png",{compressionLevel:o,filters:e.PNG_FILTER_NONE});break;case"jpg":case"jpeg":n=e.toBuffer("image/jpeg",{quality:r/100});break;case"canvas":i=this.getContext(e),n=i.getImageData(0,0,e.width,e.height).data;break;default:n=e.toBuffer("raw")}return n},draw({width:t,height:e,data:r}){const n=this.getCanvas({width:t,height:e}),i=n.getContext("2d"),o=s(new Uint8ClampedArray(r),t,e);return i.putImageData(o,0,0),n},setFont(t,e){const r="f"+n.toHash(t);n.storage[r]||(i||a(t,{family:r}),n.storage[r]=!0),e(r)},fillRect({canvas:t,color:e}){const r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,t.width,t.height)},getContext:t=>t.getContext("2d")};t.exports=u},(t,e,r)=>{"use strict";const{nodeRequire:n}=r(236),i=n("rmfr"),o=n("fs-extra"),s=r(62),a=r(281),u={format:"raw",ensureDir(t,e=!1){e&&(t=s.dirname(t)),o.ensureDir(t)},exists:t=>o.existsSync(t),async rmDir(t){await i(t)},setCacheFormat(t){this.format="raw"===t?t:"ff"},async moveFile({dir:t,from:e,to:r}){const n=this.getFilePath({dir:t,name:e,prefix:!1}),i=this.getFilePath({dir:t,name:r,prefix:!0});await o.move(n,i,{overwrite:!0})},writeFileSync({dir:t,name:e,data:r}){const n=this.getFilePath({dir:t,name:e,prefix:!0});o.writeFileSync(n,r)},readFileSync({dir:t,name:e}){const r=this.getFilePath({dir:t,name:e,prefix:!1});return o.readFileSync(r)},async writeFileAsync({dir:t,name:e,buffer:r}){const n=this.getFilePath({dir:t,name:e,prefix:!1});return await o.outputFile(n,r)},getExt:t=>/[^.]+$/.exec(t),getFilePath({dir:t,name:e,prefix:r=!1}){return r?s.join(t,`${a(e,12,"0")}.${this.format}`):s.join(t,`${e}.${this.format}`)},getCacheFilePath(t){return s.join(t,`%012d.${this.format}`)},isFont:t=>/.*\.(ttf|otf|svg|woff|woff2|eot)$/gi.test(t)};t.exports=u},t=>{"use strict";t.exports=function(t,r,n){if((r-=(t+="").length)<=0)return t;if(n||0===n||(n=" ")," "==(n+="")&&r<10)return e[r]+t;for(var i="";1&r&&(i+=n),r>>=1;)n+=n;return i+t};var e=[""," ","  ","   ","    ","     ","      ","       ","        ","         "]},(t,e,r)=>{"use strict";const n=r(283),{genUuid:i}=r(236),{isBrowser:o}=r(13),{isUA:s}=r(236),a="default",u="preview",l={[a]:[],[u]:[]};r.g&&(r.g.MIRAP_VPOOL=l);const c=new n;class h{constructor(t,e,r=null){if(this.loaded=!1,this.uses={},this.cid=e,this.id=i(),t instanceof h&&(t.loaded?this.cloneVideo(t):t=t.url),this.loaded||"string"!=typeof t||(this.$video=this.createVideo(t),this.url=t),!this.url)throw new Error(`VideoHolder.create with src error: ${t}`);this.assignTo(r)}connectGainNode(){const t=new AudioContext,e=t.createMediaElementSource(this.$video);this.gainNode=t.createGain(),e.connect(this.gainNode),this.gainNode.connect(t.destination)}setVolume(t){s("chrome")?(this.gainNode||this.connectGainNode(),this.gainNode.gain.value=t):this.$video.volume=Math.min(1,t)}assignTo(t){t&&(this.userId=t,this.uses[t]||(this.uses[t]=0),this.uses[t]++,this.createBy||(this.createBy=t))}cloneVideo(t){this.url=t.url,this.info=t.info,this.$video=t.$video.cloneNode(!1),this.loaded=!0,this._debugShow(this.$video)}createVideo(t){if(!o)return{src:t};const e=document.createElement("video");return e.playsinline=!0,e.crossOrigin="Anonymous",e.src=t,e.id=this.id,e.width=300,e.height=300,this._debugShow(e),e}_debugShow(t){const e=document.getElementById("mira-player-debug-container");e&&(t.controls="controls",t.style="background:#000",e.appendChild(t))}release(){this.userId=null}getInfo(){return new Promise(((t,e)=>{if(this.loaded)return this.info?t(this.info):e();this.metaCb=r=>{if(this.loaded=!0,!this.$video)return e();const{duration:n,videoWidth:i,videoHeight:o}=this.$video;this.info={width:i,height:o,duration:n},t(this.info)},this.errorCb=t=>{this.loaded=!0,e()},this.$video.addEventListener("loadedmetadata",this.metaCb),this.$video.addEventListener("error",this.errorCb),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.loaded||e()}),6e4)}))}destroy(){this.$video&&(this.metaCb&&this.$video.removeEventListener("loadedmetadata",this.metaCb),this.errorCb&&this.$video.removeEventListener("error",this.errorCb),this.metaCb=null,this.errorCb=null,this.$video.src="",this.$video.srcObject=null,this.$video.remove()),this.timeout&&clearTimeout(this.timeout),this.$video=null,this.userId=null}static release(t){for(const[e,r]of Object.entries(l))l[e]=r.filter((e=>e.cid!==t||(e.destroy(),!1)))}static async grantPlay(t){await Promise.all(l.default.map((async e=>{if(e.cid!==t)return;const r=e.$video,n=r.muted;return r.muted=!0,await r.play(),new Promise((t=>{setTimeout((()=>{r.pause(),r.muted=n,setTimeout((()=>t()),1)}),1)}))})))}static get(t,e,r){return new Promise(((n,i)=>{c.enqueue((async()=>{try{n(await this._get_(t,e,r))}catch(t){i(t)}}))}))}static _get_(t,e,r){return new Promise(((n,i)=>{const o=r.endsWith("preview")?u:a,s=l[o].filter((r=>r.url===t&&r.cid===e));let c=s.filter((t=>t.userId===r))[0];return c?n(c):(c=s.filter((t=>!t.userId))[0],c?(c.assignTo(r),n(c)):o===u&&s.length>=2?i("pool is busy"):(c=new h(s[0]||t,e,r),l[o].push(c),void n(c)))}))}}t.exports=h},t=>{"use strict";t.exports=class{constructor(){this.queue=[],this.pendingPromise=!1}enqueue(t){return new Promise(((e,r)=>{this.queue.push({promise:t,resolve:e,reject:r}),this.dequeue()}))}dequeue(){if(this.pendingPromise)return!1;const t=this.queue.shift();if(!t)return!1;try{this.pendingPromise=!0,t.promise().then((e=>{this.pendingPromise=!1,t.resolve(e),this.dequeue()})).catch((e=>{this.pendingPromise=!1,t.reject(e),this.dequeue()}))}catch(e){this.pendingPromise=!1,t.reject(e),this.dequeue()}return!0}destroy(){this.pendingPromise=!0,this.queue=null}}},(t,e,r)=>{"use strict";const{isBrowser:n,isWebWorker:i}=r(13),{nodeRequire:o,genUuid:s}=r(236),a=o("./node-fetch"),u=r(285),l={},c={};r.g&&(r.g.MIRAP_XHRS=c,r.g.MIRAP_RESP_CACHE=l);const h={async cancel(t){for(const[e,r]of Object.entries(c))t===r._cid&&r.abort();for(const[e,r]of Object.entries(l))t===(await r).cid&&delete l[e]},async getRemote(t,e,r=null){const o=u(t);return l[o]||(l[o]=new Promise((function(o){if(n||i){const n=s(),i=new XMLHttpRequest;i.addEventListener("load",(()=>{delete c[n];const t=i.getResponseHeader("Content-Type");o({data:i.response,type:t,cid:e})})),i.addEventListener("error",(r=>{delete c[n],o({url:t,cid:e})})),i.addEventListener("abort",(r=>{delete c[n],o({url:t,cid:e})})),i.addEventListener("progress",(t=>{r&&r(t)})),i.open("get",t),i.responseType="blob",i._cid=e,i.send(),c[n]=i}else a(t).then((t=>{const e=t.headers.get("content-type");o({data:t,type:e})}))}))),l[o]}};t.exports=h},(t,e,r)=>{var n,i,o,s,a;n=r(286),i=r(287).utf8,o=r(241),s=r(287).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):i.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=n.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,h=-1732584194,f=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[u>>>5]|=128<<u%32,r[14+(u+64>>>9<<4)]=u;var p=a._ff,g=a._gg,v=a._hh,m=a._ii;for(d=0;d<r.length;d+=16){var _=l,y=c,b=h,x=f;l=p(l,c,h,f,r[d+0],7,-680876936),f=p(f,l,c,h,r[d+1],12,-389564586),h=p(h,f,l,c,r[d+2],17,606105819),c=p(c,h,f,l,r[d+3],22,-1044525330),l=p(l,c,h,f,r[d+4],7,-176418897),f=p(f,l,c,h,r[d+5],12,1200080426),h=p(h,f,l,c,r[d+6],17,-1473231341),c=p(c,h,f,l,r[d+7],22,-45705983),l=p(l,c,h,f,r[d+8],7,1770035416),f=p(f,l,c,h,r[d+9],12,-1958414417),h=p(h,f,l,c,r[d+10],17,-42063),c=p(c,h,f,l,r[d+11],22,-1990404162),l=p(l,c,h,f,r[d+12],7,1804603682),f=p(f,l,c,h,r[d+13],12,-40341101),h=p(h,f,l,c,r[d+14],17,-1502002290),l=g(l,c=p(c,h,f,l,r[d+15],22,1236535329),h,f,r[d+1],5,-165796510),f=g(f,l,c,h,r[d+6],9,-1069501632),h=g(h,f,l,c,r[d+11],14,643717713),c=g(c,h,f,l,r[d+0],20,-373897302),l=g(l,c,h,f,r[d+5],5,-701558691),f=g(f,l,c,h,r[d+10],9,38016083),h=g(h,f,l,c,r[d+15],14,-660478335),c=g(c,h,f,l,r[d+4],20,-405537848),l=g(l,c,h,f,r[d+9],5,568446438),f=g(f,l,c,h,r[d+14],9,-1019803690),h=g(h,f,l,c,r[d+3],14,-187363961),c=g(c,h,f,l,r[d+8],20,1163531501),l=g(l,c,h,f,r[d+13],5,-1444681467),f=g(f,l,c,h,r[d+2],9,-51403784),h=g(h,f,l,c,r[d+7],14,1735328473),l=v(l,c=g(c,h,f,l,r[d+12],20,-1926607734),h,f,r[d+5],4,-378558),f=v(f,l,c,h,r[d+8],11,-2022574463),h=v(h,f,l,c,r[d+11],16,1839030562),c=v(c,h,f,l,r[d+14],23,-35309556),l=v(l,c,h,f,r[d+1],4,-1530992060),f=v(f,l,c,h,r[d+4],11,1272893353),h=v(h,f,l,c,r[d+7],16,-155497632),c=v(c,h,f,l,r[d+10],23,-1094730640),l=v(l,c,h,f,r[d+13],4,681279174),f=v(f,l,c,h,r[d+0],11,-358537222),h=v(h,f,l,c,r[d+3],16,-722521979),c=v(c,h,f,l,r[d+6],23,76029189),l=v(l,c,h,f,r[d+9],4,-640364487),f=v(f,l,c,h,r[d+12],11,-421815835),h=v(h,f,l,c,r[d+15],16,530742520),l=m(l,c=v(c,h,f,l,r[d+2],23,-995338651),h,f,r[d+0],6,-198630844),f=m(f,l,c,h,r[d+7],10,1126891415),h=m(h,f,l,c,r[d+14],15,-1416354905),c=m(c,h,f,l,r[d+5],21,-57434055),l=m(l,c,h,f,r[d+12],6,1700485571),f=m(f,l,c,h,r[d+3],10,-1894986606),h=m(h,f,l,c,r[d+10],15,-1051523),c=m(c,h,f,l,r[d+1],21,-2054922799),l=m(l,c,h,f,r[d+8],6,1873313359),f=m(f,l,c,h,r[d+15],10,-30611744),h=m(h,f,l,c,r[d+6],15,-1560198380),c=m(c,h,f,l,r[d+13],21,1309151649),l=m(l,c,h,f,r[d+4],6,-145523070),f=m(f,l,c,h,r[d+11],10,-1120210379),h=m(h,f,l,c,r[d+2],15,718787259),c=m(c,h,f,l,r[d+9],21,-343485551),l=l+_>>>0,c=c+y>>>0,h=h+b>>>0,f=f+x>>>0}return n.endian([l,c,h,f])})._ff=function(t,e,r,n,i,o,s){var a=t+(e&r|~e&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._gg=function(t,e,r,n,i,o,s){var a=t+(e&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._hh=function(t,e,r,n,i,o,s){var a=t+(e^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._ii=function(t,e,r,n,i,o,s){var a=t+(r^(e|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(a(t,e));return e&&e.asBytes?r:e&&e.asString?s.bytesToString(r):n.bytesToHex(r)}},t=>{var e,r;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}},t.exports=r},t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},(t,e,r)=>{const n=r(289);t.exports=class extends n{constructor(t={}){super({type:"spine",...t})}}},(t,e,r)=>{const n=r(258);t.exports=class extends n{constructor(t={}){super({type:"track",...t})}get isTrack(){return!0}addChild(t,e=null){super.addChild(t,e),this.refreshSibling()}removeChild(t){super.removeChild(t),this.refreshSibling()}refreshSibling(){for(let t=0;t<this.children.length;t++){if(0==t){this.children[t].prevSibling=null;continue}const e=this.children[t-1];this.children[t].prevSibling=e,e.nextSibling=this.children[t],this.children[t].nextSibling=null}}createDisplay(){}annotate(){const t=this.children[this.children.length-1];this.lastChildEndTime=t?t.endTime:0}get absStartTime(){return 0}get absEndTime(){return this.endTime}get startTime(){return 0}get duration(){return this.endTime-this.startTime}get endTime(){return this.lastChildEndTime}}},(t,e,r)=>{"use strict";const{nodeRequire:n}=r(236),i=n("colors"),o=r(236),s={enable:!1,hooks:{},info(t){t="object"==typeof t?t:{msg:t};let{pos:e,msg:r=""}=t;e=e?`${e} `:"";const n=`[FF] ${e}${r}`;this.enable&&console.log(i?i.green(n):n),this.hooks.info&&this.hooks.info(n)},log(t){t="object"==typeof t?t:{msg:t};let{pos:e,msg:r=""}=t;e=e?`${e} `:"";const n=`[FF] ${e}${r}`;this.enable&&console.log(i?i.blue(n):n),this.hooks.log&&this.hooks.log(n)},error(t){t="object"==typeof t?t:{error:t};let{pos:e,error:r="",msg:n=""}=t;e=e?`${e} `:"",r=o.getErrStack(r);const s=`[FF] ${e}${n}${r}`;console.error(i?i.red(s):s),this.hooks.error&&this.hooks.error(s)},addCallback(t,e){this.hooks[t]=e}};t.exports=s},(t,e,r)=>{var n=r(292),i=r(293),o=r(319),s=r(302);t.exports=function(t,e){return(s(t)?n:i)(t,o(e))}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},(t,e,r)=>{var n=r(294),i=r(318)(n);t.exports=i},(t,e,r)=>{var n=r(295),i=r(297);t.exports=function(t,e){return t&&n(t,e,i)}},(t,e,r)=>{var n=r(296)();t.exports=n},t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}},(t,e,r)=>{var n=r(298),i=r(311),o=r(315);t.exports=function(t){return o(t)?n(t):i(t)}},(t,e,r)=>{var n=r(299),i=r(300),o=r(302),s=r(303),a=r(305),u=r(306),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),c=!r&&i(t),h=!r&&!c&&s(t),f=!r&&!c&&!h&&u(t),d=r||c||h||f,p=d?n(t.length,String):[],g=p.length;for(var v in t)!e&&!l.call(t,v)||d&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,g))||p.push(v);return p}},t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},(t,e,r)=>{var n=r(301),i=r(274),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},(t,e,r)=>{var n=r(268),i=r(274);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},t=>{var e=Array.isArray;t.exports=e},(t,e,r)=>{t=r.nmd(t);var n=r(270),i=r(304),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u},t=>{t.exports=function(){return!1}},t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},(t,e,r)=>{var n=r(307),i=r(309),o=r(310),s=o&&o.isTypedArray,a=s?i(s):n;t.exports=a},(t,e,r)=>{var n=r(268),i=r(308),o=r(274),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[n(t)]}},t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},t=>{t.exports=function(t){return function(e){return t(e)}}},(t,e,r)=>{t=r.nmd(t);var n=r(271),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a},(t,e,r)=>{var n=r(312),i=r(313),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},(t,e,r)=>{var n=r(314)(Object.keys,Object);t.exports=n},t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},(t,e,r)=>{var n=r(316),i=r(308);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},(t,e,r)=>{var n=r(268),i=r(317);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},(t,e,r)=>{var n=r(315);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var o=r.length,s=e?o:-1,a=Object(r);(e?s--:++s<o)&&!1!==i(a[s],s,a););return r}}},(t,e,r)=>{var n=r(276);t.exports=function(t){return"function"==typeof t?t:n}},(t,e,r)=>{"use strict";const{nodeRequire:n,awaitMap:i}=r(236),o=n("../utils/fs"),s=n("../utils/perf"),a=n("../core/synthesis"),u=n("../utils/stream"),l=n("../utils/opencv"),{gl:c}=r(14),h=(r(291),r(321),r(290),r(279)),f=r(322),d=r(259),{isBrowser:p}=r(13),g=(r(264),r(282));t.exports=class extends d{constructor({creator:t}){super({type:"renderer"}),this.stop=!1,this.parent=t,this.tweenGroup=t.tweenGroup,this.mPLAYER=null}async jumpTo(t){const e=this.playRate;this.emit({type:"seeking",time:t});const r=async()=>{await this.timeline.jumpTo(t),this.renderFrame();const e=this.tweenGroup.now();this.emit({type:"seeked",currentTime:e}),this.emit({type:"timeupdate",currentTime:e,total:Math.floor(1e3*this.timeline.duration)})};return this.playing?new Promise((t=>{this.once("pause",(async n=>{await r(),e>0&&this.play(e),t()})),this.pause()})):await r()}async play(t=1){if(this.playRate=t,this.playing)return;const e=this.getCreator();this.played||(this.emit({type:"play"}),this.played=!0,await g.grantPlay(e.uuid)),this.resetTimer(),this.emit({type:"playing",currentTime:this._tweenr}),this.playing=!0;let r=0;const n=async()=>{if(!e)return;let i=this.mainDelay(),o=this.tweenGroup.now();0!==i&&(r+=i,i=.2*i+.01*r>>0,i=Math.min(40,i)),this.renderFrame();const s=Math.floor(1e3*this.timeline.duration);this.timeline.isOver()&&(o=s,this.pause(),await this.timeline.pause()),this.emit({type:"timeupdate",currentTime:o,total:s}),this.playRate>0?(await this.timeline.nextFrame(Math.max(1,40-i)*t),window.requestAnimationFrame(n)):(this.playing=!1,this.timeline.isOver()?this.emit({type:"ended"}):(await this.timeline.pause(),this.emit({type:"pause",currentTime:o})))};n()}async pause(){this.playRate=0}async start(t=!0){p||s.start(),this.emit({type:"start"});try{await this.preProcessing()}catch(t){if(this.stop)return;throw p?this.emit({type:"error",error:t}):this.emitError({error:t,pos:"preProcessing"}),t}if(this.stop)return;this.createTimeline();try{await this.prepareMaterial()}catch(t){if(this.stop)return;throw p?this.emit({type:"error",error:t}):this.emitError({error:t,pos:"prepareMaterial"}),t}!p&&t&&(this.configCache(),this.createStream(),this.createSynthesis());const e=this.getCreator(),r=this.rootConf();this.emit({type:"loadedmetadata",duration:e.duration,width:r.getVal("width"),height:r.getVal("height")}),this.stop||(this.playRate=0,this.renderFrame(),e.canplay=!0,this.emit({type:"canplay"}))}configCache(){const t=this.rootConf(),e=t.getVal("cacheFormat"),r=t.getVal("detailedCacheDir");o.ensureDir(r),o.setCacheFormat(e)}resetTimer(){this._timer=Date.now(),this._tweenr=this.tweenGroup.now()}mainDelay(){const t=this.getCreator();return this.mPLAYER&&this.mPLAYER.playing||(this.mPLAYER=this.player(t.mVIDEOS),this.mPLAYER&&this.resetTimer()),this.mPLAYER?1e3*this.mPLAYER.delay()>>0:this.timerDelay()}timerDelay(){const t=Date.now()-this._timer;return this.tweenGroup.now()-this._tweenr-t}player(t){for(let e=0;e<t.length;e++)if(t[e].playing)return t[e]}async preProcessing(){const t=this.getCreator(),e=t.allNodes;let r=0,n=e.length;this.emit({type:"preloading",loaded:r,total:n,id:"creator"});for(const t of e){if(!p&&!t.active&&!t.children.length){console.log("preProcessing",t.id,t.conf,t.active);continue}let e=0;for(;;){if(this.stop)return;try{await t.preProcessing((e=>{this.emit({type:"preloading",loaded:r+e,total:n,id:t.id})})),r+=1;break}catch(r){if(++e>(t.retry||1))throw console.error(`preprocess error: ${t.id}\n`,r),`preprocess ${t.type}[id=${t.id}] fail, tried ${e}:\n`+t.conf.src}finally{this.emit({type:"preloading",loaded:r,total:n,id:t.id})}}}t.allNodes.map((t=>{(p||t.active||t.children.length)&&t.annotate()}))}async prepareMaterial(){const t=this.getCreator().allNodes;let e=0,r=t.length;this.emit({type:"prepareMaterial",prepared:e,total:r,id:"creator"});for(const n of t){if(this.stop)return;(p||n.active)&&(await n.prepareMaterial(),e+=1,this.emit({type:"prepareMaterial",prepared:e,total:r,id:n.id}))}}createStream(){const t=this.rootConf(),e=t.getVal("highWaterMark"),r=t.getVal("parallel"),n=new u({size:e,parallel:r});n.addPullFunc(this.nodeRenderFrame.bind(this)),n.on("error",(t=>this.emitError({error:t,pos:"FFStream"}))),this.stream=n}createTimeline(){this.timeline=new f(this.getCreator()),this.timeline.annotate()}async nodeRenderFrame(){const t=await this.renderFrame();return await this.timeline.nextFrame(),t}async renderFrame(){return p&&this.playRate<=0&&await this.timeline.pause(),this.snapshotToBuffer()}snapshotToBuffer(){const t=this.rootConf(),e=this.getCreator();if(this.timeline.isOver()||e.render(),p)return;const r=t.getVal("cacheFormat"),n=t.getVal("cacheQuality"),i=e.app.view;return h.toBuffer({type:r,canvas:i,quality:n})}async createSynthesis(){const{stream:t,timeline:e}=this,r=this.rootConf(),n=this.getCreator();r.setVal("bgColor",n.bgColor);const i=n.allNodes.filter((t=>["audio","speech"].includes(t.type))),o=n.allNodes.filter((t=>"video"===t.type)),u=new a(r),{start:c,end:h}=n.outputTime;u.setDuration(h-c),n.audioOnly?i.length||u.addNullAudio():(u.addStream(t),u.addVideos(o)),u.addAudios(i),this.bubble(u),u.on("synthesis-complete",(e=>{s.end();const r=s.getInfo();e={...e,useage:r},this.emit("complete",e),console.log("Render time:",t.fillTime),console.log(`Video Download/Read time: ${l.dltimer} + ${l.timer} = ${l.timer+l.dltimer}`)})),await n.timeUpdate(0,Math.floor(1e3*c)),u.start(),this.synthesis=u}getCreator(){return this.parent}removeCacheFiles(){if(this.rootConf("debug")||p||this.getCreator().conf.pathId)return;const t=this.rootConf("detailedCacheDir");o.rmDir(t)}destroy(){this.stream&&this.stream.destroy(),this.timeline&&this.timeline.destroy(),this.synthesis&&this.synthesis.destroy(),this.removeCacheFiles(),this.removeAllListeners(),super.destroy(),this.stop=!0,this.parent=null,this.stream=null,this.timeline=null,this.synthesis=null,this.mPLAYER=null}}},(t,e,r)=>{"use strict";const n=r(239),i=r(236),{gl:o}=r(14),s={byteArray:null,cache:{},getContext(t){const e=t.uuid;return s.cache[e]||(s.cache[e]=o(t.width,t.height)),s.cache[e]},release(t){delete s.cache[t]},getPixelsByteArray({gl:t,width:e,height:r,flip:n,bgr:i}){const o=new Uint8Array(e*r*4);if(t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,o),!n)return o;const s=i?[2,1,0,3]:[0,1,2,3],a=new Uint8Array(e*r*4);for(let t=0;t<r;t++)for(let n=0;n<e;n++){const i=n,u=r-t-1;for(let r=0;r<4;r++){const n=4*(t*e+i)+r;a[4*(u*e+i)+s[r]]=o[n]}}return a},enableBlendMode(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.BLEND)},async getPixels({type:t,data:e,width:r,height:o}){if("raw"===t)return n(e,[r,o,4],[4,4*r,1]);{const{pixels:r}=await i.getPixels(e,`image/${t}`);return r}}};t.exports=s},(t,e,r)=>{"use strict";r(291),r(288);const n=r(290);t.exports=class{constructor(t){this.creator=t,this.fps=t.getConf("fps"),this.frame=0,this.frameInFloat=0,this.duration=0,this.framesNum=0}update(){this.duration=this.creator.duration,this.framesNum=Math.round(this.duration*this.fps)}annotate(){this.creator.annotate(),n.info({pos:"Timeline",msg:`annotate creator duration ${this.duration}`}),this.creator.allNodes.map((t=>{n.info({pos:"Timeline",msg:`annotate ${t.id.padEnd(10," ")}: time:[${t.absStartTime.toFixed(2).padStart(6," ")}, ${t.absEndTime.toFixed(2).padStart(6," ")})  zIndex:${t.zIndex.toFixed(0).padStart(8," ")}`})}))}isOver(){return.001*this.creator.timer>this.duration}nextFrame(t){if(void 0===t&&(t=1e3/this.fps),t<=0)return this.pause();const{fps:e}=this;if(!this.isOver()){const r=t*e/1e3;return this.frameInFloat+=r,this.frame=this.frameInFloat>>0,this.creator.timeUpdate(t)}}pause(){return this.creator.timeUpdate(0)}async jumpTo(t){const{fps:e}=this;return this.frameInFloat=t*e/1e3,this.frame=this.frameInFloat>>0,await this.creator.timeUpdate(0,t)}setFps(t){this.fps=t}destroy(){this.creator=null}}},(t,e,r)=>{"use strict";const n=r(324),i=r(392),o=r(396),s=r(302),a=r(402),u=r(291),l=r(403),c=r(411),h=r(236),f={},d=3.14159,p="_target_",g="_target_up_",v="_target_down_",m="_target_left_",_="_target_right_",y="_target_up_big_",b="_target_down_big_",x="_target_left_big_",T="_target_right_big_",E="_target_rotate_",w="_target_rotate_left_",A="_target_rotate_left_big_",S="_target_rotate_right_",I="_target_rotate_right_big_",C="_target_alpha_",O=150,R=550,M=d/4,N=d/2,P={time:2,delay:.1,ease:"Quadratic.Out",type:"in"},L={time:2,delay:5,ease:"Quadratic.In",type:"out"},D={time:30,delay:.1,type:"ining"};f.effects={fadeIn:{from:{alpha:0},to:C,...P,ease:"Linear.None"},fadeOut:{from:{alpha:1},to:{alpha:0},...L},fadeInLeft:["fadeIn",{...P,from:m,to:p}],fadeInRight:["fadeIn",{...P,from:_,to:p}],fadeInUp:["fadeIn",{...P,from:v,to:p}],fadeInDown:["fadeIn",{...P,from:g,to:p}],fadeInLeftBig:["fadeIn",{...P,from:x,to:p}],fadeInRightBig:["fadeIn",{...P,from:T,to:p}],fadeInUpBig:["fadeIn",{...P,from:b,to:p}],fadeInDownBig:["fadeIn",{...P,from:y,to:p}],fadeOutLeft:["fadeOut",{...L,from:p,to:m}],fadeOutRight:["fadeOut",{...L,from:p,to:_}],fadeOutUp:["fadeOut",{...L,from:p,to:g}],fadeOutDown:["fadeOut",{...L,from:p,to:v}],fadeOutLeftBig:["fadeOut",{...L,from:p,to:x}],fadeOutRightBig:["fadeOut",{...L,from:p,to:T}],fadeOutUpBig:["fadeOut",{...L,from:p,to:y}],fadeOutDownBig:["fadeOut",{...L,from:p,to:b}],blurIn:{from:{blur:20},to:{blur:0},...P,ease:"Linear.None"},blurOut:{from:{blur:0},to:{blur:20},...L},backIn:[{...P,from:{scale:.1},to:{scale:1},ease:"Back.Out"},"fadeIn"],backOut:[{...L,from:{scale:1},to:{scale:.3},ease:"Back.In"},"fadeOut"],backInLeft:["fadeIn",{from:{scale:.7},to:{scale:1}},{...P,from:x,to:p,ease:"Back.Out"}],backInRight:["fadeIn",{from:{scale:.7},to:{scale:1}},{...P,from:T,to:p,ease:"Back.Out"}],backInUp:["fadeIn",{from:{scale:.7},to:{scale:1}},{...P,from:b,to:p,ease:"Back.Out"}],backInDown:["fadeIn",{from:{scale:.7},to:{scale:1}},{...P,from:y,to:p,ease:"Back.Out"}],backOutLeft:["fadeOut",{from:{scale:1},to:{scale:.7}},{...L,to:x,from:p,ease:"Back.In"}],backOutRight:["fadeOut",{from:{scale:1},to:{scale:.7}},{...L,to:T,from:p,ease:"Back.In"}],backOutUp:["fadeOut",{from:{scale:1},to:{scale:.7}},{...L,to:y,from:p,ease:"Back.In"}],backOutDown:["fadeOut",{from:{scale:1},to:{scale:.7}},{...L,to:b,from:p,ease:"Back.In"}],bounceIn:["fadeIn",{...P,from:{scale:.1},to:{scale:1},ease:"Elastic.Out"}],bounceInDown:["fadeIn",{from:{scale:.3},to:{scale:1}},{...P,from:g,to:p,ease:"Elastic.Out"}],bounceInUp:["fadeIn",{from:{scale:.3},to:{scale:1}},{...P,from:v,to:p,ease:"Elastic.Out"}],bounceInLeft:["fadeIn",{from:{scale:.3},to:{scale:1}},{...P,from:m,to:p,ease:"Elastic.Out"}],bounceInRight:["fadeIn",{from:{scale:.3},to:{scale:1}},{...P,from:_,to:p,ease:"Elastic.Out"}],bounceOut:["fadeOut",{...L,from:{scale:1},to:{scale:.3},ease:"Elastic.In"}],bounceOutDown:["fadeOut",{from:{scale:1},to:{scale:.3}},{...L,from:p,to:v,ease:"Elastic.In"}],bounceOutLeft:["fadeOut",{from:{scale:1},to:{scale:.3}},{...L,from:p,to:m,ease:"Elastic.In"}],bounceOutRight:["fadeOut",{from:{scale:1},to:{scale:.3}},{...L,from:p,to:_,ease:"Elastic.In"}],bounceOutUp:["fadeOut",{from:{scale:1},to:{scale:.3}},{...L,from:p,to:g,ease:"Elastic.In"}],rotateIn:["fadeIn",{...P,from:w,to:E}],rotateOut:["fadeOut",{...L,from:E,to:S}],rotateInDownLeft:["fadeIn",{from:m,to:p},{from:{scale:.3},to:{scale:1}},{...P,from:A,to:E}],rotateInDownRight:["fadeIn",{from:_,to:p},{from:{scale:.3},to:{scale:1}},{...P,from:A,to:E}],rotateInUpLeft:["fadeIn",{from:v,to:p},{from:{scale:.3},to:{scale:1}},{...P,from:A,to:E}],rotateInUpRight:["fadeIn",{from:g,to:p},{from:{scale:.3},to:{scale:1}},{...P,from:A,to:E}],rotateOutDownLeft:["fadeOut",{from:p,to:m},{from:{scale:1},to:{scale:.3}},{...L,from:E,to:I}],rotateOutDownRight:["fadeOut",{from:p,to:_},{from:{scale:1},to:{scale:.3}},{...L,from:E,to:I}],rotateOutUpLeft:["fadeOut",{from:p,to:g},{from:{scale:1},to:{scale:.3}},{...L,from:E,to:I}],rotateOutUpRight:["fadeOut",{from:p,to:v},{from:{scale:1},to:{scale:.3}},{...L,from:E,to:I}],rollIn:["fadeInUp",{from:{scale:.5},to:{scale:1}},{...P,from:A,to:E}],rollOut:["fadeOutDown",{from:{scale:1},to:{scale:.5}},{...L,to:I,from:E}],zoomIn:["fadeIn",{...P,from:{scale:.3},to:{scale:1}}],zoomInDown:["fadeIn",{from:g,to:p},{...P,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomInLeft:["fadeIn",{from:m,to:p},{...P,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomInRight:["fadeIn",{from:_,to:p},{...P,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomInUp:["fadeIn",{from:v,to:p},{...P,from:{scale:.3},to:{scale:1},ease:"Back.Out"}],zoomOut:["fadeOut",{...L,from:{scale:1},to:{scale:.3}}],zoomOutDown:["fadeOut",{from:p,to:v},{...L,from:{scale:1},to:{scale:.3},ease:"Back.In"}],zoomOutLeft:["fadeOut",{from:p,to:m},{...L,from:{scale:1},to:{scale:.3},ease:"Back.In"}],zoomOutRight:["fadeOut",{from:p,to:_},{...L,from:{scale:1},to:{scale:.3},ease:"Back.In"}],zoomOutUp:["fadeOut",{from:p,to:g},{...L,from:{scale:1},to:{scale:.3},ease:"Back.In"}],slideInDown:{...P,from:g,to:p},slideInLeft:{...P,from:m,to:p},slideInRight:{...P,from:_,to:p},slideInUp:{...P,from:v,to:p},slideOutDown:{...L,to:v,from:p},slideOutLeft:{...L,to:m,from:p},slideOutRight:{...L,to:_,from:p},slideOutUp:{...L,to:g,from:p},zoomingIn:[{...D,from:{scale:1},add:{scale:.05},mask:!0}],zoomingOut:[{...D,from:{scale:2},add:{scale:-.05},mask:!0}],moveingLeft:[{...D,from:p,add:{x:-20}}],moveingRight:[{...D,from:p,add:{x:20}}],moveingUp:[{...D,from:p,add:{y:-20}}],moveingBottom:[{...D,from:p,add:{y:20}}],fadingIn:{...D,from:{alpha:0},to:{alpha:1}},fadingOut:{time:30,delay:5,type:"outing",from:{alpha:1},to:{alpha:0}}},f.getAnimation=function(t,e){const{type:r}=t,i=this.getEffects(r);if(o(i))return null;let s={};for(let r=0;r<i.length;r++){let o=i[r];o=this.mappingToRealAttr(o,e,t),s=n(s,o)}return s},f.getEffects=function(t){const e=s(t)?t:[t];let r=[];for(let t=0;t<e.length;t++){let n=this.effects[e[t]];n&&(n=c(n),n=s(n)?n:[n],r=i(r,n))}for(let t=0;t<r.length;t++){let e=r[t];a(e)&&(e=this.getEffects(e),h.insertSubArray(r,t,e))}return r},f.createEffect=function(t,e){const r={time:1.2,delay:.1,type:"in",ease:"Linear.None",...e};this.effects[t]=r},f.getRandomEffectName=function(){let t=[];const e=(e,r)=>{"in"===e&&t.indexOf(r)<0&&t.push(r)};for(let t in this.effects){const r=this.effects[t];s(r)?u(r,(r=>e(r.type,t))):e(r.type,t)}return l(t)},f.mappingToRealAttr=function(t,e,r){if(t.from=this.getMappingVal(t.from,e),t.to=this.getMappingVal(t.to,e),(t=h.mergeExclude(t,r,["type"])).add){t.to={};for(let e in t.add)t.to[e]=t.from[e]+t.add[e]*t.time}return t},f.getMappingVal=function(t,e){let r=t;switch(t){case p:r={x:e.x,y:e.y};break;case m:r={x:e.x-O,y:e.y};break;case _:r={x:e.x+O,y:e.y};break;case g:r={x:e.x,y:e.y-O};break;case v:r={x:e.x,y:e.y+O};break;case x:r={x:e.x-R,y:e.y};break;case T:r={x:e.x+R,y:e.y};break;case y:r={x:e.x,y:e.y-R};break;case b:r={x:e.x,y:e.y+R};break;case E:r={rotation:e.rotation};break;case w:r={rotation:e.rotation-M};break;case A:r={rotation:e.rotation-N};break;case S:r={rotation:e.rotation+M};break;case I:r={rotation:e.rotation+N};break;case C:r={alpha:e.alpha||1}}return r},t.exports=f},(t,e,r)=>{var n=r(325),i=r(383)((function(t,e,r){n(t,e,r)}));t.exports=i},(t,e,r)=>{var n=r(326),i=r(362),o=r(295),s=r(365),a=r(317),u=r(380),l=r(376);t.exports=function t(e,r,c,h,f){e!==r&&o(r,(function(o,u){if(f||(f=new n),a(o))s(e,r,u,c,t,h,f);else{var d=h?h(l(e,u),o,u+"",e,r,f):void 0;void 0===d&&(d=o),i(e,u,d)}}),u)}},(t,e,r)=>{var n=r(327),i=r(335),o=r(336),s=r(337),a=r(338),u=r(339);function l(t){var e=this.__data__=new n(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=u,t.exports=l},(t,e,r)=>{var n=r(328),i=r(329),o=r(332),s=r(333),a=r(334);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},t=>{t.exports=function(){this.__data__=[],this.size=0}},(t,e,r)=>{var n=r(330),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},(t,e,r)=>{var n=r(331);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},(t,e,r)=>{var n=r(330);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},(t,e,r)=>{var n=r(330);t.exports=function(t){return n(this.__data__,t)>-1}},(t,e,r)=>{var n=r(330);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},(t,e,r)=>{var n=r(327);t.exports=function(){this.__data__=new n,this.size=0}},t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},t=>{t.exports=function(t){return this.__data__.get(t)}},t=>{t.exports=function(t){return this.__data__.has(t)}},(t,e,r)=>{var n=r(327),i=r(340),o=r(347);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},(t,e,r)=>{var n=r(341)(r(270),"Map");t.exports=n},(t,e,r)=>{var n=r(342),i=r(346);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},(t,e,r)=>{var n=r(316),i=r(343),o=r(317),s=r(345),a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?f:a).test(s(t))}},(t,e,r)=>{var n,i=r(344),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},(t,e,r)=>{var n=r(270)["__core-js_shared__"];t.exports=n},t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},(t,e,r)=>{var n=r(348),i=r(356),o=r(359),s=r(360),a=r(361);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},(t,e,r)=>{var n=r(349),i=r(327),o=r(340);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},(t,e,r)=>{var n=r(350),i=r(352),o=r(353),s=r(354),a=r(355);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},(t,e,r)=>{var n=r(351);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},(t,e,r)=>{var n=r(341)(Object,"create");t.exports=n},t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},(t,e,r)=>{var n=r(351),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},(t,e,r)=>{var n=r(351),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},(t,e,r)=>{var n=r(351);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},(t,e,r)=>{var n=r(357);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},(t,e,r)=>{var n=r(358);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},(t,e,r)=>{var n=r(357);t.exports=function(t){return n(this,t).get(t)}},(t,e,r)=>{var n=r(357);t.exports=function(t){return n(this,t).has(t)}},(t,e,r)=>{var n=r(357);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},(t,e,r)=>{var n=r(363),i=r(331);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},(t,e,r)=>{var n=r(364);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},(t,e,r)=>{var n=r(341),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},(t,e,r)=>{var n=r(362),i=r(366),o=r(367),s=r(370),a=r(371),u=r(300),l=r(302),c=r(374),h=r(303),f=r(316),d=r(317),p=r(375),g=r(306),v=r(376),m=r(377);t.exports=function(t,e,r,_,y,b,x){var T=v(t,r),E=v(e,r),w=x.get(E);if(w)n(t,r,w);else{var A=b?b(T,E,r+"",t,e,x):void 0,S=void 0===A;if(S){var I=l(E),C=!I&&h(E),O=!I&&!C&&g(E);A=E,I||C||O?l(T)?A=T:c(T)?A=s(T):C?(S=!1,A=i(E,!0)):O?(S=!1,A=o(E,!0)):A=[]:p(E)||u(E)?(A=T,u(T)?A=m(T):d(T)&&!f(T)||(A=a(E))):S=!1}S&&(x.set(E,A),y(A,E,_,b,x),x.delete(E)),n(t,r,A)}}},(t,e,r)=>{t=r.nmd(t);var n=r(270),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}},(t,e,r)=>{var n=r(368);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},(t,e,r)=>{var n=r(369);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},(t,e,r)=>{var n=r(270).Uint8Array;t.exports=n},t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},(t,e,r)=>{var n=r(372),i=r(373),o=r(312);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},(t,e,r)=>{var n=r(317),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},(t,e,r)=>{var n=r(314)(Object.getPrototypeOf,Object);t.exports=n},(t,e,r)=>{var n=r(315),i=r(274);t.exports=function(t){return i(t)&&n(t)}},(t,e,r)=>{var n=r(268),i=r(373),o=r(274),s=Function.prototype,a=Object.prototype,u=s.toString,l=a.hasOwnProperty,c=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=l.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==c}},t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},(t,e,r)=>{var n=r(378),i=r(380);t.exports=function(t){return n(t,i(t))}},(t,e,r)=>{var n=r(379),i=r(363);t.exports=function(t,e,r,o){var s=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var l=e[a],c=o?o(r[l],t[l],l,r,t):void 0;void 0===c&&(c=t[l]),s?i(r,l,c):n(r,l,c)}return r}},(t,e,r)=>{var n=r(363),i=r(331),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];o.call(t,e)&&i(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},(t,e,r)=>{var n=r(298),i=r(381),o=r(315);t.exports=function(t){return o(t)?n(t,!0):i(t)}},(t,e,r)=>{var n=r(317),i=r(312),o=r(382),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&r.push(a);return r}},t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},(t,e,r)=>{var n=r(384),i=r(391);t.exports=function(t){return n((function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e}))}},(t,e,r)=>{var n=r(276),i=r(385),o=r(387);t.exports=function(t,e){return o(i(t,e,n),t+"")}},(t,e,r)=>{var n=r(386),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),u=Array(a);++s<a;)u[s]=o[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=o[s];return l[e]=r(u),n(t,this,l)}}},t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},(t,e,r)=>{var n=r(388),i=r(390)(n);t.exports=i},(t,e,r)=>{var n=r(389),i=r(364),o=r(276),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=s},t=>{t.exports=function(t){return function(){return t}}},t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),o=16-(i-n);if(n=i,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},(t,e,r)=>{var n=r(331),i=r(315),o=r(305),s=r(317);t.exports=function(t,e,r){if(!s(r))return!1;var a=typeof e;return!!("number"==a?i(r)&&o(e,r.length):"string"==a&&e in r)&&n(r[e],t)}},(t,e,r)=>{var n=r(393),i=r(394),o=r(370),s=r(302);t.exports=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),r=arguments[0],a=t;a--;)e[a-1]=arguments[a];return n(s(r)?o(r):[r],i(e,1))}},t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},(t,e,r)=>{var n=r(393),i=r(395);t.exports=function t(e,r,o,s,a){var u=-1,l=e.length;for(o||(o=i),a||(a=[]);++u<l;){var c=e[u];r>0&&o(c)?r>1?t(c,r-1,o,s,a):n(a,c):s||(a[a.length]=c)}return a}},(t,e,r)=>{var n=r(269),i=r(300),o=r(302),s=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},(t,e,r)=>{var n=r(311),i=r(397),o=r(300),s=r(302),a=r(315),u=r(303),l=r(312),c=r(306),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||c(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!n(t).length;for(var r in t)if(h.call(t,r))return!1;return!0}},(t,e,r)=>{var n=r(398),i=r(340),o=r(399),s=r(400),a=r(401),u=r(268),l=r(345),c="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",g=l(n),v=l(i),m=l(o),_=l(s),y=l(a),b=u;(n&&b(new n(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||o&&b(o.resolve())!=h||s&&b(new s)!=f||a&&b(new a)!=d)&&(b=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?l(r):"";if(n)switch(n){case g:return p;case v:return c;case m:return h;case _:return f;case y:return d}return e}),t.exports=b},(t,e,r)=>{var n=r(341)(r(270),"DataView");t.exports=n},(t,e,r)=>{var n=r(341)(r(270),"Promise");t.exports=n},(t,e,r)=>{var n=r(341)(r(270),"Set");t.exports=n},(t,e,r)=>{var n=r(341)(r(270),"WeakMap");t.exports=n},(t,e,r)=>{var n=r(268),i=r(302),o=r(274);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==n(t)}},(t,e,r)=>{var n=r(404),i=r(407),o=r(302);t.exports=function(t){return(o(t)?n:i)(t)}},(t,e,r)=>{var n=r(370),i=r(405);t.exports=function(t){return i(n(t))}},(t,e,r)=>{var n=r(406);t.exports=function(t,e){var r=-1,i=t.length,o=i-1;for(e=void 0===e?i:e;++r<e;){var s=n(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}},t=>{var e=Math.floor,r=Math.random;t.exports=function(t,n){return t+e(r()*(n-t+1))}},(t,e,r)=>{var n=r(405),i=r(408);t.exports=function(t){return n(i(t))}},(t,e,r)=>{var n=r(409),i=r(297);t.exports=function(t){return null==t?[]:n(t,i(t))}},(t,e,r)=>{var n=r(410);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},(t,e,r)=>{var n=r(412);t.exports=function(t){return n(t,5)}},(t,e,r)=>{var n=r(326),i=r(292),o=r(379),s=r(413),a=r(414),u=r(366),l=r(370),c=r(415),h=r(419),f=r(421),d=r(423),p=r(397),g=r(424),v=r(425),m=r(371),_=r(302),y=r(303),b=r(429),x=r(317),T=r(431),E=r(297),w=r(380),A="[object Arguments]",S="[object Function]",I="[object Object]",C={};C[A]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[I]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[S]=C["[object WeakMap]"]=!1,t.exports=function t(e,r,O,R,M,N){var P,L=1&r,D=2&r,k=4&r;if(O&&(P=M?O(e,R,M,N):O(e)),void 0!==P)return P;if(!x(e))return e;var F=_(e);if(F){if(P=g(e),!L)return l(e,P)}else{var B=p(e),j=B==S||"[object GeneratorFunction]"==B;if(y(e))return u(e,L);if(B==I||B==A||j&&!M){if(P=D||j?{}:m(e),!L)return D?h(e,a(P,e)):c(e,s(P,e))}else{if(!C[B])return M?e:{};P=v(e,B,L)}}N||(N=new n);var U=N.get(e);if(U)return U;N.set(e,P),T(e)?e.forEach((function(n){P.add(t(n,r,O,n,e,N))})):b(e)&&e.forEach((function(n,i){P.set(i,t(n,r,O,i,e,N))}));var V=F?void 0:(k?D?d:f:D?w:E)(e);return i(V||e,(function(n,i){V&&(n=e[i=n]),o(P,i,t(n,r,O,i,e,N))})),P}},(t,e,r)=>{var n=r(378),i=r(297);t.exports=function(t,e){return t&&n(e,i(e),t)}},(t,e,r)=>{var n=r(378),i=r(380);t.exports=function(t,e){return t&&n(e,i(e),t)}},(t,e,r)=>{var n=r(378),i=r(416);t.exports=function(t,e){return n(t,i(t),e)}},(t,e,r)=>{var n=r(417),i=r(418),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}},t=>{t.exports=function(){return[]}},(t,e,r)=>{var n=r(378),i=r(420);t.exports=function(t,e){return n(t,i(t),e)}},(t,e,r)=>{var n=r(393),i=r(373),o=r(416),s=r(418),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:s;t.exports=a},(t,e,r)=>{var n=r(422),i=r(416),o=r(297);t.exports=function(t){return n(t,o,i)}},(t,e,r)=>{var n=r(393),i=r(302);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},(t,e,r)=>{var n=r(422),i=r(420),o=r(380);t.exports=function(t){return n(t,o,i)}},t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},(t,e,r)=>{var n=r(368),i=r(426),o=r(427),s=r(428),a=r(367);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return s(t)}}},(t,e,r)=>{var n=r(368);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},(t,e,r)=>{var n=r(269),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},(t,e,r)=>{var n=r(430),i=r(309),o=r(310),s=o&&o.isMap,a=s?i(s):n;t.exports=a},(t,e,r)=>{var n=r(397),i=r(274);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},(t,e,r)=>{var n=r(432),i=r(309),o=r(310),s=o&&o.isSet,a=s?i(s):n;t.exports=a},(t,e,r)=>{var n=r(397),i=r(274);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},function(t){t.exports=function(){"use strict";var t=function(){this._tweens={},this._tweensAddedDuringUpdate={}};t.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:r.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var o=this._tweens[n[i]];o&&!1===o.update(t)&&(o._isPlaying=!1,e||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var e,r=new t;return r.Group=t,r._nextId=0,r.nextId=function(){return r._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?r.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?r.now=self.performance.now.bind(self.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(t,e){this._isPaused=!1,this._pauseStart=null,this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=r.Easing.Linear.None,this._interpolationFunction=r.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||r,this._id=r.nextId()},r.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?r.now()+parseFloat(t):t:r.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(void 0===this._valuesStart[e]&&(this._valuesStart[e]=this._object[e]),this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},pause:function(t){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===t?r.now():t,this._group.remove(this)),this},resume:function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?r.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,r,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r,n=this._easingFunction(r),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,n):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[e]=i+(o-i)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var s=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=s}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,u=this._chainedTweens.length;a<u;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),s=r.Interpolation.Utils.Linear;return e<0?s(t[0],t[1],i):e>1?s(t[n],t[n-1],n-i):s(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,e){for(var n=0,i=t.length-1,o=Math.pow,s=r.Interpolation.Utils.Bernstein,a=0;a<=i;a++)n+=o(1-e,i-a)*o(e,a)*t[a]*s(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),s=r.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),s(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):s(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var n=r.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(e=[1],function(t){var r=1;if(e[t])return e[t];for(var n=t;n>1;n--)r*=n;return e[t]=r,r}),CatmullRom:function(t,e,r,n,i){var o=.5*(r-t),s=.5*(n-e),a=i*i;return(2*e-2*r+o+s)*(i*a)+(-3*e+3*r-2*o-s)*a+o*i+e}}},r.version="18.5.0",r}()},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=function(){this._tweens={},this._tweensAddedDuringUpdate={}};n.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var r=Object.keys(this._tweens);if(0===r.length)return!1;for(t=void 0!==t?t:o.now();r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var i=this._tweens[r[n]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[r[n]])}r=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var i,o=new n;o.Group=n,o._nextId=0,o.nextId=function(){return o._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?o.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?o.now=self.performance.now.bind(self.performance):void 0!==Date.now?o.now=Date.now:o.now=function(){return(new Date).getTime()},o.Tween=function(t,e){this._isPaused=!1,this._pauseStart=null,this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=o.Easing.Linear.None,this._interpolationFunction=o.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||o,this._id=o.nextId()},o.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?o.now()+parseFloat(t):t:o.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(void 0===this._valuesStart[e]&&(this._valuesStart[e]=this._object[e]),this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},pause:function(t){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===t?o.now():t,this._group.remove(this)),this},resume:function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?o.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,r,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r,n=this._easingFunction(r),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,n):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[e]=i+(o-i)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var s=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=s}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,u=this._chainedTweens.length;a<u;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}return!0}},o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*o.Easing.Bounce.In(2*t):.5*o.Easing.Bounce.Out(2*t-1)+.5}}},o.Interpolation={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=o.Interpolation.Utils.Linear;return e<0?s(t[0],t[1],n):e>1?s(t[r],t[r-1],r-n):s(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,s=o.Interpolation.Utils.Bernstein,a=0;a<=n;a++)r+=i(1-e,n-a)*i(e,a)*t[a]*s(n,a);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=o.Interpolation.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(i=Math.floor(n=r*(1+e))),s(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[r]-(s(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):s(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=o.Interpolation.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var r=t;r>1;r--)e*=r;return i[t]=e,e}),CatmullRom:function(t,e,r,n,i){var o=.5*(r-t),s=.5*(n-e),a=i*i;return(2*e-2*r+o+s)*(i*a)+(-3*e+3*r-2*o-s)*a+o*i+e}}},o.version="18.5.0";const s=o},(t,e,r)=>{const n=r(279),i=r(283),{WebGLRenderer:o,CanvasRenderer:s,createCanvas:a}=r(14),u={cache:{},queuedGetView:async(t,e,r,{type:i,format:o})=>new Promise((async(s,l)=>{const c=u.cache[r.uuid][t];await c.queue.enqueue((async()=>{if(c.render.render(e),c.render.view.rgbReverse=!0,"canvas"===o){const t=a(r.width,r.height);t.getContext("2d").drawImage(c.render.view,0,0,r.width,r.height),s(t)}s(n.toBuffer({type:i,canvas:c.render.view}))}))})),async getView(t,e,r,n){if(!u.cache[r.uuid]||!u.cache[r.uuid][t]){const e={width:r.width,height:r.height},n=r.getConf("useGL")?new o(e):new s(e);u.cache[r.uuid]={[t]:{render:n,queue:new i}}}return await u.queuedGetView(t,e,r,n)},release(t){u.cache[t]&&Object.values(u.cache[t]).forEach((t=>{t?.render?.destroy()})),delete u.cache[t]}};t.exports=u},(t,e,r)=>{"use strict";r(437);const n=r(443),i=r(258),o=r(321),s=r(444),{createCanvas:a,createImageData:u,Texture:l,Sprite:c,RenderTexture:h}=r(14),{isBrowser:f}=(r(279),r(13)),d=r(285),p=r(435);t.exports=class extends i{constructor(t){super({type:"trans",duration:1,...t}),this.key=this.conf.key}get name(){return this.conf.name}get uuid(){return d(`${this.key}-${JSON.stringify(this.params)}`).substring(0,16)}set fit(t){this.conf.fit=!!t}get fit(){return!!this.conf.fit}createDisplay(){this.display=new c(l.fromCanvas(a(1,1)))}refresh(t){if(this.parent){if("spine"!==this.parent.type){const t=this.prevRefId&&this.prevRefId!=this.refId?this.root().getByRefId(this.prevRefId):null;t&&(this.prevSibling=t,this.prevSibling.nextSibling=this);const e=this.nextRefId&&this.nextRefId!=this.refId?this.root().getByRefId(this.nextRefId):null;e&&e!=this.prevSibling&&(this.nextSibling=e,this.nextSibling.prevSibling=this)}}else this.prevSibling=null,this.nextSibling=null;if(!this.display)return;let e,r;this.conf.fit&&(e=this.prevSibling?.display?this.prevSibling.display.getBounds():null,r=this.nextSibling?.display?this.nextSibling.display.getBounds():null);const n=e||r;e&&r&&n.enlarge(r);const[i,o]=[this.rootConf("width"),this.rootConf("height")];this.display.width=n?n.width:i,this.display.height=n?n.height:o,this.display.x=n?n.left:0,this.display.y=n?n.top:0,this.filter.params=this.conf.params||{},this.filter.offset=[-(.5*i-(this.display.x+.5*this.display.width))/i,(.5*o-(this.display.y+.5*this.display.height))/o]}async preProcessing(){const t=this.rootConf("width"),e=this.rootConf("height");this.createTransitionFilter(this.key),this.render=this.creator().app.renderer,this.filter.ratio=t/e,this.prevTexture=h.create(t,e),this.nextTexture=h.create(t,e),this.filter.prev=new c(this.prevTexture),this.filter.next=new c(this.nextTexture)}async prepareMaterial(){this.refresh()}createTransitionFilter(t){const e=s.getShaderByName(t);this.filter=this.display.setTransition(e)}annotate(){this._duration=this.duration,this._absStartTime=this.absStartTime,this._absEndTime=this._absStartTime+this._duration,this.addTimelineCallback(),this.onTime=t=>{const e=t>=this._absStartTime&&t<this._absEndTime;return e?this.show():this.hide(),e},this.zIndex=Math.max(this.prevSibling?.zIndex||0,this.nextSibling?.zIndex||0)+1,this.display&&(this.display.zIndex=this.zIndex)}get prevRefId(){return this.conf.prevRefId}set prevRefId(t){this.conf.prevRefId=t}get nextRefId(){return this.conf.nextRefId}set nextRefId(t){this.conf.nextRefId=t}get default(){return{startTime:this.prevSibling?.endTime||0,duration:1}}get duration(){let t=this.time(this.conf.duration);return isNaN(t)?this.time(this.default.duration):t}get startTime(){return this.prevSibling?Math.max(0,this.relativeEndTime-.5*this.duration||0):super.startTime}get endTime(){return this.prevSibling?Math.max(0,this.relativeEndTime||0):super.startTime}get relativeEndTime(){return this.prevSibling?.absEndTime-this.parent.absStartTime}async drawing(t=0,e=0){if(!this.display)return!1;const r=.001*t;return!!this.onTime(r)&&(this.prevSibling&&this.prevSibling.display&&this.render.render(this.prevSibling.display,this.prevTexture),this.nextSibling&&this.nextSibling.display&&this.render.render(this.nextSibling.display,this.nextTexture),this.filter.updateProgress((r-this._absStartTime)/this._duration),!0)}async getDisplay(t,e){const r=await this.getPreview(t,{...e,format:"canvas"});if(!r)throw new Error("null");return new c(l.fromCanvas(r))}async getPreview(t,e){const r=await(this.prevSibling?.getDisplay(t,{timing:"abs"})),n=await(this.nextSibling?.getDisplay(t,{timing:"abs"})),i=await this._render({prevDisplay:r,nextDisplay:n,time:t}),{width:o,height:s}=this,u=a(o,s),l=u.getContext("2d");i&&l.putImageData(i,0,0);const c={x:0,y:0,w:o,h:s};return this.subImage(u,c,e)}async getSnapshotBuffer(t){if(!t)return;t?.texture?.baseTexture&&t.texture.baseTexture.update();const e=f?"canvas":"raw";return await p.getView("trans",t,this.creator(),{type:e})}async _render({prevDisplay:t,nextDisplay:e,time:r}){const i=(r-this._absStartTime)/this._duration,{gl:s,transition:a,params:l}=this,c=s.drawingBufferWidth,h=s.drawingBufferHeight,f=await this.getSnapshotBuffer(t)||new Int16Array(c*h*4),d=await this.getSnapshotBuffer(e)||new Int16Array(c*h*4);s.clear(s.COLOR_BUFFER_BIT);const p=await o.getPixels({type:"raw",data:f,width:c,height:h}),g=await o.getPixels({type:"raw",data:d,width:c,height:h}),v=n(s,p);v.minFilter=s.LINEAR,v.magFilter=s.LINEAR;const m=n(s,g);m.minFilter=s.LINEAR,m.magFilter=s.LINEAR,a.draw(i,v,m,c,h,l),v.dispose(),m.dispose();const _=o.getPixelsByteArray({gl:s,width:c,height:h,flip:!0});return u(new Uint8ClampedArray(_.buffer),c,h)}destroy(){this.buffer?.dispose(),this.transition?.dispose(),this.gl=null,this.source=null,this.buffer=null,this.transition=null,this.prevTexture=null,this.nextTexture=null,this.filter?.prev?.destroy(),this.filter?.next?.destroy(),this.filter=null,this.render=null,super.destroy()}}},(t,e,r)=>{"use strict";var n=r(438),i=r(442),o=r(239),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function a(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}var u=a.prototype;function l(t,e,r,n,i,o){var s=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,n),s;if(s+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),r}function c(t,e){for(var r=n.malloc(t.length,e),i=t.length,o=0;o<i;++o)r[o]=t[o];return r}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var r=t.dtype;if(s.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16"),r===t.dtype&&function(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=l(this.gl,this.type,this.length,this.usage,t.data,e):this.length=l(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var a=n.malloc(t.size,r),u=o(a,t.shape);i.assign(u,t),this.length=l(this.gl,this.type,this.length,this.usage,e<0?a:a.subarray(0,t.size),e),n.free(a)}}else if(Array.isArray(t)){var h;h=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(t,"uint16"):c(t,"float32"),this.length=l(this.gl,this.type,this.length,this.usage,e<0?h:h.subarray(0,t.length),e),n.free(h)}else if("object"==typeof t&&"number"==typeof t.length)this.length=l(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=function(t,e,r,n){if(r=r||t.ARRAY_BUFFER,n=n||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==t.DYNAMIC_DRAW&&n!==t.STATIC_DRAW&&n!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),o=new a(t,r,i,0,n);return o.update(e),o}},(t,e,r)=>{"use strict";var n=r(439),i=r(440),o=r(441).Buffer;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var s="undefined"!=typeof Uint8ClampedArray,a="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,l=r.g.__TYPEDARRAY_POOL;l.UINT8C||(l.UINT8C=i([32,0])),l.BIGUINT64||(l.BIGUINT64=i([32,0])),l.BIGINT64||(l.BIGINT64=i([32,0])),l.BUFFER||(l.BUFFER=i([32,0]));var c=l.DATA,h=l.BUFFER;function f(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);c[r].push(t)}}function d(t){t=n.nextPow2(t);var e=n.log2(t),r=c[e];return r.length>0?r.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(d(t),0,t)}function g(t){return new Uint16Array(d(2*t),0,t)}function v(t){return new Uint32Array(d(4*t),0,t)}function m(t){return new Int8Array(d(t),0,t)}function _(t){return new Int16Array(d(2*t),0,t)}function y(t){return new Int32Array(d(4*t),0,t)}function b(t){return new Float32Array(d(4*t),0,t)}function x(t){return new Float64Array(d(8*t),0,t)}function T(t){return s?new Uint8ClampedArray(d(t),0,t):p(t)}function E(t){return a?new BigUint64Array(d(8*t),0,t):null}function w(t){return u?new BigInt64Array(d(8*t),0,t):null}function A(t){return new DataView(d(t),0,t)}function S(t){t=n.nextPow2(t);var e=n.log2(t),r=h[e];return r.length>0?r.pop():new o(t)}e.free=function(t){if(o.isBuffer(t))h[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);c[r].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){f(t.buffer)},e.freeArrayBuffer=f,e.freeBuffer=function(t){h[n.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return d(t);switch(e){case"uint8":return p(t);case"uint16":return g(t);case"uint32":return v(t);case"int8":return m(t);case"int16":return _(t);case"int32":return y(t);case"float":case"float32":return b(t);case"double":case"float64":return x(t);case"uint8_clamped":return T(t);case"bigint64":return w(t);case"biguint64":return E(t);case"buffer":return S(t);case"data":case"dataview":return A(t);default:return null}return null},e.mallocArrayBuffer=d,e.mallocUint8=p,e.mallocUint16=g,e.mallocUint32=v,e.mallocInt8=m,e.mallocInt16=_,e.mallocInt32=y,e.mallocFloat32=e.mallocFloat=b,e.mallocFloat64=e.mallocDouble=x,e.mallocUint8Clamped=T,e.mallocBigUint64=E,e.mallocBigInt64=w,e.mallocDataView=A,e.mallocBuffer=S,e.clearCache=function(){for(var t=0;t<32;++t)l.UINT8[t].length=0,l.UINT16[t].length=0,l.UINT32[t].length=0,l.INT8[t].length=0,l.INT16[t].length=0,l.INT32[t].length=0,l.FLOAT[t].length=0,l.DOUBLE[t].length=0,l.BIGUINT64[t].length=0,l.BIGINT64[t].length=0,l.UINT8C[t].length=0,c[t].length=0,h[t].length=0}},(t,e)=>{"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},t=>{"use strict";function e(t,r,n){var i=0|t[n];if(i<=0)return[];var o,s=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)s[o]=r;else for(o=0;o<i;++o)s[o]=e(t,r,n+1);return s}t.exports=function(t,r){switch(void 0===r&&(r=0),typeof t){case"number":if(t>0)return function(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}},(t,e,r)=>{"use strict";var n=r(244),i=r(245),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return l(t,e,r)}function l(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|g(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(V(t,Uint8Array)){var e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var i=function(t){if(u.isBuffer(t)){var e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||z(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),a(t<0?0:0|p(t))}function f(t){for(var e=t.length<0?0:0|p(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(i)return n?-1:B(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function _(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=r;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(z(a))return s;t[r+s]=a}return s}function x(t,e,r,n){return U(B(e,t.length-r),t,r,n)}function T(t,e,r,n){return U(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return U(j(e),t,r,n)}function w(t,e,r,n){return U(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=r)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return l(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(V(o,Uint8Array))i+o.length>n.length?u.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(n,i),c=t.slice(e,r),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return x(this,t,e,r);case"ascii":case"latin1":case"binary":return T(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=W[t[o]];return i}function M(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function k(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return k(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return k(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:u.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var F=/[^+/0-9A-Za-z-_]/g;function B(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function z(t){return t!=t}var W=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},(t,e,r)=>{"use strict";var n=r(248),i={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return i;for(var e=0;e<t.args.length;++e){var r=t.args[e];t.args[e]=0===e?{name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function s(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return n({args:t.args,pre:o(t.pre),body:o(t.body),post:o(t.proc),funcName:t.funcName})}(t))}var a={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in a){var r=a[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var r=u[t];e[t]=s({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in l){var r=l[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<c.length;++t){var r=c[t];e[r]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),e[r+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var r=h[t];e[r]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),e[r+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),e[r+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),e[r+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var f=["atan2","pow"];!function(){for(var t=0;t<f.length;++t){var r=f[t];e[r+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),e[r+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),e[r+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),e[r+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),e.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},(t,e,r)=>{"use strict";var n=r(239),i=r(442),o=r(438);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||l(t),"number"==typeof arguments[1])return m(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=c(e)?e:e.raw;if(r)return _(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return y(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var s=null,a=null,u=null;function l(t){s=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],a=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],u=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function c(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var h=function(t,e){i.muls(t,e,255)};function f(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function d(t,e,r,n,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,a=[this._wrapS,this._wrapT];Object.defineProperties(a,[{get:function(){return s._wrapS},set:function(t){return s.wrapS=t}},{get:function(){return s._wrapT},set:function(t){return s.wrapT=t}}]),this._wrapVector=a;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return s._shape[0]},set:function(t){return s.width=t}},{get:function(){return s._shape[1]},set:function(t){return s.height=t}}]),this._shapeVector=u}var p=d.prototype;function g(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function v(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function m(t,e,r,n,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=v(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new d(t,s,e,r,n,i)}function _(t,e,r,n,i,o){var s=v(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,e),new d(t,s,r,n,i,o)}function y(t,e){var r=e.dtype,s=e.shape.slice(),a=t.getParameter(t.MAX_TEXTURE_SIZE);if(s[0]<0||s[0]>a||s[1]<0||s[1]>a)throw new Error("gl-texture2d: Invalid texture size");var u=g(s,e.stride.slice()),l=0;"float32"===r?l=t.FLOAT:"float64"===r?(l=t.FLOAT,u=!1,r="float32"):"uint8"===r?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,u=!1,r="uint8");var c,f,p=0;if(2===s.length)p=t.LUMINANCE,s=[s[0],s[1],1],e=n(e.data,s,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==s.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===s[2])p=t.ALPHA;else if(2===s[2])p=t.LUMINANCE_ALPHA;else if(3===s[2])p=t.RGB;else{if(4!==s[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=t.RGBA}}l!==t.FLOAT||t.getExtension("OES_texture_float")||(l=t.UNSIGNED_BYTE,u=!1);var m=e.size;if(u)c=0===e.offset&&e.data.length===m?e.data:e.data.subarray(e.offset,e.offset+m);else{var _=[s[2],s[2]*s[0],1];f=o.malloc(m,r);var y=n(f,s,_,0);"float32"!==r&&"float64"!==r||l!==t.UNSIGNED_BYTE?i.assign(y,e):h(y,e),c=f.subarray(0,m)}var b=v(t);return t.texImage2D(t.TEXTURE_2D,0,p,s[0],s[1],0,p,l,c),u||o.free(f),new d(t,b,s[0],s[1],p,l)}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&s.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),a.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&s.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),a.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(u.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return f(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return f(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,f(this,this._shape[0],t),t}}}),p.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},p.setPixels=function(t,e,r,s){var a=this.gl;this.bind(),Array.isArray(e)?(s=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),s=s||0;var u=c(t)?t:t.raw;if(u)this._mipLevels.indexOf(s)<0?(a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,this.type,u),this._mipLevels.push(s)):a.texSubImage2D(a.TEXTURE_2D,s,e,r,this.format,this.type,u);else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>s||r+t.shape[0]>this._shape[0]>>>s||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,r,s,a,u,l,c){var f=c.dtype,d=c.shape.slice();if(d.length<2||d.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,v=0,m=g(d,c.stride.slice());if("float32"===f?p=t.FLOAT:"float64"===f?(p=t.FLOAT,m=!1,f="float32"):"uint8"===f?p=t.UNSIGNED_BYTE:(p=t.UNSIGNED_BYTE,m=!1,f="uint8"),2===d.length)v=t.LUMINANCE,d=[d[0],d[1],1],c=n(c.data,d,[c.stride[0],c.stride[1],1],c.offset);else{if(3!==d.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===d[2])v=t.ALPHA;else if(2===d[2])v=t.LUMINANCE_ALPHA;else if(3===d[2])v=t.RGB;else{if(4!==d[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");v=t.RGBA}d[2]}if(v!==t.LUMINANCE&&v!==t.ALPHA||a!==t.LUMINANCE&&a!==t.ALPHA||(v=a),v!==a)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var _=c.size,y=l.indexOf(s)<0;if(y&&l.push(s),p===u&&m)0===c.offset&&c.data.length===_?y?t.texImage2D(t.TEXTURE_2D,s,a,d[0],d[1],0,a,u,c.data):t.texSubImage2D(t.TEXTURE_2D,s,e,r,d[0],d[1],a,u,c.data):y?t.texImage2D(t.TEXTURE_2D,s,a,d[0],d[1],0,a,u,c.data.subarray(c.offset,c.offset+_)):t.texSubImage2D(t.TEXTURE_2D,s,e,r,d[0],d[1],a,u,c.data.subarray(c.offset,c.offset+_));else{var b;b=u===t.FLOAT?o.mallocFloat32(_):o.mallocUint8(_);var x=n(b,d,[d[2],d[2]*d[0],1]);p===t.FLOAT&&u===t.UNSIGNED_BYTE?h(x,c):i.assign(x,c),y?t.texImage2D(t.TEXTURE_2D,s,a,d[0],d[1],0,a,u,b.subarray(0,_)):t.texSubImage2D(t.TEXTURE_2D,s,e,r,d[0],d[1],a,u,b.subarray(0,_)),u===t.FLOAT?o.freeFloat32(b):o.freeUint8(b)}}(a,e,r,s,this.format,this.type,this._mipLevels,t)}}},(t,e,r)=>{"use strict";const n=r(445),i=r(291),o=r(448),s=r(449),a=r(450),u=r(451),l=r(452),c=r(453),h=r(454),f=r(455),d=r(456),p=r(457),g=r(458),v=r(459),m=r(460),_=r(461),y=r(462),b=r(463),x=r(464),T=r(465),E=r(466),w=r(467),A=r(468),S=r(469),I=r(470),C=[s,a,u,c,l,h,d,f,p,_,g,m,w,v,y,b,T,x,S,A,r(471),I,r(472),E],O={getShaderByName(t){let e=this.getFromArr(t,C);return e||(e=this.getFromArr(t,o)),e||"random"!=t.toLowerCase()||(e=this.getRandomShader()),e||(e=this.getFromArr("fade",o)),e},getFromArr(t,e){let r;return i(e,(e=>{e.name.toLowerCase()==t.toLowerCase()&&(r=e)})),r},getRandomShader:()=>n(o)};t.exports=O},(t,e,r)=>{var n=r(446),i=r(447),o=r(302);t.exports=function(t){return(o(t)?n:i)(t)}},(t,e,r)=>{var n=r(406);t.exports=function(t){var e=t.length;return e?t[n(0,e-1)]:void 0}},(t,e,r)=>{var n=r(446),i=r(408);t.exports=function(t){return n(i(t))}},t=>{t.exports=[{name:"Bounce",paramsTypes:{shadow_colour:"vec4",shadow_height:"float",bounces:"float"},defaultParams:{shadow_colour:[0,0,0,.6],shadow_height:.075,bounces:3},glsl:"// Author: Adrian Purser\n// License: MIT\n\nuniform vec4 shadow_colour; // = vec4(0.,0.,0.,.6)\nuniform float shadow_height; // = 0.075\nuniform float bounces; // = 3.0\n\nconst float PI = 3.14159265358;\n\nvec4 transition (vec2 uv) {\n  float time = progress;\n  float stime = sin(time * PI / 2.);\n  float phase = time * PI * bounces;\n  float y = (abs(cos(phase))) * (1.0 - stime);\n  float d = uv.y - y;\n  return mix(\n    mix(\n      getToColor(uv),\n      shadow_colour,\n      step(d, shadow_height) * (1. - mix(\n        ((d / shadow_height) * shadow_colour.a) + (1.0 - shadow_colour.a),\n        1.0,\n        smoothstep(0.95, 1., progress) // fade-out the shadow at the end\n      ))\n    ),\n    getFromColor(vec2(uv.x, uv.y + (1.0 - y))),\n    step(d, 0.0)\n  );\n}\n",author:"Adrian Purser",license:"MIT",createdAt:"Fri, 10 Nov 2017 17:01:45 +0000",updatedAt:"Sat, 11 Nov 2017 08:50:40 +0100"},{name:"BowTieHorizontal",paramsTypes:{},defaultParams:{},glsl:"// Author: huynx\n// License: MIT\n\nvec2 bottom_left = vec2(0.0, 1.0);\nvec2 bottom_right = vec2(1.0, 1.0);\nvec2 top_left = vec2(0.0, 0.0);\nvec2 top_right = vec2(1.0, 0.0);\nvec2 center = vec2(0.5, 0.5);\n\nfloat check(vec2 p1, vec2 p2, vec2 p3)\n{\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\n}\n\nbool PointInTriangle (vec2 pt, vec2 p1, vec2 p2, vec2 p3)\n{\n    bool b1, b2, b3;\n    b1 = check(pt, p1, p2) < 0.0;\n    b2 = check(pt, p2, p3) < 0.0;\n    b3 = check(pt, p3, p1) < 0.0;\n    return ((b1 == b2) && (b2 == b3));\n}\n\nbool in_left_triangle(vec2 p){\n  vec2 vertex1, vertex2, vertex3;\n  vertex1 = vec2(progress, 0.5);\n  vertex2 = vec2(0.0, 0.5-progress);\n  vertex3 = vec2(0.0, 0.5+progress);\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\n  {\n    return true;\n  }\n  return false;\n}\n\nbool in_right_triangle(vec2 p){\n  vec2 vertex1, vertex2, vertex3;\n  vertex1 = vec2(1.0-progress, 0.5);\n  vertex2 = vec2(1.0, 0.5-progress);\n  vertex3 = vec2(1.0, 0.5+progress);\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\n  {\n    return true;\n  }\n  return false;\n}\n\nfloat blur_edge(vec2 bot1, vec2 bot2, vec2 top, vec2 testPt)\n{\n  vec2 lineDir = bot1 - top;\n  vec2 perpDir = vec2(lineDir.y, -lineDir.x);\n  vec2 dirToPt1 = bot1 - testPt;\n  float dist1 = abs(dot(normalize(perpDir), dirToPt1));\n  \n  lineDir = bot2 - top;\n  perpDir = vec2(lineDir.y, -lineDir.x);\n  dirToPt1 = bot2 - testPt;\n  float min_dist = min(abs(dot(normalize(perpDir), dirToPt1)), dist1);\n  \n  if (min_dist < 0.005) {\n    return min_dist / 0.005;\n  }\n  else  {\n    return 1.0;\n  };\n}\n\n\nvec4 transition (vec2 uv) {\n  if (in_left_triangle(uv))\n  {\n    if (progress < 0.1)\n    {\n      return getFromColor(uv);\n    }\n    if (uv.x < 0.5)\n    {\n      vec2 vertex1 = vec2(progress, 0.5);\n      vec2 vertex2 = vec2(0.0, 0.5-progress);\n      vec2 vertex3 = vec2(0.0, 0.5+progress);\n      return mix(\n        getFromColor(uv),\n        getToColor(uv),\n        blur_edge(vertex2, vertex3, vertex1, uv)\n      );\n    }\n    else\n    {\n      if (progress > 0.0)\n      {\n        return getToColor(uv);\n      }\n      else\n      {\n        return getFromColor(uv);\n      }\n    }    \n  }\n  else if (in_right_triangle(uv))\n  {\n    if (uv.x >= 0.5)\n    {\n      vec2 vertex1 = vec2(1.0-progress, 0.5);\n      vec2 vertex2 = vec2(1.0, 0.5-progress);\n      vec2 vertex3 = vec2(1.0, 0.5+progress);\n      return mix(\n        getFromColor(uv),\n        getToColor(uv),\n        blur_edge(vertex2, vertex3, vertex1, uv)\n      );  \n    }\n    else\n    {\n      return getFromColor(uv);\n    }\n  }\n  else {\n    return getFromColor(uv);\n  }\n}",author:"huynx",license:"MIT",createdAt:"Sat, 24 Mar 2018 12:54:26 +0100",updatedAt:"Sat, 24 Mar 2018 12:54:26 +0100"},{name:"BowTieVertical",paramsTypes:{},defaultParams:{},glsl:"// Author: huynx\r\n// License: MIT\r\n\r\nfloat check(vec2 p1, vec2 p2, vec2 p3)\r\n{\r\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\r\n}\r\n\r\nbool PointInTriangle (vec2 pt, vec2 p1, vec2 p2, vec2 p3)\r\n{\r\n    bool b1, b2, b3;\r\n    b1 = check(pt, p1, p2) < 0.0;\r\n    b2 = check(pt, p2, p3) < 0.0;\r\n    b3 = check(pt, p3, p1) < 0.0;\r\n    return ((b1 == b2) && (b2 == b3));\r\n}\r\n\r\nbool in_top_triangle(vec2 p){\r\n  vec2 vertex1, vertex2, vertex3;\r\n  vertex1 = vec2(0.5, progress);\r\n  vertex2 = vec2(0.5-progress, 0.0);\r\n  vertex3 = vec2(0.5+progress, 0.0);\r\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\r\n  {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nbool in_bottom_triangle(vec2 p){\r\n  vec2 vertex1, vertex2, vertex3;\r\n  vertex1 = vec2(0.5, 1.0 - progress);\r\n  vertex2 = vec2(0.5-progress, 1.0);\r\n  vertex3 = vec2(0.5+progress, 1.0);\r\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\r\n  {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfloat blur_edge(vec2 bot1, vec2 bot2, vec2 top, vec2 testPt)\r\n{\r\n  vec2 lineDir = bot1 - top;\r\n  vec2 perpDir = vec2(lineDir.y, -lineDir.x);\r\n  vec2 dirToPt1 = bot1 - testPt;\r\n  float dist1 = abs(dot(normalize(perpDir), dirToPt1));\r\n  \r\n  lineDir = bot2 - top;\r\n  perpDir = vec2(lineDir.y, -lineDir.x);\r\n  dirToPt1 = bot2 - testPt;\r\n  float min_dist = min(abs(dot(normalize(perpDir), dirToPt1)), dist1);\r\n  \r\n  if (min_dist < 0.005) {\r\n    return min_dist / 0.005;\r\n  }\r\n  else  {\r\n    return 1.0;\r\n  };\r\n}\r\n\r\n\r\nvec4 transition (vec2 uv) {\r\n  if (in_top_triangle(uv))\r\n  {\r\n    if (progress < 0.1)\r\n    {\r\n      return getFromColor(uv);\r\n    }\r\n    if (uv.y < 0.5)\r\n    {\r\n      vec2 vertex1 = vec2(0.5, progress);\r\n      vec2 vertex2 = vec2(0.5-progress, 0.0);\r\n      vec2 vertex3 = vec2(0.5+progress, 0.0);\r\n      return mix(\r\n        getFromColor(uv),\r\n        getToColor(uv),\r\n        blur_edge(vertex2, vertex3, vertex1, uv)\r\n      );\r\n    }\r\n    else\r\n    {\r\n      if (progress > 0.0)\r\n      {\r\n        return getToColor(uv);\r\n      }\r\n      else\r\n      {\r\n        return getFromColor(uv);\r\n      }\r\n    }    \r\n  }\r\n  else if (in_bottom_triangle(uv))\r\n  {\r\n    if (uv.y >= 0.5)\r\n    {\r\n      vec2 vertex1 = vec2(0.5, 1.0-progress);\r\n      vec2 vertex2 = vec2(0.5-progress, 1.0);\r\n      vec2 vertex3 = vec2(0.5+progress, 1.0);\r\n      return mix(\r\n        getFromColor(uv),\r\n        getToColor(uv),\r\n        blur_edge(vertex2, vertex3, vertex1, uv)\r\n      );  \r\n    }\r\n    else\r\n    {\r\n      return getFromColor(uv);\r\n    }\r\n  }\r\n  else {\r\n    return getFromColor(uv);\r\n  }\r\n}",author:"huynx",license:"MIT",createdAt:"Tue, 27 Mar 2018 10:07:54 +0700",updatedAt:"Tue, 27 Mar 2018 10:07:54 +0700"},{name:"ButterflyWaveScrawler",paramsTypes:{amplitude:"float",waves:"float",colorSeparation:"float"},defaultParams:{amplitude:1,waves:30,colorSeparation:.3},glsl:"// Author: mandubian\n// License: MIT\nuniform float amplitude; // = 1.0\nuniform float waves; // = 30.0\nuniform float colorSeparation; // = 0.3\nfloat PI = 3.14159265358979323846264;\nfloat compute(vec2 p, float progress, vec2 center) {\nvec2 o = p*sin(progress * amplitude)-center;\n// horizontal vector\nvec2 h = vec2(1., 0.);\n// butterfly polar function (don't ask me why this one :))\nfloat theta = acos(dot(o, h)) * waves;\nreturn (exp(cos(theta)) - 2.*cos(4.*theta) + pow(sin((2.*theta - PI) / 24.), 5.)) / 10.;\n}\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  float inv = 1. - progress;\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n  float disp = compute(p, progress, vec2(0.5, 0.5)) ;\n  vec4 texTo = getToColor(p + inv*disp);\n  vec4 texFrom = vec4(\n  getFromColor(p + progress*disp*(1.0 - colorSeparation)).r,\n  getFromColor(p + progress*disp).g,\n  getFromColor(p + progress*disp*(1.0 + colorSeparation)).b,\n  1.0);\n  return texTo*progress + texFrom*inv;\n}\n",author:"mandubian",license:"MIT",createdAt:"Thu, 1 Jun 2017 11:47:17 +0200",updatedAt:"Thu, 1 Jun 2017 11:47:17 +0200"},{name:"CircleCrop",paramsTypes:{bgcolor:"vec4"},defaultParams:{bgcolor:[0,0,0,1]},glsl:"// License: MIT\n// Author: fkuteken\n// ported by gre from https://gist.github.com/fkuteken/f63e3009c1143950dee9063c3b83fb88\n\nuniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\n\nvec2 ratio2 = vec2(1.0, 1.0 / ratio);\nfloat s = pow(2.0 * abs(progress - 0.5), 3.0);\n\nvec4 transition(vec2 p) {\n  float dist = length((vec2(p) - 0.5) * ratio2);\n  return mix(\n    progress < 0.5 ? getFromColor(p) : getToColor(p), // branching is ok here as we statically depend on progress uniform (branching won't change over pixels)\n    bgcolor,\n    step(s, dist)\n  );\n}\n",license:"MIT",author:"fkuteken",createdAt:"Mon, 12 Jun 2017 12:52:34 +0800",updatedAt:"Mon, 12 Jun 2017 12:52:34 +0800"},{name:"ColourDistance",paramsTypes:{power:"float"},defaultParams:{power:5},glsl:"// License: MIT\n// Author: P-Seebauer\n// ported by gre from https://gist.github.com/P-Seebauer/2a5fa2f77c883dd661f9\n\nuniform float power; // = 5.0\n\nvec4 transition(vec2 p) {\n  vec4 fTex = getFromColor(p);\n  vec4 tTex = getToColor(p);\n  float m = step(distance(fTex, tTex), progress);\n  return mix(\n    mix(fTex, tTex, m),\n    tTex,\n    pow(progress, power)\n  );\n}\n",license:"MIT",author:"P-Seebauer",createdAt:"Mon, 12 Jun 2017 12:57:42 +0800",updatedAt:"Mon, 12 Jun 2017 12:57:42 +0800"},{name:"CrazyParametricFun",paramsTypes:{a:"float",b:"float",amplitude:"float",smoothness:"float"},defaultParams:{a:4,b:1,amplitude:120,smoothness:.1},glsl:"// Author: mandubian\n// License: MIT\n\nuniform float a; // = 4\nuniform float b; // = 1\nuniform float amplitude; // = 120\nuniform float smoothness; // = 0.1\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n  float x = (a - b) * cos(progress) + b * cos(progress * ((a / b) - 1.) );\n  float y = (a - b) * sin(progress) - b * sin(progress * ((a / b) - 1.));\n  vec2 offset = dir * vec2(sin(progress  * dist * amplitude * x), sin(progress * dist * amplitude * y)) / smoothness;\n  return mix(getFromColor(p + offset), getToColor(p), smoothstep(0.2, 1.0, progress));\n}\n",author:"mandubian",license:"MIT",createdAt:"Thu, 1 Jun 2017 13:03:12 +0200",updatedAt:"Thu, 1 Jun 2017 13:03:12 +0200"},{name:"CrossZoom",paramsTypes:{strength:"float"},defaultParams:{strength:.4},glsl:"// License: MIT\n// Author: rectalogic\n// ported by gre from https://gist.github.com/rectalogic/b86b90161503a0023231\n\n// Converted from https://github.com/rectalogic/rendermix-basic-effects/blob/master/assets/com/rendermix/CrossZoom/CrossZoom.frag\n// Which is based on https://github.com/evanw/glfx.js/blob/master/src/filters/blur/zoomblur.js\n// With additional easing functions from https://github.com/rectalogic/rendermix-basic-effects/blob/master/assets/com/rendermix/Easing/Easing.glsllib\n\nuniform float strength; // = 0.4\n\nconst float PI = 3.141592653589793;\n\nfloat Linear_ease(in float begin, in float change, in float duration, in float time) {\n    return change * time / duration + begin;\n}\n\nfloat Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n    if (time == 0.0)\n        return begin;\n    else if (time == duration)\n        return begin + change;\n    time = time / (duration / 2.0);\n    if (time < 1.0)\n        return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n    return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n}\n\nfloat Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n    return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n}\n\nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 crossFade(in vec2 uv, in float dissolve) {\n    return mix(getFromColor(uv).rgb, getToColor(uv).rgb, dissolve);\n}\n\nvec4 transition(vec2 uv) {\n    vec2 texCoord = uv.xy / vec2(1.0).xy;\n\n    // Linear interpolate center across center half of the image\n    vec2 center = vec2(Linear_ease(0.25, 0.5, 1.0, progress), 0.5);\n    float dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n\n    // Mirrored sinusoidal loop. 0->strength then strength->0\n    float strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n\n    vec3 color = vec3(0.0);\n    float total = 0.0;\n    vec2 toCenter = center - texCoord;\n\n    /* randomize the lookup values to hide the fixed number of samples */\n    float offset = rand(uv);\n\n    for (float t = 0.0; t <= 40.0; t++) {\n        float percent = (t + offset) / 40.0;\n        float weight = 4.0 * (percent - percent * percent);\n        color += crossFade(texCoord + toCenter * percent * strength, dissolve) * weight;\n        total += weight;\n    }\n    return vec4(color / total, 1.0);\n}\n",license:"MIT",author:"rectalogic",createdAt:"Mon, 12 Jun 2017 12:33:07 +0800",updatedAt:"Mon, 12 Jun 2017 12:33:07 +0800"},{name:"Directional",paramsTypes:{direction:"vec2"},defaultParams:{direction:[0,1]},glsl:"// Author: Gatan Renaudeau\n// License: MIT\n\nuniform vec2 direction; // = vec2(0.0, 1.0)\n\nvec4 transition (vec2 uv) {\n  vec2 p = uv + progress * sign(direction);\n  vec2 f = fract(p);\n  return mix(\n    getToColor(f),\n    getFromColor(f),\n    step(0.0, p.y) * step(p.y, 1.0) * step(0.0, p.x) * step(p.x, 1.0)\n  );\n}\n",author:"Gatan Renaudeau",license:"MIT",createdAt:"Thu, 19 Apr 2018 12:20:29 +0200",updatedAt:"Thu, 19 Apr 2018 12:20:29 +0200"},{name:"DoomScreenTransition",paramsTypes:{bars:"int",amplitude:"float",noise:"float",frequency:"float",dripScale:"float"},defaultParams:{bars:30,amplitude:2,noise:.1,frequency:.5,dripScale:.5},glsl:'// Author: Zeh Fernando\n// License: MIT\n\n\n// Transition parameters --------\n\n// Number of total bars/columns\nuniform int bars; // = 30\n\n// Multiplier for speed ratio. 0 = no variation when going down, higher = some elements go much faster\nuniform float amplitude; // = 2\n\n// Further variations in speed. 0 = no noise, 1 = super noisy (ignore frequency)\nuniform float noise; // = 0.1\n\n// Speed variation horizontally. the bigger the value, the shorter the waves\nuniform float frequency; // = 0.5\n\n// How much the bars seem to "run" from the middle of the screen first (sticking to the sides). 0 = no drip, 1 = curved drip\nuniform float dripScale; // = 0.5\n\n\n// The code proper --------\n\nfloat rand(int num) {\n  return fract(mod(float(num) * 67123.313, 12.0) * sin(float(num) * 10.3) * cos(float(num)));\n}\n\nfloat wave(int num) {\n  float fn = float(num) * frequency * 0.1 * float(bars);\n  return cos(fn * 0.5) * cos(fn * 0.13) * sin((fn+10.0) * 0.3) / 2.0 + 0.5;\n}\n\nfloat drip(int num) {\n  return sin(float(num) / float(bars - 1) * 3.141592) * dripScale;\n}\n\nfloat pos(int num) {\n  return (noise == 0.0 ? wave(num) : mix(wave(num), rand(num), noise)) + (dripScale == 0.0 ? 0.0 : drip(num));\n}\n\nvec4 transition(vec2 uv) {\n  int bar = int(uv.x * (float(bars)));\n  float scale = 1.0 + pos(bar) * amplitude;\n  float phase = progress * scale;\n  float posY = uv.y / vec2(1.0).y;\n  vec2 p;\n  vec4 c;\n  if (phase + posY < 1.0) {\n    p = vec2(uv.x, uv.y + mix(0.0, vec2(1.0).y, phase)) / vec2(1.0).xy;\n    c = getFromColor(p);\n  } else {\n    p = uv.xy / vec2(1.0).xy;\n    c = getToColor(p);\n  }\n\n  // Finally, apply the color\n  return c;\n}\n',author:"Zeh Fernando",license:"MIT",createdAt:"Tue, 30 May 2017 09:39:09 -0700",updatedAt:"Tue, 30 May 2017 09:39:09 -0700"},{name:"Dreamy",paramsTypes:{},defaultParams:{},glsl:"// Author: mikolalysenko\n// License: MIT\n\nvec2 offset(float progress, float x, float theta) {\n  float phase = progress*progress + progress + theta;\n  float shifty = 0.03*progress*cos(10.0*(progress+x));\n  return vec2(0, shifty);\n}\nvec4 transition(vec2 p) {\n  return mix(getFromColor(p + offset(progress, p.x, 0.0)), getToColor(p + offset(1.0-progress, p.x, 3.14)), progress);\n}\n",author:"mikolalysenko",license:"MIT",createdAt:"Mon, 12 Jun 2017 12:27:38 +0800",updatedAt:"Mon, 12 Jun 2017 12:27:38 +0800"},{name:"DreamyZoom",paramsTypes:{rotation:"float",scale:"float"},defaultParams:{rotation:6,scale:1.2},glsl:"// Author: Zeh Fernando\n// License: MIT\n\n// Definitions --------\n#define DEG2RAD 0.03926990816987241548078304229099 // 1/180*PI\n\n\n// Transition parameters --------\n\n// In degrees\nuniform float rotation; // = 6\n\n// Multiplier\nuniform float scale; // = 1.2\n\n\n// The code proper --------\n\nvec4 transition(vec2 uv) {\n  // Massage parameters\n  float phase = progress < 0.5 ? progress * 2.0 : (progress - 0.5) * 2.0;\n  float angleOffset = progress < 0.5 ? mix(0.0, rotation * DEG2RAD, phase) : mix(-rotation * DEG2RAD, 0.0, phase);\n  float newScale = progress < 0.5 ? mix(1.0, scale, phase) : mix(scale, 1.0, phase);\n  \n  vec2 center = vec2(0, 0);\n\n  // Calculate the source point\n  vec2 assumedCenter = vec2(0.5, 0.5);\n  vec2 p = (uv.xy - vec2(0.5, 0.5)) / newScale * vec2(ratio, 1.0);\n\n  // This can probably be optimized (with distance())\n  float angle = atan(p.y, p.x) + angleOffset;\n  float dist = distance(center, p);\n  p.x = cos(angle) * dist / ratio + 0.5;\n  p.y = sin(angle) * dist + 0.5;\n  vec4 c = progress < 0.5 ? getFromColor(p) : getToColor(p);\n\n  // Finally, apply the color\n  return c + (progress < 0.5 ? mix(0.0, 1.0, phase) : mix(1.0, 0.0, phase));\n}\n",author:"Zeh Fernando",license:"MIT",createdAt:"Tue, 30 May 2017 10:44:06 -0700",updatedAt:"Tue, 30 May 2017 10:44:06 -0700"},{name:"GlitchDisplace",paramsTypes:{},defaultParams:{},glsl:"// Author: Matt DesLauriers\n// License: MIT\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\nfloat voronoi( in vec2 x ) {\n    vec2 p = floor( x );\n    vec2 f = fract( x );\n    float res = 8.0;\n    for( float j=-1.; j<=1.; j++ )\n    for( float i=-1.; i<=1.; i++ ) {\n        vec2  b = vec2( i, j );\n        vec2  r = b - f + random( p + b );\n        float d = dot( r, r );\n        res = min( res, d );\n    }\n    return sqrt( res );\n}\n\nvec2 displace(vec4 tex, vec2 texCoord, float dotDepth, float textureDepth, float strength) {\n    float b = voronoi(.003 * texCoord + 2.0);\n    float g = voronoi(0.2 * texCoord);\n    float r = voronoi(texCoord - 1.0);\n    vec4 dt = tex * 1.0;\n    vec4 dis = dt * dotDepth + 1.0 - tex * textureDepth;\n\n    dis.x = dis.x - 1.0 + textureDepth*dotDepth;\n    dis.y = dis.y - 1.0 + textureDepth*dotDepth;\n    dis.x *= strength;\n    dis.y *= strength;\n    vec2 res_uv = texCoord ;\n    res_uv.x = res_uv.x + dis.x - 0.0;\n    res_uv.y = res_uv.y + dis.y;\n    return res_uv;\n}\n\nfloat ease1(float t) {\n  return t == 0.0 || t == 1.0\n    ? t\n    : t < 0.5\n      ? +0.5 * pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * pow(2.0, 10.0 - (t * 20.0)) + 1.0;\n}\nfloat ease2(float t) {\n  return t == 1.0 ? t : 1.0 - pow(2.0, -10.0 * t);\n}\n\n\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec4 color1 = getFromColor(p);\n  vec4 color2 = getToColor(p);\n  vec2 disp = displace(color1, p, 0.33, 0.7, 1.0-ease1(progress));\n  vec2 disp2 = displace(color2, p, 0.33, 0.5, ease2(progress));\n  vec4 dColor1 = getToColor(disp);\n  vec4 dColor2 = getFromColor(disp2);\n  float val = ease1(progress);\n  vec3 gray = vec3(dot(min(dColor2, dColor1).rgb, vec3(0.299, 0.587, 0.114)));\n  dColor2 = vec4(gray, 1.0);\n  dColor2 *= 2.0;\n  color1 = mix(color1, dColor2, smoothstep(0.0, 0.5, progress));\n  color2 = mix(color2, dColor1, smoothstep(1.0, 0.5, progress));\n  return mix(color1, color2, val);\n  //gl_FragColor = mix(gl_FragColor, dColor, smoothstep(0.0, 0.5, progress));\n  \n   //gl_FragColor = mix(texture2D(from, p), texture2D(to, p), progress);\n}\n",author:"Matt DesLauriers",license:"MIT",createdAt:"Tue, 30 May 2017 14:53:04 -0400",updatedAt:"Tue, 30 May 2017 14:53:04 -0400"},{name:"GlitchMemories",paramsTypes:{},defaultParams:{},glsl:"// author: Gunnar Roth\n// based on work from natewave\n// license: MIT\nvec4 transition(vec2 p) {\n  vec2 block = floor(p.xy / vec2(16));\n  vec2 uv_noise = block / vec2(64);\n  uv_noise += floor(vec2(progress) * vec2(1200.0, 3500.0)) / vec2(64);\n  vec2 dist = progress > 0.0 ? (fract(uv_noise) - 0.5) * 0.3 *(1.0 -progress) : vec2(0.0);\n  vec2 red = p + dist * 0.2;\n  vec2 green = p + dist * .3;\n  vec2 blue = p + dist * .5;\n\n  return vec4(mix(getFromColor(red), getToColor(red), progress).r,mix(getFromColor(green), getToColor(green), progress).g,mix(getFromColor(blue), getToColor(blue), progress).b,1.0);\n}\n\n",author:"Gunnar Roth",license:"MIT",createdAt:"Wed, 21 Feb 2018 00:52:15 +0100",updatedAt:"Wed, 21 Feb 2018 19:32:02 +0100"},{name:"GridFlip",paramsTypes:{size:"ivec2",pause:"float",dividerWidth:"float",bgcolor:"vec4",randomness:"float"},defaultParams:{size:[4,4],pause:.1,dividerWidth:.05,bgcolor:[0,0,0,1],randomness:.1},glsl:"// License: MIT\n// Author: TimDonselaar\n// ported by gre from https://gist.github.com/TimDonselaar/9bcd1c4b5934ba60087bdb55c2ea92e5\n\nuniform ivec2 size; // = ivec2(4)\nuniform float pause; // = 0.1\nuniform float dividerWidth; // = 0.05\nuniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\nuniform float randomness; // = 0.1\n \nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat getDelta(vec2 p) {\n  vec2 rectanglePos = floor(vec2(size) * p);\n  vec2 rectangleSize = vec2(1.0 / vec2(size).x, 1.0 / vec2(size).y);\n  float top = rectangleSize.y * (rectanglePos.y + 1.0);\n  float bottom = rectangleSize.y * rectanglePos.y;\n  float left = rectangleSize.x * rectanglePos.x;\n  float right = rectangleSize.x * (rectanglePos.x + 1.0);\n  float minX = min(abs(p.x - left), abs(p.x - right));\n  float minY = min(abs(p.y - top), abs(p.y - bottom));\n  return min(minX, minY);\n}\n\nfloat getDividerSize() {\n  vec2 rectangleSize = vec2(1.0 / vec2(size).x, 1.0 / vec2(size).y);\n  return min(rectangleSize.x, rectangleSize.y) * dividerWidth;\n}\n\nvec4 transition(vec2 p) {\n  if(progress < pause) {\n    float currentProg = progress / pause;\n    float a = 1.0;\n    if(getDelta(p) < getDividerSize()) {\n      a = 1.0 - currentProg;\n    }\n    return mix(bgcolor, getFromColor(p), a);\n  }\n  else if(progress < 1.0 - pause){\n    if(getDelta(p) < getDividerSize()) {\n      return bgcolor;\n    } else {\n      float currentProg = (progress - pause) / (1.0 - pause * 2.0);\n      vec2 q = p;\n      vec2 rectanglePos = floor(vec2(size) * q);\n      \n      float r = rand(rectanglePos) - randomness;\n      float cp = smoothstep(0.0, 1.0 - r, currentProg);\n    \n      float rectangleSize = 1.0 / vec2(size).x;\n      float delta = rectanglePos.x * rectangleSize;\n      float offset = rectangleSize / 2.0 + delta;\n      \n      p.x = (p.x - offset)/abs(cp - 0.5)*0.5 + offset;\n      vec4 a = getFromColor(p);\n      vec4 b = getToColor(p);\n      \n      float s = step(abs(vec2(size).x * (q.x - delta) - 0.5), abs(cp - 0.5));\n      return mix(bgcolor, mix(b, a, step(cp, 0.5)), s);\n    }\n  }\n  else {\n    float currentProg = (progress - 1.0 + pause) / pause;\n    float a = 1.0;\n    if(getDelta(p) < getDividerSize()) {\n      a = currentProg;\n    }\n    return mix(bgcolor, getToColor(p), a);\n  }\n}\n",license:"MIT",author:"TimDonselaar",createdAt:"Mon, 12 Jun 2017 11:32:51 +0800",updatedAt:"Mon, 12 Jun 2017 11:32:51 +0800"},{name:"InvertedPageCurl",paramsTypes:{},defaultParams:{},glsl:'// author: Hewlett-Packard\n// license: BSD 3 Clause\n// Adapted by Sergey Kosarevsky from:\n// http://rectalogic.github.io/webvfx/examples_2transition-shader-pagecurl_8html-example.html\n\n/*\nCopyright (c) 2010 Hewlett-Packard Development Company, L.P. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n   * Redistributions of source code must retain the above copyright\n     notice, this list of conditions and the following disclaimer.\n   * Redistributions in binary form must reproduce the above\n     copyright notice, this list of conditions and the following disclaimer\n     in the documentation and/or other materials provided with the\n     distribution.\n   * Neither the name of Hewlett-Packard nor the names of its\n     contributors may be used to endorse or promote products derived from\n     this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nin vec2 texCoord;\n*/\n\nconst float MIN_AMOUNT = -0.16;\nconst float MAX_AMOUNT = 1.5;\nfloat amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n\nconst float PI = 3.141592653589793;\n\nconst float scale = 512.0;\nconst float sharpness = 3.0;\n\nfloat cylinderCenter = amount;\n// 360 degrees * amount\nfloat cylinderAngle = 2.0 * PI * amount;\n\nconst float cylinderRadius = 1.0 / PI / 2.0;\n\nvec3 hitPoint(float hitAngle, float yc, vec3 point, mat3 rrotation)\n{\n        float hitPoint = hitAngle / (2.0 * PI);\n        point.y = hitPoint;\n        return rrotation * point;\n}\n\nvec4 antiAlias(vec4 color1, vec4 color2, float distanc)\n{\n        distanc *= scale;\n        if (distanc < 0.0) return color2;\n        if (distanc > 2.0) return color1;\n        float dd = pow(1.0 - distanc / 2.0, sharpness);\n        return ((color2 - color1) * dd) + color1;\n}\n\nfloat distanceToEdge(vec3 point)\n{\n        float dx = abs(point.x > 0.5 ? 1.0 - point.x : point.x);\n        float dy = abs(point.y > 0.5 ? 1.0 - point.y : point.y);\n        if (point.x < 0.0) dx = -point.x;\n        if (point.x > 1.0) dx = point.x - 1.0;\n        if (point.y < 0.0) dy = -point.y;\n        if (point.y > 1.0) dy = point.y - 1.0;\n        if ((point.x < 0.0 || point.x > 1.0) && (point.y < 0.0 || point.y > 1.0)) return sqrt(dx * dx + dy * dy);\n        return min(dx, dy);\n}\n\nvec4 seeThrough(float yc, vec2 p, mat3 rotation, mat3 rrotation)\n{\n        float hitAngle = PI - (acos(yc / cylinderRadius) - cylinderAngle);\n        vec3 point = hitPoint(hitAngle, yc, rotation * vec3(p, 1.0), rrotation);\n        if (yc <= 0.0 && (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0))\n        {\n            return getToColor(p);\n        }\n\n        if (yc > 0.0) return getFromColor(p);\n\n        vec4 color = getFromColor(point.xy);\n        vec4 tcolor = vec4(0.0);\n\n        return antiAlias(color, tcolor, distanceToEdge(point));\n}\n\nvec4 seeThroughWithShadow(float yc, vec2 p, vec3 point, mat3 rotation, mat3 rrotation)\n{\n        float shadow = distanceToEdge(point) * 30.0;\n        shadow = (1.0 - shadow) / 3.0;\n\n        if (shadow < 0.0) shadow = 0.0; else shadow *= amount;\n\n        vec4 shadowColor = seeThrough(yc, p, rotation, rrotation);\n        shadowColor.r -= shadow;\n        shadowColor.g -= shadow;\n        shadowColor.b -= shadow;\n\n        return shadowColor;\n}\n\nvec4 backside(float yc, vec3 point)\n{\n        vec4 color = getFromColor(point.xy);\n        float gray = (color.r + color.b + color.g) / 15.0;\n        gray += (8.0 / 10.0) * (pow(1.0 - abs(yc / cylinderRadius), 2.0 / 10.0) / 2.0 + (5.0 / 10.0));\n        color.rgb = vec3(gray);\n        return color;\n}\n\nvec4 behindSurface(vec2 p, float yc, vec3 point, mat3 rrotation)\n{\n        float shado = (1.0 - ((-cylinderRadius - yc) / amount * 7.0)) / 6.0;\n        shado *= 1.0 - abs(point.x - 0.5);\n\n        yc = (-cylinderRadius - cylinderRadius - yc);\n\n        float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n        point = hitPoint(hitAngle, yc, point, rrotation);\n\n        if (yc < 0.0 && point.x >= 0.0 && point.y >= 0.0 && point.x <= 1.0 && point.y <= 1.0 && (hitAngle < PI || amount > 0.5))\n        {\n                shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / (71.0 / 100.0));\n                shado *= pow(-yc / cylinderRadius, 3.0);\n                shado *= 0.5;\n        }\n        else\n        {\n                shado = 0.0;\n        }\n        return vec4(getToColor(p).rgb - shado, 1.0);\n}\n\nvec4 transition(vec2 p) {\n\n  const float angle = 100.0 * PI / 180.0;\n        float c = cos(-angle);\n        float s = sin(-angle);\n\n        mat3 rotation = mat3( c, s, 0,\n                                                                -s, c, 0,\n                                                                -0.801, 0.8900, 1\n                                                                );\n        c = cos(angle);\n        s = sin(angle);\n\n        mat3 rrotation = mat3(\tc, s, 0,\n                                                                        -s, c, 0,\n                                                                        0.98500, 0.985, 1\n                                                                );\n\n        vec3 point = rotation * vec3(p, 1.0);\n\n        float yc = point.y - cylinderCenter;\n\n        if (yc < -cylinderRadius)\n        {\n                // Behind surface\n                return behindSurface(p,yc, point, rrotation);\n        }\n\n        if (yc > cylinderRadius)\n        {\n                // Flat surface\n                return getFromColor(p);\n        }\n\n        float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n\n        float hitAngleMod = mod(hitAngle, 2.0 * PI);\n        if ((hitAngleMod > PI && amount < 0.5) || (hitAngleMod > PI/2.0 && amount < 0.0))\n        {\n                return seeThrough(yc, p, rotation, rrotation);\n        }\n\n        point = hitPoint(hitAngle, yc, point, rrotation);\n\n        if (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0)\n        {\n                return seeThroughWithShadow(yc, p, point, rotation, rrotation);\n        }\n\n        vec4 color = backside(yc, point);\n\n        vec4 otherColor;\n        if (yc < 0.0)\n        {\n                float shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / 0.71);\n                shado *= pow(-yc / cylinderRadius, 3.0);\n                shado *= 0.5;\n                otherColor = vec4(0.0, 0.0, 0.0, shado);\n        }\n        else\n        {\n                otherColor = getFromColor(p);\n        }\n\n        color = antiAlias(color, otherColor, cylinderRadius - abs(yc));\n\n        vec4 cl = seeThroughWithShadow(yc, p, point, rotation, rrotation);\n        float dist = distanceToEdge(point);\n\n        return antiAlias(color, cl, dist);\n}\n',author:"Hewlett-Packard",license:"BSD 3 Clause",createdAt:"Wed, 21 Feb 2018 01:13:49 +0100",updatedAt:"Wed, 21 Feb 2018 16:00:02 +0100"},{name:"LinearBlur",paramsTypes:{intensity:"float"},defaultParams:{intensity:.1},glsl:"// author: gre\n// license: MIT\nuniform float intensity; // = 0.1\nconst int passes = 6;\n\nvec4 transition(vec2 uv) {\n    vec4 c1 = vec4(0.0);\n    vec4 c2 = vec4(0.0);\n\n    float disp = intensity*(0.5-distance(0.5, progress));\n    for (int xi=0; xi<passes; xi++)\n    {\n        float x = float(xi) / float(passes) - 0.5;\n        for (int yi=0; yi<passes; yi++)\n        {\n            float y = float(yi) / float(passes) - 0.5;\n            vec2 v = vec2(x,y);\n            float d = disp;\n            c1 += getFromColor( uv + d*v);\n            c2 += getToColor( uv + d*v);\n        }\n    }\n    c1 /= float(passes*passes);\n    c2 /= float(passes*passes);\n    return mix(c1, c2, progress);\n}\n",author:"gre",license:"MIT",createdAt:"Fri, 23 Feb 2018 15:18:22 +0100",updatedAt:"Fri, 23 Feb 2018 15:18:22 +0100"},{name:"Mosaic",paramsTypes:{endx:"int",endy:"int"},defaultParams:{endx:2,endy:-1},glsl:"// License: MIT\n// Author: Xaychru\n// ported by gre from https://gist.github.com/Xaychru/130bb7b7affedbda9df5\n\n#define PI 3.14159265358979323\n#define POW2(X) X*X\n#define POW3(X) X*X*X\nuniform int endx; // = 2\nuniform int endy; // = -1\n\nfloat Rand(vec2 v) {\n  return fract(sin(dot(v.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvec2 Rotate(vec2 v, float a) {\n  mat2 rm = mat2(cos(a), -sin(a),\n                 sin(a), cos(a));\n  return rm*v;\n}\nfloat CosInterpolation(float x) {\n  return -cos(x*PI)/2.+.5;\n}\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy - .5;\n  vec2 rp = p;\n  float rpr = (progress*2.-1.);\n  float z = -(rpr*rpr*2.) + 3.;\n  float az = abs(z);\n  rp *= az;\n  rp += mix(vec2(.5, .5), vec2(float(endx) + .5, float(endy) + .5), POW2(CosInterpolation(progress)));\n  vec2 mrp = mod(rp, 1.);\n  vec2 crp = rp;\n  bool onEnd = int(floor(crp.x))==endx&&int(floor(crp.y))==endy;\n  if(!onEnd) {\n    float ang = float(int(Rand(floor(crp))*4.))*.5*PI;\n    mrp = vec2(.5) + Rotate(mrp-vec2(.5), ang);\n  }\n  if(onEnd || Rand(floor(crp))>.5) {\n    return getToColor(mrp);\n  } else {\n    return getFromColor(mrp);\n  }\n}\n",license:"MIT",author:"Xaychru",createdAt:"Mon, 12 Jun 2017 10:26:51 +0800",updatedAt:"Mon, 12 Jun 2017 10:26:51 +0800"},{name:"PolkaDotsCurtain",paramsTypes:{dots:"float",center:"vec2"},defaultParams:{dots:20,center:[0,0]},glsl:"// author: bobylito\n// license: MIT\nconst float SQRT_2 = 1.414213562373;\nuniform float dots;// = 20.0;\nuniform vec2 center;// = vec2(0, 0);\n\nvec4 transition(vec2 uv) {\n  bool nextImage = distance(fract(uv * dots), vec2(0.5, 0.5)) < ( progress / distance(uv, center));\n  return nextImage ? getToColor(uv) : getFromColor(uv);\n}\n",author:"bobylito",license:"MIT",createdAt:"Tue, 20 Feb 2018 23:41:45 +0100",updatedAt:"Tue, 20 Feb 2018 23:41:45 +0100"},{name:"Radial",paramsTypes:{smoothness:"float"},defaultParams:{smoothness:1},glsl:"// License: MIT\n// Author: Xaychru\n// ported by gre from https://gist.github.com/Xaychru/ce1d48f0ce00bb379750\n\nuniform float smoothness; // = 1.0\n\nconst float PI = 3.141592653589;\n\nvec4 transition(vec2 p) {\n  vec2 rp = p*2.-1.;\n  return mix(\n    getToColor(p),\n    getFromColor(p),\n    smoothstep(0., smoothness, atan(rp.y,rp.x) - (progress-.5) * PI * 2.5)\n  );\n}\n",license:"MIT",author:"Xaychru",createdAt:"Mon, 12 Jun 2017 10:36:24 +0800",updatedAt:"Mon, 12 Jun 2017 10:36:24 +0800"},{name:"SimpleZoom",paramsTypes:{zoom_quickness:"float"},defaultParams:{zoom_quickness:.8},glsl:"// Author: 0gust1\n// License: MIT\n\nuniform float zoom_quickness; // = 0.8\nfloat nQuick = clamp(zoom_quickness,0.2,1.0);\n\nvec2 zoom(vec2 uv, float amount) {\n  return 0.5 + ((uv - 0.5) * (1.0-amount));\t\n}\n\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(zoom(uv, smoothstep(0.0, nQuick, progress))),\n    getToColor(uv),\n   smoothstep(nQuick-0.2, 1.0, progress)\n  );\n}",author:"0gust1",license:"MIT",createdAt:"Tue, 6 Mar 2018 00:43:47 +0100",updatedAt:"Tue, 6 Mar 2018 00:43:47 +0100"},{name:"StereoViewer",paramsTypes:{zoom:"float",corner_radius:"float"},defaultParams:{zoom:.88,corner_radius:.22},glsl:"// Tunable parameters\n// How much to zoom (out) for the effect ~ 0.5 - 1.0\nuniform float zoom; // = 0.88\n// Corner radius as a fraction of the image height\nuniform float corner_radius;  // = 0.22\n\n// author: Ted Schundler\n// license: BSD 2 Clause\n// Free for use and modification by anyone with credit\n\n// Copyright (c) 2016, Theodore K Schundler\n// All rights reserved.\n\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n// 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\n// 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n///////////////////////////////////////////////////////////////////////////////\n// Stereo Viewer Toy Transition                                              //\n//                                                                           //\n// Inspired by ViewMaster / Image3D image viewer devices.                    //\n// This effect is similar to what you see when you press the device's lever. //\n// There is a quick zoom in / out to make the transition 'valid' for GLSL.io //\n///////////////////////////////////////////////////////////////////////////////\n\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 c00 = vec2(0.0, 0.0); // the four corner points\nconst vec2 c01 = vec2(0.0, 1.0);\nconst vec2 c11 = vec2(1.0, 1.0);\nconst vec2 c10 = vec2(1.0, 0.0);\n\n// Check if a point is within a given corner\nbool in_corner(vec2 p, vec2 corner, vec2 radius) {\n  // determine the direction we want to be filled\n  vec2 axis = (c11 - corner) - corner;\n\n  // warp the point so we are always testing the bottom left point with the\n  // circle centered on the origin\n  p = p - (corner + axis * radius);\n  p *= axis / radius;\n  return (p.x > 0.0 && p.y > -1.0) || (p.y > 0.0 && p.x > -1.0) || dot(p, p) < 1.0;\n}\n\n// Check all four corners\n// return a float for v2 for anti-aliasing?\nbool test_rounded_mask(vec2 p, vec2 corner_size) {\n  return\n      in_corner(p, c00, corner_size) &&\n      in_corner(p, c01, corner_size) &&\n      in_corner(p, c10, corner_size) &&\n      in_corner(p, c11, corner_size);\n}\n\n// Screen blend mode - https://en.wikipedia.org/wiki/Blend_modes\n// This more closely approximates what you see than linear blending\nvec4 screen(vec4 a, vec4 b) {\n  return 1.0 - (1.0 - a) * (1.0 -b);\n}\n\n// Given RGBA, find a value that when screened with itself\n// will yield the original value.\nvec4 unscreen(vec4 c) {\n  return 1.0 - sqrt(1.0 - c);\n}\n\n// Grab a pixel, only if it isn't masked out by the rounded corners\nvec4 sample_with_corners_from(vec2 p, vec2 corner_size) {\n  p = (p - 0.5) / zoom + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return unscreen(getFromColor(p));\n}\n\nvec4 sample_with_corners_to(vec2 p, vec2 corner_size) {\n  p = (p - 0.5) / zoom + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return unscreen(getToColor(p));\n}\n\n// special sampling used when zooming - extra zoom parameter and don't unscreen\nvec4 simple_sample_with_corners_from(vec2 p, vec2 corner_size, float zoom_amt) {\n  p = (p - 0.5) / (1.0 - zoom_amt + zoom * zoom_amt) + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return getFromColor(p);\n}\n\nvec4 simple_sample_with_corners_to(vec2 p, vec2 corner_size, float zoom_amt) {\n  p = (p - 0.5) / (1.0 - zoom_amt + zoom * zoom_amt) + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return getToColor(p);\n}\n\n// Basic 2D affine transform matrix helpers\n// These really shouldn't be used in a fragment shader - I should work out the\n// the math for a translate & rotate function as a pair of dot products instead\n\nmat3 rotate2d(float angle, float ratio) {\n  float s = sin(angle);\n  float c = cos(angle);\n  return mat3(\n    c, s ,0.0,\n    -s, c, 0.0,\n    0.0, 0.0, 1.0);\n}\n\nmat3 translate2d(float x, float y) {\n  return mat3(\n    1.0, 0.0, 0,\n    0.0, 1.0, 0,\n    -x, -y, 1.0);\n}\n\nmat3 scale2d(float x, float y) {\n  return mat3(\n    x, 0.0, 0,\n    0.0, y, 0,\n    0, 0, 1.0);\n}\n\n// Split an image and rotate one up and one down along off screen pivot points\nvec4 get_cross_rotated(vec3 p3, float angle, vec2 corner_size, float ratio) {\n  angle = angle * angle; // easing\n  angle /= 2.4; // works out to be a good number of radians\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, ratio);\n  mat3 unscale_and_uncenter = scale2d(1.0, 1.0/ratio) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, ratio);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  vec4 a = sample_with_corners_from((op_a * p3).xy, corner_size);\n  vec4 b = sample_with_corners_from((op_b * p3).xy, corner_size);\n\n  return screen(a, b);\n}\n\n// Image stays put, but this time move two masks\nvec4 get_cross_masked(vec3 p3, float angle, vec2 corner_size, float ratio) {\n  angle = 1.0 - angle;\n  angle = angle * angle; // easing\n  angle /= 2.4;\n\n  vec4 img;\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, ratio);\n  mat3 unscale_and_uncenter = scale2d(1.0 / zoom, 1.0 / (zoom * ratio)) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, ratio);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  bool mask_a = test_rounded_mask((op_a * p3).xy, corner_size);\n  bool mask_b = test_rounded_mask((op_b * p3).xy, corner_size);\n\n  if (mask_a || mask_b) {\n    img = sample_with_corners_to(p3.xy, corner_size);\n    return screen(mask_a ? img : black, mask_b ? img : black);\n  } else {\n    return black;\n  }\n}\n\nvec4 transition(vec2 uv) {\n  float a;\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec3 p3 = vec3(p.xy, 1.0); // for 2D matrix transforms\n\n  // corner is warped to represent to size after mapping to 1.0, 1.0\n  vec2 corner_size = vec2(corner_radius / ratio, corner_radius);\n\n  if (progress <= 0.0) {\n    // 0.0: start with the base frame always\n    return getFromColor(p);\n  } else if (progress < 0.1) {\n    // 0.0-0.1: zoom out and add rounded corners\n    a = progress / 0.1;\n    return  simple_sample_with_corners_from(p, corner_size * a, a);\n  } else if (progress < 0.48) {\n    // 0.1-0.48: Split original image apart\n    a = (progress - 0.1)/0.38;\n    return get_cross_rotated(p3, a, corner_size, ratio);\n  } else if (progress < 0.9) {\n    // 0.48-0.52: black\n    // 0.52 - 0.9: unmask new image\n    return get_cross_masked(p3, (progress - 0.52)/0.38, corner_size, ratio);\n  } else if (progress < 1.0) {\n    // zoom out and add rounded corners\n    a = (1.0 - progress) / 0.1;\n    return simple_sample_with_corners_to(p, corner_size * a, a);\n  } else {\n    // 1.0 end with base frame\n    return getToColor(p);\n  }\n}\n",author:"Ted Schundler",license:"BSD 2 Clause",createdAt:"Tue, 20 Feb 2018 23:20:29 +0100",updatedAt:"Wed, 21 Feb 2018 15:42:00 +0100"},{name:"Swirl",paramsTypes:{},defaultParams:{},glsl:"// License: MIT\n// Author: Sergey Kosarevsky\n// ( http://www.linderdaum.com )\n// ported by gre from https://gist.github.com/corporateshark/cacfedb8cca0f5ce3f7c\n\nvec4 transition(vec2 UV)\n{\n\tfloat Radius = 1.0;\n\n\tfloat T = progress;\n\n\tUV -= vec2( 0.5, 0.5 );\n\n\tfloat Dist = length(UV);\n\n\tif ( Dist < Radius )\n\t{\n\t\tfloat Percent = (Radius - Dist) / Radius;\n\t\tfloat A = ( T <= 0.5 ) ? mix( 0.0, 1.0, T/0.5 ) : mix( 1.0, 0.0, (T-0.5)/0.5 );\n\t\tfloat Theta = Percent * Percent * A * 8.0 * 3.14159;\n\t\tfloat S = sin( Theta );\n\t\tfloat C = cos( Theta );\n\t\tUV = vec2( dot(UV, vec2(C, -S)), dot(UV, vec2(S, C)) );\n\t}\n\tUV += vec2( 0.5, 0.5 );\n\n\tvec4 C0 = getFromColor(UV);\n\tvec4 C1 = getToColor(UV);\n\n\treturn mix( C0, C1, T );\n}\n",license:"MIT",author:"Sergey Kosarevsky",createdAt:"Mon, 12 Jun 2017 12:38:27 +0800",updatedAt:"Mon, 12 Jun 2017 12:38:27 +0800"},{name:"WaterDrop",paramsTypes:{amplitude:"float",speed:"float"},defaultParams:{amplitude:30,speed:30},glsl:"// author: Pawe Pciennik\n// license: MIT\nuniform float amplitude; // = 30\nuniform float speed; // = 30\n\nvec4 transition(vec2 p) {\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n\n  if (dist > progress) {\n    return mix(getFromColor( p), getToColor( p), progress);\n  } else {\n    vec2 offset = dir * sin(dist * amplitude - progress * speed);\n    return mix(getFromColor( p + offset), getToColor( p), progress);\n  }\n}\n",author:"Pawe Pciennik",license:"MIT",createdAt:"Wed, 21 Feb 2018 19:37:15 +0100",updatedAt:"Wed, 21 Feb 2018 19:37:15 +0100"},{name:"ZoomInCircles",paramsTypes:{},defaultParams:{},glsl:"// License: MIT\n// Author: dycm8009\n// ported by gre from https://gist.github.com/dycm8009/948e99b1800e81ad909a\n\nvec2 zoom(vec2 uv, float amount) {\n  return 0.5 + ((uv - 0.5) * amount);\t\n}\n\nvec2 ratio2 = vec2(1.0, 1.0 / ratio);\n\nvec4 transition(vec2 uv) {\n  // TODO: some timing are hardcoded but should be one or many parameters\n  // TODO: should also be able to configure how much circles\n  // TODO: if() branching should be avoided when possible, prefer use of step() & other functions\n  vec2 r = 2.0 * ((vec2(uv.xy) - 0.5) * ratio2);\n  float pro = progress / 0.8;\n  float z = pro * 0.2;\n  float t = 0.0;\n  if (pro > 1.0) {\n    z = 0.2 + (pro - 1.0) * 5.;\n    t = clamp((progress - 0.8) / 0.07, 0.0, 1.0);\n  }\n  if (length(r) < 0.5+z) {\n    // uv = zoom(uv, 0.9 - 0.1 * pro);\n  }\n  else if (length(r) < 0.8+z*1.5) {\n    uv = zoom(uv, 1.0 - 0.15 * pro);\n    t = t * 0.5;\n  }\n  else if (length(r) < 1.2+z*2.5) {\n    uv = zoom(uv, 1.0 - 0.2 * pro);\n    t = t * 0.2;\n  }\n  else {\n    uv = zoom(uv, 1.0 - 0.25 * pro);\n  }\n  return mix(getFromColor(uv), getToColor(uv), t);\n}\n",license:"MIT",author:"dycm8009",createdAt:"Mon, 12 Jun 2017 11:24:34 +0800",updatedAt:"Mon, 12 Jun 2017 11:24:34 +0800"},{name:"angular",paramsTypes:{startingAngle:"float"},defaultParams:{startingAngle:90},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.141592653589\n\nuniform float startingAngle; // = 90;\n\nvec4 transition (vec2 uv) {\n  \n  float offset = startingAngle * PI / 180.0;\n  float angle = atan(uv.y - 0.5, uv.x - 0.5) + offset;\n  float normalizedAngle = (angle + PI) / (2.0 * PI);\n  \n  normalizedAngle = normalizedAngle - floor(normalizedAngle);\n\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    step(normalizedAngle, progress)\n    );\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"burn",paramsTypes:{color:"vec3"},defaultParams:{color:[.9,.4,.2]},glsl:"// author: gre\n// License: MIT\nuniform vec3 color /* = vec3(0.9, 0.4, 0.2) */;\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv) + vec4(progress*color, 1.0),\n    getToColor(uv) + vec4((1.0-progress)*color, 1.0),\n    progress\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"cannabisleaf",paramsTypes:{},defaultParams:{},glsl:"// Author: @Flexi23\n// License: MIT\n\n// inspired by http://www.wolframalpha.com/input/?i=cannabis+curve\n\nvec4 transition (vec2 uv) {\n  if(progress == 0.0){\n    return getFromColor(uv);\n  }\n  vec2 leaf_uv = (uv - vec2(0.5))/10./pow(progress,3.5);\n\tleaf_uv.y += 0.35;\n\tfloat r = 0.18;\n\tfloat o = atan(leaf_uv.y, leaf_uv.x);\n  return mix(getFromColor(uv), getToColor(uv), 1.-step(1. - length(leaf_uv)+r*(1.+sin(o))*(1.+0.9 * cos(8.*o))*(1.+0.1*cos(24.*o))*(0.9+0.05*cos(200.*o)), 1.));\n}\n",author:"@Flexi23",license:"MIT",createdAt:"Thu, 1 Jun 2017 15:58:58 +0200",updatedAt:"Thu, 1 Jun 2017 15:58:58 +0200"},{name:"circle",paramsTypes:{center:"vec2",backColor:"vec3"},defaultParams:{center:[.5,.5],backColor:[.1,.1,.1]},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\nuniform vec2 center; // = vec2(0.5, 0.5);\nuniform vec3 backColor; // = vec3(0.1, 0.1, 0.1);\n\nvec4 transition (vec2 uv) {\n  \n  float distance = length(uv - center);\n  float radius = sqrt(8.0) * abs(progress - 0.5);\n  \n  if (distance > radius) {\n    return vec4(backColor, 1.0);\n  }\n  else {\n    if (progress < 0.5) return getFromColor(uv);\n    else return getToColor(uv);\n  }\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"circleopen",paramsTypes:{smoothness:"float",opening:"bool"},defaultParams:{smoothness:.3,opening:!0},glsl:"// author: gre\n// License: MIT\nuniform float smoothness; // = 0.3\nuniform bool opening; // = true\n\nconst vec2 center = vec2(0.5, 0.5);\nconst float SQRT_2 = 1.414213562373;\n\nvec4 transition (vec2 uv) {\n  float x = opening ? progress : 1.-progress;\n  float m = smoothstep(-smoothness, 0.0, SQRT_2*distance(center, uv) - x*(1.+smoothness));\n  return mix(getFromColor(uv), getToColor(uv), opening ? 1.-m : m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"colorphase",paramsTypes:{fromStep:"vec4",toStep:"vec4"},defaultParams:{fromStep:[0,.2,.4,0],toStep:[.6,.8,1,1]},glsl:"// Author: gre\n// License: MIT\n\n// Usage: fromStep and toStep must be in [0.0, 1.0] range \n// and all(fromStep) must be < all(toStep)\n\nuniform vec4 fromStep; // = vec4(0.0, 0.2, 0.4, 0.0)\nuniform vec4 toStep; // = vec4(0.6, 0.8, 1.0, 1.0)\n\nvec4 transition (vec2 uv) {\n  vec4 a = getFromColor(uv);\n  vec4 b = getToColor(uv);\n  return mix(a, b, smoothstep(fromStep, toStep, vec4(progress)));\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"crosshatch",paramsTypes:{center:"vec2",threshold:"float",fadeEdge:"float"},defaultParams:{center:[.5,.5],threshold:3,fadeEdge:.1},glsl:"// License: MIT\n// Author: pthrasher\n// adapted by gre from https://gist.github.com/pthrasher/04fd9a7de4012cbb03f6\n\nuniform vec2 center; // = vec2(0.5)\nuniform float threshold; // = 3.0\nuniform float fadeEdge; // = 0.1\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvec4 transition(vec2 p) {\n  float dist = distance(center, p) / threshold;\n  float r = progress - min(rand(vec2(p.y, 0.0)), rand(vec2(0.0, p.x)));\n  return mix(getFromColor(p), getToColor(p), mix(0.0, mix(step(dist, r), 1.0, smoothstep(1.0-fadeEdge, 1.0, progress)), smoothstep(0.0, fadeEdge, progress)));    \n}\n",license:"MIT",author:"pthrasher",createdAt:"Mon, 12 Jun 2017 10:02:12 +0800",updatedAt:"Mon, 12 Jun 2017 10:02:12 +0800"},{name:"crosswarp",paramsTypes:{},defaultParams:{},glsl:"// Author: Eke Pter <peterekepeter@gmail.com>\n// License: MIT\nvec4 transition(vec2 p) {\n  float x = progress;\n  x=smoothstep(.0,1.0,(x*2.0+p.x-1.0));\n  return mix(getFromColor((p-.5)*(1.-x)+.5), getToColor((p-.5)*x+.5), x);\n}\n",author:"Eke Pter <peterekepeter@gmail.com>",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"cube",paramsTypes:{persp:"float",unzoom:"float",reflection:"float",floating:"float"},defaultParams:{persp:.7,unzoom:.3,reflection:.4,floating:3},glsl:"// Author: gre\n// License: MIT\nuniform float persp; // = 0.7\nuniform float unzoom; // = 0.3\nuniform float reflection; // = 0.4\nuniform float floating; // = 3.0\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -floating/100.);\n}\n\nbool inBounds (vec2 p) {\n  return all(lessThan(vec2(0.0), p)) && all(lessThan(p, vec2(1.0)));\n}\n\nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = vec4(0.0, 0.0, 0.0, 1.0);\n  pfr = project(pfr);\n  // FIXME avoid branching might help perf!\n  if (inBounds(pfr)) {\n    c += mix(vec4(0.0), getFromColor(pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(vec4(0.0), getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\n// p : the position\n// persp : the perspective in [ 0, 1 ]\n// center : the xcenter in [0, 1] \\ 0.5 excluded\nvec2 xskew (vec2 p, float persp, float center) {\n  float x = mix(p.x, 1.0-p.x, center);\n  return (\n    (\n      vec2( x, (p.y - 0.5*(1.0-persp) * x) / (1.0+(persp-1.0)*x) )\n      - vec2(0.5-distance(center, 0.5), 0.0)\n    )\n    * vec2(0.5 / distance(center, 0.5) * (center<0.5 ? 1.0 : -1.0), 1.0)\n    + vec2(center<0.5 ? 0.0 : 1.0, 0.0)\n  );\n}\n\nvec4 transition(vec2 op) {\n  float uz = unzoom * 2.0*(0.5-distance(0.5, progress));\n  vec2 p = -uz*0.5+(1.0+uz) * op;\n  vec2 fromP = xskew(\n    (p - vec2(progress, 0.0)) / vec2(1.0-progress, 1.0),\n    1.0-mix(progress, 0.0, persp),\n    0.0\n  );\n  vec2 toP = xskew(\n    p / vec2(progress, 1.0),\n    mix(pow(progress, 2.0), 1.0, persp),\n    1.0\n  );\n  // FIXME avoid branching might help perf!\n  if (inBounds(fromP)) {\n    return getFromColor(fromP);\n  }\n  else if (inBounds(toP)) {\n    return getToColor(toP);\n  }\n  return bgColor(op, fromP, toP);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"directionalwarp",paramsTypes:{direction:"vec2"},defaultParams:{direction:[-1,1]},glsl:"// Author: pschroen\n// License: MIT\n\nuniform vec2 direction; // = vec2(-1.0, 1.0)\n\nconst float smoothness = 0.5;\nconst vec2 center = vec2(0.5, 0.5);\n\nvec4 transition (vec2 uv) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x) + abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m = 1.0 - smoothstep(-smoothness, 0.0, v.x * uv.x + v.y * uv.y - (d - 0.5 + progress * (1.0 + smoothness)));\n  return mix(getFromColor((uv - 0.5) * (1.0 - m) + 0.5), getToColor((uv - 0.5) * m + 0.5), m);\n}\n",author:"pschroen",license:"MIT",createdAt:"Wed, 13 Dec 2017 12:08:49 -0500",updatedAt:"Wed, 13 Dec 2017 12:08:49 -0500"},{name:"directionalwipe",paramsTypes:{direction:"vec2",smoothness:"float"},defaultParams:{direction:[1,-1],smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform vec2 direction; // = vec2(1.0, -1.0)\nuniform float smoothness; // = 0.5\n \nconst vec2 center = vec2(0.5, 0.5);\n \nvec4 transition (vec2 uv) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m =\n    (1.0-step(progress, 0.0)) * // there is something wrong with our formula that makes m not equals 0.0 with progress is 0.0\n    (1.0 - smoothstep(-smoothness, 0.0, v.x * uv.x + v.y * uv.y - (d-0.5+progress*(1.+smoothness))));\n  return mix(getFromColor(uv), getToColor(uv), m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"displacement",paramsTypes:{displacementMap:"sampler2D",strength:"float"},defaultParams:{displacementMap:null,strength:.5},glsl:"// Author: Travis Fischer\n// License: MIT\n//\n// Adapted from a Codrops article by Robin Delaporte\n// https://tympanus.net/Development/DistortionHoverEffect\n\nuniform sampler2D displacementMap;\n\nuniform float strength; // = 0.5\n\nvec4 transition (vec2 uv) {\n  float displacement = texture2D(displacementMap, uv).r * strength;\n\n  vec2 uvFrom = vec2(uv.x + progress * displacement, uv.y);\n  vec2 uvTo = vec2(uv.x - (1.0 - progress) * displacement, uv.y);\n\n  return mix(\n    getFromColor(uvFrom),\n    getToColor(uvTo),\n    progress\n  );\n}\n",author:"Travis Fischer",license:"MIT",createdAt:"Tue, 10 Apr 2018 23:03:38 -0400",updatedAt:"Tue, 10 Apr 2018 23:03:38 -0400"},{name:"doorway",paramsTypes:{reflection:"float",perspective:"float",depth:"float"},defaultParams:{reflection:.4,perspective:.4,depth:3},glsl:"// author: gre\n// License: MIT \nuniform float reflection; // = 0.4\nuniform float perspective; // = 0.4\nuniform float depth; // = 3\n\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 boundMin = vec2(0.0, 0.0);\nconst vec2 boundMax = vec2(1.0, 1.0);\n\nbool inBounds (vec2 p) {\n  return all(lessThan(boundMin, p)) && all(lessThan(p, boundMax));\n}\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -0.02);\n}\n\nvec4 bgColor (vec2 p, vec2 pto) {\n  vec4 c = black;\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(black, getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\n\nvec4 transition (vec2 p) {\n  vec2 pfr = vec2(-1.), pto = vec2(-1.);\n  float middleSlit = 2.0 * abs(p.x-0.5) - progress;\n  if (middleSlit > 0.0) {\n    pfr = p + (p.x > 0.5 ? -1.0 : 1.0) * vec2(0.5*progress, 0.0);\n    float d = 1.0/(1.0+perspective*progress*(1.0-middleSlit));\n    pfr.y -= d/2.;\n    pfr.y *= d;\n    pfr.y += d/2.;\n  }\n  float size = mix(1.0, depth, 1.-progress);\n  pto = (p + vec2(-0.5, -0.5)) * vec2(size, size) + vec2(0.5, 0.5);\n  if (inBounds(pfr)) {\n    return getFromColor(pfr);\n  }\n  else if (inBounds(pto)) {\n    return getToColor(pto);\n  }\n  else {\n    return bgColor(p, pto);\n  }\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fade",paramsTypes:{},defaultParams:{},glsl:"// author: gre\n// license: MIT\n\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    progress\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fadecolor",paramsTypes:{color:"vec3",colorPhase:"float"},defaultParams:{color:[0,0,0],colorPhase:.4},glsl:"// author: gre\n// License: MIT\nuniform vec3 color;// = vec3(0.0)\nuniform float colorPhase/* = 0.4 */; // if 0.0, there is no black phase, if 0.9, the black phase is very important\nvec4 transition (vec2 uv) {\n  return mix(\n    mix(vec4(color, 1.0), getFromColor(uv), smoothstep(1.0-colorPhase, 0.0, progress)),\n    mix(vec4(color, 1.0), getToColor(uv), smoothstep(    colorPhase, 1.0, progress)),\n    progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fadegrayscale",paramsTypes:{intensity:"float"},defaultParams:{intensity:.3},glsl:"// Author: gre\n// License: MIT\n\nuniform float intensity; // = 0.3; // if 0.0, the image directly turn grayscale, if 0.9, the grayscale transition phase is very important\n \nvec3 grayscale (vec3 color) {\n  return vec3(0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n}\n \nvec4 transition (vec2 uv) {\n  vec4 fc = getFromColor(uv);\n  vec4 tc = getToColor(uv);\n  return mix(\n    mix(vec4(grayscale(fc.rgb), 1.0), fc, smoothstep(1.0-intensity, 0.0, progress)),\n    mix(vec4(grayscale(tc.rgb), 1.0), tc, smoothstep(    intensity, 1.0, progress)),\n    progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"flyeye",paramsTypes:{size:"float",zoom:"float",colorSeparation:"float"},defaultParams:{size:.04,zoom:50,colorSeparation:.3},glsl:"// Author: gre\n// License: MIT\nuniform float size; // = 0.04\nuniform float zoom; // = 50.0\nuniform float colorSeparation; // = 0.3\n\nvec4 transition(vec2 p) {\n  float inv = 1. - progress;\n  vec2 disp = size*vec2(cos(zoom*p.x), sin(zoom*p.y));\n  vec4 texTo = getToColor(p + inv*disp);\n  vec4 texFrom = vec4(\n    getFromColor(p + progress*disp*(1.0 - colorSeparation)).r,\n    getFromColor(p + progress*disp).g,\n    getFromColor(p + progress*disp*(1.0 + colorSeparation)).b,\n    1.0);\n  return texTo*progress + texFrom*inv;\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"heart",paramsTypes:{},defaultParams:{},glsl:"// Author: gre\n// License: MIT\n\nfloat inHeart (vec2 p, vec2 center, float size) {\n  if (size==0.0) return 0.0;\n  vec2 o = (p-center)/(1.6*size);\n  float a = o.x*o.x+o.y*o.y-0.3;\n  return step(a*a*a, o.x*o.x*o.y*o.y*o.y);\n}\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    inHeart(uv, vec2(0.5, 0.4), progress)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"hexagonalize",paramsTypes:{steps:"int",horizontalHexagons:"float"},defaultParams:{steps:50,horizontalHexagons:20},glsl:"// Author: Fernando Kuteken\n// License: MIT\n// Hexagonal math from: http://www.redblobgames.com/grids/hexagons/\n\nuniform int steps; // = 50;\nuniform float horizontalHexagons; //= 20;\n\nstruct Hexagon {\n  float q;\n  float r;\n  float s;\n};\n\nHexagon createHexagon(float q, float r){\n  Hexagon hex;\n  hex.q = q;\n  hex.r = r;\n  hex.s = -q - r;\n  return hex;\n}\n\nHexagon roundHexagon(Hexagon hex){\n  \n  float q = floor(hex.q + 0.5);\n  float r = floor(hex.r + 0.5);\n  float s = floor(hex.s + 0.5);\n\n  float deltaQ = abs(q - hex.q);\n  float deltaR = abs(r - hex.r);\n  float deltaS = abs(s - hex.s);\n\n  if (deltaQ > deltaR && deltaQ > deltaS)\n    q = -r - s;\n  else if (deltaR > deltaS)\n    r = -q - s;\n  else\n    s = -q - r;\n\n  return createHexagon(q, r);\n}\n\nHexagon hexagonFromPoint(vec2 point, float size) {\n  \n  point.y /= ratio;\n  point = (point - 0.5) / size;\n  \n  float q = (sqrt(3.0) / 3.0) * point.x + (-1.0 / 3.0) * point.y;\n  float r = 0.0 * point.x + 2.0 / 3.0 * point.y;\n\n  Hexagon hex = createHexagon(q, r);\n  return roundHexagon(hex);\n  \n}\n\nvec2 pointFromHexagon(Hexagon hex, float size) {\n  \n  float x = (sqrt(3.0) * hex.q + (sqrt(3.0) / 2.0) * hex.r) * size + 0.5;\n  float y = (0.0 * hex.q + (3.0 / 2.0) * hex.r) * size + 0.5;\n  \n  return vec2(x, y * ratio);\n}\n\nvec4 transition (vec2 uv) {\n  \n  float dist = 2.0 * min(progress, 1.0 - progress);\n  dist = steps > 0 ? ceil(dist * float(steps)) / float(steps) : dist;\n  \n  float size = (sqrt(3.0) / 3.0) * dist / horizontalHexagons;\n  \n  vec2 point = dist > 0.0 ? pointFromHexagon(hexagonFromPoint(uv, size), size) : uv;\n\n  return mix(getFromColor(point), getToColor(point), progress);\n  \n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 21:55:47 -0300",updatedAt:"Tue, 30 May 2017 21:55:47 -0300"},{name:"kaleidoscope",paramsTypes:{speed:"float",angle:"float",power:"float"},defaultParams:{speed:1,angle:1,power:1.5},glsl:"// Author: nwoeanhinnogaehr\n// License: MIT\n\nuniform float speed; // = 1.0;\nuniform float angle; // = 1.0;\nuniform float power; // = 1.5;\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec2 q = p;\n  float t = pow(progress, power)*speed;\n  p = p -0.5;\n  for (int i = 0; i < 7; i++) {\n    p = vec2(sin(t)*p.x + cos(t)*p.y, sin(t)*p.y - cos(t)*p.x);\n    t += angle;\n    p = abs(mod(p, 2.0) - 1.0);\n  }\n  abs(mod(p, 1.0));\n  return mix(\n    mix(getFromColor(q), getToColor(q), progress),\n    mix(getFromColor(p), getToColor(p), progress), 1.0 - 2.0*abs(progress - 0.5));\n}\n",author:"nwoeanhinnogaehr",license:"MIT",createdAt:"Wed, 31 May 2017 21:48:26 -0400",updatedAt:"Wed, 31 May 2017 21:48:26 -0400"},{name:"luma",paramsTypes:{luma:"sampler2D"},defaultParams:{luma:null},glsl:"// Author: gre\n// License: MIT\n\nuniform sampler2D luma;\n\nvec4 transition(vec2 uv) {\n  return mix(\n    getToColor(uv),\n    getFromColor(uv),\n    step(progress, texture2D(luma, uv).r)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"luminance_melt",paramsTypes:{direction:"bool",l_threshold:"float",above:"bool"},defaultParams:{direction:!0,l_threshold:.8,above:!1},glsl:"// Author: 0gust1\n// License: MIT\n//My own first transition  based on crosshatch code (from pthrasher), using  simplex noise formula (copied and pasted)\n//-> cooler with high contrasted images (isolated dark subject on light background f.e.)\n//TODO : try to rebase it on DoomTransition (from zeh)?\n//optimizations :\n//luminance (see http://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color#answer-596241)\n// Y = (R+R+B+G+G+G)/6\n//or Y = (R+R+R+B+G+G+G+G)>>3 \n\n\n//direction of movement :  0 : up, 1, down\nuniform bool direction; // = 1 \n//luminance threshold\nuniform float l_threshold; // = 0.8 \n//does the movement takes effect above or below luminance threshold ?\nuniform bool above; // = false \n\n\n//Random function borrowed from everywhere\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n\n// Simplex noise :\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : MIT  \n//               2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n// \n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// Simplex noise -- end\n\nfloat luminance(vec4 color){\n  //(0.299*R + 0.587*G + 0.114*B)\n  return color.r*0.299+color.g*0.587+color.b*0.114;\n}\n\nvec2 center = vec2(1.0, direction);\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  if (progress == 0.0) {\n    return getFromColor(p);\n  } else if (progress == 1.0) {\n    return getToColor(p);\n  } else {\n    float x = progress;\n    float dist = distance(center, p)- progress*exp(snoise(vec2(p.x, 0.0)));\n    float r = x - rand(vec2(p.x, 0.1));\n    float m;\n    if(above){\n     m = dist <= r && luminance(getFromColor(p))>l_threshold ? 1.0 : (progress*progress*progress);\n    }\n    else{\n     m = dist <= r && luminance(getFromColor(p))<l_threshold ? 1.0 : (progress*progress*progress);  \n    }\n    return mix(getFromColor(p), getToColor(p), m);    \n  }\n}\n",author:"0gust1",license:"MIT",createdAt:"Wed, 24 Jan 2018 19:02:32 +0100",updatedAt:"Wed, 24 Jan 2018 19:02:32 +0100"},{name:"morph",paramsTypes:{strength:"float"},defaultParams:{strength:.1},glsl:"// Author: paniq\n// License: MIT\nuniform float strength; // = 0.1\n\nvec4 transition(vec2 p) {\n  vec4 ca = getFromColor(p);\n  vec4 cb = getToColor(p);\n  \n  vec2 oa = (((ca.rg+ca.b)*0.5)*2.0-1.0);\n  vec2 ob = (((cb.rg+cb.b)*0.5)*2.0-1.0);\n  vec2 oc = mix(oa,ob,0.5)*strength;\n  \n  float w0 = progress;\n  float w1 = 1.0-w0;\n  return mix(getFromColor(p+oc*w0), getToColor(p-oc*w1), progress);\n}\n",author:"paniq",license:"MIT",createdAt:"Thu, 10 Aug 2017 00:27:36 +0200",updatedAt:"Thu, 10 Aug 2017 00:32:01 +0200"},{name:"multiply_blend",paramsTypes:{},defaultParams:{},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\nvec4 blend(vec4 a, vec4 b) {\n  return a * b;\n}\n\nvec4 transition (vec2 uv) {\n  \n  vec4 blended = blend(getFromColor(uv), getToColor(uv));\n  \n  if (progress < 0.5)\n    return mix(getFromColor(uv), blended, 2.0 * progress);\n  else\n    return mix(blended, getToColor(uv), 2.0 * progress - 1.0);\n}\n\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"perlin",paramsTypes:{scale:"float",smoothness:"float",seed:"float"},defaultParams:{scale:4,smoothness:.01,seed:12.9898},glsl:"// Author: Rich Harris\n// License: MIT\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float scale; // = 4.0\nuniform float smoothness; // = 0.01\n\nuniform float seed; // = 12.9898\n\n// http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nfloat random(vec2 co)\n{\n    highp float a = seed;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n// 2D Noise based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    // Smooth Interpolation\n\n    // Cubic Hermine Curve.  Same as SmoothStep()\n    vec2 u = f*f*(3.0-2.0*f);\n    // u = smoothstep(0.,1.,f);\n\n    // Mix 4 coorners porcentages\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nvec4 transition (vec2 uv) {\n  vec4 from = getFromColor(uv);\n  vec4 to = getToColor(uv);\n  float n = noise(uv * scale);\n  \n  float p = mix(-smoothness, 1.0 + smoothness, progress);\n  float lower = p - smoothness;\n  float higher = p + smoothness;\n  \n  float q = smoothstep(lower, higher, n);\n  \n  return mix(\n    from,\n    to,\n    1.0 - q\n  );\n}\n",author:"Rich Harris",license:"MIT",createdAt:"Tue, 23 Jan 2018 21:35:10 -0500",updatedAt:"Wed, 24 Jan 2018 07:35:04 -0500"},{name:"pinwheel",paramsTypes:{speed:"float"},defaultParams:{speed:2},glsl:"// Author: Mr Speaker\n// License: MIT\n\nuniform float speed; // = 2.0;\n\nvec4 transition(vec2 uv) {\n  \n  vec2 p = uv.xy / vec2(1.0).xy;\n  \n  float circPos = atan(p.y - 0.5, p.x - 0.5) + progress * speed;\n  float modPos = mod(circPos, 3.1415 / 4.);\n  float signed = sign(progress - modPos);\n  \n  return mix(getToColor(p), getFromColor(p), step(signed, 0.5));\n  \n}\n",author:"Mr Speaker",license:"MIT",createdAt:"Tue, 30 May 2017 09:04:31 -0400",updatedAt:"Tue, 30 May 2017 09:04:31 -0400"},{name:"pixelize",paramsTypes:{squaresMin:"ivec2",steps:"int"},defaultParams:{squaresMin:[20,20],steps:50},glsl:"// Author: gre\n// License: MIT\n// forked from https://gist.github.com/benraziel/c528607361d90a072e98\n\nuniform ivec2 squaresMin/* = ivec2(20) */; // minimum number of squares (when the effect is at its higher level)\nuniform int steps /* = 50 */; // zero disable the stepping\n\nfloat d = min(progress, 1.0 - progress);\nfloat dist = steps>0 ? ceil(d * float(steps)) / float(steps) : d;\nvec2 squareSize = 2.0 * dist / vec2(squaresMin);\n\nvec4 transition(vec2 uv) {\n  vec2 p = dist>0.0 ? (floor(uv / squareSize) + 0.5) * squareSize : uv;\n  return mix(getFromColor(p), getToColor(p), progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Wed, 31 May 2017 10:58:26 +0200"},{name:"polar_function",paramsTypes:{segments:"int"},defaultParams:{segments:5},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.14159265359\n\nuniform int segments; // = 5;\n\nvec4 transition (vec2 uv) {\n  \n  float angle = atan(uv.y - 0.5, uv.x - 0.5) - 0.5 * PI;\n  float normalized = (angle + 1.5 * PI) * (2.0 * PI);\n  \n  float radius = (cos(float(segments) * angle) + 4.0) / 4.0;\n  float difference = length(uv - vec2(0.5, 0.5));\n  \n  if (difference > radius * progress)\n    return getFromColor(uv);\n  else\n    return getToColor(uv);\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"randomsquares",paramsTypes:{size:"ivec2",smoothness:"float"},defaultParams:{size:[10,10],smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform ivec2 size; // = ivec2(10, 10)\nuniform float smoothness; // = 0.5\n \nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 transition(vec2 p) {\n  float r = rand(floor(vec2(size) * p));\n  float m = smoothstep(0.0, -smoothness, r - (progress * (1.0 + smoothness)));\n  return mix(getFromColor(p), getToColor(p), m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"ripple",paramsTypes:{amplitude:"float",speed:"float"},defaultParams:{amplitude:100,speed:50},glsl:"// Author: gre\n// License: MIT\nuniform float amplitude; // = 100.0\nuniform float speed; // = 50.0\n\nvec4 transition (vec2 uv) {\n  vec2 dir = uv - vec2(.5);\n  float dist = length(dir);\n  vec2 offset = dir * (sin(progress * dist * amplitude - progress * speed) + .5) / 30.;\n  return mix(\n    getFromColor(uv + offset),\n    getToColor(uv),\n    smoothstep(0.2, 1.0, progress)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 15:15:27 +0200",updatedAt:"Tue, 30 May 2017 15:15:27 +0200"},{name:"rotate_scale_fade",paramsTypes:{center:"vec2",rotations:"float",scale:"float",backColor:"vec4"},defaultParams:{center:[.5,.5],rotations:1,scale:8,backColor:[.15,.15,.15,1]},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.14159265359\n\nuniform vec2 center; // = vec2(0.5, 0.5);\nuniform float rotations; // = 1;\nuniform float scale; // = 8;\nuniform vec4 backColor; // = vec4(0.15, 0.15, 0.15, 1.0);\n\nvec4 transition (vec2 uv) {\n  \n  vec2 difference = uv - center;\n  vec2 dir = normalize(difference);\n  float dist = length(difference);\n  \n  float angle = 2.0 * PI * rotations * progress;\n  \n  float c = cos(angle);\n  float s = sin(angle);\n  \n  float currentScale = mix(scale, 1.0, 2.0 * abs(progress - 0.5));\n  \n  vec2 rotatedDir = vec2(dir.x  * c - dir.y * s, dir.x * s + dir.y * c);\n  vec2 rotatedUv = center + rotatedDir * dist / currentScale;\n  \n  if (rotatedUv.x < 0.0 || rotatedUv.x > 1.0 ||\n      rotatedUv.y < 0.0 || rotatedUv.y > 1.0)\n    return backColor;\n    \n  return mix(getFromColor(rotatedUv), getToColor(rotatedUv), progress);\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"squareswire",paramsTypes:{squares:"ivec2",direction:"vec2",smoothness:"float"},defaultParams:{squares:[10,10],direction:[1,-.5],smoothness:1.6},glsl:"// Author: gre\n// License: MIT\n \nuniform ivec2 squares;// = ivec2(10,10)\nuniform vec2 direction;// = vec2(1.0, -0.5)\nuniform float smoothness; // = 1.6\n\nconst vec2 center = vec2(0.5, 0.5);\nvec4 transition (vec2 p) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float offset = smoothness;\n  float pr = smoothstep(-offset, 0.0, v.x * p.x + v.y * p.y - (d-0.5+progress*(1.+offset)));\n  vec2 squarep = fract(p*vec2(squares));\n  vec2 squaremin = vec2(pr/2.0);\n  vec2 squaremax = vec2(1.0 - pr/2.0);\n  float a = (1.0 - step(progress, 0.0)) * step(squaremin.x, squarep.x) * step(squaremin.y, squarep.y) * step(squarep.x, squaremax.x) * step(squarep.y, squaremax.y);\n  return mix(getFromColor(p), getToColor(p), a);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"squeeze",paramsTypes:{colorSeparation:"float"},defaultParams:{colorSeparation:.04},glsl:"// Author: gre\n// License: MIT\n \nuniform float colorSeparation; // = 0.04\n \nvec4 transition (vec2 uv) {\n  float y = 0.5 + (uv.y-0.5) / (1.0-progress);\n  if (y < 0.0 || y > 1.0) {\n     return getToColor(uv);\n  }\n  else {\n    vec2 fp = vec2(uv.x, y);\n    vec2 off = progress * vec2(0.0, colorSeparation);\n    vec4 c = getFromColor(fp);\n    vec4 cn = getFromColor(fp - off);\n    vec4 cp = getFromColor(fp + off);\n    return vec4(cn.r, c.g, cp.b, c.a);\n  }\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"swap",paramsTypes:{reflection:"float",perspective:"float",depth:"float"},defaultParams:{reflection:.4,perspective:.2,depth:3},glsl:"// Author: gre\n// License: MIT\n// General parameters\nuniform float reflection; // = 0.4\nuniform float perspective; // = 0.2\nuniform float depth; // = 3.0\n \nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 boundMin = vec2(0.0, 0.0);\nconst vec2 boundMax = vec2(1.0, 1.0);\n \nbool inBounds (vec2 p) {\n  return all(lessThan(boundMin, p)) && all(lessThan(p, boundMax));\n}\n \nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -0.02);\n}\n \nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = black;\n  pfr = project(pfr);\n  if (inBounds(pfr)) {\n    c += mix(black, getFromColor(pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(black, getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n \nvec4 transition(vec2 p) {\n  vec2 pfr, pto = vec2(-1.);\n \n  float size = mix(1.0, depth, progress);\n  float persp = perspective * progress;\n  pfr = (p + vec2(-0.0, -0.5)) * vec2(size/(1.0-perspective*progress), size/(1.0-size*persp*p.x)) + vec2(0.0, 0.5);\n \n  size = mix(1.0, depth, 1.-progress);\n  persp = perspective * (1.-progress);\n  pto = (p + vec2(-1.0, -0.5)) * vec2(size/(1.0-perspective*(1.0-progress)), size/(1.0-size*persp*(0.5-p.x))) + vec2(1.0, 0.5);\n\n  if (progress < 0.5) {\n    if (inBounds(pfr)) {\n      return getFromColor(pfr);\n    }\n    if (inBounds(pto)) {\n      return getToColor(pto);\n    }  \n  }\n  if (inBounds(pto)) {\n    return getToColor(pto);\n  }\n  if (inBounds(pfr)) {\n    return getFromColor(pfr);\n  }\n  return bgColor(p, pfr, pto);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Sun, 18 Feb 2018 17:45:50 +0100"},{name:"undulatingBurnOut",paramsTypes:{smoothness:"float",center:"vec2",color:"vec3"},defaultParams:{smoothness:.03,center:[.5,.5],color:[0,0,0]},glsl:"// License: MIT\n// Author: pthrasher\n// adapted by gre from https://gist.github.com/pthrasher/8e6226b215548ba12734\n\nuniform float smoothness; // = 0.03\nuniform vec2 center; // = vec2(0.5)\nuniform vec3 color; // = vec3(0.0)\n\nconst float M_PI = 3.14159265358979323846;\n\nfloat quadraticInOut(float t) {\n  float p = 2.0 * t * t;\n  return t < 0.5 ? p : -p + (4.0 * t) - 1.0;\n}\n\nfloat getGradient(float r, float dist) {\n  float d = r - dist;\n  return mix(\n    smoothstep(-smoothness, 0.0, r - dist * (1.0 + smoothness)),\n    -1.0 - step(0.005, d),\n    step(-0.005, d) * step(d, 0.01)\n  );\n}\n\nfloat getWave(vec2 p){\n  vec2 _p = p - center; // offset from center\n  float rads = atan(_p.y, _p.x);\n  float degs = degrees(rads) + 180.0;\n  vec2 range = vec2(0.0, M_PI * 30.0);\n  vec2 domain = vec2(0.0, 360.0);\n  float ratio = (M_PI * 30.0) / 360.0;\n  degs = degs * ratio;\n  float x = progress;\n  float magnitude = mix(0.02, 0.09, smoothstep(0.0, 1.0, x));\n  float offset = mix(40.0, 30.0, smoothstep(0.0, 1.0, x));\n  float ease_degs = quadraticInOut(sin(degs));\n  float deg_wave_pos = (ease_degs * magnitude) * sin(x * offset);\n  return x + deg_wave_pos;\n}\n\nvec4 transition(vec2 p) {\n  float dist = distance(center, p);\n  float m = getGradient(getWave(p), dist);\n  vec4 cfrom = getFromColor(p);\n  vec4 cto = getToColor(p);\n  return mix(mix(cfrom, cto, m), mix(cfrom, vec4(color, 1.0), 0.75), step(m, -2.0));\n}\n",license:"MIT",author:"pthrasher",createdAt:"Mon, 12 Jun 2017 10:23:37 +0800",updatedAt:"Mon, 12 Jun 2017 10:23:37 +0800"},{name:"wind",paramsTypes:{size:"float"},defaultParams:{size:.2},glsl:"// Author: gre\n// License: MIT\n\n// Custom parameters\nuniform float size; // = 0.2\n\nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 transition (vec2 uv) {\n  float r = rand(vec2(0, uv.y));\n  float m = smoothstep(0.0, -size, uv.x*(1.0-size) + size*r - (progress * (1.0 + size)));\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    m\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"windowblinds",paramsTypes:{},defaultParams:{},glsl:"// Author: Fabien Benetou\n// License: MIT\n\nvec4 transition (vec2 uv) {\n  float t = progress;\n  \n  if (mod(floor(uv.y*100.*progress),2.)==0.)\n    t*=2.-.5;\n  \n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    mix(t, progress, smoothstep(0.8, 1.0, progress))\n  );\n}\n",author:"Fabien Benetou",license:"MIT",createdAt:"Wed, 31 May 2017 14:11:48 +0200",updatedAt:"Wed, 31 May 2017 14:11:48 +0200"},{name:"windowslice",paramsTypes:{count:"float",smoothness:"float"},defaultParams:{count:10,smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform float count; // = 10.0\nuniform float smoothness; // = 0.5\n\nvec4 transition (vec2 p) {\n  float pr = smoothstep(-smoothness, 0.0, p.x - progress * (1.0 + smoothness));\n  float s = step(pr, fract(count * p.x));\n  return mix(getFromColor(p), getToColor(p), s);\n}\n",author:"gre",license:"MIT",createdAt:"Wed, 28 Mar 2018 17:23:26 +0200",updatedAt:"Wed, 28 Mar 2018 17:23:26 +0200"},{name:"wipeDown",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(1.0-p.y,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:26:01 -0500",updatedAt:"Thu, 2 Nov 2017 18:39:26 -0500"},{name:"wipeLeft",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(1.0-p.x,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:26:28 -0500",updatedAt:"Fri, 3 Nov 2017 18:03:50 +0100"},{name:"wipeRight",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(0.0+p.x,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:27:02 -0500",updatedAt:"Thu, 2 Nov 2017 18:40:22 -0500"},{name:"wipeUp",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(0.0+p.y,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:24:36 -0500",updatedAt:"Thu, 2 Nov 2017 18:37:42 -0500"}]},t=>{"use strict";t.exports={name:"Cube",paramsTypes:{persp:"float",unzoom:"float",reflection:"float",floating:"float",bgcolor:"vec4"},defaultParams:{persp:.7,unzoom:.3,reflection:.4,floating:3,bgcolor:[0,0,0,1]},glsl:"\n// Author: gre\n// License: MIT\nuniform float persp; // = 0.7\nuniform float unzoom; // = 0.3\nuniform float reflection; // = 0.4\nuniform float floating; // = 3.0\nuniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -floating/100.);\n}\n\nbool inBounds (vec2 p) {\n  return all(lessThan(vec2(0.0), p)) && all(lessThan(p, vec2(1.0)));\n}\n\nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = bgcolor;\n  pfr = project(pfr);\n  // FIXME avoid branching might help perf!\n  if (inBounds(pfr)) {\n    c += mix(vec4(0.0), getFromColor(pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(vec4(0.0), getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\n// p : the position\n// persp : the perspective in [ 0, 1 ]\n// center : the xcenter in [0, 1]  0.5 excluded\nvec2 xskew (vec2 p, float persp, float center) {\n  float x = mix(p.x, 1.0-p.x, center);\n  return (\n    (\n      vec2( x, (p.y - 0.5*(1.0-persp) * x) / (1.0+(persp-1.0)*x) )\n      - vec2(0.5-distance(center, 0.5), 0.0)\n    )\n    * vec2(0.5 / distance(center, 0.5) * (center<0.5 ? 1.0 : -1.0), 1.0)\n    + vec2(center<0.5 ? 0.0 : 1.0, 0.0)\n  );\n}\n\nvec4 transition(vec2 op) {\n  float uz = unzoom * 2.0*(0.5-distance(0.5, progress));\n  vec2 p = -uz*0.5+(1.0+uz) * op;\n  vec2 fromP = xskew(\n    (p - vec2(progress, 0.0)) / vec2(1.0-progress, 1.0),\n    1.0-mix(progress, 0.0, persp),\n    0.0\n  );\n  vec2 toP = xskew(\n    p / vec2(progress, 1.0),\n    mix(pow(progress, 2.0), 1.0, persp),\n    1.0\n  );\n  // FIXME avoid branching might help perf!\n  if (inBounds(fromP)) {\n    return getFromColor(fromP);\n  }\n  else if (inBounds(toP)) {\n    return getToColor(toP);\n  }\n  return bgColor(op, fromP, toP);\n}\n"}},t=>{"use strict";t.exports={name:"Fat",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n\n  float getDis(float dis){\n    dis = pow(dis,0.65);\n    return 1.*dis;\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 center=vec2(.5);\n    vec2 dv=center-uv;\n    float k = (3./2.);\n    float r = .16;\n    float dis=length(dv);\n    float sinFactor=((sin(progress*k*PI)-1.)+1.)*r;\n\n    vec2 dv1=normalize(dv);\n    vec2 offsets=dv1*sinFactor*getDis(dis);\n    vec2 uv2=offsets+uv;\n    vec2 uv3=offsets*1.2+uv;\n\n    vec4 c=getToColor(uv);\n    vec4 a=getToColor(uv2);\n    vec4 b=getFromColor(uv3);\n\n    if(progress<=.0) return getFromColor(uv);\n    return mix(b,mix(a,c,progress), progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Lens",paramsTypes:{},defaultParams:{},glsl:"\n  #define GRID_SIZE 20.\n  const float PI = acos(-1.);\n\n  float screenIn(in vec2 uv) {\n    float x = 1. - step(0.5, abs(uv.x-0.5));\n    float y = 1. - step(0.5, abs(uv.y-0.5));\n    float result = x * y;\n    return result;\n  }\n  mat2 rotate(in float r) { float c=cos(r),s=sin(r); return mat2(c,-s,s,c); }\n  float hash(in float v) { return fract(sin(v)*43237.5324); }\n  float hash(in vec2 v) { return fract(sin(dot(v, vec2(12.9898, 78.233)))*43237.5324); }\n\n  vec4 transitionFrame(float ratio, in vec2 st) {\n    vec2 uv = st;\n    uv *= rotate(PI/6.);\n\n    uv.y *= GRID_SIZE;\n    vec2 id = vec2(0.);\n    id.y = floor(uv.y);\n    uv.x *= GRID_SIZE*hash(id.y);\n    id.x = id.y + floor(uv.x);\n\n    float angle = sign(hash(id.x)*2.-1.);\n    float offset = hash(id.x + id.y)+1.414;\n\n    vec2 uv1 = st;\n    vec2 uv2 = st + vec2(angle * offset * ratio, 0.)*rotate(-PI/6.);\n\n    return screenIn(uv2)<1. ? getToColor(uv1) : getFromColor(uv2);\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float iTime = progress*PI/2.0;\n    float ratio = smoothstep(0., 1., sin(iTime));\n    vec4 video = transitionFrame(ratio, uv);\n    vec3 col = video.rgb;\n    return vec4(col,1.0);\n  }\n",author:"https://www.shadertoy.com/view/wdcSzl"}},t=>{"use strict";t.exports={name:"Slice",paramsTypes:{},defaultParams:{},glsl:"\n  float NUM = 18.0;\n  float PI = 3.1415927;\n  vec2 direction = vec2(1.0, .0);\n\n  float normalSine(float value) {\n    return (sin(value) + 1.0) / 2.0;\n  }\n\n  float rand(float n){\n    float num = 100.;\n    float y = floor(n * num);\n    y/=num;\n    return fract(sin(y) * 43758.5453123);\n  }\n\n  float checker(vec2 uv) {\n    float div = 2.0;\n    float fy = floor(uv.x * NUM);\n    float odd = fy - (div * floor(fy/div));\n    return sign(odd);\n  }\n\n  vec4 transition (vec2 uv) {\n    float iTime = (progress - .5)*PI;\n    vec2 iResolution =vec2(1.0);\n\n    float factor = 1.0 - ( 2.0 * checker(uv));\n    vec2 offsetDirection = direction * factor;\n    vec2 offset = offsetDirection * normalSine(iTime);\n    vec2 wrapped = fract(uv + offset);\n    \n    vec4 fromColor = getFromColor(wrapped);\n    vec4 toColor = getToColor(wrapped);\n    return mix(fromColor,toColor,progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Shake",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  float random2d(vec2 n) { \n    return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n  }\n  \n  float randomRange (in vec2 seed, in float min, in float max) {\n    return min + random2d(seed) * (max - min);\n  }\n  \n  float insideRange(float v, float bottom, float top) {\n    return step(bottom, v) - step(top, v);\n  }\n  \n  float getSpeed(float progress){\n    return pow(progress, 4.);\n  }\n  \n  float AMT = 0.2; //0 - 1 glitch amount\n  float SPEED = 0.6; //0 - 1 speed\n     \n  vec4 transition (vec2 p) {\n    float iTime = progress*PI;\n    vec2 iResolution =vec2(1.0);\n    \n    float time = floor(iTime * SPEED * 60.0);  \n    vec2 uv = p.xy / iResolution.xy;\n    vec3 outCol = getToColor(uv).rgb;\n    \n    float maxOffset = AMT/2.0;\n    for (float i = 0.0; i < 10.0 * .45; i += 1.0) {\n      float sliceY = random2d(vec2(time , 2345.0 + float(i)));\n      float sliceH = random2d(vec2(time , 9035.0 + float(i))) * 0.25;\n      float hOffset = randomRange(vec2(time , 9625.0 + float(i)), -maxOffset, maxOffset);\n      vec2 uvOff = uv;\n      uvOff.x += hOffset;\n      if (insideRange(uv.y, sliceY, fract(sliceY+sliceH)) == 1.0 ){\n        outCol = getToColor(uvOff).rgb;\n      }\n    }\n  \n    float maxColOffset = AMT/6.0;\n    float rnd = random2d(vec2(time , 9545.0));\n    vec2 colOffset = vec2(randomRange(vec2(time, 9545.0),-maxColOffset,maxColOffset), randomRange(vec2(time , 7205.0),-maxColOffset,maxColOffset));\n    if (rnd < 0.33){\n      outCol.r = getToColor(uv + colOffset).r;\n      \n    }else if (rnd < 0.66){\n      outCol.g = getToColor(uv + colOffset).g;\n    } else{\n      outCol.b = getToColor(uv + colOffset).b;  \n    }\n    \n    vec4 fromColor = getFromColor(p);\n    vec4 toColor = vec4(outCol,1.0);\n    \n    if(progress>=1.) return getToColor(p);\n    return mix(fromColor,toColor,getSpeed(progress));\n  }\n"}},t=>{"use strict";t.exports={name:"Stretch",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  float quarticInOut(float t) {\n    return t < 0.5? +8.0 * pow(t, 4.0): -8.0 * pow(t - 1.0, 4.0) + 1.0;\n  }\n\n  float hash(float n) { \n    return fract(sin(n) * 1e4); \n  }\n  float hash(vec2 p) { \n    return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) * (0.1 + abs(sin(p.y * 13.0 + p.x)))); \n  }\n    \n  float hnoise(vec2 x) {\n    vec2 i = floor(x);\n    vec2 f = fract(x);\n    float a = hash(i);\n    float b = hash(i + vec2(1.0, 0.0));\n    float c = hash(i + vec2(0.0, 1.0));\n    float d = hash(i + vec2(1.0, 1.0));\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\n  }\n    \n  vec4 transition (vec2 uv) {\n    vec2 newUv = (uv - vec2(0.5)) + vec2(0.5);\n    float hn = hnoise(newUv.xy  / 10.0); \n    vec2 d = vec2(0.,normalize(vec2(0.5,0.5) - newUv.xy).y);\n    float time = quarticInOut(progress);\n    vec2 uv1 = newUv + d * time / 5.0 * (1.0 + hn / 2.0);\n    vec2 uv2 = newUv - d * (1.0 - time) / 5.0 * (1.0 + hn / 2.0);\n\n    return mix(getFromColor(uv1), getToColor(uv2), time);\n  }\n"}},t=>{"use strict";t.exports={name:"BackOff",paramsTypes:{},defaultParams:{},glsl:"\n  float superstep(float a, float x){\n    float v = smoothstep(a-0.1,a,x);\n    return pow(v, 1.2);\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 p=uv.xy/vec2(1.0).xy;\n    vec4 a=getFromColor(p);\n    vec4 b=getToColor(p);\n\n    if(uv.x<=.5&&uv.y<=.5){\n      return mix(a, b, superstep(1.0-p.y,progress));\n    }else if(uv.x<=1.&&uv.y<=.5){\n      return mix(a, b, superstep(0.0+p.x,progress));\n    }else if(uv.x>=.5&&uv.y>=.5){\n      return mix(a, b, superstep(0.0+p.y,progress));\n    }else{\n      return mix(a, b, superstep(1.0-p.x,progress));\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"Fluidly",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.14159265359\n  vec2 accel = vec2(0.01);\n\n  vec2 mirror(vec2 v) {\n    vec2 m = mod(v, 2.0);\n    return mix(m, 2.0 - m, step(1.0, m));\n  }\n\n  float tri(float p) {\n    return mix(p, 1.0 - p, step(0.5, p))*2.0;\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float iTime = progress;\n\n    vec2 vuv1 = uv - 0.5;\n    vuv1 *= vec2(1.,iResolution.y/iResolution.x);\n    vuv1 += 0.5;\n\n    float p = pow(min(cos(PI * (mod(iTime,2.)-1.) / 2.), 1. - abs(mod(iTime,2.) - 1.)  ), 1. );\n    float delayValue = p*7. - uv.y*2. + uv.x - 2.0 ;\n    delayValue = clamp(delayValue,0.,1.);\n\n    vec2 acc = vec2(0.5,2.);\n    vec2 translateValue = p + delayValue * acc;\n    vec2 translateValue1 = vec2(-0.5,1.)* translateValue;\n    vec2 translateValue2 = vec2(-0.5,1.) * (translateValue - 1.0 - acc);\n\n    vec2 w = sin( sin(iTime)*vec2(0,0.3) + uv*vec2(0,4.)) * vec2(0, 0.5);\n    vec2 xy = w*(tri(p)*0.5 + tri(delayValue)*0.5);\n\n    vec2 uv1 = vuv1 + translateValue1 + xy;\n    vec2 uv2 = vuv1 + translateValue2 + xy;\n\n    vec4 t0 = getFromColor(mirror(uv1));\n    vec4 t1 = getToColor(mirror(uv2));\n    return mix(t0, t1, delayValue);\n  }\n",author:"https://www.shadertoy.com/view/wsjGWW"}},t=>{"use strict";t.exports={name:"Oblique",paramsTypes:{bgcolor:"vec4"},defaultParams:{bgcolor:[0,0,0,1]},glsl:"\n  const float PI = 3.1415927;\n  const float seed = 265.5;\n  const float rotAngle = PI/4.;\n  const float sliceCount = 10.0;\n\n  float random (in vec2 st) { \n    return fract(sin(dot(st.xy,vec2(12.9798,78.323)))*43758.5453234);\n  }\n\n  mat2 rot2m(float a){\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(c, -s, s, c);\n  }\n\n  float slices(in vec2 p, float count){\n    p *= rot2m(rotAngle);\n    float x = p.x * count;\n    float v = random( vec2(floor(x)) + seed * count * 0.5 );\n    return v;\n  }\n\n  float randomSlices(in vec2 p){\n      float s1 = 1.0, s2 = 0.0;\n      for(float i = 1.0; i < sliceCount; ++i){\n          float t = slices(p, 2.0 * i);\n          \n          s1 = min(s1, t);\n          s2 = max(s2, t);\n      }\n      return (s1 + s2) * 0.5;\n  }\n\n  vec4 pic(float v, vec2 uv, vec2 sp){\n      float m1 = (v + 1.0);\n      m1 = 1.0 / pow(m1, 0.25);\n      \n      float m2 = (2.0 - v);\n      m2 = 1.0 / pow(m2, 0.25);\n      \n      vec2 uv1 = (uv - sp) * m1 + sp;\n      vec2 uv2 = (uv - sp) * m2 + sp;\n      \n      vec4 colA = getFromColor( fract(uv1) );\n      vec4 colB = getToColor( fract(uv2) );\n      \n      return mix(colA, colB, v);\n  }\n\n  vec4 transition (vec2 uv) {\n      float iTime = progress*PI;\n      vec2 iResolution =vec2(1.0);\n      float v = randomSlices(uv);\n      \n      float b = smoothstep(0.0, v, sin(iTime * 0.7));\n      vec2 sp = vec2(v, random(vec2(v) ) ) * 0.5;\n      \n      return pic(b, uv, sp );\n  }\n",author:"https://www.shadertoy.com/view/ltVSzd"}},t=>{"use strict";t.exports={name:"Windows4",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.141592653589793\n\n  float superstep(float a, float x){\n    float v = smoothstep(a-0.1,a,x);\n    return pow(v, 1.2);\n  }\n  \n  float quarticInOut(float t) {\n    return t < 0.5\n      ? +8.0 * pow(t, 4.0)\n      : -8.0 * pow(t - 1.0, 4.0) + 1.0;\n  }\n  \n  float backOut(float t) {\n    float f = t < 0.5\n      ? 2.0 * t\n      : 1.0 - (2.0 * t - 1.0);\n  \n    float g = pow(f, 3.0) - f * sin(f * PI);\n  \n    return t < 0.5\n      ? 0.5 * g\n      : 0.5 * (1.0 - g) + 0.5;\n  }\n  \n  vec4 getColor(vec2 uv, vec2 direction){\n    vec2 p = uv + quarticInOut(progress) * sign(direction);\n    vec2 f = fract(p);\n    \n    return mix(\n      getToColor(f),\n      getFromColor(f),\n      step(0.0, p.y) * step(p.y, 1.0) * step(0.0, p.x) * step(p.x, 1.0)\n    );\n  }\n  \n  vec4 transition (vec2 uv) {\n    if(uv.x<=.5&&uv.y<=.5){\n      return getColor(uv, vec2(0., 1.));\n    }else if(uv.x<=1.&&uv.y<=.5){\n      return getColor(uv, vec2(-1., 0.));\n    }else if(uv.x>=.5&&uv.y>=.5){\n      return getColor(uv, vec2(0., -1.));\n    }else{\n      return getColor(uv, vec2(1., 0.));\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"Tetrapod",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.141592653589793\n  const float divisions=20.;\n  \n  float sfract(float time){\n    if(time>=1.) return 1.;\n    return fract(time);\n  }\n  \n  vec4 transition (vec2 uv) {\n    float iTime = progress;\n    vec2 iResolution =vec2(1.0);\n    vec2 st = uv;\n      \n    float t = sfract(iTime)*3.-1.;\n    vec2 f_st = fract(st*divisions);\n    vec2 i_st = floor(st*divisions);\n    f_st -= 0.5;\n    t = (1.-t+(i_st.x/divisions) - (1.-i_st.y/divisions));\n    float fx = smoothstep(t-.2, t+.3, 1.-abs(f_st.x+f_st.y));\n    float fy = smoothstep(t-.2, t+.3, 1.-abs((f_st.x)-(f_st.y)));\n    float a = fx*fy;\n      \n    vec4 toColor = getToColor(st)*a;\n    vec4 fromColor = getFromColor(uv);\n    fromColor.a = 1.-iTime;\n      \n    if(progress>=1.) return getToColor(uv);\n    return mix(fromColor, toColor , progress*progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Colorful",paramsTypes:{},defaultParams:{},glsl:"\n  #define HALF_PI 1.57079632679\n  vec4 colors[6];\n  vec2 center = vec2(0.5, 0.5);\n\n  float aasin(float t){\n    float nt = t;\n    if(nt<=.0) nt = 0.;\n    if(nt>=1.) nt = 1.;\n    return asin(nt)/HALF_PI;\n  }\n\n  vec4 getRgb(float r, float g, float b){\n    float v255 = 255.0;\n    return vec4(r/v255, g/v255, b/v255, 1.);\n  }\n\n  vec2 resetSize(vec2 size){\n    vec2 nsize = size;\n    if(ratio>1.){\n      nsize.y = size.y / ratio;\n    }else{\n      nsize.x = size.x * ratio;\n    }\n\n    return nsize;\n  }\n\n  vec4 transition (vec2 uv) {\n    colors[0]= getRgb(255., 212., 50.);\n    colors[1]= getRgb(252., 92., 102.);\n    colors[2]= getRgb(70., 170., 240.);\n    colors[3]= getRgb(57., 105., 214.);\n    colors[4]= getRgb(137., 84., 208.);\n    colors[5]= getToColor(uv);\n\n    float num = 6.0;\n    float delay = .3;\n    vec2 iResolution = vec2(1.0);\n    float tha = progress *(1. + (num-1.) * delay);\n\n    vec2 centerPx = iResolution.xy * center;\n    vec2 ncenterPx = resetSize(centerPx);\n    vec2 nuv = resetSize(uv);\n    vec2 dis = nuv - ncenterPx;\n    float dist = length(dis) / length(ncenterPx);\n\n    vec4 color = getFromColor(uv);\n    for(int i = 0; i < 6; i+=1) {\n      float mixRatio = smoothstep(dist-0.015, dist, aasin(tha-delay*float(i)));\n        color = mix(color, colors[i], mixRatio);\n    }\n\n    if(progress<=0.) return getFromColor(uv);\n    return color;\n  }\n"}},t=>{"use strict";t.exports={name:"MoveLeft",paramsTypes:{},defaultParams:{},glsl:"\n  #define PI 3.141592653589793\n  #define HALF_PI 1.5707963267948966\n    \n  float pows(float p){\n    return pow(p, 1.6);\n  }\n  \n  float quarticInOut(float t) {\n    return t < 0.5\n      ? +8.0 * pow(t, 4.0)\n      : -8.0 * pow(t - 1.0, 4.0) + 1.0;\n  }\n  \n  float backIn(float t) {\n    return pow(t, 3.0) - t * sin(t * PI);\n  }\n  \n  vec4 blurToColor(vec2 uv, float blurSize){\n    float invAspect = 1.;\n    vec4 col = vec4(0.);\n    for(float index = 0.; index < 30.; index++){\n      vec2 bl = vec2((index/9. - 0.5) * blurSize * invAspect, 0.);\n      vec2 newuv = uv + bl;\n      col += getToColor(newuv);\n    }\n    col = col / 30.;\n    return col;\n  }\n  \n  vec4 transition (vec2 uv) {\n    vec2 iResolution =vec2(1.0);\n    vec2 pos = uv;\n    float d = quarticInOut(1.-progress);\n    pos.x = uv.x + d;\n    //pos.y = zoomIn(uv.y, progress);\n    //pos.x = zoomOut(pos.x, progress);\n  \n    vec4 result;\n    vec4 col1 = getFromColor(uv);\n    vec4 col2 = blurToColor(pos, .2*d);\n  \n    result = col2;\n    if(uv.x> 1.0 - d){\n      result = col1;\n    }\n    if(pos.x<0.){\n      result = col1;\n    }\n    if(progress>=1.0){\n      return getToColor(uv);\n    }\n  \n    return result;\n  }\n"}},t=>{"use strict";t.exports={name:"Sunflower",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  const float NUM = 8.;\n\n  float getStep(vec2 p, float speed){\n    float circPos = atan(p.y - 0.5, p.x - 0.5) + progress * speed;\n    float modPos = mod(circPos, PI / NUM);\n    float signed = sign(progress - modPos);\n    return smoothstep(signed-.2,signed, 0.5);\n  }\n\n  vec4 transition(vec2 uv) {\n    vec2 p = uv.xy / vec2(1.0).xy;\n    vec2 center = vec2(.5);\n    float len = length(p-center);\n    for(float i=0.;i<=1.;i+=1./20.){\n      vec4 color = mix(getToColor(p), getFromColor(p), getStep(p, (1.-i)*6.));\n      if(len<i) return color;\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"ZoomRight",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n\n  float triangle(float x) {\n    return 1.0 - abs(fract(x) - 0.5) * 2.0;\n  }\n  float smootherstep(float x) {\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0);\n  }\n\n  float endPosition(float radius, float offset, float rollPosition) {\n    float rollLength = radius * 3.141592 / 2.0;\n    float onRoll = min(offset + 1.0 - rollPosition, rollLength);\n    return rollPosition + radius * sin(onRoll / radius);\n  }\n\n  float findRollPosition(float radius, float offset) {\n    float lower = 1.0 - radius;\n    float upper = 1.0;\n\n    float mid = 0.0;\n    for(int i = 0; i < 16; i++) {\n      mid = (upper + lower) / 2.0;\n      float position = endPosition(radius, offset, mid);\n      if(position > 1.0) {\n        upper = mid;\n      } else {\n        lower = mid;\n      }\n    }\n    return mid;\n  }\n\n  vec4 transition (vec2 uv) {\n      float iTime = progress*PI;\n      vec2 iResolution =vec2(1.0);\n      vec2 p = uv;\n      \n      float t = iTime / 5.0;\n      float offset = smootherstep(triangle(t));\n\n      float radius = 0.3;\n      float flatLength = 1.0 - radius;\n      float rollLength = radius * 3.141592 / 2.0;\n      float fullLength = flatLength + rollLength;\n\n      offset *= fullLength;\n      float rollPosition = findRollPosition(radius, offset);\n      float shadow;\n      if(p.x < rollPosition) {\n          uv.x -= offset;\n          shadow = 1.0;\n      } else {\n          float a = asin((p.x - rollPosition) / radius);\n          uv.x = a * radius - offset + rollPosition;\n          uv.y = (p.y - 0.5) / (0.4 * cos(a) + 0.6) + 0.5;\n          shadow = 0.5 * cos(a) + 0.5;\n      }\n      \n      vec4 fromColor = getFromColor(uv);\n      fromColor *= step(-uv.x, 0.0);\n      fromColor *= step(-uv.y, 0.0);\n      fromColor *= step(uv.y, 1.0);\n      fromColor *= shadow;\n      \n      vec4 result = fromColor;\n      vec4 toColor = getToColor(p);\n      \n      if(result.a<0.3) result = toColor;\n      if(progress>1.) return toColor;\n      return result;\n  }\n",author:"https://www.shadertoy.com/view/wssczB",createdAt:"Mon, 12 Jun 2020 12:52:34 +0800",updatedAt:"Mon, 12 Jun 2020 12:52:34 +0800"}},t=>{"use strict";t.exports={name:"WaterWave",paramsTypes:{},defaultParams:{},glsl:"\n  #define PIS 3.1415926\n\n  vec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n  vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n  vec4 permute(vec4 x) {\n    return mod289(((x*34.0)+1.0)*x);\n  }\n  vec4 taylorInvSqrt(vec4 r){\n    return 1.79284291400159 - 0.85373472095314 * r;\n  }\n\n  float snoise(vec3 v) {\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n        i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n      + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n      + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n\n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n\n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );\n  }\n\n  vec3 curlNoise( vec3 p ){\n    const float e = 0.1;\n    float  n1 = snoise(vec3(p.x, p.y + e, p.z));\n    float  n2 = snoise(vec3(p.x, p.y - e, p.z));\n    float  n3 = snoise(vec3(p.x, p.y, p.z + e));\n    float  n4 = snoise(vec3(p.x, p.y, p.z - e));\n    float  n5 = snoise(vec3(p.x + e, p.y, p.z));\n    float  n6 = snoise(vec3(p.x - e, p.y, p.z));\n\n    float x = n2 - n1 - n4 + n3;\n    float y = n4 - n3 - n6 + n5;\n    float z = n6 - n5 - n2 + n1;\n\n    const float divisor = 1.0 / ( 2.0 * e );\n    return normalize( vec3( x , y , z ) * divisor );\n  }\n\n  vec4 transition (vec2 uv) {\n    float iTime = progress * PIS/2.0;\n    float f = sin(iTime) ;\n    vec3 curl = curlNoise(vec3(uv,1.) *5. + iTime) / 1.;\n\n    vec4 t0 = getFromColor(vec2(uv.x,uv.y + f * (curl.x) ) );\n    vec4 t1 = getToColor(vec2(uv.x,uv.y + (1.-f) * (curl.x) ));\n  \n    uv.x += curl.x;\n    return mix(t0,t1,f);\n  }\n",author:"https://www.shadertoy.com/view/tdj3W3"}},t=>{"use strict";t.exports={name:"Radiation",paramsTypes:{},defaultParams:{},glsl:"\n  #define MPI 3.14159265\n  float cprogress;\n  float randomSeed;\n  float PHI = 1.61803398874989484820459; \n      \n  float LinearTween(float t, float start, float end){\n    return t * start + (1. - t) * end;\n  }\n      \n  float quadraticEaseIn(float t, float start, float end){\n    return LinearTween(t * t, start, end);\n  }\n      \n  vec4 radialWiggle(vec2 uv){\n      vec2 center = vec2(0.5,0.5);\n      vec2 toUV = uv - center;\n      float distanceFromCenter = length(toUV);\n      vec2  normToUV = toUV / distanceFromCenter;\n      float angle = (cos(MPI/2.0*cprogress) + MPI) / (0.2 * MPI);\n      float offset1 = getFromColor(vec2(angle, fract(cprogress/3. + distanceFromCenter/5. + randomSeed))).x * 3.0 - 1.0;\n      float offset2 = offset1 * 2.0 * min(0.3, (1.-cprogress)) * distanceFromCenter;\n      offset1 = offset1 * 2.0 * min(0.3, cprogress) * distanceFromCenter;\n      \n      vec4 c1 = getToColor(fract(center + normToUV * (distanceFromCenter + offset1)));\n      vec4 c2 = getFromColor(fract(center + normToUV * (distanceFromCenter + offset2)));\n      return mix(c1, c2, cprogress);\n  }\n      \n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    randomSeed = MPI ;\n    cprogress  = quadraticEaseIn(progress, 0.0, 1.0);\n    return radialWiggle(uv);\n  }\n"}},t=>{"use strict";t.exports={name:"Quicksand",paramsTypes:{},defaultParams:{},glsl:"\n  #define M_PI 3.1415926535897932384626433832795\n\n  vec4 transition (vec2 uv) {\n    vec4 color1 = getFromColor(uv+(getToColor(uv).rb)*progress);\n    return mix(color1, getToColor(uv), progress);\n  }\n"}},t=>{"use strict";t.exports={name:"Magnifier",paramsTypes:{},defaultParams:{},glsl:"\n  const float PI = 3.1415927;\n  const float radius = .3;\n  const float width = .35;\n\n  float quarticIn(float t) {\n      return pow(t, 4.0);\n  }\n\n  float parabola( float x, float k ) {\n    return pow( 4. * x * ( 1. - x ), k );\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 cuv = (uv - vec2(0.5)) + vec2(0.5);\n    vec2 start = vec2(0.5,0.5);\n    vec2 aspect = vec2(1.);\n    float dt = parabola(progress, 1.);\n    float time = quarticIn(progress);\n    vec4 bg = getFromColor(fract(cuv+time*0.04));\n    float prog = progress*0.66 + bg.g * 0.04;\n    float circ = 1. - smoothstep(-width, 0.0, radius * distance(start*aspect, cuv*aspect) - prog*(1.+width));\n    float intpl = pow(abs(circ), 1.);\n\n    vec4 t1 = getFromColor((cuv - 0.5) * (1.0 - intpl) + 0.5 ) ;\n    vec4 t2 = getToColor((cuv - 0.5) * intpl + 0.5 );\n    return mix( t1, t2, intpl );\n  }\n"}},t=>{"use strict";t.exports={name:"FastSwitch",paramsTypes:{},defaultParams:{},glsl:"\n  #define PIS 3.141592653589793\n\n  float sineInOut(float t) {\n    return -0.5 * (cos(PIS * t) - 1.0);\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float iTime = progress;\n\n    vec4 _currentImage;\n    vec4 _nextImage;\n    float dispFactor = sineInOut(iTime * 1.);\n\n    float intensity = 0.3;\n\n    vec4 orig1 = getFromColor(uv);\n    vec4 orig2 = getToColor(uv);\n    _currentImage = getFromColor(vec2(uv.x, uv.y + dispFactor * (orig2.r * intensity)));\n    _nextImage = getToColor(vec2(uv.x, uv.y + (1.0 - dispFactor) * (orig1.r * intensity)));\n\n    vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n\n    return finalTexture;\n  }\n"}},t=>{"use strict";t.exports={name:"HangAround",paramsTypes:{},defaultParams:{},glsl:"\n  vec2 direction = vec2(-1.0, 0.0);\n  const float PI = 3.1415927;\n\n  float backIn(float t) {\n    return pow(t, 3.0) - t * sin(t * PI);\n  }\n\n  float backOut(float t) {\n    float f = 1.0 - t;\n    return 1.0 - (pow(f, 3.0) - f * sin(f * PI));\n  }\n\n  vec4 transition(vec2 uv) {\n    for(float i=0.;i<=1.1;i+=1./40.){\n      float d = .3;\n      float k = 1./d;\n      float ds = i*(1.-d)/10.;\n      float time = k*(progress-ds);\n      time = clamp(time,0.,1.);\n      //time = pow(time, .7);\n      time = backOut(time);\n\n      vec2 p = uv + time * sign(direction);\n      vec2 f = fract(p);\n      vec4 color = mix(\n        getToColor(f),\n        getFromColor(f),\n        step(0.0, p.x) * step(p.y, 1.0) * step(0.0, p.x) * step(p.x, 1.0)\n      );\n\n      if((1.-uv.y)<=i) return color;\n    }\n  }\n"}},t=>{"use strict";t.exports={name:"CircleCrop",paramsTypes:{bgcolor:"vec4"},defaultParams:{bgcolor:[0,0,0,1]},glsl:"\n  uniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\n\n  vec2 ratio2 = vec2(1.0, 1.0 / ratio);\n  float s = pow(2.0 * abs(progress - 0.5), 3.0);\n\n  vec4 transition(vec2 p) {\n    float dist = length((vec2(p) - 0.5) * ratio2);\n\n    return mix(\n      progress < 0.5 ? getFromColor(p) : getToColor(p),\n      bgcolor,\n      smoothstep(s, s+0.01, dist)\n    );\n  }\n"}},t=>{"use strict";t.exports={name:"WindowShades",paramsTypes:{},defaultParams:{},glsl:"\n  float getSpeed(float t, float speed){\n    float d = 0.7*speed;\n    float k = 1./(1.-d);\n    float b = -1./(1.-d)*d;\n    float y = k*t+b; \n    y = clamp(y, 0., 1.);\n    return y*y;\n  }\n\n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    float t = progress;\n      \n    vec4 result = getToColor(uv);\n    vec4 result2 = getToColor(uv);\n    vec2 translate = vec2(uv.x,uv.y);\n        \n    float div = 2.0;\n    float num = 20.0;\n    float fy = floor(uv.y * num);\n    float odd = fy - (div * floor(fy/div));\n    float speed = (fy/num);\n      \n    if( odd == 0.0){\n      translate.x = translate.x - getSpeed(t, speed);    \n      result = getFromColor(translate);\n      if(translate.x<0.0){\n        result.rgb = result2.rgb;\n      }\n    }else{\n      translate.x = translate.x + getSpeed(t, speed);    \n      result = getFromColor(translate);\n      if(translate.x>1.0){\n        result.rgb = result2.rgb;\n      }\n    }\n    \n    return result;\n  }\n"}},t=>{"use strict";t.exports={name:"TricolorCircle",paramsTypes:{},defaultParams:{},glsl:"\n  #define D120 2.09439510239\n  #define D240 4.18879020479\n      \n  bool inEllipse(vec3 circle, vec2 point){\n    float a,b;\n    if(ratio>1.){\n      a = circle.z; \n      b = circle.z*ratio;\n    }else{\n      a = circle.z / ratio; \n      b = circle.z;\n    }\n    float aa = a*a;\n    float bb = b*b;\n    float xx = pow(point.x-circle.x, 2.0);\n    float yy = pow(point.y-circle.y, 2.0);\n    \n    if(xx/aa + yy/bb <= 1.0)\n      return true; \n    return false;\n  }\n      \n  vec4 transition (vec2 uv) {\n    vec2 iResolution = vec2(1.0);\n    vec2 po = uv.xy;\n    vec2 sc = vec2(0.5);   \n    float r = progress;       //Radius\n    float d = 0.3;            //Distance\n    float a = progress * 4.0; //Angle progress\n\n    vec3 rC = vec3(sc.x + d * sin(a),         sc.y + d * cos(a),      r);\n    vec3 gC = vec3(sc.x + d * sin(a + D120),  sc.y + d * cos(a + D120),   r);\n    vec3 bC = vec3(sc.x + d * sin(a + D240),  sc.y + d * cos(a + D240),   r);\n\n    vec4 col1 = getFromColor(uv);\n    vec4 col0 = getToColor(uv);\n\n    if(!inEllipse(rC, po))\n      col0.r = col1.r;\n    if(!inEllipse(gC, po))\n      col0.g = col1.g;\n    if(!inEllipse(bC, po))\n      col0.b = col1.b;\n      \n    if(progress>=1.0) return col0;\n    return col0;\n  }\n",author:"https://www.shadertoy.com/view/WdsyRX"}},(t,e,r)=>{"use strict";r(265);const n=r(258),i=r(474),{DisplayObject:o,BLEND_MODES:s}=r(14);t.exports=class extends n{constructor(t={}){super({type:"node",...t}),this.preload=!!t.preload,this.setScale(this.conf.scale||1),this.updateAttr(),this.updateAnimations(),t.width&&(this.conf.width=this.vu(t.width)),t.height&&(this.conf.height=this.vu(t.height))}updateMaterialTime(){}set audio(t){}get audio(){return!1}get blend(){return this.conf.blend||"NORMAL"}updateAttr(){const{x:t=0,y:e=0,rotate:r=0,opacity:n=1,anchor:i=.5,blend:o}=this.conf;this.setXY(t,e),this.setRotate(r),this.setAnchor(i),this.addBlend(o),this.setChromaKey(),this.setColor(),this.setOpacity(n)}updateAnimations(){if(this.animations&&(this.animations.destroy(),this.updateAttr()),this.animations=new i(this),Array.isArray(this.conf.animate)?this.conf.animate.map((t=>this.addAnimate(t))):this.conf.animate&&"object"==typeof this.conf.animate&&this.addAnimate(this.conf.animate),this.conf.effect)if("object"==typeof this.conf.effect&&this.conf.effect.name&&(this.conf.effect=[this.conf.effect]),Array.isArray(this.conf.effect))this.conf.effect.map((t=>{this.addEffect(t.name.split(","),t.time,t.delay)}));else if(this.conf.effect&&this.conf.effectTime){const{effect:t,effectTime:e,effectDelay:r}=this.conf;this.addEffect(t.split(","),e,r)}}show(){super.show(),this.animations.start()}hide(){super.hide(),this.animations.stop()}setAnchor(t,e){this.display?.anchor&&(Array.isArray(t)&&(e=t[1],t=t[0]),e=void 0===e?t:e,this.display.anchor.set(t,e),.5==t&&.5==e?delete this.conf.anchor:this.conf.anchor=[t,e])}setScale(t=1){!isNaN(t)&&this.display&&(this.scale=t,this.display.scale.set(t,t))}setRotate(t=0){!isNaN(t)&&this.display&&(Math.abs(t)<1e-4&&(t=0),this.display.rotation=t,0===t?delete this.conf.rotate:this.conf.rotate=t)}setDuration(t){this.duration=t}setXY(t=0,e=0){this.display&&(this.display.x=this.px(t),this.display.y=this.px(e),this.setConfRpx("x",this.display.x),this.setConfRpx("y",this.display.y))}set opacity(t){this.display&&(this.display.alpha=t,1===t?delete this.conf.opacity:this.conf.opacity=t)}get opacity(){return this.conf.opacity||1}setWH(t,e){this.setSize(t,e)}setSize(t,e){this.setConfRpx("width",t),this.setConfRpx("height",e)}addBlend(t=""){const e=s[t.toUpperCase()];e&&(this.display.blendMode=e)}setOpacity(t){this.opacity=t}setColor(){let t=this.conf.color;if(!Array.isArray(t)){if(!t?.key)return void(this.display&&this.display.setColorMatrix(null));t=[t]}const e=isNaN(this.conf.colorAlpha)?1:Number(this.conf.colorAlpha);this.display.setColorMatrix(t,Math.min(1,Math.max(e,0)))}setChromaKey(){const{chromaKey:t,chromaSimilarity:e,chromaSmoothness:r,chromaSaturation:n,chromaShadowness:i}=this;t&&this.display?this.display.chroma={color:t,similarity:e,smoothness:r,saturation:n,shadowness:i}:this.display&&(this.display.chroma=null)}get chromaKey(){return this.conf.chromaKey}get chromaSimilarity(){return this.conf.chromaSimilarity||.2}get chromaSmoothness(){return this.conf.chromaSmoothness||.1}get chromaSaturation(){return this.conf.chromaSaturation||.1}get chromaShadowness(){return this.conf.chromaShadowness||.1}get rotate(){return this.getRotation()}get rotation(){return this.getRotation()}get x(){return this.getX()}get y(){return this.getY()}get width(){return this.getWidth()}get height(){return this.getHeight()}get anchorX(){return this.getAnchor().x}get anchorY(){return this.getAnchor().y}getAnchor(){return this.display.anchor}getRotation(){return this.display.rotation||0}getX(){return this.display.x}getY(){return this.display.y}getXY(){return[this.display.x,this.display.y]}getWH(){const{width:t=0,height:e=0}=this.conf;return t&&e?this.px([t,e]):[this.display.width,this.display.height]}getWidth(){return this.getWH()[0]}getHeight(){return this.getWH()[1]}getProp(t){return this.display[t]}fitSize(){let{width:t,height:e}=this.conf;this.display.attr(this.px({width:t,height:e}))}fitTexture(){}setAnimations(t){this.animations.setAnimations(t)}addEffect(t,e,r){this.animations.addEffect(t,e,r)}addAnimate(t){return this.animations.addAnimate(t)}destroy(){this.animations&&this.animations.destroy(),super.destroy(),this.animations=null,this.display=null,this.parent=null}}},(t,e,r)=>{"use strict";const n=r(475),i=r(291),o=r(323),s=r(476);t.exports=class{constructor(t){this.animations=[],this.list=[],this.target=t}async apply(t,e){for(const r of this.list)await r.apply(t,e)}setAnimations(t=[]){i(t,(t=>this.addAnimate(t)))}addAnimate(t){this.animations.push(t)}addEffect(t,e,r){const{display:i}=this.target,s=void 0===e?n(t):{type:t,time:e,delay:r},a=o.getAnimation(s,i);a&&this.addAnimate(a)}initAnimation(t){if(!t.isFFAni){const e=this.target;t=new s({...t,parent:e})}return t.init(),this.list.push(t),t}start(){if(this.started||(i(this.animations,(t=>this.initAnimation(t))),this.started=!0),!this.list.length)return;const t=this.getFirstAni();t.mayStart()?i(this.list,(t=>t.start())):t.setAttr()}stop(){i(this.list,(t=>t.stop()))}onAniStart(t){if(!this.getDelayTime())return t();this.getFirstAni().on("start",t)}getDurationTime(){let t=Math.pow(10,9);return this.list.length?(i(this.list,(e=>{e.to&&"out"===e.to.type&&(t=e.delay+e.time)})),t):t}getDelayTime(){if(!this.list.length)return 0;const t=this.getFirstAni();return t.to&&"in"===t.to.type?t.delay:0}getFirstAni(){let t=this.list[0];return i(this.list,(e=>{t.delay>e.delay&&(t=e)})),t}destroy(){this.target=null,i(this.list,(t=>t.destroy())),this.list.length=0,this.animations=[]}}},(t,e,r)=>{var n=r(412);t.exports=function(t){return n(t,4)}},(t,e,r)=>{"use strict";const n=r(477),i=r(475),o=r(259),s=r(236),a=r(277),{isBrowser:u}=r(13),l=r(u?433:434);t.exports=class extends o{constructor(t={time:.7,delay:0,ease:"Linear.None"}){super({type:"animation"});const{from:e,to:r,type:n,time:o=.7,delay:s=0,ease:u="Linear.None",parent:l}=t;this.baseAttr={};for(const t of Object.keys(e))this.baseAttr[t]=l.display.getAttr(t);this.from=this.adjustAttr(e),this.to=this.adjustAttr(r),this.origFrom=i(this.from),this.to.type=n,this.ease=u,this.parent=l,this.proxyAttr={},this.isFFAni=!0,this.autoAlpha=!1,this.absTimeOffset=0,this.time=a.toMilliseconds(o),this.delay=a.toMilliseconds(s),this.tweenGroup=this.root().tweenGroup}startTime(){return this._startTime?this._startTime:this._startTime=this.absTimeOffset+this.delay>>0}mayStart(){return this.tweenGroup.now()>this.startTime()}adjustAttr(t){for(const e of Object.keys(this.baseAttr))e in t&&["scale","alpha"].includes(e)&&(t[e]*=this.baseAttr[e]);return t}async apply(t,e){return new Promise((r=>{const o=new l.Group;o.now=()=>0;const{origFrom:s,to:a}=this.getFromTo(),u=i(s),c=i(a),h=n(l.Easing,this.ease),f=this.startTime();if(e<=f)t.attr(u);else if(e>=f+this.time)t.attr(c);else{const n=new l.Tween(u,o).to(c,this.time).delay(this.startTime()).easing(h).onStart((()=>{this.autoAlpha&&void 0===from.alpha&&(t.alpha=1)})).onUpdate((e=>{r(t.attr(e))}));n.start(),n._startTime=this.startTime(),o.update(e)}o.removeAll()}))}init(){this.absTimeOffset=a.toMilliseconds(this.parent.absStartTime);const t=this.startTime(),{from:e,to:r}=this.getFromTo(),o=n(l.Easing,this.ease);this.complement(e,r),this.proxyAttr=i(e),this.tween=new l.Tween(e,this.tweenGroup).to(r,this.time).delay(t).easing(o).onStart((()=>{if(this.autoAlpha){const{display:t}=this.parent;void 0===e.alpha&&(t.alpha=1)}this.emit("start")})).onUpdate((()=>{if(!this.proxyAttr)return;const{display:t}=this.parent;this.copyAndResetAttr(this.proxyAttr,e),t.attr(this.proxyAttr)})).onComplete((()=>{this.emit("complete",this)}))}copyAndResetAttr(t,e){return this.copyAttr(t,e),void 0!==e.alpha&&(t.alpha=s.floor(e.alpha,2),t.alpha=Math.max(t.alpha,0),t.alpha=Math.min(t.alpha,1)),t}setAttr(){const{display:t}=this.parent,{origFrom:e,to:r}=this.getFromTo();this.complement(e,r),this.copyAndResetAttr(this.proxyAttr,e),t.attr(this.proxyAttr)}complement(t,e){const{display:r}=this.parent;for(let n in t)void 0===e[n]&&"type"!==n&&(e[n]=r.getAttr(n));for(let n in e)void 0===t[n]&&"type"!==n&&(t[n]=r.getAttr(n))}getFromTo(){const{display:t}=this.parent,e=this.from||this.cloneFromSprite(t),r=this.origFrom||this.cloneFromSprite(t);return{from:e,to:this.to||this.cloneFromSprite(t),origFrom:r}}start(){this.tween.start(),this.tween._startTime=this.startTime()}stop(){this.tween.stop()}cloneFromSprite(t){return{x:t.x,y:t.y,alpha:t.alpha,rotation:t.rotation,scale:t.scale.x}}copyAttr(t,e){for(let r in e)t[r]=e[r]}destroy(){this.stop(),this.proxyAttr=null,this.tween=null,this.parent=null,this.from=null,this.to=null,super.destroy()}}},(t,e,r)=>{var n=r(478);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},(t,e,r)=>{var n=r(479),i=r(486);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},(t,e,r)=>{var n=r(302),i=r(480),o=r(481),s=r(484);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(s(t))}},(t,e,r)=>{var n=r(302),i=r(267),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},(t,e,r)=>{var n=r(482),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=s},(t,e,r)=>{var n=r(483);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},(t,e,r)=>{var n=r(347);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},(t,e,r)=>{var n=r(485);t.exports=function(t){return null==t?"":n(t)}},(t,e,r)=>{var n=r(269),i=r(410),o=r(302),s=r(267),a=n?n.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},(t,e,r)=>{var n=r(267);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},(t,e,r)=>{"use strict";const n=r(473),{isBrowser:i}=r(13),{canvasRGBA:o}=r(488),{createCanvas:s,createImageData:a,Texture:u,Graphics:l,Sprite:c,RenderTexture:h,CanvasRenderer:f}=r(14),{STR2RGB:d,RGB2HEX:p}=r(489);t.exports=class extends n{constructor(t={}){super({type:"graph",...t})}createDisplay(){this.graph=new l;const{shape:t,color:e="#FFF",opacity:r=1}=this.conf;this.graph.beginFill(p(d(e,"#FFF")),r),Array.isArray(t)?t.map((t=>this.draw(t))):this.draw(t),this.display=this.getSprite()}async getDisplay(t,e){const r=this.getSprite();if(r.copyFromProxy(this.display),this.animations){const n=1e3*("rel"===e.timing?t+this.absStartTime:t)>>0;this.animations.apply(r,n)}return r}getSprite(){const t=Number(this.conf.blur),e=this.creator().app.renderer,r=this.graph.generateTexture(e,0,2),n=r.baseTexture._glRenderTargets[0].frameBuffer.gl,[l,h]=[2*r.baseTexture.width,2*r.baseTexture.height],f=new Uint8Array(l*h*4);n.readPixels(0,0,l,h,n.RGBA,n.UNSIGNED_BYTE,f);const d=a(new Uint8ClampedArray(f),l,h);let p=s(l,h);if(p.getContext("2d").putImageData(d,0,0),t>0){const e=2*t,r=s(l+2*e,h+2*e),n=r.getContext("2d");i&&(n.filter=`blur(${t}px)`),n.drawImage(p,e,e,l,h),i||o(r,0,0,l,h,t),p=r}return new c(u.fromCanvas(p))}draw(t){let e=null,r=[];if("string"==typeof t)e=this[t];else if("object"==typeof t){e=this[t.shape],r.push(t);const{color:n,opacity:i=this.conf.opacity||1}=t,o=d(n);isNaN(o[0])||this.graph.beginFill(p(o),i)}e&&"function"==typeof e&&e.call(this,...r)}rect(t){let{x:e,y:r,width:n,height:i}=t||this.conf;t||(e=0,r=0),this.graph.drawRect(this.px(e),this.px(r),this.px(n),this.px(i))}roundedrect(t){let{x:e,y:r,width:n,height:i,radius:o}=t||this.conf;t||(e=0,r=0),this.graph.drawRoundedRect(this.px(e),this.px(r),this.px(n),this.px(i),this.px(o))}circle(t){let{x:e,y:r,radius:n}=t||this.conf;t||(e=0,r=0),this.graph.drawCircle(this.px(e),this.px(r),this.px(n))}ellipse(t){let{x:e,y:r,width:n,height:i}=t||this.conf;t||(e=0,r=0),this.graph.drawEllipse(this.px(e),this.px(r),this.px(n),this.px(i))}polygon(t){let{points:e}=t||this.conf;this.graph.drawPolygon(e)}star(t){let{x:e,y:r,points:n,radius:i,innerRadius:o,rotation:s}=t||this.conf;t||(e=0,r=0),this.graph.drawStar(this.px(e),this.px(r),n,this.px(i),this.px(o),s)}async drawing(t,e){let r=await super.drawing(t,e),{width:n,height:i}=this;return this.display.width===n&&this.display.height===i||this.display.attr({width:n,height:i}),r}}},(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.r(e),r.d(e,{BlurStack:()=>f,canvasRGB:()=>c,canvasRGBA:()=>u,image:()=>s,imageDataRGB:()=>h,imageDataRGBA:()=>l});var i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(t,e,r,n,i,o){if("string"==typeof t&&(t=document.getElementById(t)),t&&"naturalWidth"in t){var s=i?"offset":"natural",a=t[s+"Width"],l=t[s+"Height"];if("string"==typeof e&&(e=document.getElementById(e)),e&&"getContext"in e){o||(e.style.width=a+"px",e.style.height=l+"px"),e.width=a,e.height=l;var h=e.getContext("2d");h.clearRect(0,0,a,l),h.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,a,l),isNaN(r)||r<1||(n?u(e,0,0,a,l,r):c(e,0,0,a,l,r))}}}function a(t,e,r,i,o){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==n(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var s=t.getContext("2d");try{return s.getImageData(e,r,i,o)}catch(t){throw new Error("unable to access image data: "+t)}}function u(t,e,r,n,i,o){if(!(isNaN(o)||o<1)){o|=0;var s=a(t,e,r,n,i);s=l(s,0,0,n,i,o),t.getContext("2d").putImageData(s,e,r)}}function l(t,e,r,n,s,a){for(var u,l=t.data,c=2*a+1,h=n-1,d=s-1,p=a+1,g=p*(p+1)/2,v=new f,m=v,_=1;_<c;_++)m=m.next=new f,_===p&&(u=m);m.next=v;for(var y=null,b=null,x=0,T=0,E=i[a],w=o[a],A=0;A<s;A++){m=v;for(var S=l[T],I=l[T+1],C=l[T+2],O=l[T+3],R=0;R<p;R++)m.r=S,m.g=I,m.b=C,m.a=O,m=m.next;for(var M=0,N=0,P=0,L=0,D=p*S,k=p*I,F=p*C,B=p*O,j=g*S,U=g*I,V=g*C,z=g*O,W=1;W<p;W++){var G=T+((h<W?h:W)<<2),H=l[G],$=l[G+1],X=l[G+2],q=l[G+3],Y=p-W;j+=(m.r=H)*Y,U+=(m.g=$)*Y,V+=(m.b=X)*Y,z+=(m.a=q)*Y,M+=H,N+=$,P+=X,L+=q,m=m.next}y=v,b=u;for(var K=0;K<n;K++){var J=z*E>>w;if(l[T+3]=J,0!==J){var Z=255/J;l[T]=(j*E>>w)*Z,l[T+1]=(U*E>>w)*Z,l[T+2]=(V*E>>w)*Z}else l[T]=l[T+1]=l[T+2]=0;j-=D,U-=k,V-=F,z-=B,D-=y.r,k-=y.g,F-=y.b,B-=y.a;var Q=K+a+1;Q=x+(Q<h?Q:h)<<2,j+=M+=y.r=l[Q],U+=N+=y.g=l[Q+1],V+=P+=y.b=l[Q+2],z+=L+=y.a=l[Q+3],y=y.next;var tt=b,et=tt.r,rt=tt.g,nt=tt.b,it=tt.a;D+=et,k+=rt,F+=nt,B+=it,M-=et,N-=rt,P-=nt,L-=it,b=b.next,T+=4}x+=n}for(var ot=0;ot<n;ot++){var st=l[T=ot<<2],at=l[T+1],ut=l[T+2],lt=l[T+3],ct=p*st,ht=p*at,ft=p*ut,dt=p*lt,pt=g*st,gt=g*at,vt=g*ut,mt=g*lt;m=v;for(var _t=0;_t<p;_t++)m.r=st,m.g=at,m.b=ut,m.a=lt,m=m.next;for(var yt=n,bt=0,xt=0,Tt=0,Et=0,wt=1;wt<=a;wt++){T=yt+ot<<2;var At=p-wt;pt+=(m.r=st=l[T])*At,gt+=(m.g=at=l[T+1])*At,vt+=(m.b=ut=l[T+2])*At,mt+=(m.a=lt=l[T+3])*At,Et+=st,bt+=at,xt+=ut,Tt+=lt,m=m.next,wt<d&&(yt+=n)}T=ot,y=v,b=u;for(var St=0;St<s;St++){var It=T<<2;l[It+3]=lt=mt*E>>w,lt>0?(lt=255/lt,l[It]=(pt*E>>w)*lt,l[It+1]=(gt*E>>w)*lt,l[It+2]=(vt*E>>w)*lt):l[It]=l[It+1]=l[It+2]=0,pt-=ct,gt-=ht,vt-=ft,mt-=dt,ct-=y.r,ht-=y.g,ft-=y.b,dt-=y.a,It=ot+((It=St+p)<d?It:d)*n<<2,pt+=Et+=y.r=l[It],gt+=bt+=y.g=l[It+1],vt+=xt+=y.b=l[It+2],mt+=Tt+=y.a=l[It+3],y=y.next,ct+=st=b.r,ht+=at=b.g,ft+=ut=b.b,dt+=lt=b.a,Et-=st,bt-=at,xt-=ut,Tt-=lt,b=b.next,T+=n}}return t}function c(t,e,r,n,i,o){if(!(isNaN(o)||o<1)){o|=0;var s=a(t,e,r,n,i);s=h(s,0,0,n,i,o),t.getContext("2d").putImageData(s,e,r)}}function h(t,e,r,n,s,a){for(var u,l=t.data,c=2*a+1,h=n-1,d=s-1,p=a+1,g=p*(p+1)/2,v=new f,m=v,_=1;_<c;_++)m=m.next=new f,_===p&&(u=m);m.next=v;for(var y,b,x=null,T=null,E=i[a],w=o[a],A=0,S=0,I=0;I<s;I++){var C=l[S],O=l[S+1],R=l[S+2],M=p*C,N=p*O,P=p*R,L=g*C,D=g*O,k=g*R;m=v;for(var F=0;F<p;F++)m.r=C,m.g=O,m.b=R,m=m.next;for(var B=0,j=0,U=0,V=1;V<p;V++)y=S+((h<V?h:V)<<2),L+=(m.r=C=l[y])*(b=p-V),D+=(m.g=O=l[y+1])*b,k+=(m.b=R=l[y+2])*b,B+=C,j+=O,U+=R,m=m.next;x=v,T=u;for(var z=0;z<n;z++)l[S]=L*E>>w,l[S+1]=D*E>>w,l[S+2]=k*E>>w,L-=M,D-=N,k-=P,M-=x.r,N-=x.g,P-=x.b,y=A+((y=z+a+1)<h?y:h)<<2,L+=B+=x.r=l[y],D+=j+=x.g=l[y+1],k+=U+=x.b=l[y+2],x=x.next,M+=C=T.r,N+=O=T.g,P+=R=T.b,B-=C,j-=O,U-=R,T=T.next,S+=4;A+=n}for(var W=0;W<n;W++){var G=l[S=W<<2],H=l[S+1],$=l[S+2],X=p*G,q=p*H,Y=p*$,K=g*G,J=g*H,Z=g*$;m=v;for(var Q=0;Q<p;Q++)m.r=G,m.g=H,m.b=$,m=m.next;for(var tt=0,et=0,rt=0,nt=1,it=n;nt<=a;nt++)S=it+W<<2,K+=(m.r=G=l[S])*(b=p-nt),J+=(m.g=H=l[S+1])*b,Z+=(m.b=$=l[S+2])*b,tt+=G,et+=H,rt+=$,m=m.next,nt<d&&(it+=n);S=W,x=v,T=u;for(var ot=0;ot<s;ot++)l[y=S<<2]=K*E>>w,l[y+1]=J*E>>w,l[y+2]=Z*E>>w,K-=X,J-=q,Z-=Y,X-=x.r,q-=x.g,Y-=x.b,y=W+((y=ot+p)<d?y:d)*n<<2,K+=tt+=x.r=l[y],J+=et+=x.g=l[y+1],Z+=rt+=x.b=l[y+2],x=x.next,X+=G=T.r,q+=H=T.g,Y+=$=T.b,tt-=G,et-=H,rt-=$,T=T.next,S+=n}return t}var f=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}},(t,e,r)=>{"use strict";const{utils:n}=r(14),i={HSL2RGB:(t,e,r)=>{let n,i,o;if(0==e)n=i=o=r;else{const s=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t);let a=r<.5?r*(1+e):r+e-r*e,u=2*r-a;n=s(u,a,t+1/3),i=s(u,a,t),o=s(u,a,t-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*o)]},RGB2HSL:(t,e,r)=>n.rgb2hsl(t,e,r),STR2RGB:(t,e=null)=>{let r,n,o;return 4===t.length?(r="0x"+t[1]+t[1],n="0x"+t[2]+t[2],o="0x"+t[3]+t[3]):7===t.length&&(r="0x"+t[1]+t[2],n="0x"+t[3]+t[4],o="0x"+t[5]+t[6]),isNaN(r)||isNaN(n)||isNaN(o)?i.STR2RGB(e):[Number(r),Number(n),Number(o)]},RGB2HEX:t=>(t[0]<<16)+(t[1]<<8)+(0|t[2])};t.exports=i},(t,e,r)=>{"use strict";const n=r(257),{createCanvas:i,Sprite:o,Texture:s}=(r(279),r(14));t.exports=class extends n{constructor(t={}){super({type:"cover",...t})}get canvasEditNode(){return this.mask}get audio(){}async getPreview(t,e){return await super.getPreview(t,e)}createDisplay(){super.createDisplay(),this.bgCanvas=i(this.canvasWidth,this.canvasHeight),this.background&&this.display.removeChild(this.background),this.background=new o(s.fromCanvas(this.bgCanvas)),this.display.addChild(this.background)}show(){super.show();const t=this.display.parent;for(const e of[...t.children])e===this.display||e.zIndex>this.zIndex||e.isMask||e.parent!==this.display&&(this.display.addChild(e),e.locked=!0)}hide(){const t=this.display.parent;super.hide();for(const e of[...this.display.children])e.locked&&(t.addChild(e),e.locked=!1)}}},(t,e,r)=>{"use strict";const n=r(473),i=r(302),o=r(279),s=r(283),{ProxyObj:a,Text:u}=r(14),{isBrowser:l}=r(13),{nodeRequire:c}=r(236),h=r(492),{STR2RGB:f,RGB2HSL:d}=r(489),p=c("fs-extra"),g={},v={left:0,center:.5,right:1},m={top:0,center:.5,bottom:1};t.exports=class extends n{constructor(t={text:"",style:{fontSize:28}}){!t.text&&t.content&&(t.text=t.content.innerHTML||`${t.content}`),super({type:"text",...t}),this.queue=new s,this.setAlign(!0);const e=["fontSize","letterSpacing","lineHeight"];for(const r of e)t[r]&&(this[r]=t[r]);t.stroke?.size&&(this.conf.stroke.size=this.vu(t.stroke?.size,"1%")),t.shadow?.blur&&(this.conf.shadow.blur=this.vu(t.shadow?.blur,"1%")),t.shadow?.offset&&(this.conf.shadow.offset=this.vu(t.shadow?.offset,"1%")),this._selectionBgColor="#CCC",this.editMode=!1}get cursorIndex(){return this.display.cursor().ci}set cursorIndex(t){this.display.cursor(t)}get selectionBgColor(){return this._selectionBgColor}set selectionBgColor(t){this._selectionBgColor=t,this.display._style.selectionBgColor=t}get material(){return this.speech?.material}get volume(){return this.speech?.volume}get buffer(){return this.speech?.buffer}get speech(){const t=this.children.filter((t=>"speech"===t.type));return t.length>0?t[t.length-1]:null}get audio(){const t=this.speech;return!!t&&t.audio}set audio(t){const e=this.speech;e&&(e.audio=t)}get wrap(){return!!this.conf.wrap}set wrap(t){this.conf.wrap=!!t}get useFontFamily(){return this.cachedFontFamily||this.conf.fontFamily}get fontFamily(){return this.conf.fontFamily}set fontFamily(t){this.conf.fontFamily=t}get fontSize(){return super.px(this.conf.fontSize)}set fontSize(t){this.conf.fontSize=super.vu(t,this.conf.fontSize)}get letterSpacing(){let t=`${this.conf.letterSpacing||"0%"}`;return t.endsWith("%")&&!isNaN(t.replace("%",""))?this.fontSize*Number(t.replace("%",""))*.01:this.px(this.conf.letterSpacing)}set letterSpacing(t){this.conf.letterSpacing=this.vu(t,this.conf.letterSpacing||"0%")}get lineHeight(){let t=`${this.conf.lineHeight||"150%"}`;return t.endsWith("%")&&!isNaN(t.replace("%",""))?this.fontSize*Number(t.replace("%",""))*.01:this.px(this.conf.lineHeight)}set lineHeight(t){this.conf.lineHeight=this.vu(t,this.conf.lineHeight||"150%")}get align(){return this.conf.align||"center"}set align(t){this.conf.align=t}get valign(){return this.conf.valign||"center"}set valign(t){this.conf.valign=t}get color(){return this.conf.color||"#FFFFFF"}set color(t){this.conf.color=t}get backgroundColor(){return this.conf.backgroundColor}set backgroundColor(t){this.conf.backgroundColor=t}get styleStroke(){return{stroke:this.conf.stroke?.color,strokeThickness:this.px(this.conf.stroke?.size)||0}}get stroke(){return this.conf.stroke}set stroke(t){this.conf.stroke=t}get styleShadow(){const t=void 0!==this.conf.shadow?.angle?Number(this.conf.shadow?.angle):45;return{dropShadow:this.conf.shadow&&this.conf.shadow?.color,dropShadowColor:this.conf.shadow?.color,dropShadowAlpha:Number(this.conf.shadow?.alpha)||0,dropShadowBlur:this.px(this.conf.shadow?.blur)||0,dropShadowDistance:this.px(this.conf.shadow?.offset)||0,dropShadowAngle:t*(Math.PI/180)}}get padding(){let t=`${this.conf.padding||"0%"}`;return t.endsWith("%")&&!isNaN(t.replace("%",""))?this.fontSize*Number(t.replace("%",""))*.01:this.px(this.conf.padding)}set padding(t){this.conf.padding=this.vu(t,this.conf.padding||"0%")}get shadow(){return this.conf.shadow}set shadow(t){this.conf.shadow=t}get text(){return this.conf.text}set text(t){this.conf.text=t,this.display.text=t,this.display.updateText(!1)}toJson(t=!1){const e=super.toJson(t);return t&&(delete e.height,delete e.viewWidth,delete e.viewHeight,this.wrap||delete e.width),e}px(t){return"string"==typeof t&&t.endsWith("%")&&!isNaN(t.replace("%",""))?Math.round(this.fontSize*Number(t.replace("%",""))*.01):super.px(t)}vu(t,e){if("string"==typeof t&&t.endsWith("%"))return t;const r=this.px(t);return"string"==typeof e&&e.endsWith("%")&&!isNaN(r)?`${Math.round(r/this.fontSize*100)}%`:super.vu(t,e)}createDisplay(){let{text:t,fontSize:e}=this;this.display=new u,this.display.text=t}async getDisplay(t,e){const r=new u;if(r.copyFromProxy(this.display),this.animations){const n=1e3*("rel"===e.timing?t+this.absStartTime:t)>>0;this.animations.apply(r,n)}return r}async preProcessing(){if(this.conf.image&&this.conf.image!==this.imageMat?.path&&(this.imageMat&&this.material.destroy(),this.imageMat=new h({src:this.conf.image}),await this.imageMat.init(),this.image=this.imageMat.canvas),l)await this.queuedFitSize("preProcessing");else{if(this.useFontFamily.startsWith("http")||!p.existsSync(this.useFontFamily))throw new Error(`Font not exists: ${this.useFontFamily}`);try{await this.setFont(this.useFontFamily)}catch(t){if(!this.useFontFamily.startsWith("http")&&p.existsSync(this.useFontFamily))throw p.unlinkSync(this.useFontFamily),new Error(`Set font fail: ${this.useFontFamily}`)}this.updateStyle();const t=this.display;this.display=new u,this.display.substitute(t),this.setChromaKey(),this.setColor(),this.display.updateText(!1),t.destroy()}}setColor(){}async setFont(t){return new Promise((e=>{o.setFont(t,(r=>{this.font={font:t,fontFamily:r},e()}))}))}setStyle(t){t.image?t.fillImage=t.image:t.color&&(t.fill=t.color),i(t.padding)&&(t.padding=t.padding[0]);for(const[e,r]of Object.entries(t))void 0===r&&delete t[e];this.display.updateStyle(t),this.display.updateText(!1)}setWH(t,e){let{width:r,height:n,fontSize:i}=this;r&&n&&t&&e&&i&&(t/r).toFixed(6)===(e/n).toFixed(6)&&this.setConfRpx("fontSize",i*(t/r)),super.setWH(t,e)}fitSize(t){this.queuedFitSize(t)}queuedFitSize(t){return this.queue.enqueue((async()=>{if(this.font?.fontFamily!=this.useFontFamily)if(g[this.useFontFamily])this.font=g[this.useFontFamily];else{await this.setFont(this.useFontFamily);const t=new FontFace(this.font.fontFamily,`url("${this.font.font}")`),e=await t.load();document.fonts.add(e),g[this.useFontFamily]=this.font,await document.fonts.ready}this.updateStyle()}))}updateStyle(){const{fontSize:t,color:e,image:r,backgroundColor:n,wrap:i,align:o,lineHeight:s,styleStroke:a,styleShadow:u,letterSpacing:c,selectionBgColor:h,padding:f}=this,d=this.px(this.conf.width),p=this.font?.fontFamily,g={selectionBgColor:h,fontFamily:p,fontSize:t,color:e,image:r,backgroundColor:n,align:o,lineHeight:s,letterSpacing:c,padding:f,wordWrapWidth:d,wordWrap:i&&d>0,breakWords:!0,lineJoin:"round",...a,...u};if(this.setStyle(g),this.setConfRpx("height",this.display.height),this.conf.width||this.setConfRpx("width",this.display.width),l)this.conf.viewWidth=this.vu(this.display.width,"0%"),this.conf.viewHeight=this.vu(this.display.height,"0%");else if(this.conf.viewWidth&&this.conf.viewHeight){const t=this.px(this.conf.viewWidth)/this.display.width,e=this.px(this.conf.viewHeight)/this.display.height;this.display.scale={x:t,y:e}}this.setAlign()}setAlign(t=!1){const{align:e,valign:r}=this,n=void 0!==v[e]?v[e]:.5,i=void 0!==m[r]?m[r]:.5;if(this.anchorX!=n||this.anchorY!=i){if(!t){let{x:t,y:e,width:r,height:o}=this;t+=(n-this.anchorX)*r,e+=(i-this.anchorY)*o,this.setXY(t,e)}this.setAnchor(n,i)}}selectStart(t){const{dx:e,dy:r}=this.displayOffset;this.display.selectStart({x:t.x-e,y:t.y-r})}selectEnd(t){const{dx:e,dy:r}=this.displayOffset;this.display.selectEnd({x:t.x-e,y:t.y-r}),this.creator().render()}selectMove({x:t,y:e},r,n){this.display.selectMove(t,e,r,n),this.creator().render()}selectClean(){this.display.selectStart({x:0,y:0}),this.display.selectEnd({x:0,y:0}),this.creator().render()}delete(){return this.display.delete()}selection(){return this.display.selectionText()}input(t){return this.display.input(t)}cursor(){let{x:t,y:e,height:r}=this.display.cursor();const{dx:n,dy:i}=this.displayOffset;return{x:t+n,y:e+i,height:r}}get displayOffset(){const{x:t,y:e}=this.display.anchor,{width:r,height:n}=this,{width:i,height:o}=this.display;return{dx:(r-i)*t,dy:(n-o)*e}}destroy(){this.display.text="",super.destroy()}}},(t,e,r)=>{"use strict";const n=r(264),{canvasRGBA:i}=r(488),{isBrowser:o}=r(13),{getRemote:s}=r(284),{getPixels:a}=r(236),{utils:u,createCanvas:l,createImageData:c}=r(14);t.exports=class extends n{async init(){if(!this.path)return;let t=this.path;if(o&&t.startsWith("http")){const e=await s(t,this.creator.uuid);t=URL.createObjectURL(e.data)}const{pixels:e}=await a(t);if(!e||!e.shape||e.shape.length<3)return;let r=e.shape;r.length>3&&(r=r.slice(r.length-3));const n=this.info.width=r[0],i=this.info.height=r[1],u=new Uint8ClampedArray(e.data.buffer).slice(0,n*i*4);this.imageData=c(u,n,i),this.canvas=this.initCanvas(n,i),this.canvasContext=this.canvas.getContext("2d"),this.drawCanvas(this.imageData,n,i)}drawCanvas(t,e,r){if(!this.canvasContext)return;let n=this.conf.blur&&this.creator?this.creator.px(this.conf.blur):0;return n>0&&o&&(this.canvasContext.filter=`blur(${n}px)`),this.canvasContext.drawImage(this.getImage(t),0,0,e,r),n>0&&!o&&i(this.canvas,0,0,e,r,n),this.canvas}getImage(t){if("ImageData"!==t.constructor.name)return t;const e=l(t.width,t.height);return e.getContext("2d").putImageData(t,0,0),e}initCanvas(t,e){return l(t,e)}clearCanvas(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}getImageData(t){const{width:e,height:r}=this.info;return this.tmpCanvas&&this.tmpCanvasContext||(this.tmpCanvas=this.initCanvas(e,r),this.tmpCanvasContext=this.tmpCanvas.getContext("2d")),this.tmpCanvasContext.drawImage(t,0,0,e,r),this.tmpCanvasContext.getImageData(0,0,e,r)}width(){return this.info.width||0}height(){return this.info.height||0}destroy(){super.destroy(),this.tmpCanvas&&(this.tmpCanvas=null,this.tmpCanvasContext=null)}}},(t,e,r)=>{"use strict";const n=r(494),i=r(499),{Rectangle:o,Texture:s,createCanvas:a}=r(14);t.exports=class extends n{constructor(t={}){super({type:"mixin",...t}),this.mixin=t.mixin}async preProcessing(){await super.preProcessing(),this.loop=this.material.loop}createMaterial(t){const e=this.px(this.conf.width),r=this.px(this.conf.height);return new i({...t,width:e,height:r})}fitSize(){super.fitSize()}materialTime(t,e=!0){return super.materialTime(t,e)}async getFrameByTime(t){const{width:e,height:r}=this.material.canvas,n=a(e,r);return await this.material.queuedGetFrameByTime(t,0,n),n}toJson(t=!1){const e=super.toJson(t);return e.type=`${e.type}-${this.mixin}`,delete e.mixin,e}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(495),o=r(496);r(236),t.exports=class extends i{constructor(t={list:[]}){super({type:"gif",...t}),this.currentTime=0,this.loops=0,this.loop=void 0===t.loop||t.loop}get default(){const t=super.default;return{startTime:t.startTime,endTime:this.loop?t.endTime:void 0,duration:this.loop?void 0:this.material.getDuration()}}get speed(){return this.material.speed}set speed(t){this.conf.speed=t,this.material.setSpeed(t)}createMaterial(t){const e=Number(this.conf.speed)||1;return new o({speed:e,...t})}setLoop(t){this.loop=!!t,this.material&&(this.material.loop=this.loop)}setSpeed(t){this.conf.speed=Number(t)||1,this.material&&(this.material.speed=this.conf.speed)}materialTime(t,e=!1){let r=t-this.absStartTime;const n=this.material.getDuration();let i=0;for(;this.loop&&r>=n;)r=Math.max(0,r-n),i++;return e&&(r=this.material.seekTime(r)),{time:r,loops:i}}async getFrameByTime(t){const e=await this.material.getFrameByTime(t);return this.material.getImage(e)}async drawing(t,e){let r=await super.drawing(t,e);if(!r)return!1;const{time:i,loops:o}=this.materialTime(t/1e3);return this.currentTime=i,this.loops!==o&&(await this.material.getFrameByTime(this.currentTime,0),this.loops=o),r=await this.material.getFrameByTime(this.currentTime,e/1e3),n||!r?this.display.texture.baseTexture.update():this.draw({texture:r,useCache:this.useCache}),r}}},(t,e,r)=>{"use strict";const n=r(473),i=r(492),{Sprite:o,Texture:s,Rectangle:a,createCanvas:u}=r(14),{isBrowser:l}=r(13);t.exports=class extends n{constructor(t={animations:[]}){super({type:"image",...t})}get audio(){}get frame(){if(this.conf.pframe){const[t,e]=[this.material.width(),this.material.height()],[r,n,i,o]=[this.conf.pframe.x*t,this.conf.pframe.y*e,this.conf.pframe.w*t,this.conf.pframe.h*e];return{x:r,y:n,w:i,h:o}}return this.conf.frame?.w&&this.conf.frame?.h?{...this.conf.frame}:null}set frame(t){const[e,r]=[this.material.width(),this.material.height()],[n,i,o,s]=[t.x/e,t.y/r,t.w/e,t.h/r];this.conf.pframe={x:n,y:i,w:o,h:s}}setFrame(t,e,r,n){"object"==typeof t&&void 0!==t.x?this.frame=t:this.frame={x:t,y:e,w:r,h:n}}getFrame(){if(this.frame)return this.frame;let[t,e,r,n]=[0,0,this.material.width(),this.material.height()];const{"object-fit":i,"object-position":o}=this.conf;if(!i||"cover"===i){const[i,o]=this.getObjectPosition(),[s,a]=this.getWH(),u=Math.min(r/s,n/a),l=s*u,c=a*u;t+=(r-l)*i,e+=(n-c)*o,r=l,n=c}return{x:t,y:e,w:r,h:n}}materialTime(t,e=!1){return{time:0,loops:0}}async getFrameByTime(t){return this.material.canvas}async getDisplay(t,e){const r=await this.getPreview(t,{...e,format:"canvas",rawFrame:!1});if(!r)throw new Error("get null canvas, will retry later");const n=new o(s.fromCanvas(r));if(n.copyFromProxy(this.display),this.animations){const r=1e3*("rel"===e.timing?t+this.absStartTime:t)>>0;this.animations.apply(n,r)}return n}async getPreview(t,{width:e,height:r,format:n="jpeg",timing:i="mat",rawFrame:o=!1}={}){let s=t;"abs"!==i&&"rel"!==i||(s=this.materialTime("rel"===i?t+this.absStartTime:t,!0).time);const a=await this.getFrameByTime(s);if(!a)return null;let u=this.getFrame();o&&(u={x:0,y:0,w:this.material.width(),h:this.material.height()});const l="video"===this.type?"cover":"contain";return this.subImage(a,u,{width:e,height:r,fit:l,format:n})}getObjectPosition(){let{"object-position":t}=this.conf;const{x:e,y:r}=this.getAnchor();Array.isArray(t)&&2==t.length||(t=[e,r]);let[n,i]=t;return n=isNaN(Number(n))?e:Math.max(0,Math.min(1,Number(n))),i=isNaN(Number(i))?r:Math.max(0,Math.min(1,Number(i))),[n,i]}createMaterial(t){return new i(t)}updateMaterialTime(){this.material.parseTimeConf(this.conf)}createDisplay(){this.display=new o(s.fromCanvas(u(1,1)))}annotate(){super.annotate(),this.material.duration=this.duration}async prepareMaterial(){await super.prepareMaterial()}async preProcessing(){this.material&&this.material.destroy(),this.material=this.createMaterial(this.conf),this.material.holderId=this.id,this.material.duration=this.duration,this.material.creator=this.root();const t=this.rootConf("fps");await this.material.init({fps:t}),this.fitSize(),this.display.texture.destroy(!0),this.display.attr({texture:s.fromCanvas(this.material.canvas)}),this.fitTexture(),await this.setMotion()}async setMotion(t){if(!this.conf.motion)return void(this.motionMask&&this.motionFilter&&(this.display.setMotion(null),this.motionFilter=null,this.motionMask=null));this.motionMaterial&&this.motionMaterial.destroy(),this.motionMaterial=this.createMaterial(this.conf.motion),await this.motionMaterial.init(),this.motionMask=new o(s.fromCanvas(this.motionMaterial.canvas)),this.motionFilter=this.display.setMotion(this.motionMask);const{width:e,height:r}=this.motionMaterial.info;this.motionMask.x=-e/2,this.motionMask.y=-r/2,this.motionMask.width=e,this.motionMask.height=r,this.display.addChild(this.motionMask)}fitSize(){let{width:t,height:e}=this.conf;t=this.px(t),e=this.px(e);const r=this.display;let n,i=this.material.width(),o=this.material.height();if(this.frame&&(i=this.frame.w,o=this.frame.h),i&&o){if(t&&e){const s=this.conf["object-fit"];if(s&&"cover"!==s){if("contain"===s)n=Math.min(t/i,e/o);else if("none"===s)n=1;else if("scale-down"===s)n=Math.min(1,Math.min(t/i,e/o));else if("fill"===s)return r.attr({width:t,height:e})}else n=Math.max(t/i,e/o);t=i*n,e=o*n}else t?(n=t/i,e=n*o):e?(n=e/o,t=n*i):(n=this.scale||1,t=i*n,e=o*n);r.attr({width:t,height:e}),this.setScale(n)}}fitTexture(t){let{"object-fit":e}=this.conf;this.frame&&this.setScale(this.scale);let{width:r,height:n}=this.conf,i=r=this.px(r),o=n=this.px(n);if((t=t||this.display).scale.x<=0||t.scale.y<=0)return;let s=this.material.width(),u=this.material.height(),l=0,c=0;if(this.frame&&(l=this.frame.x,c=this.frame.y,s=this.frame.w,u=this.frame.h),r/=t.scale.x,n/=t.scale.y,!r||!n)return t.texture.frame=new a(l,c,s,u);const[h,f]=this.getObjectPosition();if("fill"===e)t.texture.frame=new a(l,c,s,u),t.width=i,t.height=o;else{const e=Math.min(r,s),i=Math.min(n,u);l+=(s-e)*h,c+=(u-i)*f,t.texture.frame=new a(l,c,e,i)}}draw({display:t,texture:e,useCache:r=!1}){e&&!l&&(t=t||this.display,"ImageData"===e.constructor.name?(t.texture.baseTexture.source=e,t.texture.baseTexture.update()):e instanceof s?(t.texture.destroy(!0),t.texture=e,this.fitTexture(t)):t.texture.updateSource(e,r))}deleteTexture(t){this.parent&&t.texture}async drawing(t,e){let r=await super.drawing(t,e);if(!r)return!1;if(this.conf.motion&&this.motionFilter){const e=Math.pow(this.absEndTime-.001*t,this.conf.motion.curve),[r,n]=[this.px(this.conf.motion.x)*e,this.px(this.conf.motion.y)*e];this.motionFilter.setScale(r,n)}return r}destroy(){super.destroy(),this.material&&this.material.destroy()}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(497),o=r(236),{getRemote:s}=r(284),{createImageData:a}=r(14);t.exports=class extends i{async init(t){const{fps:e}=t;let r;this.OFFSET_TIME=0,this.disposal=2,this.fps=e;let i=this.path;n&&i.startsWith("http")&&(r=await s(i,this.creator.uuid),i=URL.createObjectURL(r.data));try{r=await o.getPixels(this.path,this.conf.srcType||".GIF")}catch(t){r=await o.getPixels(this.path)}const{pixels:u,frameInfo:l}=r;let c=1;if(l&&l.length)this.frameInfo=l;else{if(!u||3!==u.shape.length)throw new Error("Invalid gif frame info: ",l);this.frameInfo=[{delay:Math.pow(10,9),disposal:1}],c=0}const h=[],f=this.info.width=u.shape[c+0],d=this.info.height=u.shape[c+1],p=f*d*u.shape[c+2];for(let t=0;t<this.frameInfo.length;t++){this.frameInfo[t].delay=this.frameInfo[t].delay/100;const e=u.data.slice(t*p,(t+1)*p),r=a(new Uint8ClampedArray(e.buffer),f,d);h.push(r)}this.length=this.info.duration=this.frameInfo.reduce(((t,e)=>t+e.delay),0),this.frames=this.frameInfo.length,this.canvas=this.initCanvas(f,d),this.canvasContext=this.canvas.getContext("2d"),this.imageData=[];for(let t=0;t<this.frameInfo.length;t++){let e=this.frameInfo[t].disposal>2?2:this.frameInfo[t].disposal;const r=this.initCanvas(f,d),i=r.getContext("2d");1===e?(this.drawCanvas(h[t],f,d),n?i.drawImage(this.canvas,0,0,f,d):this.imageData.push(this.canvasContext.getImageData(0,0,f,d))):n?i.putImageData(h[t],0,0):this.imageData.push(h[t]),n&&this.imageData.push(r)}}getFrame(t){const e=t<this.frames?t:this.frames-1;return this.imageData[e]}getIndex(t){let e=0,r=0;for(let n=0;n<this.frameInfo.length&&(e+=this.frameInfo[n].delay/this.speed,!(e>t));n++)r=n;return r}async getFrameByTime(t){const{width:e,height:r}=this.canvas||{};this.clearCanvas();const n=this.getFrame(this.getIndex(t));return n&&this.drawCanvas(n,e,r),n}destroy(){super.destroy(),this.imageData=null,this.frameInfo=null}}},(t,e,r)=>{"use strict";const{isBrowser:n}=r(13),i=r(492),o=(r(265),r(290)),s=r(285),{nodeRequire:a,isUA:u}=r(236),{times:l}=r(498),c=r(282),h=r(283),f=a("ffmpeg-probe"),d=a("../utils/ffmpeg"),p=a("../utils/opencv"),g=a("../utils/fs"),v="player",m="init",_={};class y extends i{constructor(t){super(t),this.setVolume(t.volume),this.setAudio(void 0===t.audio||!!t.audio),this.OFFSET_TIME=.05,this.adjustTime=0,this.adjustRate=1,this.time=0,this.playing=!1,this.perpared=!1,this.queue=new h,this.$vh={},this.codec=t.codec,this.clarity=t.qscale||t.clarity||2,this.voImageExtra=void 0===t.voImageExtra?"jpg":t.voImageExtra}setVolume(t){this.volume=Number(t),isNaN(this.volume)&&(this.volume=1)}setAudio(t){this.useAudio=t;const e=this.$vh&&this.$vh.player?.$video;e&&e.muted===this.useAudio&&(e.muted=!this.useAudio,this.useAudio&&this.$vh.player.setVolume(this.volume))}async init(t){const{fps:e}=t;if(this.fps=e,n)await this.valloc(m),this.info=await this.$vh.init.getInfo(),this.velease(m),this.creator.mVIDEOS.push(this);else{_[this.path]||(_[this.path]=await f(this.path)),this.info={..._[this.path]},this.info.duration/=1e3;try{this.videoCap=p.VideoCapture(this.path)}catch(t){}this.acommand=d.createCommand(),this.vcommand=d.createCommand()}this.canvas=this.initCanvas(this.info.width,this.info.height),this.canvasContext=this.canvas.getContext("2d"),this.length=this.info.duration}get hasAudio(){return this.info?.streams&&this.info.streams.some((t=>"audio"===t.codec_type))}async valloc(t){if(this.$vh[t])return this.$vh[t].$video;try{this.$vh[t]=await c.get(this.path,this.creator.uuid,`${this.holderId}-${t}`)}catch(t){return null}const e=this.$vh[t].$video;return e.muted=!0,e}velease(t){this.$vh[t]&&(this.$vh[t].release(),this.$vh[t]=null)}async play(t){if(this.playing)return;const e=await this.valloc(v);return(Math.abs(t-e.currentTime)>.1||!this.creator.getConf("adjustPlaySpeed"))&&(e.currentTime=t),this.adjustRate=1,this.adjustTime=this.creator.currentTime,e.playbackRate=this.playrate,new Promise((t=>{y.playing(e)?(this.playing=!0,t()):(e.addEventListener("playing",(()=>{this.playing=!0,t()}),{once:!0}),e.play())}))}pause(){if(!this.playing&&!this.perpared)return;const t=this.$vh.player?.$video,e=()=>{this.playing=!1,this.perpared=!1,this.velease(v)};t&&y.playing(t)?(t.addEventListener("pause",(t=>e()),{once:!0}),t.pause()):e()}async perpare(t,e=!1){if(this.perpared||!n)return;this.perpared=!0;const r=await this.valloc(v),i=this.seekTime(t);Math.abs(r.currentTime-i)>.1&&(r.currentTime=i,e&&r.play())}async seekTo(t,e="seeker"){return new Promise((async(r,n)=>{const i=await this.valloc(e);if(!i)return r();i.currentTime.toFixed(2)==t.toFixed(2)?(r(i),this.velease(e)):(i.currentTime=t,i.addEventListener("seeked",(()=>{r(i),this.velease(e)}),{once:!0}))}))}async queuedSeekTo(t,e="seeker"){return new Promise((async(r,n)=>{this.queue.enqueue((async()=>{r(await this.seekTo(t,e))}))}))}get playrate(){return this.creator.playbackRate*this.speed}seekTime(t,e={}){return super.seekTime(n?t+this.OFFSET_TIME:t,e)}async getFrameByTime(t,e=0){this.time=t;const r={},i=this.seekTime(t,r);return n?(r.overflow&&(e=0),e>0?await this.play(i):this.pause(),new Promise((async(t,r)=>{const n=this.canvas.width,o=this.canvas.height;if(e>0){const e=this.$vh.player?.$video;if(!e)return t();if(this.playerDelay=i-e.currentTime,this.creator.getConf("adjustPlaySpeed")&&(this.playrate*this.adjustRate).toFixed(3)===e.playbackRate.toFixed(3)){Math.abs(this.playerDelay)>.05?(this.adjustRate+=this.playerDelay>0?.02:-.02,this.adjustRate=Math.max(Math.min(this.adjustRate,1.05),.95)):e.playbackRate!=this.playrate&&(this.adjustRate+=this.adjustRate>1?-.02:.02);const t=this.playrate*this.adjustRate;t.toFixed(3)!==e.playbackRate.toFixed(3)&&Math.abs(this.creator.currentTime-this.adjustTime)>100&&(e.playbackRate=t,this.adjustTime=this.creator.currentTime)}t(this.drawCanvas(e,n,o))}else t(this.drawCanvas(await this.queuedSeekTo(i),n,o))}))):this.videoCap?p.getFrameByTime(this.videoCap,i):this.getFrame(Math.max(0,t*this.fps>>0))}delay(){return this.playerDelay}getFrame(t){let e=this.vpath.replace("%d",t);return g.exists(e)||(e=this.lastPath),this.lastPath=e,e}async extract(t,e){const r=s(`${this.path}-${this.getStartHms()}-${this.getEndHms(!0)}`);if(!this.videoCap&&e){console.log("---------------- extract video ----------------",this.holderId);const e=Date.now();await this.extractVideo(t,`${r}_video`),p.timer+=Date.now()-e}}async extractAudio(t,e){const r=this.getOutputPath(t,`${e}.mp3`);if(g.exists(r))return this.apath=r;let n="-loglevel info".split(" ");n=n.concat(`-af atempo=${this.speed}`.split(" "));const i=this.getSliceOpts(),o=this.acommand.noVideo().audioCodec("libmp3lame");return this.apath=await this.ffCmdExec({command:o,inOpts:i,output:r,outOpts:n}),this.apath}async extractVideo(t,e){let r="-loglevel info -pix_fmt rgba -start_number 0".split(" ");const n=`-qscale:v ${this.clarity} -filter_complex [0:v]setpts=PTS/${this.speed}[sv];[sv]fps=${this.fps}[ov] -map [ov]`;r=r.concat(n.split(" "));let i=this.codec?`-c:v ${this.codec}`.split(" "):[];i=i.concat(this.getSliceOpts());const o=this.getOutputPath(t,`${e}_%d.${this.voImageExtra}`);return g.exists(o.replace("%d","0"))?this.vpath=o:(this.vpath=await this.ffCmdExec({command:this.vcommand,output:o,inOpts:i,outOpts:r}),this.vpath)}ffCmdExec({command:t,output:e,inOpts:r,outOpts:n,onProgress:i}){const s=function(t){return"string"==typeof t&&(t=t.split(" ")),t instanceof Array&&(t=t.filter((t=>""!==t))),t};return t.addInput(this.path).output(e),r&&t.inputOptions(s(r)),n&&t.outputOptions(s(n)),new Promise(((r,n)=>{t.on("start",(t=>{o.info({pos:"Material",msg:`${this.type} preProcessing start: ${t}`})})).on("progress",(t=>{i&&i(t)})).on("end",(()=>{o.info({pos:"Material",msg:`${this.type} preProcessing completed: ${this}`}),r(e)})).on("error",(t=>{o.error({pos:"Material",msg:`${this.type} preProcessing error: `,error:t}),n(t)})),t.run()}))}destroy(){for(const t of Object.keys(this.$vh))this.$vh[t]&&this.velease(t);this.canvas&&(this.canvas=null,this.canvasContext=null,this.playing=!1),this.acommand&&d.destroy(this.acommand),this.vcommand&&d.destroy(this.vcommand),this.videoCap&&p.destroy(this.videoCap),this.queue&&this.queue.destroy(),this.queue=null,super.destroy()}}t.exports=y},function(t,e,r){var n;t=r.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,l=128,c=1/0,h=9007199254740991,f=NaN,d=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],g="[object Arguments]",v="[object Array]",m="[object Boolean]",_="[object Date]",y="[object Error]",b="[object Function]",x="[object GeneratorFunction]",T="[object Map]",E="[object Number]",w="[object Object]",A="[object Promise]",S="[object RegExp]",I="[object Set]",C="[object String]",O="[object Symbol]",R="[object WeakMap]",M="[object ArrayBuffer]",N="[object DataView]",P="[object Float32Array]",L="[object Float64Array]",D="[object Int8Array]",k="[object Int16Array]",F="[object Int32Array]",B="[object Uint8Array]",j="[object Uint8ClampedArray]",U="[object Uint16Array]",V="[object Uint32Array]",z=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,X=RegExp(H.source),q=RegExp($.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),nt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",Et="A-Z\\xc0-\\xd6\\xd8-\\xde",wt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="["+wt+"]",St="["+xt+"]",It="\\d+",Ct="["+Tt+"]",Ot="[^\\ud800-\\udfff"+wt+It+"\\u2700-\\u27bf"+Tt+Et+"]",Rt="\\ud83c[\\udffb-\\udfff]",Mt="[^\\ud800-\\udfff]",Nt="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="["+Et+"]",Dt="(?:"+Ct+"|"+Ot+")",kt="(?:"+Lt+"|"+Ot+")",Ft="(?:['](?:d|ll|m|re|s|t|ve))?",Bt="(?:['](?:D|LL|M|RE|S|T|VE))?",jt="(?:"+St+"|"+Rt+")?",Ut="[\\ufe0e\\ufe0f]?",Vt=Ut+jt+"(?:\\u200d(?:"+[Mt,Nt,Pt].join("|")+")"+Ut+jt+")*",zt="(?:"+["[\\u2700-\\u27bf]",Nt,Pt].join("|")+")"+Vt,Wt="(?:"+[Mt+St+"?",St,Nt,Pt,"[\\ud800-\\udfff]"].join("|")+")",Gt=RegExp("[']","g"),Ht=RegExp(St,"g"),$t=RegExp(Rt+"(?="+Rt+")|"+Wt+Vt,"g"),Xt=RegExp([Lt+"?"+Ct+"+"+Ft+"(?="+[At,Lt,"$"].join("|")+")",kt+"+"+Bt+"(?="+[At,Lt+Dt,"$"].join("|")+")",Lt+"?"+Dt+"+"+Ft,Lt+"+"+Bt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,zt].join("|"),"g"),qt=RegExp("[\\u200d\\ud800-\\udfff"+xt+"\\ufe0e\\ufe0f]"),Yt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jt=-1,Zt={};Zt[P]=Zt[L]=Zt[D]=Zt[k]=Zt[F]=Zt[B]=Zt[j]=Zt[U]=Zt[V]=!0,Zt[g]=Zt[v]=Zt[M]=Zt[m]=Zt[N]=Zt[_]=Zt[y]=Zt[b]=Zt[T]=Zt[E]=Zt[w]=Zt[S]=Zt[I]=Zt[C]=Zt[R]=!1;var Qt={};Qt[g]=Qt[v]=Qt[M]=Qt[N]=Qt[m]=Qt[_]=Qt[P]=Qt[L]=Qt[D]=Qt[k]=Qt[F]=Qt[T]=Qt[E]=Qt[w]=Qt[S]=Qt[I]=Qt[C]=Qt[O]=Qt[B]=Qt[j]=Qt[U]=Qt[V]=!0,Qt[y]=Qt[b]=Qt[R]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,re=parseInt,ne="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=ne||ie||Function("return this")(),se=e&&!e.nodeType&&e,ae=se&&t&&!t.nodeType&&t,ue=ae&&ae.exports===se,le=ue&&ne.process,ce=function(){try{return ae&&ae.require&&ae.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),he=ce&&ce.isArrayBuffer,fe=ce&&ce.isDate,de=ce&&ce.isMap,pe=ce&&ce.isRegExp,ge=ce&&ce.isSet,ve=ce&&ce.isTypedArray;function me(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function _e(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function ye(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function be(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function xe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Te(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ee(t,e){return!(null==t||!t.length)&&Pe(t,e,0)>-1}function we(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ae(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Se(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Ie(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ce(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Oe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Re=Fe("length");function Me(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Ne(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Pe(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Ne(t,De,r)}function Le(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function De(t){return t!=t}function ke(t,e){var r=null==t?0:t.length;return r?Ue(t,e)/r:f}function Fe(t){return function(e){return null==e?i:e[t]}}function Be(t){return function(e){return null==t?i:t[e]}}function je(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Ue(t,e){for(var r,n=-1,o=t.length;++n<o;){var s=e(t[n]);s!==i&&(r=r===i?s:r+s)}return r}function Ve(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function ze(t){return t?t.slice(0,sr(t)+1).replace(nt,""):t}function We(t){return function(e){return t(e)}}function Ge(t,e){return Ae(e,(function(e){return t[e]}))}function He(t,e){return t.has(e)}function $e(t,e){for(var r=-1,n=t.length;++r<n&&Pe(e,t[r],0)>-1;);return r}function Xe(t,e){for(var r=t.length;r--&&Pe(e,t[r],0)>-1;);return r}function qe(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var Ye=Be({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Ke=Be({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Je(t){return"\\"+te[t]}function Ze(t){return qt.test(t)}function Qe(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function tr(t,e){return function(r){return t(e(r))}}function er(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==a||(t[r]=a,o[i++]=r)}return o}function rr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function nr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function ir(t){return Ze(t)?function(t){for(var e=$t.lastIndex=0;$t.test(t);)++e;return e}(t):Re(t)}function or(t){return Ze(t)?function(t){return t.match($t)||[]}(t):function(t){return t.split("")}(t)}function sr(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var ar=Be({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ur=function t(e){var r,n=(e=null==e?oe:ur.defaults(oe.Object(),e,ur.pick(oe,Kt))).Array,it=e.Date,xt=e.Error,Tt=e.Function,Et=e.Math,wt=e.Object,At=e.RegExp,St=e.String,It=e.TypeError,Ct=n.prototype,Ot=Tt.prototype,Rt=wt.prototype,Mt=e["__core-js_shared__"],Nt=Ot.toString,Pt=Rt.hasOwnProperty,Lt=0,Dt=(r=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",kt=Rt.toString,Ft=Nt.call(wt),Bt=oe._,jt=At("^"+Nt.call(Pt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=ue?e.Buffer:i,Vt=e.Symbol,zt=e.Uint8Array,Wt=Ut?Ut.allocUnsafe:i,$t=tr(wt.getPrototypeOf,wt),qt=wt.create,te=Rt.propertyIsEnumerable,ne=Ct.splice,ie=Vt?Vt.isConcatSpreadable:i,se=Vt?Vt.iterator:i,ae=Vt?Vt.toStringTag:i,le=function(){try{var t=lo(wt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Re=it&&it.now!==oe.Date.now&&it.now,Be=e.setTimeout!==oe.setTimeout&&e.setTimeout,lr=Et.ceil,cr=Et.floor,hr=wt.getOwnPropertySymbols,fr=Ut?Ut.isBuffer:i,dr=e.isFinite,pr=Ct.join,gr=tr(wt.keys,wt),vr=Et.max,mr=Et.min,_r=it.now,yr=e.parseInt,br=Et.random,xr=Ct.reverse,Tr=lo(e,"DataView"),Er=lo(e,"Map"),wr=lo(e,"Promise"),Ar=lo(e,"Set"),Sr=lo(e,"WeakMap"),Ir=lo(wt,"create"),Cr=Sr&&new Sr,Or={},Rr=jo(Tr),Mr=jo(Er),Nr=jo(wr),Pr=jo(Ar),Lr=jo(Sr),Dr=Vt?Vt.prototype:i,kr=Dr?Dr.valueOf:i,Fr=Dr?Dr.toString:i;function Br(t){if(ra(t)&&!Hs(t)&&!(t instanceof zr)){if(t instanceof Vr)return t;if(Pt.call(t,"__wrapped__"))return Uo(t)}return new Vr(t)}var jr=function(){function t(){}return function(e){if(!ea(e))return{};if(qt)return qt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function Ur(){}function Vr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function zr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Hr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $r(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Hr;++e<r;)this.add(t[e])}function Xr(t){var e=this.__data__=new Gr(t);this.size=e.size}function qr(t,e){var r=Hs(t),n=!r&&Gs(t),i=!r&&!n&&Ys(t),o=!r&&!n&&!i&&ca(t),s=r||n||i||o,a=s?Ve(t.length,St):[],u=a.length;for(var l in t)!e&&!Pt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mo(l,u))||a.push(l);return a}function Yr(t){var e=t.length;return e?t[$n(0,e-1)]:i}function Kr(t,e){return Lo(Ii(t),sn(e,0,t.length))}function Jr(t){return Lo(Ii(t))}function Zr(t,e,r){(r!==i&&!Vs(t[e],r)||r===i&&!(e in t))&&nn(t,e,r)}function Qr(t,e,r){var n=t[e];Pt.call(t,e)&&Vs(n,r)&&(r!==i||e in t)||nn(t,e,r)}function tn(t,e){for(var r=t.length;r--;)if(Vs(t[r][0],e))return r;return-1}function en(t,e,r,n){return hn(t,(function(t,i,o){e(n,t,r(t),o)})),n}function rn(t,e){return t&&Ci(e,Na(e),t)}function nn(t,e,r){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function on(t,e){for(var r=-1,o=e.length,s=n(o),a=null==t;++r<o;)s[r]=a?i:Ia(t,e[r]);return s}function sn(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function an(t,e,r,n,o,s){var a,u=1&e,l=2&e,c=4&e;if(r&&(a=o?r(t,n,o,s):r(t)),a!==i)return a;if(!ea(t))return t;var h=Hs(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return Ii(t,a)}else{var f=fo(t),d=f==b||f==x;if(Ys(t))return xi(t,u);if(f==w||f==g||d&&!o){if(a=l||d?{}:go(t),!u)return l?function(t,e){return Ci(t,ho(t),e)}(t,function(t,e){return t&&Ci(e,Pa(e),t)}(a,t)):function(t,e){return Ci(t,co(t),e)}(t,rn(a,t))}else{if(!Qt[f])return o?t:{};a=function(t,e,r){var n,i=t.constructor;switch(e){case M:return Ti(t);case m:case _:return new i(+t);case N:return function(t,e){var r=e?Ti(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case P:case L:case D:case k:case F:case B:case j:case U:case V:return Ei(t,r);case T:return new i;case E:case C:return new i(t);case S:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new i;case O:return n=t,kr?wt(kr.call(n)):{}}}(t,f,u)}}s||(s=new Xr);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(n){a.add(an(n,e,r,n,t,s))})):na(t)&&t.forEach((function(n,i){a.set(i,an(n,e,r,i,t,s))}));var v=h?i:(c?l?ro:eo:l?Pa:Na)(t);return ye(v||t,(function(n,i){v&&(n=t[i=n]),Qr(a,i,an(n,e,r,i,t,s))})),a}function un(t,e,r){var n=r.length;if(null==t)return!n;for(t=wt(t);n--;){var o=r[n],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function ln(t,e,r){if("function"!=typeof t)throw new It(o);return Ro((function(){t.apply(i,r)}),e)}function cn(t,e,r,n){var i=-1,o=Ee,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;r&&(e=Ae(e,We(r))),n?(o=we,s=!1):e.length>=200&&(o=He,s=!1,e=new $r(e));t:for(;++i<a;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,s&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,n)||u.push(c)}return u}Br.templateSettings={escape:Y,evaluate:K,interpolate:J,variable:"",imports:{_:Br}},Br.prototype=Ur.prototype,Br.prototype.constructor=Br,Vr.prototype=jr(Ur.prototype),Vr.prototype.constructor=Vr,zr.prototype=jr(Ur.prototype),zr.prototype.constructor=zr,Wr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},Wr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wr.prototype.get=function(t){var e=this.__data__;if(Ir){var r=e[t];return r===s?i:r}return Pt.call(e,t)?e[t]:i},Wr.prototype.has=function(t){var e=this.__data__;return Ir?e[t]!==i:Pt.call(e,t)},Wr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ir&&e===i?s:e,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(t){var e=this.__data__,r=tn(e,t);return!(r<0||(r==e.length-1?e.pop():ne.call(e,r,1),--this.size,0))},Gr.prototype.get=function(t){var e=this.__data__,r=tn(e,t);return r<0?i:e[r][1]},Gr.prototype.has=function(t){return tn(this.__data__,t)>-1},Gr.prototype.set=function(t,e){var r=this.__data__,n=tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Er||Gr),string:new Wr}},Hr.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Hr.prototype.get=function(t){return ao(this,t).get(t)},Hr.prototype.has=function(t){return ao(this,t).has(t)},Hr.prototype.set=function(t,e){var r=ao(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},$r.prototype.add=$r.prototype.push=function(t){return this.__data__.set(t,s),this},$r.prototype.has=function(t){return this.__data__.has(t)},Xr.prototype.clear=function(){this.__data__=new Gr,this.size=0},Xr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Xr.prototype.get=function(t){return this.__data__.get(t)},Xr.prototype.has=function(t){return this.__data__.has(t)},Xr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!Er||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(t,e),this.size=r.size,this};var hn=Mi(yn),fn=Mi(bn,!0);function dn(t,e){var r=!0;return hn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function pn(t,e,r){for(var n=-1,o=t.length;++n<o;){var s=t[n],a=e(s);if(null!=a&&(u===i?a==a&&!la(a):r(a,u)))var u=a,l=s}return l}function gn(t,e){var r=[];return hn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function vn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=vo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?vn(a,e-1,r,n,i):Se(i,a):n||(i[i.length]=a)}return i}var mn=Ni(),_n=Ni(!0);function yn(t,e){return t&&mn(t,e,Na)}function bn(t,e){return t&&_n(t,e,Na)}function xn(t,e){return Te(e,(function(e){return Zs(t[e])}))}function Tn(t,e){for(var r=0,n=(e=mi(e,t)).length;null!=t&&r<n;)t=t[Bo(e[r++])];return r&&r==n?t:i}function En(t,e,r){var n=e(t);return Hs(t)?n:Se(n,r(t))}function wn(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in wt(t)?function(t){var e=Pt.call(t,ae),r=t[ae];try{t[ae]=i;var n=!0}catch(t){}var o=kt.call(t);return n&&(e?t[ae]=r:delete t[ae]),o}(t):function(t){return kt.call(t)}(t)}function An(t,e){return t>e}function Sn(t,e){return null!=t&&Pt.call(t,e)}function In(t,e){return null!=t&&e in wt(t)}function Cn(t,e,r){for(var o=r?we:Ee,s=t[0].length,a=t.length,u=a,l=n(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Ae(f,We(e))),c=mr(f.length,c),l[u]=!r&&(e||s>=120&&f.length>=120)?new $r(u&&f):i}f=t[0];var d=-1,p=l[0];t:for(;++d<s&&h.length<c;){var g=f[d],v=e?e(g):g;if(g=r||0!==g?g:0,!(p?He(p,v):o(h,v,r))){for(u=a;--u;){var m=l[u];if(!(m?He(m,v):o(t[u],v,r)))continue t}p&&p.push(v),h.push(g)}}return h}function On(t,e,r){var n=null==(t=So(t,e=mi(e,t)))?t:t[Bo(Jo(e))];return null==n?i:me(n,t,r)}function Rn(t){return ra(t)&&wn(t)==g}function Mn(t,e,r,n,o){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,n,o,s){var a=Hs(t),u=Hs(e),l=a?v:fo(t),c=u?v:fo(e),h=(l=l==g?w:l)==w,f=(c=c==g?w:c)==w,d=l==c;if(d&&Ys(t)){if(!Ys(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Xr),a||ca(t)?Qi(t,e,r,n,o,s):function(t,e,r,n,i,o,s){switch(r){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!o(new zt(t),new zt(e)));case m:case _:case E:return Vs(+t,+e);case y:return t.name==e.name&&t.message==e.message;case S:case C:return t==e+"";case T:var a=Qe;case I:var u=1&n;if(a||(a=rr),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;n|=2,s.set(t,e);var c=Qi(a(t),a(e),n,i,o,s);return s.delete(t),c;case O:if(kr)return kr.call(t)==kr.call(e)}return!1}(t,e,l,r,n,o,s);if(!(1&r)){var p=h&&Pt.call(t,"__wrapped__"),b=f&&Pt.call(e,"__wrapped__");if(p||b){var x=p?t.value():t,A=b?e.value():e;return s||(s=new Xr),o(x,A,r,n,s)}}return!!d&&(s||(s=new Xr),function(t,e,r,n,o,s){var a=1&r,u=eo(t),l=u.length;if(l!=eo(e).length&&!a)return!1;for(var c=l;c--;){var h=u[c];if(!(a?h in e:Pt.call(e,h)))return!1}var f=s.get(t),d=s.get(e);if(f&&d)return f==e&&d==t;var p=!0;s.set(t,e),s.set(e,t);for(var g=a;++c<l;){var v=t[h=u[c]],m=e[h];if(n)var _=a?n(m,v,h,e,t,s):n(v,m,h,t,e,s);if(!(_===i?v===m||o(v,m,r,n,s):_)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,r,n,o,s))}(t,e,r,n,Mn,o))}function Nn(t,e,r,n){var o=r.length,s=o,a=!n;if(null==t)return!s;for(t=wt(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var l=(u=r[o])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===i&&!(l in t))return!1}else{var f=new Xr;if(n)var d=n(c,h,l,t,e,f);if(!(d===i?Mn(h,c,3,n,f):d))return!1}}return!0}function Pn(t){return!(!ea(t)||(e=t,Dt&&Dt in e))&&(Zs(t)?jt:gt).test(jo(t));var e}function Ln(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Hs(t)?jn(t[0],t[1]):Bn(t):du(t)}function Dn(t){if(!To(t))return gr(t);var e=[];for(var r in wt(t))Pt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function kn(t,e){return t<e}function Fn(t,e){var r=-1,i=Xs(t)?n(t.length):[];return hn(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Bn(t){var e=uo(t);return 1==e.length&&e[0][2]?wo(e[0][0],e[0][1]):function(r){return r===t||Nn(r,t,e)}}function jn(t,e){return yo(t)&&Eo(e)?wo(Bo(t),e):function(r){var n=Ia(r,t);return n===i&&n===e?Ca(r,t):Mn(e,n,3)}}function Un(t,e,r,n,o){t!==e&&mn(e,(function(s,a){if(o||(o=new Xr),ea(s))!function(t,e,r,n,o,s,a){var u=Co(t,r),l=Co(e,r),c=a.get(l);if(c)Zr(t,r,c);else{var h=s?s(u,l,r+"",t,e,a):i,f=h===i;if(f){var d=Hs(l),p=!d&&Ys(l),g=!d&&!p&&ca(l);h=l,d||p||g?Hs(u)?h=u:qs(u)?h=Ii(u):p?(f=!1,h=xi(l,!0)):g?(f=!1,h=Ei(l,!0)):h=[]:oa(l)||Gs(l)?(h=u,Gs(u)?h=_a(u):ea(u)&&!Zs(u)||(h=go(l))):f=!1}f&&(a.set(l,h),o(h,l,n,s,a),a.delete(l)),Zr(t,r,h)}}(t,e,a,r,Un,n,o);else{var u=n?n(Co(t,a),s,a+"",t,e,o):i;u===i&&(u=s),Zr(t,a,u)}}),Pa)}function Vn(t,e){var r=t.length;if(r)return mo(e+=e<0?r:0,r)?t[e]:i}function zn(t,e,r){e=e.length?Ae(e,(function(t){return Hs(t)?function(e){return Tn(e,1===t.length?t[0]:t)}:t})):[iu];var n=-1;e=Ae(e,We(so()));var i=Fn(t,(function(t,r,i){var o=Ae(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var u=wi(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}));n--;)t[n]=t[n].value;return t}(i)}function Wn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Tn(t,s);r(a,s)&&Jn(o,mi(s,t),a)}return o}function Gn(t,e,r,n){var i=n?Le:Pe,o=-1,s=e.length,a=t;for(t===e&&(e=Ii(e)),r&&(a=Ae(t,We(r)));++o<s;)for(var u=0,l=e[o],c=r?r(l):l;(u=i(a,c,u,n))>-1;)a!==t&&ne.call(a,u,1),ne.call(t,u,1);return t}function Hn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;mo(i)?ne.call(t,i,1):li(t,i)}}return t}function $n(t,e){return t+cr(br()*(e-t+1))}function Xn(t,e){var r="";if(!t||e<1||e>h)return r;do{e%2&&(r+=t),(e=cr(e/2))&&(t+=t)}while(e);return r}function qn(t,e){return Mo(Ao(t,e,iu),t+"")}function Yn(t){return Yr(Va(t))}function Kn(t,e){var r=Va(t);return Lo(r,sn(e,0,r.length))}function Jn(t,e,r,n){if(!ea(t))return t;for(var o=-1,s=(e=mi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var l=Bo(e[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=a){var h=u[l];(c=n?n(h,l,u):i)===i&&(c=ea(h)?h:mo(e[o+1])?[]:{})}Qr(u,l,c),u=u[l]}return t}var Zn=Cr?function(t,e){return Cr.set(t,e),t}:iu,Qn=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ti(t){return Lo(Va(t))}function ei(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function ri(t,e){var r;return hn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!la(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return ii(t,e,iu,r)}function ii(t,e,r,n){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,u=null===e,l=la(e),c=e===i;o<s;){var h=cr((o+s)/2),f=r(t[h]),d=f!==i,p=null===f,g=f==f,v=la(f);if(a)var m=n||g;else m=c?g&&(n||d):u?g&&d&&(n||!p):l?g&&d&&!p&&(n||!v):!p&&!v&&(n?f<=e:f<e);m?o=h+1:s=h}return mr(s,4294967294)}function oi(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Vs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function si(t){return"number"==typeof t?t:la(t)?f:+t}function ai(t){if("string"==typeof t)return t;if(Hs(t))return Ae(t,ai)+"";if(la(t))return Fr?Fr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,r){var n=-1,i=Ee,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=we;else if(o>=200){var l=e?null:Xi(t);if(l)return rr(l);s=!1,i=He,u=new $r}else u=e?[]:a;t:for(;++n<o;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(c)}else i(u,h,r)||(u!==a&&u.push(h),a.push(c))}return a}function li(t,e){return null==(t=So(t,e=mi(e,t)))||delete t[Bo(Jo(e))]}function ci(t,e,r,n){return Jn(t,e,r(Tn(t,e)),n)}function hi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?ei(t,n?0:o,n?o+1:i):ei(t,n?o+1:0,n?i:o)}function fi(t,e){var r=t;return r instanceof zr&&(r=r.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,Se([t],e.args))}),r)}function di(t,e,r){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=cn(s[o]||a,t[u],e,r));return ui(vn(s,1),e,r)}function pi(t,e,r){for(var n=-1,o=t.length,s=e.length,a={};++n<o;){var u=n<s?e[n]:i;r(a,t[n],u)}return a}function gi(t){return qs(t)?t:[]}function vi(t){return"function"==typeof t?t:iu}function mi(t,e){return Hs(t)?t:yo(t,e)?[t]:Fo(ya(t))}var _i=qn;function yi(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ei(t,e,r)}var bi=ce||function(t){return oe.clearTimeout(t)};function xi(t,e){if(e)return t.slice();var r=t.length,n=Wt?Wt(r):new t.constructor(r);return t.copy(n),n}function Ti(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function Ei(t,e){var r=e?Ti(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function wi(t,e){if(t!==e){var r=t!==i,n=null===t,o=t==t,s=la(t),a=e!==i,u=null===e,l=e==e,c=la(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||n&&a&&l||!r&&l||!o)return 1;if(!n&&!s&&!c&&t<e||c&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!l)return-1}return 0}function Ai(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,l=e.length,c=vr(s-a,0),h=n(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Si(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,l=-1,c=e.length,h=vr(s-u,0),f=n(h+c),d=!i;++o<h;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++a<u;)(d||o<s)&&(f[p+r[a]]=t[o++]);return f}function Ii(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ci(t,e,r,n){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=n?n(r[u],t[u],u,r,t):i;l===i&&(l=t[u]),o?nn(r,u,l):Qr(r,u,l)}return r}function Oi(t,e){return function(r,n){var i=Hs(r)?_e:en,o=e?e():{};return i(r,t,so(n,2),o)}}function Ri(t){return qn((function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&_o(r[0],r[1],a)&&(s=o<3?i:s,o=1),e=wt(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e}))}function Mi(t,e){return function(r,n){if(null==r)return r;if(!Xs(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=wt(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ni(t){return function(e,r,n){for(var i=-1,o=wt(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function Pi(t){return function(e){var r=Ze(e=ya(e))?or(e):i,n=r?r[0]:e.charAt(0),o=r?yi(r,1).join(""):e.slice(1);return n[t]()+o}}function Li(t){return function(e){return Ie(Za(Ga(e).replace(Gt,"")),t,"")}}function Di(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=jr(t.prototype),n=t.apply(r,e);return ea(n)?n:r}}function ki(t){return function(e,r,n){var o=wt(e);if(!Xs(e)){var s=so(r,3);e=Na(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,n);return a>-1?o[s?e[a]:a]:i}}function Fi(t){return to((function(e){var r=e.length,n=r,s=Vr.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new It(o);if(s&&!u&&"wrapper"==io(a))var u=new Vr([],!0)}for(n=u?n:r;++n<r;){var l=io(a=e[n]),c="wrapper"==l?no(a):i;u=c&&bo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[io(c[0])].apply(u,c[3]):1==a.length&&bo(a)?u[l]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Hs(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Bi(t,e,r,o,s,a,u,c,h,f){var d=e&l,p=1&e,g=2&e,v=24&e,m=512&e,_=g?i:Di(t);return function i(){for(var l=arguments.length,y=n(l),b=l;b--;)y[b]=arguments[b];if(v)var x=oo(i),T=qe(y,x);if(o&&(y=Ai(y,o,s,v)),a&&(y=Si(y,a,u,v)),l-=T,v&&l<f){var E=er(y,x);return Hi(t,e,Bi,i.placeholder,r,y,E,c,h,f-l)}var w=p?r:this,A=g?w[t]:t;return l=y.length,c?y=Io(y,c):m&&l>1&&y.reverse(),d&&h<l&&(y.length=h),this&&this!==oe&&this instanceof i&&(A=_||Di(A)),A.apply(w,y)}}function ji(t,e){return function(r,n){return function(t,e,r,n){return yn(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Ui(t,e){return function(r,n){var o;if(r===i&&n===i)return e;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ai(r),n=ai(n)):(r=si(r),n=si(n)),o=t(r,n)}return o}}function Vi(t){return to((function(e){return e=Ae(e,We(so())),qn((function(r){var n=this;return t(e,(function(t){return me(t,n,r)}))}))}))}function zi(t,e){var r=(e=e===i?" ":ai(e)).length;if(r<2)return r?Xn(e,t):e;var n=Xn(e,lr(t/ir(e)));return Ze(e)?yi(or(n),0,t).join(""):n.slice(0,t)}function Wi(t){return function(e,r,o){return o&&"number"!=typeof o&&_o(e,r,o)&&(r=o=i),e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r,i){for(var o=-1,s=vr(lr((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,o=o===i?e<r?1:-1:pa(o),t)}}function Gi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ma(e),r=ma(r)),t(e,r)}}function Hi(t,e,r,n,o,s,a,l,c,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var d=[t,e,o,f?s:i,f?a:i,f?i:s,f?i:a,l,c,h],p=r.apply(i,d);return bo(t)&&Oo(p,d),p.placeholder=n,No(p,t,e)}function $i(t){var e=Et[t];return function(t,r){if(t=ma(t),(r=null==r?0:mr(ga(r),292))&&dr(t)){var n=(ya(t)+"e").split("e");return+((n=(ya(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Xi=Ar&&1/rr(new Ar([,-0]))[1]==c?function(t){return new Ar(t)}:lu;function qi(t){return function(e){var r=fo(e);return r==T?Qe(e):r==I?nr(e):function(t,e){return Ae(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,r,s,c,h,f,d){var p=2&e;if(!p&&"function"!=typeof t)throw new It(o);var g=s?s.length:0;if(g||(e&=-97,s=c=i),f=f===i?f:vr(ga(f),0),d=d===i?d:ga(d),g-=c?c.length:0,64&e){var v=s,m=c;s=c=i}var _=p?i:no(t),y=[t,e,r,s,c,v,m,h,f,d];if(_&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,s=n==l&&8==r||n==l&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!s)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ai(c,u,e[4]):u,t[4]=c?er(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Si(c,u,e[6]):u,t[6]=c?er(t[5],a):e[6]),(u=e[7])&&(t[7]=u),n&l&&(t[8]=null==t[8]?e[8]:mr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,_),t=y[0],e=y[1],r=y[2],s=y[3],c=y[4],!(d=y[9]=y[9]===i?p?0:t.length:vr(y[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,r){var o=Di(t);return function s(){for(var a=arguments.length,u=n(a),l=a,c=oo(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:er(u,c);return(a-=h.length)<r?Hi(t,e,Bi,s.placeholder,i,u,h,i,i,r-a):me(this&&this!==oe&&this instanceof s?o:t,this,u)}}(t,e,d):e!=u&&33!=e||c.length?Bi.apply(i,y):function(t,e,r,i){var o=1&e,s=Di(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==oe&&this instanceof e?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return me(f,o?r:this,h)}}(t,e,r,s);else var b=function(t,e,r){var n=1&e,i=Di(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return No((_?Zn:Oo)(b,y),t,e)}function Ki(t,e,r,n){return t===i||Vs(t,Rt[r])&&!Pt.call(n,r)?e:t}function Ji(t,e,r,n,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Un(t,e,i,Ji,s),s.delete(e)),t}function Zi(t){return oa(t)?i:t}function Qi(t,e,r,n,o,s){var a=1&r,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,d=!0,p=2&r?new $r:i;for(s.set(t,e),s.set(e,t);++f<u;){var g=t[f],v=e[f];if(n)var m=a?n(v,g,f,e,t,s):n(g,v,f,t,e,s);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Oe(e,(function(t,e){if(!He(p,e)&&(g===t||o(g,t,r,n,s)))return p.push(e)}))){d=!1;break}}else if(g!==v&&!o(g,v,r,n,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function to(t){return Mo(Ao(t,i,$o),t+"")}function eo(t){return En(t,Na,co)}function ro(t){return En(t,Pa,ho)}var no=Cr?function(t){return Cr.get(t)}:lu;function io(t){for(var e=t.name+"",r=Or[e],n=Pt.call(Or,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(Pt.call(Br,"placeholder")?Br:t).placeholder}function so(){var t=Br.iteratee||ou;return t=t===ou?Ln:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function uo(t){for(var e=Na(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Eo(i)]}return e}function lo(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return Pn(r)?r:i}var co=hr?function(t){return null==t?[]:(t=wt(t),Te(hr(t),(function(e){return te.call(t,e)})))}:vu,ho=hr?function(t){for(var e=[];t;)Se(e,co(t)),t=$t(t);return e}:vu,fo=wn;function po(t,e,r){for(var n=-1,i=(e=mi(e,t)).length,o=!1;++n<i;){var s=Bo(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&mo(s,i)&&(Hs(t)||Gs(t))}function go(t){return"function"!=typeof t.constructor||To(t)?{}:jr($t(t))}function vo(t){return Hs(t)||Gs(t)||!!(ie&&t&&t[ie])}function mo(t,e){var r=typeof t;return!!(e=null==e?h:e)&&("number"==r||"symbol"!=r&&mt.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,r){if(!ea(r))return!1;var n=typeof e;return!!("number"==n?Xs(r)&&mo(e,r.length):"string"==n&&e in r)&&Vs(r[e],t)}function yo(t,e){if(Hs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!la(t))||Q.test(t)||!Z.test(t)||null!=e&&t in wt(e)}function bo(t){var e=io(t),r=Br[e];if("function"!=typeof r||!(e in zr.prototype))return!1;if(t===r)return!0;var n=no(r);return!!n&&t===n[0]}(Tr&&fo(new Tr(new ArrayBuffer(1)))!=N||Er&&fo(new Er)!=T||wr&&fo(wr.resolve())!=A||Ar&&fo(new Ar)!=I||Sr&&fo(new Sr)!=R)&&(fo=function(t){var e=wn(t),r=e==w?t.constructor:i,n=r?jo(r):"";if(n)switch(n){case Rr:return N;case Mr:return T;case Nr:return A;case Pr:return I;case Lr:return R}return e});var xo=Mt?Zs:mu;function To(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function Eo(t){return t==t&&!ea(t)}function wo(t,e){return function(r){return null!=r&&r[t]===e&&(e!==i||t in wt(r))}}function Ao(t,e,r){return e=vr(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=vr(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),me(t,this,u)}}function So(t,e){return e.length<2?t:Tn(t,ei(e,0,-1))}function Io(t,e){for(var r=t.length,n=mr(e.length,r),o=Ii(t);n--;){var s=e[n];t[n]=mo(s,r)?o[s]:i}return t}function Co(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Oo=Po(Zn),Ro=Be||function(t,e){return oe.setTimeout(t,e)},Mo=Po(Qn);function No(t,e,r){var n=e+"";return Mo(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ye(p,(function(r){var n="_."+r[0];e&r[1]&&!Ee(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(n),r)))}function Po(t){var e=0,r=0;return function(){var n=_r(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Lo(t,e){var r=-1,n=t.length,o=n-1;for(e=e===i?n:e;++r<e;){var s=$n(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var Do,ko,Fo=(Do=Ds((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,r,n,i){e.push(n?i.replace(ct,"$1"):r||t)})),e}),(function(t){return 500===ko.size&&ko.clear(),t})),ko=Do.cache,Do);function Bo(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Uo(t){if(t instanceof zr)return t.clone();var e=new Vr(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vo=qn((function(t,e){return qs(t)?cn(t,vn(e,1,qs,!0)):[]})),zo=qn((function(t,e){var r=Jo(e);return qs(r)&&(r=i),qs(t)?cn(t,vn(e,1,qs,!0),so(r,2)):[]})),Wo=qn((function(t,e){var r=Jo(e);return qs(r)&&(r=i),qs(t)?cn(t,vn(e,1,qs,!0),i,r):[]}));function Go(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ga(r);return i<0&&(i=vr(n+i,0)),Ne(t,so(e,3),i)}function Ho(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ga(r),o=r<0?vr(n+o,0):mr(o,n-1)),Ne(t,so(e,3),o,!0)}function $o(t){return null!=t&&t.length?vn(t,1):[]}function Xo(t){return t&&t.length?t[0]:i}var qo=qn((function(t){var e=Ae(t,gi);return e.length&&e[0]===t[0]?Cn(e):[]})),Yo=qn((function(t){var e=Jo(t),r=Ae(t,gi);return e===Jo(r)?e=i:r.pop(),r.length&&r[0]===t[0]?Cn(r,so(e,2)):[]})),Ko=qn((function(t){var e=Jo(t),r=Ae(t,gi);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?Cn(r,i,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Zo=qn(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Gn(t,e):t}var ts=to((function(t,e){var r=null==t?0:t.length,n=on(t,e);return Hn(t,Ae(e,(function(t){return mo(t,r)?+t:t})).sort(wi)),n}));function es(t){return null==t?t:xr.call(t)}var rs=qn((function(t){return ui(vn(t,1,qs,!0))})),ns=qn((function(t){var e=Jo(t);return qs(e)&&(e=i),ui(vn(t,1,qs,!0),so(e,2))})),is=qn((function(t){var e=Jo(t);return e="function"==typeof e?e:i,ui(vn(t,1,qs,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=Te(t,(function(t){if(qs(t))return e=vr(t.length,e),!0})),Ve(e,(function(e){return Ae(t,Fe(e))}))}function ss(t,e){if(!t||!t.length)return[];var r=os(t);return null==e?r:Ae(r,(function(t){return me(e,i,t)}))}var as=qn((function(t,e){return qs(t)?cn(t,e):[]})),us=qn((function(t){return di(Te(t,qs))})),ls=qn((function(t){var e=Jo(t);return qs(e)&&(e=i),di(Te(t,qs),so(e,2))})),cs=qn((function(t){var e=Jo(t);return e="function"==typeof e?e:i,di(Te(t,qs),i,e)})),hs=qn(os),fs=qn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,ss(t,r)}));function ds(t){var e=Br(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var gs=to((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return on(e,t)};return!(e>1||this.__actions__.length)&&n instanceof zr&&mo(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Vr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),vs=Oi((function(t,e,r){Pt.call(t,r)?++t[r]:nn(t,r,1)})),ms=ki(Go),_s=ki(Ho);function ys(t,e){return(Hs(t)?ye:hn)(t,so(e,3))}function bs(t,e){return(Hs(t)?be:fn)(t,so(e,3))}var xs=Oi((function(t,e,r){Pt.call(t,r)?t[r].push(e):nn(t,r,[e])})),Ts=qn((function(t,e,r){var i=-1,o="function"==typeof e,s=Xs(t)?n(t.length):[];return hn(t,(function(t){s[++i]=o?me(e,t,r):On(t,e,r)})),s})),Es=Oi((function(t,e,r){nn(t,r,e)}));function ws(t,e){return(Hs(t)?Ae:Fn)(t,so(e,3))}var As=Oi((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),Ss=qn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&_o(t,e[0],e[1])?e=[]:r>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),zn(t,vn(e,1),[])})),Is=Re||function(){return oe.Date.now()};function Cs(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Yi(t,l,i,i,i,i,e)}function Os(t,e){var r;if("function"!=typeof e)throw new It(o);return t=ga(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Rs=qn((function(t,e,r){var n=1;if(r.length){var i=er(r,oo(Rs));n|=u}return Yi(t,n,e,r,i)})),Ms=qn((function(t,e,r){var n=3;if(r.length){var i=er(r,oo(Ms));n|=u}return Yi(e,n,t,r,i)}));function Ns(t,e,r){var n,s,a,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new It(o);function g(e){var r=n,o=s;return n=s=i,h=e,u=t.apply(o,r)}function v(t){return h=t,l=Ro(_,e),f?g(t):u}function m(t){var r=t-c;return c===i||r>=e||r<0||d&&t-h>=a}function _(){var t=Is();if(m(t))return y(t);l=Ro(_,function(t){var r=e-(t-c);return d?mr(r,a-(t-h)):r}(t))}function y(t){return l=i,p&&n?g(t):(n=s=i,u)}function b(){var t=Is(),r=m(t);if(n=arguments,s=this,c=t,r){if(l===i)return v(c);if(d)return bi(l),l=Ro(_,e),g(c)}return l===i&&(l=Ro(_,e)),u}return e=ma(e)||0,ea(r)&&(f=!!r.leading,a=(d="maxWait"in r)?vr(ma(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),b.cancel=function(){l!==i&&bi(l),h=0,n=c=s=l=i},b.flush=function(){return l===i?u:y(Is())},b}var Ps=qn((function(t,e){return ln(t,1,e)})),Ls=qn((function(t,e,r){return ln(t,ma(e)||0,r)}));function Ds(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ds.Cache||Hr),r}function ks(t){if("function"!=typeof t)throw new It(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ds.Cache=Hr;var Fs=_i((function(t,e){var r=(e=1==e.length&&Hs(e[0])?Ae(e[0],We(so())):Ae(vn(e,1),We(so()))).length;return qn((function(n){for(var i=-1,o=mr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return me(t,this,n)}))})),Bs=qn((function(t,e){var r=er(e,oo(Bs));return Yi(t,u,i,e,r)})),js=qn((function(t,e){var r=er(e,oo(js));return Yi(t,64,i,e,r)})),Us=to((function(t,e){return Yi(t,256,i,i,i,e)}));function Vs(t,e){return t===e||t!=t&&e!=e}var zs=Gi(An),Ws=Gi((function(t,e){return t>=e})),Gs=Rn(function(){return arguments}())?Rn:function(t){return ra(t)&&Pt.call(t,"callee")&&!te.call(t,"callee")},Hs=n.isArray,$s=he?We(he):function(t){return ra(t)&&wn(t)==M};function Xs(t){return null!=t&&ta(t.length)&&!Zs(t)}function qs(t){return ra(t)&&Xs(t)}var Ys=fr||mu,Ks=fe?We(fe):function(t){return ra(t)&&wn(t)==_};function Js(t){if(!ra(t))return!1;var e=wn(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Zs(t){if(!ea(t))return!1;var e=wn(t);return e==b||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var na=de?We(de):function(t){return ra(t)&&fo(t)==T};function ia(t){return"number"==typeof t||ra(t)&&wn(t)==E}function oa(t){if(!ra(t)||wn(t)!=w)return!1;var e=$t(t);if(null===e)return!0;var r=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Nt.call(r)==Ft}var sa=pe?We(pe):function(t){return ra(t)&&wn(t)==S},aa=ge?We(ge):function(t){return ra(t)&&fo(t)==I};function ua(t){return"string"==typeof t||!Hs(t)&&ra(t)&&wn(t)==C}function la(t){return"symbol"==typeof t||ra(t)&&wn(t)==O}var ca=ve?We(ve):function(t){return ra(t)&&ta(t.length)&&!!Zt[wn(t)]},ha=Gi(kn),fa=Gi((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Xs(t))return ua(t)?or(t):Ii(t);if(se&&t[se])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[se]());var e=fo(t);return(e==T?Qe:e==I?rr:Va)(t)}function pa(t){return t?(t=ma(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=pa(t),r=e%1;return e==e?r?e-r:e:0}function va(t){return t?sn(ga(t),0,d):0}function ma(t){if("number"==typeof t)return t;if(la(t))return f;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ze(t);var r=pt.test(t);return r||vt.test(t)?re(t.slice(2),r?2:8):dt.test(t)?f:+t}function _a(t){return Ci(t,Pa(t))}function ya(t){return null==t?"":ai(t)}var ba=Ri((function(t,e){if(To(e)||Xs(e))Ci(e,Na(e),t);else for(var r in e)Pt.call(e,r)&&Qr(t,r,e[r])})),xa=Ri((function(t,e){Ci(e,Pa(e),t)})),Ta=Ri((function(t,e,r,n){Ci(e,Pa(e),t,n)})),Ea=Ri((function(t,e,r,n){Ci(e,Na(e),t,n)})),wa=to(on),Aa=qn((function(t,e){t=wt(t);var r=-1,n=e.length,o=n>2?e[2]:i;for(o&&_o(e[0],e[1],o)&&(n=1);++r<n;)for(var s=e[r],a=Pa(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===i||Vs(h,Rt[c])&&!Pt.call(t,c))&&(t[c]=s[c])}return t})),Sa=qn((function(t){return t.push(i,Ji),me(Da,i,t)}));function Ia(t,e,r){var n=null==t?i:Tn(t,e);return n===i?r:n}function Ca(t,e){return null!=t&&po(t,e,In)}var Oa=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=r}),eu(iu)),Ra=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),Pt.call(t,e)?t[e].push(r):t[e]=[r]}),so),Ma=qn(On);function Na(t){return Xs(t)?qr(t):Dn(t)}function Pa(t){return Xs(t)?qr(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var r in wt(t))e.push(r);return e}(t);var e=To(t),r=[];for(var n in t)("constructor"!=n||!e&&Pt.call(t,n))&&r.push(n);return r}(t)}var La=Ri((function(t,e,r){Un(t,e,r)})),Da=Ri((function(t,e,r,n){Un(t,e,r,n)})),ka=to((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ae(e,(function(e){return e=mi(e,t),n||(n=e.length>1),e})),Ci(t,ro(t),r),n&&(r=an(r,7,Zi));for(var i=e.length;i--;)li(r,e[i]);return r})),Fa=to((function(t,e){return null==t?{}:function(t,e){return Wn(t,e,(function(e,r){return Ca(t,r)}))}(t,e)}));function Ba(t,e){if(null==t)return{};var r=Ae(ro(t),(function(t){return[t]}));return e=so(e),Wn(t,r,(function(t,r){return e(t,r[0])}))}var ja=qi(Na),Ua=qi(Pa);function Va(t){return null==t?[]:Ge(t,Na(t))}var za=Li((function(t,e,r){return e=e.toLowerCase(),t+(r?Wa(e):e)}));function Wa(t){return Ja(ya(t).toLowerCase())}function Ga(t){return(t=ya(t))&&t.replace(_t,Ye).replace(Ht,"")}var Ha=Li((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),$a=Li((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Xa=Pi("toLowerCase"),qa=Li((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),Ya=Li((function(t,e,r){return t+(r?" ":"")+Ja(e)})),Ka=Li((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ja=Pi("toUpperCase");function Za(t,e,r){return t=ya(t),(e=r?i:e)===i?function(t){return Yt.test(t)}(t)?function(t){return t.match(Xt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Qa=qn((function(t,e){try{return me(t,i,e)}catch(t){return Js(t)?t:new xt(t)}})),tu=to((function(t,e){return ye(e,(function(e){e=Bo(e),nn(t,e,Rs(t[e],t))})),t}));function eu(t){return function(){return t}}var ru=Fi(),nu=Fi(!0);function iu(t){return t}function ou(t){return Ln("function"==typeof t?t:an(t,1))}var su=qn((function(t,e){return function(r){return On(r,t,e)}})),au=qn((function(t,e){return function(r){return On(t,r,e)}}));function uu(t,e,r){var n=Na(e),i=xn(e,n);null!=r||ea(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=xn(e,Na(e)));var o=!(ea(r)&&"chain"in r&&!r.chain),s=Zs(t);return ye(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=Ii(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Se([this.value()],arguments))})})),t}function lu(){}var cu=Vi(Ae),hu=Vi(xe),fu=Vi(Oe);function du(t){return yo(t)?Fe(Bo(t)):function(t){return function(e){return Tn(e,t)}}(t)}var pu=Wi(),gu=Wi(!0);function vu(){return[]}function mu(){return!1}var _u,yu=Ui((function(t,e){return t+e}),0),bu=$i("ceil"),xu=Ui((function(t,e){return t/e}),1),Tu=$i("floor"),Eu=Ui((function(t,e){return t*e}),1),wu=$i("round"),Au=Ui((function(t,e){return t-e}),0);return Br.after=function(t,e){if("function"!=typeof e)throw new It(o);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},Br.ary=Cs,Br.assign=ba,Br.assignIn=xa,Br.assignInWith=Ta,Br.assignWith=Ea,Br.at=wa,Br.before=Os,Br.bind=Rs,Br.bindAll=tu,Br.bindKey=Ms,Br.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},Br.chain=ds,Br.chunk=function(t,e,r){e=(r?_o(t,e,r):e===i)?1:vr(ga(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=n(lr(o/e));s<o;)u[a++]=ei(t,s,s+=e);return u},Br.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Br.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Se(Hs(r)?Ii(r):[r],vn(e,1))},Br.cond=function(t){var e=null==t?0:t.length,r=so();return t=e?Ae(t,(function(t){if("function"!=typeof t[1])throw new It(o);return[r(t[0]),t[1]]})):[],qn((function(r){for(var n=-1;++n<e;){var i=t[n];if(me(i[0],this,r))return me(i[1],this,r)}}))},Br.conforms=function(t){return function(t){var e=Na(t);return function(r){return un(r,t,e)}}(an(t,1))},Br.constant=eu,Br.countBy=vs,Br.create=function(t,e){var r=jr(t);return null==e?r:rn(r,e)},Br.curry=function t(e,r,n){var o=Yi(e,8,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Br.curryRight=function t(e,r,n){var o=Yi(e,16,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Br.debounce=Ns,Br.defaults=Aa,Br.defaultsDeep=Sa,Br.defer=Ps,Br.delay=Ls,Br.difference=Vo,Br.differenceBy=zo,Br.differenceWith=Wo,Br.drop=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=r||e===i?1:ga(e))<0?0:e,n):[]},Br.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,0,(e=n-(e=r||e===i?1:ga(e)))<0?0:e):[]},Br.dropRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0,!0):[]},Br.dropWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0):[]},Br.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&_o(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=ga(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ga(n))<0&&(n+=o),n=r>n?0:va(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Br.filter=function(t,e){return(Hs(t)?Te:gn)(t,so(e,3))},Br.flatMap=function(t,e){return vn(ws(t,e),1)},Br.flatMapDeep=function(t,e){return vn(ws(t,e),c)},Br.flatMapDepth=function(t,e,r){return r=r===i?1:ga(r),vn(ws(t,e),r)},Br.flatten=$o,Br.flattenDeep=function(t){return null!=t&&t.length?vn(t,c):[]},Br.flattenDepth=function(t,e){return null!=t&&t.length?vn(t,e=e===i?1:ga(e)):[]},Br.flip=function(t){return Yi(t,512)},Br.flow=ru,Br.flowRight=nu,Br.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Br.functions=function(t){return null==t?[]:xn(t,Na(t))},Br.functionsIn=function(t){return null==t?[]:xn(t,Pa(t))},Br.groupBy=xs,Br.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Br.intersection=qo,Br.intersectionBy=Yo,Br.intersectionWith=Ko,Br.invert=Oa,Br.invertBy=Ra,Br.invokeMap=Ts,Br.iteratee=ou,Br.keyBy=Es,Br.keys=Na,Br.keysIn=Pa,Br.map=ws,Br.mapKeys=function(t,e){var r={};return e=so(e,3),yn(t,(function(t,n,i){nn(r,e(t,n,i),t)})),r},Br.mapValues=function(t,e){var r={};return e=so(e,3),yn(t,(function(t,n,i){nn(r,n,e(t,n,i))})),r},Br.matches=function(t){return Bn(an(t,1))},Br.matchesProperty=function(t,e){return jn(t,an(e,1))},Br.memoize=Ds,Br.merge=La,Br.mergeWith=Da,Br.method=su,Br.methodOf=au,Br.mixin=uu,Br.negate=ks,Br.nthArg=function(t){return t=ga(t),qn((function(e){return Vn(e,t)}))},Br.omit=ka,Br.omitBy=function(t,e){return Ba(t,ks(so(e)))},Br.once=function(t){return Os(2,t)},Br.orderBy=function(t,e,r,n){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(r=n?i:r)||(r=null==r?[]:[r]),zn(t,e,r))},Br.over=cu,Br.overArgs=Fs,Br.overEvery=hu,Br.overSome=fu,Br.partial=Bs,Br.partialRight=js,Br.partition=As,Br.pick=Fa,Br.pickBy=Ba,Br.property=du,Br.propertyOf=function(t){return function(e){return null==t?i:Tn(t,e)}},Br.pull=Zo,Br.pullAll=Qo,Br.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,so(r,2)):t},Br.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Gn(t,e,i,r):t},Br.pullAt=ts,Br.range=pu,Br.rangeRight=gu,Br.rearg=Us,Br.reject=function(t,e){return(Hs(t)?Te:gn)(t,ks(so(e,3)))},Br.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=so(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Hn(t,i),r},Br.rest=function(t,e){if("function"!=typeof t)throw new It(o);return qn(t,e=e===i?e:ga(e))},Br.reverse=es,Br.sampleSize=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ga(e),(Hs(t)?Kr:Kn)(t,e)},Br.set=function(t,e,r){return null==t?t:Jn(t,e,r)},Br.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:Jn(t,e,r,n)},Br.shuffle=function(t){return(Hs(t)?Jr:ti)(t)},Br.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&_o(t,e,r)?(e=0,r=n):(e=null==e?0:ga(e),r=r===i?n:ga(r)),ei(t,e,r)):[]},Br.sortBy=Ss,Br.sortedUniq=function(t){return t&&t.length?oi(t):[]},Br.sortedUniqBy=function(t,e){return t&&t.length?oi(t,so(e,2)):[]},Br.split=function(t,e,r){return r&&"number"!=typeof r&&_o(t,e,r)&&(e=r=i),(r=r===i?d:r>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ai(e))&&Ze(t)?yi(or(t),0,r):t.split(e,r):[]},Br.spread=function(t,e){if("function"!=typeof t)throw new It(o);return e=null==e?0:vr(ga(e),0),qn((function(r){var n=r[e],i=yi(r,0,e);return n&&Se(i,n),me(t,this,i)}))},Br.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Br.take=function(t,e,r){return t&&t.length?ei(t,0,(e=r||e===i?1:ga(e))<0?0:e):[]},Br.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=n-(e=r||e===i?1:ga(e)))<0?0:e,n):[]},Br.takeRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!1,!0):[]},Br.takeWhile=function(t,e){return t&&t.length?hi(t,so(e,3)):[]},Br.tap=function(t,e){return e(t),t},Br.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new It(o);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ns(t,e,{leading:n,maxWait:e,trailing:i})},Br.thru=ps,Br.toArray=da,Br.toPairs=ja,Br.toPairsIn=Ua,Br.toPath=function(t){return Hs(t)?Ae(t,Bo):la(t)?[t]:Ii(Fo(ya(t)))},Br.toPlainObject=_a,Br.transform=function(t,e,r){var n=Hs(t),i=n||Ys(t)||ca(t);if(e=so(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ea(t)&&Zs(o)?jr($t(t)):{}}return(i?ye:yn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Br.unary=function(t){return Cs(t,1)},Br.union=rs,Br.unionBy=ns,Br.unionWith=is,Br.uniq=function(t){return t&&t.length?ui(t):[]},Br.uniqBy=function(t,e){return t&&t.length?ui(t,so(e,2)):[]},Br.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Br.unset=function(t,e){return null==t||li(t,e)},Br.unzip=os,Br.unzipWith=ss,Br.update=function(t,e,r){return null==t?t:ci(t,e,vi(r))},Br.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:ci(t,e,vi(r),n)},Br.values=Va,Br.valuesIn=function(t){return null==t?[]:Ge(t,Pa(t))},Br.without=as,Br.words=Za,Br.wrap=function(t,e){return Bs(vi(e),t)},Br.xor=us,Br.xorBy=ls,Br.xorWith=cs,Br.zip=hs,Br.zipObject=function(t,e){return pi(t||[],e||[],Qr)},Br.zipObjectDeep=function(t,e){return pi(t||[],e||[],Jn)},Br.zipWith=fs,Br.entries=ja,Br.entriesIn=Ua,Br.extend=xa,Br.extendWith=Ta,uu(Br,Br),Br.add=yu,Br.attempt=Qa,Br.camelCase=za,Br.capitalize=Wa,Br.ceil=bu,Br.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ma(r))==r?r:0),e!==i&&(e=(e=ma(e))==e?e:0),sn(ma(t),e,r)},Br.clone=function(t){return an(t,4)},Br.cloneDeep=function(t){return an(t,5)},Br.cloneDeepWith=function(t,e){return an(t,5,e="function"==typeof e?e:i)},Br.cloneWith=function(t,e){return an(t,4,e="function"==typeof e?e:i)},Br.conformsTo=function(t,e){return null==e||un(t,e,Na(e))},Br.deburr=Ga,Br.defaultTo=function(t,e){return null==t||t!=t?e:t},Br.divide=xu,Br.endsWith=function(t,e,r){t=ya(t),e=ai(e);var n=t.length,o=r=r===i?n:sn(ga(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},Br.eq=Vs,Br.escape=function(t){return(t=ya(t))&&q.test(t)?t.replace($,Ke):t},Br.escapeRegExp=function(t){return(t=ya(t))&&rt.test(t)?t.replace(et,"\\$&"):t},Br.every=function(t,e,r){var n=Hs(t)?xe:dn;return r&&_o(t,e,r)&&(e=i),n(t,so(e,3))},Br.find=ms,Br.findIndex=Go,Br.findKey=function(t,e){return Me(t,so(e,3),yn)},Br.findLast=_s,Br.findLastIndex=Ho,Br.findLastKey=function(t,e){return Me(t,so(e,3),bn)},Br.floor=Tu,Br.forEach=ys,Br.forEachRight=bs,Br.forIn=function(t,e){return null==t?t:mn(t,so(e,3),Pa)},Br.forInRight=function(t,e){return null==t?t:_n(t,so(e,3),Pa)},Br.forOwn=function(t,e){return t&&yn(t,so(e,3))},Br.forOwnRight=function(t,e){return t&&bn(t,so(e,3))},Br.get=Ia,Br.gt=zs,Br.gte=Ws,Br.has=function(t,e){return null!=t&&po(t,e,Sn)},Br.hasIn=Ca,Br.head=Xo,Br.identity=iu,Br.includes=function(t,e,r,n){t=Xs(t)?t:Va(t),r=r&&!n?ga(r):0;var i=t.length;return r<0&&(r=vr(i+r,0)),ua(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Pe(t,e,r)>-1},Br.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ga(r);return i<0&&(i=vr(n+i,0)),Pe(t,e,i)},Br.inRange=function(t,e,r){return e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r){return t>=mr(e,r)&&t<vr(e,r)}(t=ma(t),e,r)},Br.invoke=Ma,Br.isArguments=Gs,Br.isArray=Hs,Br.isArrayBuffer=$s,Br.isArrayLike=Xs,Br.isArrayLikeObject=qs,Br.isBoolean=function(t){return!0===t||!1===t||ra(t)&&wn(t)==m},Br.isBuffer=Ys,Br.isDate=Ks,Br.isElement=function(t){return ra(t)&&1===t.nodeType&&!oa(t)},Br.isEmpty=function(t){if(null==t)return!0;if(Xs(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ca(t)||Gs(t)))return!t.length;var e=fo(t);if(e==T||e==I)return!t.size;if(To(t))return!Dn(t).length;for(var r in t)if(Pt.call(t,r))return!1;return!0},Br.isEqual=function(t,e){return Mn(t,e)},Br.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?Mn(t,e,i,r):!!n},Br.isError=Js,Br.isFinite=function(t){return"number"==typeof t&&dr(t)},Br.isFunction=Zs,Br.isInteger=Qs,Br.isLength=ta,Br.isMap=na,Br.isMatch=function(t,e){return t===e||Nn(t,e,uo(e))},Br.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Nn(t,e,uo(e),r)},Br.isNaN=function(t){return ia(t)&&t!=+t},Br.isNative=function(t){if(xo(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pn(t)},Br.isNil=function(t){return null==t},Br.isNull=function(t){return null===t},Br.isNumber=ia,Br.isObject=ea,Br.isObjectLike=ra,Br.isPlainObject=oa,Br.isRegExp=sa,Br.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=h},Br.isSet=aa,Br.isString=ua,Br.isSymbol=la,Br.isTypedArray=ca,Br.isUndefined=function(t){return t===i},Br.isWeakMap=function(t){return ra(t)&&fo(t)==R},Br.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==wn(t)},Br.join=function(t,e){return null==t?"":pr.call(t,e)},Br.kebabCase=Ha,Br.last=Jo,Br.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ga(r))<0?vr(n+o,0):mr(o,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Ne(t,De,o,!0)},Br.lowerCase=$a,Br.lowerFirst=Xa,Br.lt=ha,Br.lte=fa,Br.max=function(t){return t&&t.length?pn(t,iu,An):i},Br.maxBy=function(t,e){return t&&t.length?pn(t,so(e,2),An):i},Br.mean=function(t){return ke(t,iu)},Br.meanBy=function(t,e){return ke(t,so(e,2))},Br.min=function(t){return t&&t.length?pn(t,iu,kn):i},Br.minBy=function(t,e){return t&&t.length?pn(t,so(e,2),kn):i},Br.stubArray=vu,Br.stubFalse=mu,Br.stubObject=function(){return{}},Br.stubString=function(){return""},Br.stubTrue=function(){return!0},Br.multiply=Eu,Br.nth=function(t,e){return t&&t.length?Vn(t,ga(e)):i},Br.noConflict=function(){return oe._===this&&(oe._=Bt),this},Br.noop=lu,Br.now=Is,Br.pad=function(t,e,r){t=ya(t);var n=(e=ga(e))?ir(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return zi(cr(i),r)+t+zi(lr(i),r)},Br.padEnd=function(t,e,r){t=ya(t);var n=(e=ga(e))?ir(t):0;return e&&n<e?t+zi(e-n,r):t},Br.padStart=function(t,e,r){t=ya(t);var n=(e=ga(e))?ir(t):0;return e&&n<e?zi(e-n,r)+t:t},Br.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),yr(ya(t).replace(nt,""),e||0)},Br.random=function(t,e,r){if(r&&"boolean"!=typeof r&&_o(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=br();return mr(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return $n(t,e)},Br.reduce=function(t,e,r){var n=Hs(t)?Ie:je,i=arguments.length<3;return n(t,so(e,4),r,i,hn)},Br.reduceRight=function(t,e,r){var n=Hs(t)?Ce:je,i=arguments.length<3;return n(t,so(e,4),r,i,fn)},Br.repeat=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ga(e),Xn(ya(t),e)},Br.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Br.result=function(t,e,r){var n=-1,o=(e=mi(e,t)).length;for(o||(o=1,t=i);++n<o;){var s=null==t?i:t[Bo(e[n])];s===i&&(n=o,s=r),t=Zs(s)?s.call(t):s}return t},Br.round=wu,Br.runInContext=t,Br.sample=function(t){return(Hs(t)?Yr:Yn)(t)},Br.size=function(t){if(null==t)return 0;if(Xs(t))return ua(t)?ir(t):t.length;var e=fo(t);return e==T||e==I?t.size:Dn(t).length},Br.snakeCase=qa,Br.some=function(t,e,r){var n=Hs(t)?Oe:ri;return r&&_o(t,e,r)&&(e=i),n(t,so(e,3))},Br.sortedIndex=function(t,e){return ni(t,e)},Br.sortedIndexBy=function(t,e,r){return ii(t,e,so(r,2))},Br.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ni(t,e);if(n<r&&Vs(t[n],e))return n}return-1},Br.sortedLastIndex=function(t,e){return ni(t,e,!0)},Br.sortedLastIndexBy=function(t,e,r){return ii(t,e,so(r,2),!0)},Br.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ni(t,e,!0)-1;if(Vs(t[r],e))return r}return-1},Br.startCase=Ya,Br.startsWith=function(t,e,r){return t=ya(t),r=null==r?0:sn(ga(r),0,t.length),e=ai(e),t.slice(r,r+e.length)==e},Br.subtract=Au,Br.sum=function(t){return t&&t.length?Ue(t,iu):0},Br.sumBy=function(t,e){return t&&t.length?Ue(t,so(e,2)):0},Br.template=function(t,e,r){var n=Br.templateSettings;r&&_o(t,e,r)&&(e=i),t=ya(t),e=Ta({},e,n,Ki);var o,s,a=Ta({},e.imports,n.imports,Ki),u=Na(a),l=Ge(a,u),c=0,h=e.interpolate||yt,f="__p += '",d=At((e.escape||yt).source+"|"+h.source+"|"+(h===J?ht:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jt+"]")+"\n";t.replace(d,(function(e,r,n,i,a,u){return n||(n=i),f+=t.slice(c,u).replace(bt,Je),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var g=Pt.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new xt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(z,""):f).replace(W,"$1").replace(G,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Qa((function(){return Tt(u,p+"return "+f).apply(i,l)}));if(v.source=f,Js(v))throw v;return v},Br.times=function(t,e){if((t=ga(t))<1||t>h)return[];var r=d,n=mr(t,d);e=so(e),t-=d;for(var i=Ve(n,e);++r<t;)e(r);return i},Br.toFinite=pa,Br.toInteger=ga,Br.toLength=va,Br.toLower=function(t){return ya(t).toLowerCase()},Br.toNumber=ma,Br.toSafeInteger=function(t){return t?sn(ga(t),-9007199254740991,h):0===t?t:0},Br.toString=ya,Br.toUpper=function(t){return ya(t).toUpperCase()},Br.trim=function(t,e,r){if((t=ya(t))&&(r||e===i))return ze(t);if(!t||!(e=ai(e)))return t;var n=or(t),o=or(e);return yi(n,$e(n,o),Xe(n,o)+1).join("")},Br.trimEnd=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.slice(0,sr(t)+1);if(!t||!(e=ai(e)))return t;var n=or(t);return yi(n,0,Xe(n,or(e))+1).join("")},Br.trimStart=function(t,e,r){if((t=ya(t))&&(r||e===i))return t.replace(nt,"");if(!t||!(e=ai(e)))return t;var n=or(t);return yi(n,$e(n,or(e))).join("")},Br.truncate=function(t,e){var r=30,n="...";if(ea(e)){var o="separator"in e?e.separator:o;r="length"in e?ga(e.length):r,n="omission"in e?ai(e.omission):n}var s=(t=ya(t)).length;if(Ze(t)){var a=or(t);s=a.length}if(r>=s)return t;var u=r-ir(n);if(u<1)return n;var l=a?yi(a,0,u).join(""):t.slice(0,u);if(o===i)return l+n;if(a&&(u+=l.length-u),sa(o)){if(t.slice(u).search(o)){var c,h=l;for(o.global||(o=At(o.source,ya(ft.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(t.indexOf(ai(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+n},Br.unescape=function(t){return(t=ya(t))&&X.test(t)?t.replace(H,ar):t},Br.uniqueId=function(t){var e=++Lt;return ya(t)+e},Br.upperCase=Ka,Br.upperFirst=Ja,Br.each=ys,Br.eachRight=bs,Br.first=Xo,uu(Br,(_u={},yn(Br,(function(t,e){Pt.call(Br.prototype,e)||(_u[e]=t)})),_u),{chain:!1}),Br.VERSION="4.17.21",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Br[t].placeholder=Br})),ye(["drop","take"],(function(t,e){zr.prototype[t]=function(r){r=r===i?1:vr(ga(r),0);var n=this.__filtered__&&!e?new zr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,d),type:t+(n.__dir__<0?"Right":"")}),n},zr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;zr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),ye(["head","last"],(function(t,e){var r="take"+(e?"Right":"");zr.prototype[t]=function(){return this[r](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");zr.prototype[t]=function(){return this.__filtered__?new zr(this):this[r](1)}})),zr.prototype.compact=function(){return this.filter(iu)},zr.prototype.find=function(t){return this.filter(t).head()},zr.prototype.findLast=function(t){return this.reverse().find(t)},zr.prototype.invokeMap=qn((function(t,e){return"function"==typeof t?new zr(this):this.map((function(r){return On(r,t,e)}))})),zr.prototype.reject=function(t){return this.filter(ks(so(t)))},zr.prototype.slice=function(t,e){t=ga(t);var r=this;return r.__filtered__&&(t>0||e<0)?new zr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=ga(e))<0?r.dropRight(-e):r.take(e-t)),r)},zr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zr.prototype.toArray=function(){return this.take(d)},yn(zr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Br[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);o&&(Br.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof zr,l=a[0],c=u||Hs(e),h=function(t){var e=o.apply(Br,Se([t],a));return n&&f?e[0]:e};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,g=u&&!d;if(!s&&c){e=g?e:new zr(this);var v=t.apply(e,a);return v.__actions__.push({func:ps,args:[h],thisArg:i}),new Vr(v,f)}return p&&g?t.apply(this,a):(v=this.thru(h),p?n?v.value()[0]:v.value():v)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ct[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Br.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Hs(i)?i:[],t)}return this[r]((function(r){return e.apply(Hs(r)?r:[],t)}))}})),yn(zr.prototype,(function(t,e){var r=Br[e];if(r){var n=r.name+"";Pt.call(Or,n)||(Or[n]=[]),Or[n].push({name:e,func:r})}})),Or[Bi(i,2).name]=[{name:"wrapper",func:i}],zr.prototype.clone=function(){var t=new zr(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t},zr.prototype.reverse=function(){if(this.__filtered__){var t=new zr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Hs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=mr(e,t+s);break;case"takeRight":t=vr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=n?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=mr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return fi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[l+=e];++g<h;){var m=c[g],_=m.iteratee,y=m.type,b=_(v);if(2==y)v=b;else if(!b){if(1==y)continue t;break t}}p[f++]=v}return p},Br.prototype.at=gs,Br.prototype.chain=function(){return ds(this)},Br.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},Br.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Br.prototype.plant=function(t){for(var e,r=this;r instanceof Ur;){var n=Uo(r);n.__index__=0,n.__values__=i,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},Br.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zr){var e=t;return this.__actions__.length&&(e=new zr(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:i}),new Vr(e,this.__chain__)}return this.thru(es)},Br.prototype.toJSON=Br.prototype.valueOf=Br.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Br.prototype.first=Br.prototype.head,se&&(Br.prototype[se]=function(){return this}),Br}();oe._=ur,(n=function(){return ur}.call(e,r,e,t))===i||(t.exports=n)}.call(this)},(t,e,r)=>{"use strict";const{getRemote:n}=r(284),i=r(283),o=r(497),{isBrowser:s}=r(13);t.exports=class extends o{constructor(t){super(t),this.OFFSET_TIME=0;const{width:e,height:r}=t;this.queue=new i,this.canvas=this.initCanvas(1,1),this.canvasContext=this.canvas.getContext("2d")}async init(t){const{fps:e}=t;if(s){let t;t=this.conf.mixin.startsWith("http")||this.conf.mixin.startsWith("blob:http")?this.conf.mixin:new URL(`./${this.conf.mixin}.js`,this.creator.getConf("mns")),this.worker=new Worker(t)}else{const t=r(500)(`./${this.conf.mixin}.js`);this.worker=new t}const n=await this.exec({method:"init",fps:e,...this.conf},Number(this.conf.timeout)||3e4);this.info=n||{};const{width:i=0,height:o=0,duration:a=1,speed:u,loop:l}=this.info;i&&o&&this.resize(i,o),this.length=Number(a)||1,void 0!==l&&(this.loop=l),u>0&&this.setSpeed(u)}exec(t,e=1e4,r=[]){return Date.now(),new Promise((async(n,i)=>{const o=new AbortController;if(s)this.worker.addEventListener("message",(t=>{if("object"==typeof t.data&&t.data.err)return i(t.data);n(t.data)}),{once:!0,signal:o.signal}),this.worker.postMessage(t,r),setTimeout((()=>{i(),o.abort()}),e);else{const e=await this.worker[t.method](t);n(e)}}))}resize(t,e){this.canvas.width=this.info.width=t,this.canvas.height=this.info.height=e}async getFrameByTime(t,e){return await this.queuedGetFrameByTime(t,e)}async queuedGetFrameByTime(t,e,r=null){return new Promise((async(n,i)=>{this.queue.enqueue((async()=>{const i=await this.exec({method:"draw",time:t,delta:e});n(this.render(i,r))}))}))}render(t,e=null){e||(e=this.canvas);const{width:r,height:n}=e,i=e.getContext("2d");i.clearRect(0,0,r,n),i.drawImage(t,0,0,r,n)}destroy(){super.destroy(),this.workerCtx=null,this.queue&&this.queue.destroy(),this.queue=null}}},(t,e,r)=>{var n={"./base.js":501,"./demo.js":502,"./echart.js":503,"./lottie.js":509};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=500},(t,e,r)=>{"use strict";const{isWebWorker:n}=r(13),{getRemote:i}=r(284);t.exports=class{constructor(){this.MAX_TIME=99999,n?this.initWebWorker():this.initNode()}initWebWorker(){this.canvas=new OffscreenCanvas(1,1),this.drawCanvas=new OffscreenCanvas(1,1),this.ctx=this.drawCanvas.getContext("2d"),this.klassHolder={},this.createCanvas=(t,e)=>new OffscreenCanvas(t,e)}initNode(){const{nodeRequire:t}=r(236),{createCanvas:e,Canvas:n,Image:i}=t("../../inkpaint/lib/index");this.canvas=e(1,1),this.drawCanvas=e(1,1),this.ctx=this.drawCanvas.getContext("2d"),this.klassHolder={Canvas:n,Image:i},this.createCanvas=e}async getRemoteData(t,e=!0){try{const r=await i(t,"cid"),n=await r.data.text();return e?JSON.parse(n):n}catch(t){return null}}async init(t){return this.conf=t,{width:1,height:1,duration:1}}resize(t,e){this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,this.drawCanvas.width=t,this.drawCanvas.height=e}async render(t,e){}async draw({time:t,delta:e}){await this.render(t,e);const{width:r,height:i}=this;return this.ctx.clearRect(0,0,r,i),this.ctx.drawImage(this.canvas,0,0,r,i),n?this.drawCanvas.transferToImageBitmap():this.drawCanvas}start(){addEventListener("message",(async t=>{if("object"!=typeof t.data||!t.data.method)return postMessage({err:"invalid request!"});const e=this[t.data.method];if(!e||"function"!=typeof e)return postMessage({err:`method not found: ${t.data.method}`});const r=await e.call(this,t.data);postMessage(r)}))}destroy(){this.ctx=null,this.drawCanvas=null,this.canvas=null,this.conf=null}}},(t,e,r)=>{const n=r(501),{getRemote:i}=r(284),{isWebWorker:o}=r(13);class s extends n{async init(t){await super.init(t),this.resize(200,200);const e=this.canvas.getContext("2d");return e.scale(2,2),e.font="normal normal normal 13px",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="black",{width:this.width,height:this.height,duration:10}}render(t,e){const r=this.canvas,n=r.getContext("2d");n.clearRect(0,0,r.width,r.height),n.fillStyle="#1FB0F9",n.fillRect(0,0,r.width,r.height),n.fillStyle="#FFFFFF",n.fillRect(10+3*t,10,10,10),n.fillText(t,10,50),n.fillText(e,10,70)}}o&&(new s).start(),t.exports=s},(t,e,r)=>{const n=r(504),i=r(505),o=r(501),{isWebWorker:s}=r(13),a=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#E062AE","#fb7293","#ff9f7f","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#749f83"];class u extends o{async init(t){await super.init(t);let{width:e=128,height:r=128,duration:i,theme:o="light",speed:s,ani:u=!0,movieType:l="start",colors:c,option:h,src:f,data:d}=t;if(this.resize(e,r),this.dataTimer=0,this.movieType=l,this.color=c||a,n.Model.prototype.isAnimationEnabled=()=>u,n.SeriesModel.prototype.isAnimationEnabled=()=>u,h)try{"object"==typeof h&&h.innerHTML&&(h=h.innerHTML)}catch(t){return}else f.startsWith("http")&&(h=await this.getRemoteData(f,!1));if("string"!=typeof h)return;if(d){try{"object"==typeof d&&d.innerHTML?d=JSON.parse(d.innerHTML):"string"==typeof d&&d.startsWith("http")?d=await this.getRemoteData(d):"string"==typeof d&&(d=JSON.parse(d))}catch(t){}Array.isArray(d)&&Array.isArray(d[0])&&(this.data=d,this.template=h,this.length=d[0].length,h=this.updateData(0,!1))}if("string"==typeof h)try{h=JSON.parse(h),this.length=h.series[0].data.length}catch(t){return console.error(t),void console.error(h)}if(!h.series)return;this.speed=Number(s)||this.length/i,h={animationDuration:"start"===l?1e3:0,animationDurationUpdate:1e3,animationEasing:"linear",animationEasingUpdate:"linear",...h},this.aniDuration=h.animationDurationUpdate;const p=this.createCanvas(128,128);n.setCanvasCreator((()=>p)),this.option=h,this.chart=n.init(this.canvas,o),this.fixZRender(),this.chart.setOption(h),this.updateData(0);const g=this.chart._zr.animation;return g.stop(),g._time=0,g.update(!1,0,0),{width:this.width,height:this.height,duration:this.length,speed:this.speed,loop:!1}}render(t,e){const{chart:r}=this,n=r._zr.animation,i=t>>0;i!==this.dataTimer&&(this.updateData(i),this.dataTimer=i),e<=0&&t>.02&&(n.update(!0,0),n.stop(),n._time=0,n.update(!1,this.aniDuration)),n._running&&!n._paused&&n.update(!1,1e3*t>>0)}updateData(t,e=!0){if(!this.data)return;const{chart:r}=this;let n,o;if("add"===this.movieType){const e=this.conf.moiveStart||2;n=this.xs(this.data[0]),o=this.ys(this.data,n.slice(0,e+t))}else{if("move"!==this.movieType)return;{const e=this.xs(this.data[0])[t+1];if(void 0===e)return;n=this.data.map((t=>t[0])),o=this.ys(this.data,[e]).map((t=>t[0]))}}const s=JSON.parse(i.render(this.template,{xs:n,ys:o}));return this.color&&(s.series[0].itemStyle={color:t=>this.color[t.dataIndex]}),e&&r.setOption(s),s}xs(t){const e=[];for(let r of t)e.includes(r)||e.push(r);return e}ys(t,e){const r=[];for(let e in t)r.push([]);for(let n in t[0]){const i=t[0][n];if(e.includes(i))for(let e in t)r[e].push(t[e][n])}return r}fixZRender(){const{chart:t}=this,e=t._zr.animation;e.start=function(){this._running||(this._time=0,this._pausedTime=0,this._startLoop())},e._startLoop=function(){this._running=!0},e.update=function(t,e){if(void 0===e)return;let r=this._clipsHead;const n=e-this._time;for(this._time=e;r;){const t=r.next;r.step(e,n)?(r.ondestroy&&r.ondestroy(),this.removeClip(r),r=t):r=t}t||(this.onframe(n),this.trigger("frame",n),this.stage.update&&this.stage.update())}}}s&&(new u).start(),t.exports=u},t=>{"use strict";t.exports=window.echarts},(t,e,r)=>{"use strict";var n=r(506),i=r(62),o=r(507),s=!1,a=r(508).version,u="locals",l=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],c=l.concat("cache"),h=/^\uFEFF/,f=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function d(t,r){var i;if(r.some((function(r){return i=e.resolveInclude(t,r,!0),n.existsSync(i)})))return i}function p(t,r){var n,i=t.filename,o=arguments.length>1;if(t.cache){if(!i)throw new Error("cache option requires a filename");if(n=e.cache.get(i))return n;o||(r=v(i).toString().replace(h,""))}else if(!o){if(!i)throw new Error("Internal EJS error: no file name or template provided");r=v(i).toString().replace(h,"")}return n=e.compile(r,t),t.cache&&e.cache.set(i,n),n}function g(t,r,n){var i;if(!n){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,n){try{e(i=p(t)(r))}catch(t){n(t)}}));throw new Error("Please provide a callback function")}try{i=p(t)(r)}catch(t){return n(t)}n(null,i)}function v(t){return e.fileLoader(t)}function m(t,e,r,n,i){var o=e.split("\n"),s=Math.max(n-3,0),a=Math.min(o.length,n+3),u=i(r),l=o.slice(s,a).map((function(t,e){var r=e+s+1;return(r==n?" >> ":"    ")+r+"| "+t})).join("\n");throw t.path=u,t.message=(u||"ejs")+":"+n+"\n"+l+"\n\n"+t.message,t}function _(t){return t.replace(/;(\s*$)/,"$1")}function y(t,r){r=r||o.createNullProtoObjWherePossible();var n=o.createNullProtoObjWherePossible();this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=r.client||!1,n.escapeFunction=r.escape||r.escapeFunction||o.escapeXML,n.compileDebug=!1!==r.compileDebug,n.debug=!!r.debug,n.filename=r.filename,n.openDelimiter=r.openDelimiter||e.openDelimiter||"<",n.closeDelimiter=r.closeDelimiter||e.closeDelimiter||">",n.delimiter=r.delimiter||e.delimiter||"%",n.strict=r.strict||!1,n.context=r.context,n.cache=r.cache||!1,n.rmWhitespace=r.rmWhitespace,n.root=r.root,n.includer=r.includer,n.outputFunctionName=r.outputFunctionName,n.localsName=r.localsName||e.localsName||u,n.views=r.views,n.async=r.async,n.destructuredLocals=r.destructuredLocals,n.legacyInclude=void 0===r.legacyInclude||!!r.legacyInclude,n.strict?n._with=!1:n._with=void 0===r._with||r._with,this.opts=n,this.regex=this.createRegex()}e.cache=o.cache,e.fileLoader=n.readFileSync,e.localsName=u,e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(t,e,r){var n=i.dirname,o=i.extname,s=(0,i.resolve)(r?e:n(e),t);return o(t)||(s+=".ejs"),s},e.compile=function(t,e){return e&&e.scope&&(s||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),s=!0),e.context||(e.context=e.scope),delete e.scope),new y(t,e).compile()},e.render=function(t,e,r){var n=e||o.createNullProtoObjWherePossible(),i=r||o.createNullProtoObjWherePossible();return 2==arguments.length&&o.shallowCopyFromList(i,n,l),p(i,t)(n)},e.renderFile=function(){var t,e,r,n=Array.prototype.slice.call(arguments),i=n.shift(),s={filename:i};return"function"==typeof arguments[arguments.length-1]&&(t=n.pop()),n.length?(e=n.shift(),n.length?o.shallowCopy(s,n.pop()):(e.settings&&(e.settings.views&&(s.views=e.settings.views),e.settings["view cache"]&&(s.cache=!0),(r=e.settings["view options"])&&o.shallowCopy(s,r)),o.shallowCopyFromList(s,e,c)),s.filename=i):e=o.createNullProtoObjWherePossible(),g(s,e,t)},e.Template=y,e.clearCache=function(){e.cache.reset()},y.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},y.prototype={createRegex:function(){var t="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=o.escapeRegExpChars(this.opts.delimiter),r=o.escapeRegExpChars(this.opts.openDelimiter),n=o.escapeRegExpChars(this.opts.closeDelimiter);return t=t.replace(/%/g,e).replace(/</g,r).replace(/>/g,n),new RegExp(t)},compile:function(){var t,r,s,a=this.opts,u="",l="",c=a.escapeFunction,h=a.filename?JSON.stringify(a.filename):"undefined";if(!this.source){if(this.generateSource(),u+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',a.outputFunctionName){if(!f.test(a.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");u+="  var "+a.outputFunctionName+" = __append;\n"}if(a.localsName&&!f.test(a.localsName))throw new Error("localsName is not a valid JS identifier.");if(a.destructuredLocals&&a.destructuredLocals.length){for(var g="  var __locals = ("+a.localsName+" || {}),\n",v=0;v<a.destructuredLocals.length;v++){var _=a.destructuredLocals[v];if(!f.test(_))throw new Error("destructuredLocals["+v+"] is not a valid JS identifier.");v>0&&(g+=",\n  "),g+=_+" = __locals."+_}u+=g+";\n"}!1!==a._with&&(u+="  with ("+a.localsName+" || {}) {\n",l+="  }\n"),l+="  return __output;\n",this.source=u+this.source+l}t=a.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+h+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,a.client&&(t="escapeFn = escapeFn || "+c.toString()+";\n"+t,a.compileDebug&&(t="rethrow = rethrow || "+m.toString()+";\n"+t)),a.strict&&(t='"use strict";\n'+t),a.debug&&console.log(t),a.compileDebug&&a.filename&&(t=t+"\n//# sourceURL="+h+"\n");try{if(a.async)try{s=new Function("return (async function(){}).constructor;")()}catch(t){throw t instanceof SyntaxError?new Error("This environment does not support async/await"):t}else s=Function;r=new s(a.localsName+", escapeFn, include, rethrow",t)}catch(t){throw t instanceof SyntaxError&&(a.filename&&(t.message+=" in "+a.filename),t.message+=" while compiling ejs\n\n",t.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",t.message+="https://github.com/RyanZim/EJS-Lint",a.async||(t.message+="\n",t.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),t}var y=a.client?r:function(t){return r.apply(a.context,[t||o.createNullProtoObjWherePossible(),c,function(r,i){var s=o.shallowCopy(o.createNullProtoObjWherePossible(),t);return i&&(s=o.shallowCopy(s,i)),function(t,r){var i=o.shallowCopy(o.createNullProtoObjWherePossible(),r);if(i.filename=function(t,r){var i,o,s=r.views,a=/^[A-Za-z]+:\\|^\//.exec(t);if(a&&a.length)t=t.replace(/^\/*/,""),i=Array.isArray(r.root)?d(t,r.root):e.resolveInclude(t,r.root||"/",!0);else if(r.filename&&(o=e.resolveInclude(t,r.filename),n.existsSync(o)&&(i=o)),!i&&Array.isArray(s)&&(i=d(t,s)),!i&&"function"!=typeof r.includer)throw new Error('Could not find the include file "'+r.escapeFunction(t)+'"');return i}(t,i),"function"==typeof r.includer){var s=r.includer(t,i.filename);if(s&&(s.filename&&(i.filename=s.filename),s.template))return p(i,s.template)}return p(i)}(r,a)(s)},m])};if(a.filename&&"function"==typeof Object.defineProperty){var b=a.filename,x=i.basename(b,i.extname(b));try{Object.defineProperty(y,"name",{value:x,writable:!1,enumerable:!1,configurable:!0})}catch(t){}}return y},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,e=this.parseTemplateText(),r=this.opts.delimiter,n=this.opts.openDelimiter,i=this.opts.closeDelimiter;e&&e.length&&e.forEach((function(o,s){var a;if(0===o.indexOf(n+r)&&0!==o.indexOf(n+r+r)&&(a=e[s+2])!=r+i&&a!="-"+r+i&&a!="_"+r+i)throw new Error('Could not find matching close tag for "'+o+'".');t.scanLine(o)}))},parseTemplateText:function(){for(var t,e=this.templateText,r=this.regex,n=r.exec(e),i=[];n;)0!==(t=n.index)&&(i.push(e.substring(0,t)),e=e.slice(t)),i.push(n[0]),e=e.slice(n[0].length),n=r.exec(e);return e&&i.push(e),i},_addOutput:function(t){if(this.truncate&&(t=t.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!t)return t;t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+t+'")\n'},scanLine:function(t){var e,r=this.opts.delimiter,n=this.opts.openDelimiter,i=this.opts.closeDelimiter;switch(e=t.split("\n").length-1,t){case n+r:case n+r+"_":this.mode=y.modes.EVAL;break;case n+r+"=":this.mode=y.modes.ESCAPED;break;case n+r+"-":this.mode=y.modes.RAW;break;case n+r+"#":this.mode=y.modes.COMMENT;break;case n+r+r:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+t.replace(n+r+r,n+r)+'")\n';break;case r+r+i:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+t.replace(r+r+i,r+i)+'")\n';break;case r+i:case"-"+r+i:case"_"+r+i:this.mode==y.modes.LITERAL&&this._addOutput(t),this.mode=null,this.truncate=0===t.indexOf("-")||0===t.indexOf("_");break;default:if(this.mode){switch(this.mode){case y.modes.EVAL:case y.modes.ESCAPED:case y.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf("\n")&&(t+="\n")}switch(this.mode){case y.modes.EVAL:this.source+="    ; "+t+"\n";break;case y.modes.ESCAPED:this.source+="    ; __append(escapeFn("+_(t)+"))\n";break;case y.modes.RAW:this.source+="    ; __append("+_(t)+")\n";break;case y.modes.COMMENT:break;case y.modes.LITERAL:this._addOutput(t)}}else this._addOutput(t)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=o.escapeXML,e.__express=e.renderFile,e.VERSION=a,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},()=>{},(t,e)=>{"use strict";var r=/[|\\{}()[\]^$+*?.]/g,n=Object.prototype.hasOwnProperty,i=function(t,e){return n.apply(t,[e])};e.escapeRegExpChars=function(t){return t?String(t).replace(r,"\\$&"):""};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},s=/[&<>'"]/g;function a(t){return o[t]||t}e.escapeXML=function(t){return null==t?"":String(t).replace(s,a)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(t,e){if(e=e||{},null!=t)for(var r in e)i(e,r)&&"__proto__"!==r&&"constructor"!==r&&(t[r]=e[r]);return t},e.shallowCopyFromList=function(t,e,r){if(r=r||[],e=e||{},null!=t)for(var n=0;n<r.length;n++){var o=r[n];if(void 0!==e[o]){if(!i(e,o))continue;if("__proto__"===o||"constructor"===o)continue;t[o]=e[o]}}return t},e.cache={_data:{},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},remove:function(t){delete this._data[t]},reset:function(){this._data={}}},e.hyphenToCamel=function(t){return t.replace(/-[a-z]/g,(function(t){return t[1].toUpperCase()}))},e.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}}},t=>{"use strict";t.exports=JSON.parse('{"name":"ejs","description":"Embedded JavaScript templates","keywords":["template","engine","ejs"],"version":"3.1.8","author":"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)","license":"Apache-2.0","bin":{"ejs":"./bin/cli.js"},"main":"./lib/ejs.js","jsdelivr":"ejs.min.js","unpkg":"ejs.min.js","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"bugs":"https://github.com/mde/ejs/issues","homepage":"https://github.com/mde/ejs","dependencies":{"jake":"^10.8.5"},"devDependencies":{"browserify":"^16.5.1","eslint":"^6.8.0","git-directory-deploy":"^1.5.1","jsdoc":"^3.6.7","lru-cache":"^4.0.1","mocha":"^7.1.1","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"}}')},(t,e,r)=>{"use strict";const n=r(510),i=r(501),{isWebWorker:o}=r(13);class s extends i{async init(t){await super.init(t),n.setCanvas(this.klassHolder);const e=await this.getRemoteData(t.src);let{w:r,h:i,nm:o,fr:s,ip:a,op:u}=e;return this.resize(r,i),this.name=o,this.frames=u-a,this.length=this.frames/s,this.ani=n.loadAnimation({container:this.canvas,animationData:e},!0),{width:r,height:i,duration:this.length}}render(t,e){this.ani.goToAndStop(1e3*t,!1)}}o&&(new s).start(),t.exports=s},t=>{"use strict";t.exports=window["lottie-nodejs"]},(t,e,r)=>{"use strict";const n=r(494),i=r(263),o=r(497),s=r(290),{isBrowser:a}=r(13);r(279),t.exports=class extends n{constructor(t){super({type:"video",loop:!1,audio:!0,...t}),this.useCache=!1}createMaterial(t){const e=new o(t);return this.muted&&e.setAudio(!1),e}mute(t){this.material&&this.material.setAudio(this.conf.audio&&!t)}resetMute(){this.material&&this.material.setAudio(this.conf.audio)}set audio(t){this.conf.audio=!!t,this.resetMute()}get audio(){return!!this.conf.audio}get volume(){return isNaN(this.conf.volume)?1:Math.max(Number(this.conf.volume),0)}set volume(t){this.conf.volume=t,this.material&&this.material.setVolume(this.volume)}grantPlay(){return this.material.grantPlay()}async getFrameByTime(t){return await this.material.queuedSeekTo(t,"preview")}async prepareMaterial(){if(!a){const{start:t,end:e}=this.creator().outputTime;if(!this.active||this.absStartTime>e||this.absEndTime<t)return this.disable(),void console.log(`ignore prepareMaterial ${this.id} [${this.absStartTime}, ${this.absEndTime}]`);const r=this.rootConf("detailedCacheDir");if(await this.material.extract(r,!this.creator().audioOnly),this.material.useAudio&&this.material.hasAudio){const t=new i({id:`${this.id}_audio`,path:this.material.path,loop:this.loop,speed:this.speed,volume:this.volume,duration:this.duration,ss:this.conf.ss,to:this.conf.to});this.addChild(t),await t.preProcessing(),t.annotate(),s.info({pos:"Video",msg:`Add audio track ${t.id.padEnd(10," ")}: time:[${t.absStartTime.toFixed(2).padStart(6," ")}, ${t.absEndTime.toFixed(2).padStart(6," ")})  `})}}await super.prepareMaterial()}async drawing(t,e){if(this.creator().audioOnly)return;const r=t/1e3;if(await super.drawing(t,e)&&e>0)this.mute(r<this.absStartTime||r>this.absEndTime);else{const t=r-this.absDrawStartTime;if(-2<t&&t<0){const{time:r,loops:n}=this.materialTime(this.absDrawStartTime);this.material.perpare(r+t,e>0)}else this.material.pause();!a&&r>this.absDrawEndTime&&this.material.destroy()}}canFastRender(t=[]){if(0===this.absStartTime||!this.active||!1===this.rootConf("fast"))return!1;if(0!==this.rotate||this.animations.animations.length>0||this.display?.mask||this.display?.hasFilters()||this.display?.blendMode)return!1;const e=this.parents.find((t=>"scene"===t.type));if(e&&(e.display?.mask||e.display?.hasFilters()||e.display?.blendMode))return!1;const r=1/this.rootConf("fps");return this.creator().allNodes.filter((e=>{if(e===this||t.includes(e))return!1;if("trans"===e.type&&(e.prevSibling===this||e.nextSibling===this))return!0;if(["scene"].includes(e.type)||!e.display)return!1;if(e.zIndex>this.zIndex&&!e.display?.blendMode&&"cover"!==e.type)return!1;const n=Math.max(e.absStartTime,this.absStartTime);if(Math.min(e.absEndTime,this.absEndTime)-n<r)return!1;if("video"===e.type){const r=[...t,this];return(e.zIndex<this.zIndex||e.display?.blendMode)&&!e.canFastRender(r)}return!0})).length<=0}addInput(t){t.addInput(this.material.path);let e=["-an"];const r=this.material.getSliceOpts(!this.loop);r&&(e=e.concat(r)),t.addInputOptions(e)}toFilters({input:t,output:e,background:r}){const n=this.rootConf("fps"),{start:i,end:o}=this.creator().outputTime,s=this.absStartTime-i,a=this.absEndTime-i,u=[];let l="",[c,h]=this.getWH(),[f,d]=this.getXY();const{x:p,y:g}=this.getAnchor();f-=p*c,d-=g*h;const{x:v,y:m,width:_,height:y}=this.display.texture.frame,{width:b,height:x}=this.display,[T,E]=this.getObjectPosition();f+=Math.max(0,c-b)*T,d+=Math.max(0,h-x)*E;const w=this.conf["object-fit"];let A;["contain","scale-down"].includes(w)&&(c=b,h=x),l+=`crop=w=${_.toFixed(1)}:h=${y.toFixed(1)}:x=${v.toFixed(1)}:y=${m.toFixed(1)},`,this.loop&&(l+=`loop=-1:size=${((this.material.getEndOffset(!0)-this.material.getStartOffset())*n).toFixed(0)},`),this.opacity<1&&(A||(l+=A="format=bgra,"),l+=`colorchannelmixer=aa=${this.opacity.toFixed(2)},`),0!=s?l+=`setpts=${(1/this.speed).toFixed(3)}*PTS-STARTPTS${s>0?"+":"-"}${Math.abs(s).toFixed(3)}/TB,`:1!==this.speed&&(l+=`setpts=${(1/this.speed).toFixed(3)}*PTS,`);let S=`tmp1_${e}`;u.push(`[${t}]${l}scale=${c.toFixed(1)}:${h.toFixed(1)}[${S}]`);const I=`overlay=${f.toFixed(1)}:${d.toFixed(1)}`,C=`:enable='between(t,${Math.max(s,0).toFixed(3)},${a.toFixed(3)})'`;return u.push(`[${r}][${S}]${I}${C}[${e}]`),this.disable(),u}}},(t,e,r)=>{"use strict";const n=r(257),i=(r(236),r(279)),{createCanvas:o,Sprite:s,Texture:a}=r(14);t.exports=class extends n{constructor(t={}){super({type:"scene",...t}),this.background=null,this.defaultDuration=NaN,this.setBgColor(t.color||t.bgcolor||t.background)}annotate(){const t=Math.max(...this.allNodes.map((t=>t.realAbsEndTime)));this.defaultDuration=t-this.absStartTime,super.annotate(),this.resizeBackground()}get default(){return{startTime:super.default.startTime,duration:this.defaultDuration}}setDuration(t){this.conf.duration=t}setBgColor(t="#00000000"){if(!this.bgCanvas){const{bgSize:t=400}=this.conf;this.bgCanvas=o(t,t)}i.fillRect({canvas:this.bgCanvas,color:t}),this.bgColor=t,this.background&&this.display.removeChild(this.background),this.background=new s(a.fromCanvas(this.bgCanvas)),this.display.addChildAt(this.background,0)}setFXAA(t){this.display.fxaa=t}resizeBackground(){const{background:t}=this;if(!t)return;const e=this.rootConf("width"),r=this.rootConf("height");t.width=e,t.height=r}destroy(){this.background&&this.background.destroy(!0),this.background=null,this.bgCanvas=null,super.destroy()}}},(t,e,r)=>{"use strict";const n=r(14),i=r(473);t.exports=class extends i{constructor(t={animations:[]}){super({type:"extras",...t})}createDisplay(){this.display=new n.Container,this.container=this.display}start(){super.start(),this.drawing=this.drawing.bind(this),TimelineUpdate.addFrameCallback(this.drawing),this.init&&this.init(n),this.emit("init")}drawing(t,e){this.update&&this.update(n,t,e),this.emit("update")}destroyContainer(){try{this.container.destroy(),this.container.removeAllChildren()}catch(t){}}destroy(){super.destroy(),this.destroyContainer(),TimelineUpdate.removeFrameCallback(this.drawing),this.destroyed&&this.destroyed(n),this.emit("destroy"),this.update=null,this.drawing=null,this.container=null}}},(t,e,r)=>{"use strict";const n=r(258),i=r(515),{getRemote:o}=r(284);t.exports=class extends n{constructor(t={}){super({type:"filter",...t})}createDisplay(){}addDisplayChild(t){}removeDisplayChild(t){}show(){this.visible=!0,this.filter&&(this.filter.enabled=!0)}hide(){this.visible=!1,this.filter&&(this.filter.enabled=!1)}setMask(t){this.filter&&this.filter.mask!==t&&(this.filter.mask=t,this.parent.addDisplayChild(t),t.renderable=!1,t.isMask=!0)}removeMask(){this.filter&&this.filter.mask&&(this.parent.removeDisplayChild(this.filter.mask),this.filter.mask=null)}async preProcessing(t){for(const e of["vert","frag","render"]){if("string"!=typeof this[e]||!this[e].startsWith("http"))continue;const r=await o(this[e],this.creator().uuid,(e=>{const{total:r,loaded:n}=e;r&&t&&t(n/r)}));this[`${e}Shader`]=await r.data.text()}this.filter=this.addFilterTo(this.parent.display),this.filter.enabled=!1}addFilterTo(t){return t.addFilter({key:this.id,vars:this.vars,render:this.render,vert:this.vert,frag:this.frag})}get vert(){return this.vertShader||i.getValue(this.conf.vert)}get frag(){return this.fragShader||i.getValue(this.conf.frag)}get render(){return this.renderShader||i.getValue(this.conf.render)}get vars(){return this.conf.vars}async drawing(t,e){let r=await super.drawing(t,e);const n=t/1e3-this.absStartTime;return this.filter.setTime(n,this.duration),r}}},(t,e,r)=>{const{isBrowser:n}=r(13);let i,o;if(n)i=new DOMParser;else{const{DOMParser:t,XMLSerializer:e}=r(516);i=new t,o=(new e).serializeToString}const s=t=>{const e=Number(t);if(!isNaN(e))return e;let r=t.toLowerCase().trim();if(["true","false"].includes(r))return"true"==r;if(r.match(/^\[(.*)\]$/)){const e=JSON.parse(r);return Array.isArray(e)?e.map((t=>s(t))):t}const n=(t,e)=>{if(!t.endsWith(e))return null;const r=Number(t.substring(0,t.length-e.length));return isNaN(r)?null:r};for(const t of["rpx","px","vw","vh"]){const e=n(r,t);if(null!==e)return`${e}${t}`}return t};function a(t){const e={type:t.nodeName};if(t.attributes.length>0)for(let r=0;r<t.attributes.length;r++){const n=t.attributes[r];e[n.name]=s(n.value)}if(e.children=[],t.childNodes.length>0&&(Array.isArray(t.childNodes)?t.childNodes:Object.values(t.childNodes)).map((t=>{"object"==typeof t&&t.nodeName&&!t.nodeName.startsWith("#")&&e.children.push(a(t))})),n)e.innerHTML=t.innerHTML;else{const r=o(t),n=new RegExp(`\\<${e.type}[^\\>]*\\>`,"g"),i=new RegExp(`\\<\\/${e.type}[^\\>]*\\>`,"g");e.innerHTML=r.replace(n,"").replace(i,"")}let r=e.innerHTML.trim();return r&&r.startsWith("<![CDATA[")&&r.endsWith("]]>")&&(e.innerHTML=r.substring(9,r.length-3)),e}t.exports={parseXml:function(t){const e=i.parseFromString(t,"application/xml");if("miraml"==e.documentElement.nodeName.toLowerCase())return a(e.documentElement)},getValue:function(t){return"object"!=typeof t?t:t.innerHTML?t.innerHTML.replace("<![CDATA[","").replace("]]>",""):void 0}}},(t,e,r)=>{var n=r(517);e.DOMImplementation=n.DOMImplementation,e.XMLSerializer=n.XMLSerializer,e.DOMParser=r(519).DOMParser},(t,e,r)=>{var n=r(518).NAMESPACE;function i(t){return""!==t}function o(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function s(t){if(!t)return[];var e=function(t){return t?t.split(/[\t\n\f\r ]+/).filter(i):[]}(t);return Object.keys(e.reduce(o,{}))}function a(t,e){for(var r in t)e[r]=t[r]}function u(t,e){var r=t.prototype;if(!(r instanceof e)){function n(){}n.prototype=e.prototype,a(r,n=new n),t.prototype=r=n}r.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),r.constructor=t)}var l={},c=l.ELEMENT_NODE=1,h=l.ATTRIBUTE_NODE=2,f=l.TEXT_NODE=3,d=l.CDATA_SECTION_NODE=4,p=l.ENTITY_REFERENCE_NODE=5,g=l.ENTITY_NODE=6,v=l.PROCESSING_INSTRUCTION_NODE=7,m=l.COMMENT_NODE=8,_=l.DOCUMENT_NODE=9,y=l.DOCUMENT_TYPE_NODE=10,b=l.DOCUMENT_FRAGMENT_NODE=11,x=l.NOTATION_NODE=12,T={},E={},w=(T.INDEX_SIZE_ERR=(E[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(E[2]="DOMString size error",2),T.HIERARCHY_REQUEST_ERR=(E[3]="Hierarchy request error",3)),A=(T.WRONG_DOCUMENT_ERR=(E[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(E[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(E[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(E[7]="No modification allowed",7),T.NOT_FOUND_ERR=(E[8]="Not found",8)),S=(T.NOT_SUPPORTED_ERR=(E[9]="Not supported",9),T.INUSE_ATTRIBUTE_ERR=(E[10]="Attribute in use",10));function I(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,E[t]),this.message=E[t],Error.captureStackTrace&&Error.captureStackTrace(this,I);return r.code=t,e&&(this.message=this.message+": "+e),r}function C(){}function O(t,e){this._node=t,this._refresh=e,R(this)}function R(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);lt(t,"length",r.length),a(r,t),t._inc=e}}function M(){}function N(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function P(t,e,r,i){if(i?e[N(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var o=t.ownerDocument;o&&(i&&U(o,t,i),function(t,e,r){t&&t._inc++,r.namespaceURI===n.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(o,t,r))}}function L(t,e,r){var n=N(e,r);if(!(n>=0))throw I(A,new Error(t.tagName+"@"+r));for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(U(o,t,r),r.ownerElement=null)}}function D(){}function k(){}function F(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function B(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(B(t,e))return!0}while(t=t.nextSibling)}function j(){}function U(t,e,r,i){t&&t._inc++,r.namespaceURI===n.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function V(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o,delete n[n.length]}}}function z(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,V(t.ownerDocument,t),e}function W(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===b){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var s=r?r.previousSibling:t.lastChild;i.previousSibling=s,o.nextSibling=r,s?s.nextSibling=i:t.firstChild=i,null==r?t.lastChild=o:r.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return V(t.ownerDocument||t,t),e.nodeType==b&&(e.firstChild=e.lastChild=null),e}function G(){this._nsMap={}}function H(){}function $(){}function X(){}function q(){}function Y(){}function K(){}function J(){}function Z(){}function Q(){}function tt(){}function et(){}function rt(){}function nt(t,e){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&null==i&&null==(i=n.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return st(this,r,t,e,s),r.join("")}function it(t,e,r){var i=t.prefix||"",o=t.namespaceURI;if(!o)return!1;if("xml"===i&&o===n.XML||o===n.XMLNS)return!1;for(var s=r.length;s--;){var a=r[s];if(a.prefix===i)return a.namespace!==o}return!0}function ot(t,e,r){t.push(" ",e,'="',r.replace(/[<&"\t\n\r]/g,F),'"')}function st(t,e,r,i,o){if(o||(o=[]),i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case c:var s=t.attributes,a=s.length,u=t.firstChild,l=t.tagName,g=l;if(!(r=n.isHTML(t.namespaceURI)||r)&&!t.prefix&&t.namespaceURI){for(var x,T=0;T<s.length;T++)if("xmlns"===s.item(T).name){x=s.item(T).value;break}if(!x)for(var E=o.length-1;E>=0;E--)if(""===(w=o[E]).prefix&&w.namespace===t.namespaceURI){x=w.namespace;break}if(x!==t.namespaceURI)for(E=o.length-1;E>=0;E--){var w;if((w=o[E]).namespace===t.namespaceURI){w.prefix&&(g=w.prefix+":"+l);break}}}e.push("<",g);for(var A=0;A<a;A++)"xmlns"==(S=s.item(A)).prefix?o.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&o.push({prefix:"",namespace:S.value});for(A=0;A<a;A++){var S,I,C;it(S=s.item(A),0,o)&&(ot(e,(I=S.prefix||"")?"xmlns:"+I:"xmlns",C=S.namespaceURI),o.push({prefix:I,namespace:C})),st(S,e,r,i,o)}if(l===g&&it(t,0,o)&&(ot(e,(I=t.prefix||"")?"xmlns:"+I:"xmlns",C=t.namespaceURI),o.push({prefix:I,namespace:C})),u||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),r&&/^script$/i.test(l))for(;u;)u.data?e.push(u.data):st(u,e,r,i,o.slice()),u=u.nextSibling;else for(;u;)st(u,e,r,i,o.slice()),u=u.nextSibling;e.push("</",g,">")}else e.push("/>");return;case _:case b:for(u=t.firstChild;u;)st(u,e,r,i,o.slice()),u=u.nextSibling;return;case h:return ot(e,t.name,t.value);case f:return e.push(t.data.replace(/[<&]/g,F).replace(/]]>/g,"]]&gt;"));case d:return e.push("<![CDATA[",t.data,"]]>");case m:return e.push("\x3c!--",t.data,"--\x3e");case y:var O=t.publicId,R=t.systemId;if(e.push("<!DOCTYPE ",t.name),O)e.push(" PUBLIC ",O),R&&"."!=R&&e.push(" ",R),e.push(">");else if(R&&"."!=R)e.push(" SYSTEM ",R,">");else{var M=t.internalSubset;M&&e.push(" [",M,"]"),e.push(">")}return;case v:return e.push("<?",t.target," ",t.data,"?>");case p:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function at(t,e,r){var n;switch(e.nodeType){case c:(n=e.cloneNode(!1)).ownerDocument=t;case b:break;case h:r=!0}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(at(t,i,r)),i=i.nextSibling;return n}function ut(t,e,r){var n=new e.constructor;for(var i in e){var o=e[i];"object"!=typeof o&&o!=n[i]&&(n[i]=o)}switch(e.childNodes&&(n.childNodes=new C),n.ownerDocument=t,n.nodeType){case c:var s=e.attributes,a=n.attributes=new M,u=s.length;a._ownerElement=n;for(var l=0;l<u;l++)n.setAttributeNode(ut(t,s.item(l),!0));break;case h:r=!0}if(r)for(var f=e.firstChild;f;)n.appendChild(ut(t,f,r)),f=f.nextSibling;return n}function lt(t,e,r){t[e]=r}T.INVALID_STATE_ERR=(E[11]="Invalid state",11),T.SYNTAX_ERR=(E[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(E[13]="Invalid modification",13),T.NAMESPACE_ERR=(E[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(E[15]="Invalid access",15),I.prototype=Error.prototype,a(T,I),C.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)st(this[n],r,t,e);return r.join("")}},O.prototype.item=function(t){return R(this),this[t]},u(O,C),M.prototype={length:0,item:C.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new I(S);var r=this.getNamedItem(t.nodeName);return P(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new I(S);return e=this.getNamedItemNS(t.namespaceURI,t.localName),P(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return L(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return L(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}},D.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new j;if(n.implementation=this,n.childNodes=new C,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new K;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}},k.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return W(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return z(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return ut(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==f&&t.nodeType==f?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var n in r)if(r[n]==t)return n;e=e.nodeType==h?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==h?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},a(l,k),a(l,k.prototype),j.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==b){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return null==this.documentElement&&t.nodeType==c&&(this.documentElement=t),W(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),z(this,t)},importNode:function(t,e){return at(this,t,e)},getElementById:function(t){var e=null;return B(this.documentElement,(function(r){if(r.nodeType==c&&r.getAttribute("id")==t)return e=r,!0})),e},getElementsByClassName:function(t){var e=s(t);return new O(this,(function(r){var n=[];return e.length>0&&B(r.documentElement,(function(i){if(i!==r&&i.nodeType===c){var o=i.getAttribute("class");if(o){var a=t===o;if(!a){var u=s(o);a=e.every((l=u,function(t){return l&&-1!==l.indexOf(t)}))}a&&n.push(i)}}var l})),n}))},createElement:function(t){var e=new G;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new C,(e.attributes=new M)._ownerElement=e,e},createDocumentFragment:function(){var t=new tt;return t.ownerDocument=this,t.childNodes=new C,t},createTextNode:function(t){var e=new X;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Y;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new et;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new H;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Q;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new G,n=e.split(":"),i=r.attributes=new M;return r.childNodes=new C,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new H,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},u(j,k),G.prototype={nodeType:c,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===b?this.insertBefore(t,null):function(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,V(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new O(this,(function(e){var r=[];return B(e,(function(n){n===e||n.nodeType!=c||"*"!==t&&n.tagName!=t||r.push(n)})),r}))},getElementsByTagNameNS:function(t,e){return new O(this,(function(r){var n=[];return B(r,(function(i){i===r||i.nodeType!==c||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||n.push(i)})),n}))}},j.prototype.getElementsByTagName=G.prototype.getElementsByTagName,j.prototype.getElementsByTagNameNS=G.prototype.getElementsByTagNameNS,u(G,k),H.prototype.nodeType=h,u(H,k),$.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(E[w])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){r=this.data.substring(0,t)+r+this.data.substring(t+e),this.nodeValue=this.data=r,this.length=r.length}},u($,k),X.prototype={nodeName:"#text",nodeType:f,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(X,$),q.prototype={nodeName:"#comment",nodeType:m},u(q,$),Y.prototype={nodeName:"#cdata-section",nodeType:d},u(Y,$),K.prototype.nodeType=y,u(K,k),J.prototype.nodeType=x,u(J,k),Z.prototype.nodeType=g,u(Z,k),Q.prototype.nodeType=p,u(Q,k),tt.prototype.nodeName="#document-fragment",tt.prototype.nodeType=b,u(tt,k),et.prototype.nodeType=v,u(et,k),rt.prototype.serializeToString=function(t,e,r){return nt.call(t,e,r)},k.prototype.toString=nt;try{if(Object.defineProperty){function ct(t){switch(t.nodeType){case c:case b:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(ct(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(O.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(k.prototype,"textContent",{get:function(){return ct(this)},set:function(t){switch(this.nodeType){case c:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),lt=function(t,e,r){t["$$"+e]=r}}}catch(t){}e.DocumentType=K,e.DOMException=I,e.DOMImplementation=D,e.Element=G,e.Node=k,e.NodeList=C,e.XMLSerializer=rt},(t,e)=>{"use strict";function r(t,e){return void 0===e&&(e=Object),e&&"function"==typeof e.freeze?e.freeze(t):t}var n=r({HTML:"text/html",isHTML:function(t){return t===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.freeze=r,e.MIME_TYPE=n,e.NAMESPACE=i},(t,e,r)=>{var n=r(518),i=r(517),o=r(520),s=r(521),a=i.DOMImplementation,u=n.NAMESPACE,l=s.ParseError,c=s.XMLReader;function h(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function f(t){this.options=t||{locator:{}}}function d(){this.cdata=!1}function p(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function g(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function v(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function m(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}f.prototype.parseFromString=function(t,e){var r=this.options,n=new c,i=r.domBuilder||new d,s=r.errorHandler,a=r.locator,l=r.xmlns||{},f=/\/x?html?$/.test(e),p=f?o.HTML_ENTITIES:o.XML_ENTITIES;a&&i.setDocumentLocator(a),n.errorHandler=function(t,e,r){if(!t){if(e instanceof d)return e;t=e}var n={},i=t instanceof Function;function o(e){var o=t[e];!o&&i&&(o=2==t.length?function(r){t(e,r)}:t),n[e]=o&&function(t){o("[xmldom "+e+"]\t"+t+g(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),n}(s,i,a),n.domBuilder=r.domBuilder||i,f&&(l[""]=u.HTML),l.xml=l.xml||u.XML;var v=r.normalizeLineEndings||h;return t&&"string"==typeof t?n.parse(v(t),l,p):n.errorHandler.error("invalid doc source"),i.doc},d.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,o=i.createElementNS(t,r||e),s=n.length;m(this,o),this.currentElement=o,this.locator&&p(this.locator,o);for(var a=0;a<s;a++){t=n.getURI(a);var u=n.getValue(a),l=(r=n.getQName(a),i.createAttributeNS(t,r));this.locator&&p(n.getLocator(a),l),l.value=l.nodeValue=u,o.setAttributeNode(l)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&p(this.locator,r),m(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=v.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&p(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=v.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&p(this.locator,n),m(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&p(this.locator,i),m(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]\t"+t,g(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,g(this.locator))},fatalError:function(t){throw new l(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){d.prototype[t]=function(){return null}})),e.__DOMHandler=d,e.normalizeLineEndings=h,e.DOMParser=f},(t,e,r)=>{var n=r(518).freeze;e.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),e.entityMap=e.HTML_ENTITIES},(t,e,r)=>{var n=r(518).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+i.source+o.source+"*(?::"+i.source+o.source+"*)?$");function a(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function u(){}function l(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function c(t,e,r,i,o,s){function a(t,e,n){r.attributeNames.hasOwnProperty(t)&&s.fatalError("Attribute "+t+" redefined"),r.addValue(t,e.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),n)}for(var u,l=++e,c=0;;){var h=t.charAt(l);switch(h){case"=":if(1===c)u=t.slice(e,l),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(s.warning('attribute value must after "="'),u=t.slice(e,l)),e=l+1,!((l=t.indexOf(h,e))>0))throw new Error("attribute value no end '"+h+"' match");a(u,f=t.slice(e,l),e-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');a(u,f=t.slice(e,l),e),s.warning('attribute "'+u+'" missed start quot('+h+")!!"),e=l+1,c=5}break;case"/":switch(c){case 0:r.setTagName(t.slice(e,l));case 5:case 6:case 7:c=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==c&&r.setTagName(t.slice(e,l)),l;case">":switch(c){case 0:r.setTagName(t.slice(e,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=t.slice(e,l)).slice(-1)&&(r.closed=!0,f=f.slice(0,-1));case 2:2===c&&(f=u),4==c?(s.warning('attribute "'+f+'" missed quot(")!'),a(u,f,e)):(n.isHTML(i[""])&&f.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),a(f,f,e));break;case 3:throw new Error("attribute value missed!!")}return l;case"":h=" ";default:if(h<=" ")switch(c){case 0:r.setTagName(t.slice(e,l)),c=6;break;case 1:u=t.slice(e,l),c=2;break;case 4:var f=t.slice(e,l);s.warning('attribute "'+f+'" missed quot(")!!'),a(u,f,e);case 5:c=6}else switch(c){case 2:r.tagName,n.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),a(u,u,e),e=l,c=1;break;case 5:s.warning('attribute space is required"'+u+'"!!');case 6:c=1,e=l;break;case 3:c=4,e=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function h(t,e,r){for(var i=t.tagName,o=null,s=t.length;s--;){var a=t[s],u=a.qName,l=a.value;if((d=u.indexOf(":"))>0)var c=a.prefix=u.slice(0,d),h=u.slice(d+1),f="xmlns"===c&&h;else h=u,c=null,f="xmlns"===u&&"";a.localName=h,!1!==f&&(null==o&&(o={},p(r,r={})),r[f]=o[f]=l,a.uri=n.XMLNS,e.startPrefixMapping(f,l))}for(s=t.length;s--;)(c=(a=t[s]).prefix)&&("xml"===c&&(a.uri=n.XML),"xmlns"!==c&&(a.uri=r[c||""]));var d;(d=i.indexOf(":"))>0?(c=t.prefix=i.slice(0,d),h=t.localName=i.slice(d+1)):(c=null,h=t.localName=i);var g=t.uri=r[c||""];if(e.startElement(g,h,i,t),!t.closed)return t.currentNSMap=r,t.localNSMap=o,!0;if(e.endElement(g,h,i),o)for(c in o)e.endPrefixMapping(c)}function f(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),o)}return e+1}function d(t,e,r,n){var i=n[r];return null==i&&((i=t.lastIndexOf("</"+r+">"))<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function p(t,e){for(var r in t)e[r]=t[r]}function g(t,e,r,n){if("-"===t.charAt(e+2))return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(r.comment(t,e+4,i-e-4),i+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,i-e-9),r.endCDATA(),i+3}var o=function(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}(t,e),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],u=!1,l=!1;s>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],l=s>4&&o[4][0]):/^system$/i.test(o[2][0])&&(l=o[3][0]));var c=o[s-1];return r.startDTD(a,u,l),r.endDTD(),c.index+c[0].length}return-1}function v(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function m(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,u.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),p(e,e={}),function(t,e,r,i,o){function s(t){var e=t.slice(1,-1);return Object.hasOwnProperty.call(r,e)?r[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(o.error("entity not found:"+t),t)}function u(e){if(e>w){var r=t.substring(w,e).replace(/&#?\w+;/g,s);x&&p(w),i.characters(r,0,e-w),w=e}}function p(e,r){for(;e>=y&&(r=b.exec(t));)_=r.index,y=_+r[0].length,x.lineNumber++;x.columnNumber=e-_+1}for(var _=0,y=0,b=/.*(?:\r\n?|\n)|.*$/g,x=i.locator,T=[{currentNSMap:e}],E={},w=0;;){try{var A=t.indexOf("<",w);if(A<0){if(!t.substr(w).match(/^\s*$/)){var S=i.doc,I=S.createTextNode(t.substr(w));S.appendChild(I),i.currentElement=I}return}switch(A>w&&u(A),t.charAt(A+1)){case"/":var C=t.indexOf(">",A+3),O=t.substring(A+2,C).replace(/[ \t\n\r]+$/g,""),R=T.pop();C<0?(O=t.substring(A+2).replace(/[\s<].*/,""),o.error("end tag name: "+O+" is not complete:"+R.tagName),C=A+1+O.length):O.match(/\s</)&&(O=O.replace(/[\s<].*/,""),o.error("end tag name: "+O+" maybe not complete"),C=A+1+O.length);var M=R.localNSMap,N=R.tagName==O;if(N||R.tagName&&R.tagName.toLowerCase()==O.toLowerCase()){if(i.endElement(R.uri,R.localName,O),M)for(var P in M)i.endPrefixMapping(P);N||o.fatalError("end tag name: "+O+" is not match the current start tagName:"+R.tagName)}else T.push(R);C++;break;case"?":x&&p(A),C=v(t,A,i);break;case"!":x&&p(A),C=g(t,A,i,o);break;default:x&&p(A);var L=new m,D=T[T.length-1].currentNSMap,k=(C=c(t,A,L,D,s,o),L.length);if(!L.closed&&d(t,C,L.tagName,E)&&(L.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),x&&k){for(var F=l(x,{}),B=0;B<k;B++){var j=L[B];p(j.offset),j.locator=l(x,{})}i.locator=F,h(L,i,D)&&T.push(L),i.locator=x}else h(L,i,D)&&T.push(L);n.isHTML(L.uri)&&!L.closed?C=f(t,C,L.tagName,s,i):C++}}catch(t){if(t instanceof a)throw t;o.error("element parse error: "+t),C=-1}C>w?w=C:u(Math.max(A,w)+1)}}(t,e,r,i,this.errorHandler),i.endDocument()}},m.prototype={setTagName:function(t){if(!s.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!s.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=u,e.ParseError=a},(t,e,r)=>{const n=r(263),{isBrowser:i}=r(13);t.exports=class extends n{constructor(t){t="string"==typeof t?{path:t}:t,super({type:"speech",audio:!0,...t})}}},(t,e,r)=>{"use strict";const n=r(477),i=r(475),o=r(277),{isBrowser:s}=r(13),a=r(s?433:434),u={to(t,e,r){const n=t.display,o=i(r),s=o.delay||0,a=o.ease;delete o.delay,delete o.ease,t.addAnimate({from:n,to:o,time:e,delay:s,ease:a})},from(t,e,r){const n=t.display,o=i(r),s=o.delay||0,a=o.ease;delete o.delay,delete o.ease,t.addAnimate({from:o,to:n,time:e,delay:s,ease:a})},fromTo(t,e,r,n){const o=i(r),s=i(n),a=s.delay||0,u=s.ease;delete s.delay,delete s.ease,t.addAnimate({from:o,to:s,time:e,delay:a,ease:u})},spriteTweenFromTo(t,e,r,s){const u=i(r),l=i(s),c=n(a.Easing,l.ease||"Quadratic.Out");let h=l.delay||0;e=o.toMilliseconds(e),h=o.toMilliseconds(h),delete l.delay,delete l.ease;const f=t.root().tweenGroup;return new a.Tween(u,f).to(l,e).delay(h).easing(c).onUpdate((()=>t.attr(u))).start()},getTween:()=>a.Tween,getEase:t=>n(a.Easing,t||"Quadratic.Out"),getTWEEN:()=>a};t.exports=u},(t,e,r)=>{"use strict";const n=r(525),i=r(262),o=r(526),s=r(527),a=r(236),u=r(290),{nodeRequire:l}=r(236),c=l("../utils/ffmpeg"),h={cursor:0,num:0,delay:500,state:"free",temps:{},progress:new s,event:new i,taskQueue:new o,closeLog(){u.enable=!1},openLog(){u.enable=!0},addTask(t){const e=this.taskQueue.push({task:t});return"free"===this.state&&this.start(),e},addTaskByTemplate(t,e){const r=this.temps[t],n=this.taskQueue.push({task:r,params:e});return"free"===this.state&&this.start(),n},onTask(t,e,r){const n=i=>{i.id==t&&(this.event.removeListener(e,n),r(i))};this.event.on(e,n)},removeTaskObj(t,e){"single-error"!==t&&"single-complete"!==t||setTimeout((()=>{const{taskObj:t}=e;this.taskQueue.remove(t)}),5e3)},onTaskError(t,e){this.onTask(t,"single-error",e)},onTaskComplete(t,e){this.onTask(t,"single-complete",e)},async start(){const t=this.taskQueue.getTaskByIndex(this.cursor);this.execTask(t)},getTaskState(t){return this.taskQueue.getTaskState(t)},getInfo(){const{cursor:t,num:e}=this;return{num:e,cursor:t,tasks:this.taskQueue.getLength()}},getResultFile(t){return this.taskQueue.getResultFile(t)},getProgress(t){return this.progress.getPercent(t)},async execTask(t){this.state="busy";try{this.num++,this.cursor++;const{task:e,params:r}=t,n=await e(r);n?this.initCreator(n,t):this.handlingError({taskObj:t,error:"execTask: await taskObj.task(taskObj.id) return null"})}catch(e){this.handlingError({taskObj:t,error:e})}},initCreator(t,e){t.inCenter=!0,t.generateOutput(),t.on("start",(()=>{const t={id:e.id,taskObj:e};this.event.emit("single-start",t)})),t.on("error",(t=>{this.handlingError({taskObj:e,error:t})})),t.on("progress",(t=>{this.progress.id=e.id,this.progress.state=t.state,this.progress.percent=t.percent})),t.on("complete",(()=>{try{const{id:r}=e,n=t.getFile();e.state="complete",e.file=n,this.progress.add(r),this.taskQueue.store(r);const i={id:r,file:n,taskObj:e};this.event.emit("single-complete",i),u.info(`Creator production completed. id:${r} file: ${n}`)}catch(t){u.error(`Creator production error. ${n.inspect(t)}`)}setTimeout(this.nextTask.bind(this),this.delay)}))},handlingError({taskObj:t,error:e="normal"}){e=a.getErrStack(e);const r={id:t.id,taskObj:t,error:e};t.state="error",this.event.emit("single-error",r),setTimeout(this.nextTask.bind(this),this.delay),u.error(`Creator production error. ${n.inspect(e)}`)},nextTask(){if(this.cursor>=this.taskQueue.getLength())return this.resetTasks(),void this.event.emit("all-complete");const t=this.taskQueue.getTaskByIndex(this.cursor);this.execTask(t)},resetTasks(){this.cursor=0,this.state="free",this.taskQueue.clear()},createTemplate(t,e){this.temps[t]=e},setFFmpegPath(t){c.setFFmpegPath(t)},setFFprobePath(t){c.setFFprobePath(t)}};t.exports=h},()=>{},(t,e,r)=>{"use strict";const n=r(475),i=r(291),o=r(236);t.exports=class{constructor(){this.queue=[],this.storeData={}}push({task:t,params:e={}}){const r=o.genUuid(),n={...e,taskId:r};return this.queue.push({id:r,task:t,params:n,state:"waiting",file:null}),r}remove(t){const e=this.queue.indexOf(t);return e>-1&&this.queue.splice(e,1),e}clear(){i(this.queue,(t=>o.destroyObj(t))),this.queue.length=0}store(t){const e=this.getTaskById(t);if(!e)return;const r=n(e);this.storeData[t]=r,setTimeout((()=>{delete this.storeData[t]}),9e5)}getLength(){return this.queue.length}getTaskState(t){const e=this.getTaskById(t);return e?e.state:"unknown"}getResultFile(t){const e=this.getTaskById(t);return e?e.file:null}getTaskById(t){for(let e=0;e<this.queue.length;e++){const r=this.queue[e];if(t===r.id)return r}for(let e in this.storeData){const r=this.storeData[e];if(t===r.id)return r}return null}getTaskByIndex(t){return t<this.queue.length?this.queue[t]:null}}},t=>{"use strict";t.exports=class{constructor(t=60){this.id=-1,this.ids=[],this.percent=0,this.max=t}add(t){this.ids.push(t),this.ids.length>this.max&&this.ids.shift()}getPercent(t){return this.id==t?this.percent:this.ids.indexOf(t)>-1?1:0}}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(529),i=r(531);r(538),r(549);const o=(0,r(552).default)(i.default,n.render,n.staticRenderFns,!1,null,"07a0bbdc",null).exports},(t,e,r)=>{"use strict";r.r(e),r.d(e,{render:()=>n.render,staticRenderFns:()=>n.staticRenderFns});var n=r(530)},(t,e,r)=>{"use strict";r.r(e),r.d(e,{render:()=>n,staticRenderFns:()=>i});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"player",staticClass:"mirap-player mirap-screen",attrs:{tabIndex:"-1"},on:{click:t.togglePlay,mousemove:t.mouseMove}},[r("canvas",{ref:"canvas",staticClass:"mirap-screen",style:t.canvasStyle}),t._v(" "),r("div",{class:{"mirap-toast":!0,hide:t.toastHide},on:{mousemove:t.hideToast}},[r("span",[t._v(t._s(t.toastMsg))])]),t._v(" "),t.showCover&&t.opts.loaded?r("button",{staticClass:"mirap-cover",on:{click:t.togglePlay}},[r("play-one",{attrs:{theme:"filled",size:"28",fill:t.opts.controlBgColor,strokeLinejoin:"miter"}})],1):t._e(),t._v(" "),t.loading?r("div",{class:{"mirap-loading":!0,"mirap-error":!!t.error},on:{click:t.showLoadingMsg}},[r("svg",{attrs:{width:"60",height:"60",viewPort:"0 0 60 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[r("circle",{attrs:{cx:"30",cy:"30",fill:"transparent","stroke-dashoffset":"0",r:t.pr,"stroke-dasharray":2*Math.PI*t.pr}}),t._v(" "),r("circle",{staticClass:"mirap-loading-bar",attrs:{cx:"30",cy:"30",fill:"transparent",r:t.pr,"stroke-dasharray":2*Math.PI*t.pr,"stroke-dashoffset":(1-t.loadingProgress)*Math.PI*2*t.pr}})]),t._v(" "),t.error?r("error",{attrs:{theme:"filled",size:"28"}}):r("span",{staticClass:"mirap-percent"},[t._v(t._s(Math.round(100*t.loadingProgress)))])],1):t._e(),t._v(" "),t.opts.hideMiniBar?t._e():r("div",{class:{"mirap-mini-bar":!0,"mirap-mini-bar-hide":!(t.hideControls||!0===t.opts.hideControls)}},[r("div",{staticClass:"mirap-progress",style:{width:t.progress+"%"}})]),t._v(" "),!0!==t.opts.hideControls?r("div",{class:{"mirap-controls":!0,"mirap-controls-hide":t.hideControls},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[r("button",{staticClass:"mirap-play",attrs:{"aria-label":"Play/Pause"},on:{click:function(e){return e.stopPropagation(),t.togglePlay.apply(null,arguments)}}},[t.opts.playing?r("pause",{attrs:{theme:"filled",size:"26",fill:t.opts.majorColor,strokeWidth:8,strokeLinecap:"butt"}}):r("play-one",{attrs:{theme:"filled",size:"24",fill:t.opts.majorColor,strokeLinejoin:"miter"}})],1),t._v(" "),r("div",{ref:"bar",staticClass:"mirap-bar",on:{mousedown:function(e){t.barSeek=!0},mouseup:function(e){t.barSeek=!1},click:function(e){return e.stopPropagation(),t.barMouseMove.apply(null,arguments)},mousemove:t.barMouseMove}},[r("div",{staticClass:"mirap-progress",style:{width:t.progress+"%"}},[r("div",{staticClass:"mirap-note"},[r("span",[t._v(t._s(t.progressHms))])])]),t._v(" "),r("div",{staticClass:"mirap-cursor",style:{"margin-left":t.cursor+"%"}},[r("div",{staticClass:"mirap-note"},[r("span",[t._v(t._s(t.cursorHms))])])])]),t._v(" "),r("button",{staticClass:"mirap-info",on:{click:function(t){t.stopPropagation()},dblclick:t.menu}},[r("span",[t._v(t._s(t.info))])])]):t._e()])},i=[]},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=r(532).default},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>g});var n=r(534),i=r(536),o=r(537),s=r(4),a=r(2),u=r(533),l=r.n(u),c=r(12),h=r(5);const f={volume:1,playbackRate:1,resetOnEnd:!1,majorColor:"#4d75b4",controlBgColor:"#FFF",playerBgColor:"#000",errorColor:"#E55",timeRemain:!0,decimal:0,hideControls:"auto",hideMiniBar:!1,cover:"auto",keyboardPlay:!0,tapPlay:!0,keySeekStep:1,playing:!1,play:!1,currentTime:0,duration:0},d=["loadedmetadata","canplay","emptied","timeupdate","playing","seeked","pause","ended","play"],p={space:" ",left:"ArrowLeft",right:"ArrowRight"},g={components:{PlayOne:n.default,Pause:i.default,Error:o.default},props:["options","width","height"],data:function(){return{version:"$VERSION",opts:this.options,w:this.width,h:this.height,error:null,pr:27,scale:0,toastHide:!0,toastMsg:null,mouseStaying:!1,hover:!1,seekingTimer:null,loading:!1,loadingProgress:0,progress:"0",progressHms:"0:00",seekTime:0,cursor:"0",cursorHms:"0:00",timeHms:"0:00",canvasStyle:{width:0,height:0,margin:0}}},mounted:function(){this.log("player mounted"),this.load(),this.$refs.player.addEventListener("keyup",(t=>{if(this.$emit("keyup",t),this.opts.keyboardPlay)if(t.key===p.space&&"mirap-play"!==t.target.className)this.togglePlay(t);else if([p.left,p.right].includes(t.key)){const e=p.left===t.key?-1:1;this.seek(this.opts.currentTime+this.opts.keySeekStep*e)}})),this.$refs.player.addEventListener("keydown",(t=>{this.$emit("keydown",t),this.opts.keyboardPlay&&Object.values(p).includes(t.key)&&t.preventDefault()}))},watch:{size:function(){this.fit()},optChange:function(){this.updateBarWidth()},info:function(){this.updateBarWidth()}},computed:{optChange:function(){return JSON.stringify([this.opts.hideControls])},size:function(){return`${this.w}x${this.h}`},info:function(){return`${this.timeHms}${this.opts.playbackRate>1?` ${this.opts.playbackRate}`:""}`},hideControls:function(){return!1!==this.opts.hideControls&&this.mouseStaying||!1!==this.opts.cover&&!this.opts.play},showCover:function(){return!0===this.opts.cover&&!this.opts.playing||"auto"===this.opts.cover&&!this.opts.play}},methods:{updateBarWidth:function(){setTimeout((()=>{this.barWidth=this.$refs.bar?.clientWidth}),0)},log:function(...t){this.opts.debug&&console.log(...t)},destroy:async function(){this.creator&&await this.creator.destroy()},hideToast:function(){this.toast(null)},toast:function(t,e=3e3){if(this.toastTimer&&(clearTimeout(this.toastTimer),this.toastTimer=null),!t)return this.toastHide=!0;this.toastMsg=t,this.toastHide=!1,(e=parseInt(e))>=0&&(this.toastTimer=setTimeout((()=>{this.toastHide=!0}),e))},setSize:function({width:t,height:e}){this.w=t,this.h=e},togglePlay:l()((function(t){("BUTTON"===t.target?.tagName||this.opts.keyboardPlay&&"keyup"===t.type||this.opts.tapPlay&&t.target?.className.includes("screen"))&&(this.opts.playing?this.pause():this.play())}),10),showLoadingMsg:function(){this.error&&(this.toast(this.error,15e3),navigator.clipboard.writeText(this.error))},play:function(){if(!this.opts.loaded)return this.toast("Loading..");.001*this.creator.currentTime>this.creator.duration-.1&&this.creator.jumpTo(1),this.creator.play(this.opts.playbackRate),this.error=null},pause:function(){this.creator.pause()},seek:function(t){this.creator.jumpTo(1e3*t>>0)},focus:function(){this.opts.keyboardPlay&&this.$refs.player.focus()},capture:async function(){return await this.creator.getPreview(this.opts.currentTime)},menu:function(){let{value:t,json:e}=this.opts;t=t||e,"string"!=typeof t&&(t=JSON.stringify(t,null,2));try{navigator.clipboard.writeText(t)}catch(e){this.toast("Failed to copy source! See console log"),console.log(t)}},genNode:async function(t,e){const{node:r,cache:n}=c.Factory.genNode(t,{},e);return await n,r},load:async function(){this.log("player load start..",this.opts),this.opts.loaded=!1,this.loading=!0,this.loadingProgress=.01,this.error=null;const t=this.$refs.player.style;for(const[e,r]of Object.entries(f))this.$set(this.opts,e,void 0===this.opts[e]?r:this.opts[e]),e.includes("Color")&&(t.setProperty(`--${e}`,(0,a.color)(this.opts[e],100)),t.setProperty(`--${e}90`,(0,a.color)(this.opts[e],90)),t.setProperty(`--${e}30`,(0,a.color)(this.opts[e],30)));let{value:e,json:r}=this.opts;e=e||r,c.Factory.cacheNode="all"===this.opts.cache?h.forceCacheNode:!1!==this.opts.cache?h.cacheNode:null,c.Factory.debug=this.opts.debug;const n=this.$refs.canvas,i={},{node:o,cache:u}=c.Factory.from(e,{canvas:n},(t=>{i[t.key]=t,this.updateProgress(i)}));this.creator=o,this.log("creater init"),await u,this.log("creater loaded"),this.fit(),this.creator.on("playing",(()=>{this.focus(),this.opts.playing=!0})).on("pause",(()=>{this.focus(),this.opts.playing=!1})).on("play",(()=>{this.focus(),this.opts.play=!0})).on("preloading",(t=>{this.log("preloading",t),this.loadingProgress=.6+t.loaded/t.total*.4})).on("seeking",(t=>{this.log("seeking",t),this.opts.playing&&(this.loading=!0,this.loadingProgress=0,this.seekingTimer&&clearInterval(this.seekingTimer),this.seekingTimer=setInterval((()=>{this.loadingProgress+=.01*(1-this.loadingProgress)}),50))})).on("seeked",(t=>{this.log("seeked",t),this.loading&&(this.loadingProgress=.98,setTimeout((()=>{this.loading=!1,this.seekingTimer&&clearInterval(this.seekingTimer)}),100))})).on("error",(t=>{t.error&&(this.error=t.error,this.toast(t.error))})).on("loadedmetadata",(t=>{this.focus(),this.toast(),this.loading=!1,this.opts.loaded=!0,this.opts.duration=t.duration,this.timeHms=(0,s.secToHms)(t.duration,this.opts.decimal)})).on("timeupdate",(t=>{this.opts.currentTime=t.currentTime/1e3,this.progressHms=(0,s.secToHms)(this.opts.currentTime,this.opts.decimal);const e=Math.min(100,Math.max(0,100*this.opts.currentTime)/this.opts.duration).toFixed(2);e!==this.progress&&(this.progress=e),this.opts.timeRemain&&(this.timeHms="-"+(0,s.secToHms)(this.opts.duration-this.opts.currentTime,this.opts.decimal))})).on("ended",(()=>{this.opts.resetOnEnd&&this.seek(.01),this.opts.playing=!1})).on("resize",(()=>{this.fit()}));for(const t of d)this.creator.on(t,(e=>{this.$emit(t,e)}));this.barWidth=this.$refs.bar?.clientWidth,this.start()},start:async function(){this.log("creater start..",this.creator);try{await this.creator.start()}catch(t){console.error(t)}},updateProgress:function(t){const e={total:1,loaded:0};Object.values(t).map((t=>{e.total+=t.total,e.loaded+=t.loaded})),this.loadingProgress=.6*Math.min(1,e.loaded/e.total)},fit:function(){if(!this.creator)return;let t=this.creator.getConf("width"),e=this.creator.getConf("height");this.scale=Math.min(this.w/t,this.h/e),t=this.scale*t>>0,e=this.scale*e>>0;const r=(this.w-t)/2,n=(this.h-e)/2;this.canvasStyle.width=`${t}px`,this.canvasStyle.height=`${e}px`,this.canvasStyle.margin=`${n}px ${r}px`,this.$emit("resize")},mouseMove(){this.mouseMovingTimer&&clearTimeout(this.mouseMovingTimer),this.mouseStaying=!1,this.mouseMovingTimer=setTimeout((()=>{this.hover||(this.mouseStaying=!0)}),1e3*(!0===this.opts.cover?1:2))},barMouseMove(t){const e=Math.min(100,Math.max(0,100*t.offsetX)/this.barWidth).toFixed(2);e!==this.cursor&&(this.cursor=e,this.seekTime=.01*Number(e)*this.opts.duration,this.cursorHms=(0,s.secToHms)(this.seekTime,this.opts.decimal)),(this.barSeek||"click"===t.type)&&this.seek(this.seekTime)}}}},(t,e,r)=>{var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),h=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return c.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=o.test(t);return r||s.test(t)?a(t.slice(2),r?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,r){var n,i,o,s,a,u,l=0,c=!1,h=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function _(e){var r=n,o=i;return n=i=void 0,l=e,s=t.apply(o,r)}function y(t){return l=t,a=setTimeout(x,e),c?_(t):s}function b(t){var r=t-u;return void 0===u||r>=e||r<0||h&&t-l>=o}function x(){var t=p();if(b(t))return T(t);a=setTimeout(x,function(t){var r=e-(t-u);return h?d(r,o-(t-l)):r}(t))}function T(t){return a=void 0,m&&n?_(t):(n=i=void 0,s)}function E(){var t=p(),r=b(t);if(n=arguments,i=this,u=t,r){if(void 0===a)return y(u);if(h)return a=setTimeout(x,e),_(u)}return void 0===a&&(a=setTimeout(x,e)),s}return e=v(e)||0,g(r)&&(c=!!r.leading,o=(h="maxWait"in r)?f(v(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m),E.cancel=function(){void 0!==a&&clearTimeout(a),l=0,n=u=i=a=void 0},E.flush=function(){return void 0===a?s:T(p())},E}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=(0,r(535).IconWrapper)("play-one",!0,(function(t,e){return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin}})])}))},(t,e,r)=>{"use strict";r.r(e),r.d(e,{DEFAULT_ICON_CONFIGS:()=>n,IconConverter:()=>i,IconWrapper:()=>o});var n={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function i(t,e,r){var n="string"==typeof e.fill?[e.fill]:e.fill||[],i=[];switch(e.theme||r.theme){case"outline":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("none"),i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("none");break;case"filled":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[1]?n[1]:r.colors.twoTone.twoTone),i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[1]?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push("string"==typeof n[0]?n[0]:"currentColor"),i.push("string"==typeof n[1]?n[1]:r.colors.multiColor.outFillColor),i.push("string"==typeof n[2]?n[2]:r.colors.multiColor.innerStrokeColor),i.push("string"==typeof n[3]?n[3]:r.colors.multiColor.innerFillColor)}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}function o(t,e,r){return{name:"icon-"+t,inject:{ICON_CONFIGS:{default:n}},props:["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","spin"],data:function(){return{id:"icon-"+(4294967296*(1+Math.random())|0).toString(16).substring(1)}},inheritAttrs:!1,render:function(o){var s=this.size,a=this.strokeWidth,u=this.strokeLinecap,l=this.strokeLinejoin,c=this.theme,h=this.fill,f=this.id,d=this.spin,p=this.ICON_CONFIGS,g=void 0===p?n:p,v=i(f,{size:s,strokeWidth:a,strokeLinecap:u,strokeLinejoin:l,theme:c,fill:h},g),m=[g.prefix+"-icon"];return m.push(g.prefix+"-icon-"+t),e&&g.rtl&&m.push(g.prefix+"-icon-rtl"),d&&m.push(g.prefix+"-icon-spin"),o("span",{class:m.join(" "),on:this.$listeners,attrs:this.$attrs},[r(o,v)])}}}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=(0,r(535).IconWrapper)("pause",!0,(function(t,e){return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{d:"M16 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin}}),t("path",{attrs:{d:"M32 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin}})])}))},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=(0,r(535).IconWrapper)("error",!1,(function(t,e){return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 11L11 6L24 19L37 6L42 11L29 24L42 37L37 42L24 29L11 42L6 37L19 24L6 11Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin}})])}))},(t,e,r)=>{"use strict";r.r(e),r(539)},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});var n=r(540),i=r.n(n),o=r(541),s=r.n(o),a=r(542),u=r.n(a),l=r(543),c=r.n(l),h=r(544),f=r.n(h),d=r(545),p=r.n(d),g=r(546),v={attributes:{mira:"player"}};v.styleTagTransform=p(),v.setAttributes=c(),v.insert=u().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),i()(g.default,v);const m=g.default&&g.default.locals?g.default.locals:void 0},t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var o={},s=[],a=0;a<t.length;a++){var u=t[a],l=n.base?u[0]+n.base:u[0],c=o[l]||0,h="".concat(l," ").concat(c);o[l]=c+1;var f=r(h),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var p=i(d,n);n.byIndex=a,e.splice(a,0,{identifier:h,updater:p,references:1})}s.push(h)}return s}function i(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,i){var o=n(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=r(o[s]);e[a].references--}for(var u=n(t,i),l=0;l<o.length;l++){var c=r(o[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=u}}},t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},t=>{"use strict";t.exports=function(t,e){Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])}))}},t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(547),i=r.n(n),o=r(548),s=r.n(o)()(i());s.push([t.id,".mirap-player * {\n  border-radius: 0;\n  border: 0;\n  padding: 0px;\n  margin: 0px;\n  user-select: none;\n  -webkit-user-select: none;\n  font-family: Helvetica, Arial;\n}\n.mirap-player ::before {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  font-family: Helvetica, Arial;\n}\n.mirap-player ::after {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  font-family: Helvetica, Arial;\n}\n",""]);const a=s},t=>{"use strict";t.exports=function(t){return t[1]}},t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);n&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},(t,e,r)=>{"use strict";r.r(e),r(550)},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});var n=r(540),i=r.n(n),o=r(541),s=r.n(o),a=r(542),u=r.n(a),l=r(543),c=r.n(l),h=r(544),f=r.n(h),d=r(545),p=r.n(d),g=r(551),v={attributes:{mira:"player"}};v.styleTagTransform=p(),v.setAttributes=c(),v.insert=u().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),i()(g.default,v);const m=g.default&&g.default.locals?g.default.locals:void 0},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(547),i=r.n(n),o=r(548),s=r.n(o)()(i());s.push([t.id,'*[data-v-07a0bbdc]:focus {\n  outline: 0 !important;\n}\n.font[data-v-07a0bbdc] {\n  font-weight: 380;\n  font-family: Noto Sans,Helvetica Neue,Helvetica,PingFang SC!important;\n}\n.mirap-player[data-v-07a0bbdc] {\n  font-weight: 380;\n  font-family: Noto Sans,Helvetica Neue,Helvetica,PingFang SC!important;\n  position: relative;\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  outline: 0px solid transparent;\n  background: var(--playerBgColor);\n  overflow: hidden;\n  padding: 0px;\n  margin: 0px;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.mirap-player .mirap-toast[data-v-07a0bbdc] {\n  white-space: pre-wrap;\n  color: #FFF;\n  text-align: center;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: -50%;\n  width: 100%;\n  height: 60px;\n  left: 50%;\n  top: 0;\n  opacity: 1;\n  transition-property: top opacity;\n  transition-duration: 0.3s;\n}\n.mirap-player .mirap-toast.hide[data-v-07a0bbdc] {\n  pointer-events: none;\n  top: -20px;\n  opacity: 0;\n  transition-property: top opacity;\n  transition-duration: 0.3s;\n}\n.mirap-player .mirap-toast span[data-v-07a0bbdc] {\n  background: rgba(30, 30, 30, 0.8);\n  padding: 5px 8px;\n  border-radius: 3px;\n  font-size: 12px;\n  max-width: 95%;\n  word-break: break-all;\n}\n.mirap-player span.i-icon[data-v-07a0bbdc],\n.mirap-player svg[data-v-07a0bbdc],\n.mirap-player path[data-v-07a0bbdc] {\n  pointer-events: none;\n}\n.mirap-player:hover .mirap-cover[data-v-07a0bbdc] {\n  background-color: var(--majorColor30);\n  transition: background-color 0.3s;\n}\n.mirap-player .mirap-cover[data-v-07a0bbdc] {\n  position: absolute;\n  margin-left: -50px;\n  margin-top: -40px;\n  width: 100px;\n  height: 80px;\n  top: 50%;\n  left: 50%;\n  border-radius: 30px;\n  background-color: var(--controlBgColor30);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n.mirap-player .mirap-cover span[data-v-07a0bbdc] {\n  /* for vertical-align:center */\n  display: inline-flex;\n}\n.mirap-player .mirap-loading[data-v-07a0bbdc] {\n  position: absolute;\n  margin-left: -50px;\n  margin-top: -40px;\n  width: 100px;\n  height: 80px;\n  top: 50%;\n  left: 50%;\n  border-radius: 30px;\n  background-color: var(--controlBgColor30);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n.mirap-player .mirap-loading span[data-v-07a0bbdc] {\n  /* for vertical-align:center */\n  display: inline-flex;\n}\n.mirap-player .mirap-loading svg[data-v-07a0bbdc] {\n  transform: rotateZ(-90deg);\n}\n.mirap-player .mirap-loading svg circle[data-v-07a0bbdc] {\n  stroke: var(--controlBgColor);\n  stroke-width: 2px;\n}\n.mirap-player .mirap-loading svg .mirap-loading-bar[data-v-07a0bbdc] {\n  stroke: var(--majorColor);\n  stroke-width: 3px;\n}\n.mirap-player .mirap-loading.mirap-error svg .mirap-loading-bar[data-v-07a0bbdc] {\n  stroke: var(--errorColor);\n}\n.mirap-player .mirap-loading .i-icon-error[data-v-07a0bbdc] {\n  position: absolute;\n  display: block;\n  color: var(--errorColor);\n  width: 28px;\n  height: 28px;\n}\n.mirap-player .mirap-loading span.mirap-percent[data-v-07a0bbdc] {\n  position: absolute;\n  display: block;\n  color: var(--controlBgColor);\n  font-size: 16px;\n}\n.mirap-player .mirap-loading span.mirap-percent[data-v-07a0bbdc]:after {\n  display: inline-block;\n  content: "%";\n  font-size: 12px;\n  margin-left: -1px;\n  transform: scale(0.7) translateY(1px);\n}\n.mirap-player .mirap-mini-bar[data-v-07a0bbdc] {\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 3px;\n  opacity: 1;\n  background: var(--playerBgColor30);\n  transition: bottom 0.3s;\n  transition-delay: 0.1s;\n}\n.mirap-player .mirap-mini-bar-hide[data-v-07a0bbdc] {\n  opacity: 0!important;\n  transition: opacity 0.3s;\n  transition-delay: 0s!important;\n}\n.mirap-player .mirap-controls-hide[data-v-07a0bbdc] {\n  bottom: -39px !important;\n  transition: bottom 0.3s;\n  transition-delay: 0s!important;\n}\n.mirap-player .mirap-controls[data-v-07a0bbdc] {\n  visibility: visible;\n  opacity: 1;\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 39px;\n  display: flex;\n  cursor: pointer;\n  transition: bottom 0.3s;\n  transition-delay: 0.1s;\n}\n.mirap-player .mirap-controls .mirap-play[data-v-07a0bbdc] {\n  width: 39px;\n}\n.mirap-player .mirap-controls button[data-v-07a0bbdc] {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  min-width: 39px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: var(--controlBgColor);\n  opacity: 0.5;\n}\n.mirap-player .mirap-controls button[data-v-07a0bbdc]:hover {\n  opacity: 0.9;\n}\n.mirap-player .mirap-controls button span[data-v-07a0bbdc] {\n  /* for vertical-align:center */\n  display: inline-flex;\n}\n.mirap-player .mirap-controls .mirap-info[data-v-07a0bbdc] {\n  color: var(--majorColor);\n  font-size: 12px;\n}\n.mirap-player .mirap-controls .mirap-info span[data-v-07a0bbdc] {\n  margin: 0 10px;\n  font-weight: 380;\n  font-family: Noto Sans,Helvetica Neue,Helvetica,PingFang SC!important;\n}\n.mirap-player .mirap-controls .mirap-bar[data-v-07a0bbdc] {\n  position: relative;\n  background-color: var(--controlBgColor);\n  flex-grow: 1;\n  opacity: 0.6;\n}\n.mirap-player .mirap-controls .mirap-bar[data-v-07a0bbdc]:hover {\n  opacity: 0.8;\n}\n.mirap-player .mirap-controls .mirap-bar:hover .mirap-note[data-v-07a0bbdc] {\n  top: -30px;\n  opacity: 1;\n}\n.mirap-player .mirap-controls .mirap-bar:hover .mirap-cursor[data-v-07a0bbdc] {\n  opacity: 1;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-note[data-v-07a0bbdc] {\n  position: absolute;\n  width: 60px;\n  height: 30px;\n  right: -30px;\n  text-align: center;\n  top: -20px;\n  opacity: 0;\n  transition: top 0.3s, opacity 0.2s;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-note span[data-v-07a0bbdc] {\n  white-space: nowrap;\n  font-size: 12px;\n  border-radius: 3px;\n  padding: 3px 5px;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-cursor[data-v-07a0bbdc] {\n  position: absolute;\n  background: #000;\n  width: 1px;\n  height: 100%;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n.mirap-player .mirap-controls .mirap-bar .mirap-cursor span[data-v-07a0bbdc] {\n  color: var(--majorColor);\n  background: var(--controlBgColor90);\n}\n.mirap-player .mirap-progress[data-v-07a0bbdc] {\n  position: absolute;\n  background: var(--majorColor);\n  height: 100%;\n  width: 0;\n  pointer-events: none;\n}\n.mirap-player .mirap-progress span[data-v-07a0bbdc] {\n  color: var(--controlBgColor);\n  background: var(--majorColor90);\n}\n',""]);const a=s},(t,e,r)=>{"use strict";function n(t,e,r,n,i,o,s,a){var u,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=u):i&&(u=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}r.r(e),r.d(e,{default:()=>n})},(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>ki});var n=Object.freeze({});function i(t){return null==t}function o(t){return null!=t}function s(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function c(t){return"[object Object]"===l.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var r=Object.create(null),n=t.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var _=Object.prototype.hasOwnProperty;function y(t,e){return _.call(t,e)}function b(t){var e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}var x=/-(\w)/g,T=b((function(t){return t.replace(x,(function(t,e){return e?e.toUpperCase():""}))})),E=b((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),w=/\B([A-Z])/g,A=b((function(t){return t.replace(w,"-$1").toLowerCase()})),S=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function r(r){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r};function I(t,e){e=e||0;for(var r=t.length-e,n=new Array(r);r--;)n[r]=t[r+e];return n}function C(t,e){for(var r in e)t[r]=e[r];return t}function O(t){for(var e={},r=0;r<t.length;r++)t[r]&&C(e,t[r]);return e}function R(t,e,r){}var M=function(t,e,r){return!1},N=function(t){return t};function P(t,e){if(t===e)return!0;var r=u(t),n=u(e);if(!r||!n)return!r&&!n&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,r){return P(t,e[r])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(r){return P(t[r],e[r])}))}catch(t){return!1}}function L(t,e){for(var r=0;r<t.length;r++)if(P(t[r],e))return r;return-1}function D(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var k="data-server-rendered",F=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],j={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:R,parsePlatformTagName:N,mustUseProp:M,async:!0,_lifecycleHooks:B};function U(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var V,z=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]"),W="__proto__"in{},G="undefined"!=typeof window,H="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,$=H&&WXEnvironment.platform.toLowerCase(),X=G&&window.navigator.userAgent.toLowerCase(),q=X&&/msie|trident/.test(X),Y=X&&X.indexOf("msie 9.0")>0,K=X&&X.indexOf("edge/")>0,J=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===$),Z=(X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X),X&&X.match(/firefox\/(\d+)/)),Q={}.watch,tt=!1;if(G)try{var et={};Object.defineProperty(et,"passive",{get:function(){tt=!0}}),window.addEventListener("test-passive",null,et)}catch(t){}var rt=function(){return void 0===V&&(V=!G&&!H&&void 0!==r.g&&r.g.process&&"server"===r.g.process.env.VUE_ENV),V},nt=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function it(t){return"function"==typeof t&&/native code/.test(t.toString())}var ot,st="undefined"!=typeof Symbol&&it(Symbol)&&"undefined"!=typeof Reflect&&it(Reflect.ownKeys);ot="undefined"!=typeof Set&&it(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var at=R,ut=0,lt=function(){this.id=ut++,this.subs=[]};lt.prototype.addSub=function(t){this.subs.push(t)},lt.prototype.removeSub=function(t){m(this.subs,t)},lt.prototype.depend=function(){lt.target&&lt.target.addDep(this)},lt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,r=t.length;e<r;e++)t[e].update()},lt.target=null;var ct=[];function ht(t){ct.push(t),lt.target=t}function ft(){ct.pop(),lt.target=ct[ct.length-1]}var dt=function(t,e,r,n,i,o,s,a){this.tag=t,this.data=e,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},pt={child:{configurable:!0}};pt.child.get=function(){return this.componentInstance},Object.defineProperties(dt.prototype,pt);var gt=function(t){void 0===t&&(t="");var e=new dt;return e.text=t,e.isComment=!0,e};function vt(t){return new dt(void 0,void 0,void 0,String(t))}function mt(t){var e=new dt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var _t=Array.prototype,yt=Object.create(_t);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=_t[t];U(yt,t,(function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var i,o=e.apply(this,r),s=this.__ob__;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o}))}));var bt=Object.getOwnPropertyNames(yt),xt=!0;function Tt(t){xt=t}var Et=function(t){this.value=t,this.dep=new lt,this.vmCount=0,U(t,"__ob__",this),Array.isArray(t)?(W?function(t,e){t.__proto__=e}(t,yt):function(t,e,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];U(t,o,e[o])}}(t,yt,bt),this.observeArray(t)):this.walk(t)};function wt(t,e){var r;if(u(t)&&!(t instanceof dt))return y(t,"__ob__")&&t.__ob__ instanceof Et?r=t.__ob__:xt&&!rt()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new Et(t)),e&&r&&r.vmCount++,r}function At(t,e,r,n,i){var o=new lt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(r=t[e]);var l=!i&&wt(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):r;return lt.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Ct(e))),e},set:function(e){var n=a?a.call(t):r;e===n||e!=e&&n!=n||a&&!u||(u?u.call(t,e):r=e,l=!i&&wt(e),o.notify())}})}}function St(t,e,r){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var n=t.__ob__;return t._isVue||n&&n.vmCount?r:n?(At(n.value,e,r),n.dep.notify(),r):(t[e]=r,r)}function It(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||y(t,e)&&(delete t[e],r&&r.dep.notify())}}function Ct(t){for(var e=void 0,r=0,n=t.length;r<n;r++)(e=t[r])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ct(e)}Et.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)At(t,e[r])},Et.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)wt(t[e])};var Ot=j.optionMergeStrategies;function Rt(t,e){if(!e)return t;for(var r,n,i,o=st?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)"__ob__"!==(r=o[s])&&(n=t[r],i=e[r],y(t,r)?n!==i&&c(n)&&c(i)&&Rt(n,i):St(t,r,i));return t}function Mt(t,e,r){return r?function(){var n="function"==typeof e?e.call(r,r):e,i="function"==typeof t?t.call(r,r):t;return n?Rt(n,i):i}:e?t?function(){return Rt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Nt(t,e){var r=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return r?function(t){for(var e=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r]);return e}(r):r}function Pt(t,e,r,n){var i=Object.create(t||null);return e?C(i,e):i}Ot.data=function(t,e,r){return r?Mt(t,e,r):e&&"function"!=typeof e?t:Mt(t,e)},B.forEach((function(t){Ot[t]=Nt})),F.forEach((function(t){Ot[t+"s"]=Pt})),Ot.watch=function(t,e,r,n){if(t===Q&&(t=void 0),e===Q&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in C(i,t),e){var s=i[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Ot.props=Ot.methods=Ot.inject=Ot.computed=function(t,e,r,n){if(!t)return e;var i=Object.create(null);return C(i,t),e&&C(i,e),i},Ot.provide=Mt;var Lt=function(t,e){return void 0===e?t:e};function Dt(t,e,r){if("function"==typeof e&&(e=e.options),function(t,e){var r=t.props;if(r){var n,i,o={};if(Array.isArray(r))for(n=r.length;n--;)"string"==typeof(i=r[n])&&(o[T(i)]={type:null});else if(c(r))for(var s in r)i=r[s],o[T(s)]=c(i)?i:{type:i};t.props=o}}(e),function(t,e){var r=t.inject;if(r){var n=t.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(c(r))for(var o in r){var s=r[o];n[o]=c(s)?C({from:o},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var r in e){var n=e[r];"function"==typeof n&&(e[r]={bind:n,update:n})}}(e),!e._base&&(e.extends&&(t=Dt(t,e.extends,r)),e.mixins))for(var n=0,i=e.mixins.length;n<i;n++)t=Dt(t,e.mixins[n],r);var o,s={};for(o in t)a(o);for(o in e)y(t,o)||a(o);function a(n){var i=Ot[n]||Lt;s[n]=i(t[n],e[n],r,n)}return s}function kt(t,e,r,n){if("string"==typeof r){var i=t[e];if(y(i,r))return i[r];var o=T(r);if(y(i,o))return i[o];var s=E(o);return y(i,s)?i[s]:i[r]||i[o]||i[s]}}function Ft(t,e,r,n){var i=e[t],o=!y(r,t),s=r[t],a=Vt(Boolean,i.type);if(a>-1)if(o&&!y(i,"default"))s=!1;else if(""===s||s===A(t)){var u=Vt(String,i.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=function(t,e,r){if(y(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r]?t._props[r]:"function"==typeof n&&"Function"!==jt(e.type)?n.call(t):n}}(n,i,t);var l=xt;Tt(!0),wt(s),Tt(l)}return s}var Bt=/^\s*function (\w+)/;function jt(t){var e=t&&t.toString().match(Bt);return e?e[1]:""}function Ut(t,e){return jt(t)===jt(e)}function Vt(t,e){if(!Array.isArray(e))return Ut(e,t)?0:-1;for(var r=0,n=e.length;r<n;r++)if(Ut(e[r],t))return r;return-1}function zt(t,e,r){ht();try{if(e)for(var n=e;n=n.$parent;){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(n,t,e,r))return}catch(t){Gt(t,n,"errorCaptured hook")}}Gt(t,e,r)}finally{ft()}}function Wt(t,e,r,n,i){var o;try{(o=r?t.apply(e,r):t.call(e))&&!o._isVue&&f(o)&&!o._handled&&(o.catch((function(t){return zt(t,n,i+" (Promise/async)")})),o._handled=!0)}catch(t){zt(t,n,i)}return o}function Gt(t,e,r){if(j.errorHandler)try{return j.errorHandler.call(null,t,e,r)}catch(e){e!==t&&Ht(e)}Ht(t)}function Ht(t,e,r){if(!G&&!H||"undefined"==typeof console)throw t;console.error(t)}var $t,Xt=!1,qt=[],Yt=!1;function Kt(){Yt=!1;var t=qt.slice(0);qt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&it(Promise)){var Jt=Promise.resolve();$t=function(){Jt.then(Kt),J&&setTimeout(R)},Xt=!0}else if(q||"undefined"==typeof MutationObserver||!it(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())$t="undefined"!=typeof setImmediate&&it(setImmediate)?function(){setImmediate(Kt)}:function(){setTimeout(Kt,0)};else{var Zt=1,Qt=new MutationObserver(Kt),te=document.createTextNode(String(Zt));Qt.observe(te,{characterData:!0}),$t=function(){Zt=(Zt+1)%2,te.data=String(Zt)},Xt=!0}function ee(t,e){var r;if(qt.push((function(){if(t)try{t.call(e)}catch(t){zt(t,e,"nextTick")}else r&&r(e)})),Yt||(Yt=!0,$t()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){r=t}))}var re=new ot;function ne(t){ie(t,re),re.clear()}function ie(t,e){var r,n,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof dt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(r=t.length;r--;)ie(t[r],e);else for(r=(n=Object.keys(t)).length;r--;)ie(t[n[r]],e)}}var oe=b((function(t){var e="&"===t.charAt(0),r="~"===(t=e?t.slice(1):t).charAt(0),n="!"===(t=r?t.slice(1):t).charAt(0);return{name:t=n?t.slice(1):t,once:r,capture:n,passive:e}}));function se(t,e){function r(){var t=arguments,n=r.fns;if(!Array.isArray(n))return Wt(n,null,arguments,e,"v-on handler");for(var i=n.slice(),o=0;o<i.length;o++)Wt(i[o],null,t,e,"v-on handler")}return r.fns=t,r}function ae(t,e,r,n,o,a){var u,l,c,h;for(u in t)l=t[u],c=e[u],h=oe(u),i(l)||(i(c)?(i(l.fns)&&(l=t[u]=se(l,a)),s(h.once)&&(l=t[u]=o(h.name,l,h.capture)),r(h.name,l,h.capture,h.passive,h.params)):l!==c&&(c.fns=l,t[u]=c));for(u in e)i(t[u])&&n((h=oe(u)).name,e[u],h.capture)}function ue(t,e,r){var n;t instanceof dt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function u(){r.apply(this,arguments),m(n.fns,u)}i(a)?n=se([u]):o(a.fns)&&s(a.merged)?(n=a).fns.push(u):n=se([a,u]),n.merged=!0,t[e]=n}function le(t,e,r,n,i){if(o(e)){if(y(e,r))return t[r]=e[r],i||delete e[r],!0;if(y(e,n))return t[r]=e[n],i||delete e[n],!0}return!1}function ce(t){return a(t)?[vt(t)]:Array.isArray(t)?fe(t):void 0}function he(t){return o(t)&&o(t.text)&&!1===t.isComment}function fe(t,e){var r,n,u,l,c=[];for(r=0;r<t.length;r++)i(n=t[r])||"boolean"==typeof n||(l=c[u=c.length-1],Array.isArray(n)?n.length>0&&(he((n=fe(n,(e||"")+"_"+r))[0])&&he(l)&&(c[u]=vt(l.text+n[0].text),n.shift()),c.push.apply(c,n)):a(n)?he(l)?c[u]=vt(l.text+n):""!==n&&c.push(vt(n)):he(n)&&he(l)?c[u]=vt(l.text+n.text):(s(t._isVList)&&o(n.tag)&&i(n.key)&&o(e)&&(n.key="__vlist"+e+"_"+r+"__"),c.push(n)));return c}function de(t,e){if(t){for(var r=Object.create(null),n=st?Reflect.ownKeys(t):Object.keys(t),i=0;i<n.length;i++){var o=n[i];if("__ob__"!==o){for(var s=t[o].from,a=e;a;){if(a._provided&&y(a._provided,s)){r[o]=a._provided[s];break}a=a.$parent}if(!a&&"default"in t[o]){var u=t[o].default;r[o]="function"==typeof u?u.call(e):u}}}return r}}function pe(t,e){if(!t||!t.length)return{};for(var r={},n=0,i=t.length;n<i;n++){var o=t[n],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(r.default||(r.default=[])).push(o);else{var a=s.slot,u=r[a]||(r[a]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var l in r)r[l].every(ge)&&delete r[l];return r}function ge(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ve(t){return t.isComment&&t.asyncFactory}function me(t,e,r){var i,o=Object.keys(e).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&r&&r!==n&&a===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=_e(e,u,t[u]))}else i={};for(var l in e)l in i||(i[l]=ye(e,l));return t&&Object.isExtensible(t)&&(t._normalized=i),U(i,"$stable",s),U(i,"$key",a),U(i,"$hasNormal",o),i}function _e(t,e,r){var n=function(){var t=arguments.length?r.apply(null,arguments):r({}),e=(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ce(t))&&t[0];return t&&(!e||1===t.length&&e.isComment&&!ve(e))?void 0:t};return r.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function ye(t,e){return function(){return t[e]}}function be(t,e){var r,n,i,s,a;if(Array.isArray(t)||"string"==typeof t)for(r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=e(t[n],n);else if("number"==typeof t)for(r=new Array(t),n=0;n<t;n++)r[n]=e(n+1,n);else if(u(t))if(st&&t[Symbol.iterator]){r=[];for(var l=t[Symbol.iterator](),c=l.next();!c.done;)r.push(e(c.value,r.length)),c=l.next()}else for(s=Object.keys(t),r=new Array(s.length),n=0,i=s.length;n<i;n++)a=s[n],r[n]=e(t[a],a,n);return o(r)||(r=[]),r._isVList=!0,r}function xe(t,e,r,n){var i,o=this.$scopedSlots[t];o?(r=r||{},n&&(r=C(C({},n),r)),i=o(r)||("function"==typeof e?e():e)):i=this.$slots[t]||("function"==typeof e?e():e);var s=r&&r.slot;return s?this.$createElement("template",{slot:s},i):i}function Te(t){return kt(this.$options,"filters",t)||N}function Ee(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function we(t,e,r,n,i){var o=j.keyCodes[e]||r;return i&&n&&!j.keyCodes[e]?Ee(i,n):o?Ee(o,t):n?A(n)!==e:void 0===t}function Ae(t,e,r,n,i){if(r&&u(r)){var o;Array.isArray(r)&&(r=O(r));var s=function(s){if("class"===s||"style"===s||v(s))o=t;else{var a=t.attrs&&t.attrs.type;o=n||j.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(s),l=A(s);u in o||l in o||(o[s]=r[s],i&&((t.on||(t.on={}))["update:"+s]=function(t){r[s]=t}))};for(var a in r)s(a)}return t}function Se(t,e){var r=this._staticTrees||(this._staticTrees=[]),n=r[t];return n&&!e||Ce(n=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),n}function Ie(t,e,r){return Ce(t,"__once__"+e+(r?"_"+r:""),!0),t}function Ce(t,e,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&Oe(t[n],e+"_"+n,r);else Oe(t,e,r)}function Oe(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function Re(t,e){if(e&&c(e)){var r=t.on=t.on?C({},t.on):{};for(var n in e){var i=r[n],o=e[n];r[n]=i?[].concat(i,o):o}}return t}function Me(t,e,r,n){e=e||{$stable:!r};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Me(o,e,r):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return n&&(e.$key=n),e}function Ne(t,e){for(var r=0;r<e.length;r+=2){var n=e[r];"string"==typeof n&&n&&(t[e[r]]=e[r+1])}return t}function Pe(t,e){return"string"==typeof t?e+t:t}function Le(t){t._o=Ie,t._n=p,t._s=d,t._l=be,t._t=xe,t._q=P,t._i=L,t._m=Se,t._f=Te,t._k=we,t._b=Ae,t._v=vt,t._e=gt,t._u=Me,t._g=Re,t._d=Ne,t._p=Pe}function De(t,e,r,i,o){var a,u=this,l=o.options;y(i,"_uid")?(a=Object.create(i))._original=i:(a=i,i=i._original);var c=s(l._compiled),h=!c;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=de(l.inject,i),this.slots=function(){return u.$slots||me(t.scopedSlots,u.$slots=pe(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,r,n){var o=ze(a,t,e,r,n,h);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(t,e,r,n){return ze(a,t,e,r,n,h)}}function ke(t,e,r,n,i){var o=mt(t);return o.fnContext=r,o.fnOptions=n,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Fe(t,e){for(var r in e)t[T(r)]=e[r]}Le(De.prototype);var Be={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;Be.prepatch(r,r)}else(t.componentInstance=function(t,e){var r={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return o(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(r)}(t,Ze)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,o){var s=i.data.scopedSlots,a=t.$scopedSlots,u=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),l=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Tt(!1);for(var c=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var d=h[f],p=t.$options.props;c[d]=Ft(d,p,e,t)}Tt(!0),t.$options.propsData=e}r=r||n;var g=t.$options._parentListeners;t.$options._parentListeners=r,Je(t,r,g),l&&(t.$slots=pe(o,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,r=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,nr(n,"mounted")),t.data.keepAlive&&(r._isMounted?((e=n)._inactive=!1,or.push(e)):er(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?rr(e,!0):e.$destroy())}},je=Object.keys(Be);function Ue(t,e,r,a,l){if(!i(t)){var c=r.$options._base;if(u(t)&&(t=c.extend(t)),"function"==typeof t){var h;if(i(t.cid)&&(t=function(t,e){if(s(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var r=He;if(r&&o(t.owners)&&-1===t.owners.indexOf(r)&&t.owners.push(r),s(t.loading)&&o(t.loadingComp))return t.loadingComp;if(r&&!o(t.owners)){var n=t.owners=[r],a=!0,l=null,c=null;r.$on("hook:destroyed",(function(){return m(n,r)}));var h=function(t){for(var e=0,r=n.length;e<r;e++)n[e].$forceUpdate();t&&(n.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},d=D((function(r){t.resolved=$e(r,e),a?n.length=0:h(!0)})),p=D((function(e){o(t.errorComp)&&(t.error=!0,h(!0))})),g=t(d,p);return u(g)&&(f(g)?i(t.resolved)&&g.then(d,p):f(g.component)&&(g.component.then(d,p),o(g.error)&&(t.errorComp=$e(g.error,e)),o(g.loading)&&(t.loadingComp=$e(g.loading,e),0===g.delay?t.loading=!0:l=setTimeout((function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,h(!1))}),g.delay||200)),o(g.timeout)&&(c=setTimeout((function(){c=null,i(t.resolved)&&p(null)}),g.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}(h=t,c),void 0===t))return function(t,e,r,n,i){var o=gt();return o.asyncFactory=t,o.asyncMeta={data:e,context:r,children:n,tag:i},o}(h,e,r,a,l);e=e||{},wr(t),o(e.model)&&function(t,e){var r=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[r]=e.model.value;var i=e.on||(e.on={}),s=i[n],a=e.model.callback;o(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(i[n]=[a].concat(s)):i[n]=a}(t.options,e);var d=function(t,e,r){var n=e.options.props;if(!i(n)){var s={},a=t.attrs,u=t.props;if(o(a)||o(u))for(var l in n){var c=A(l);le(s,u,l,c,!0)||le(s,a,l,c,!1)}return s}}(e,t);if(s(t.options.functional))return function(t,e,r,i,s){var a=t.options,u={},l=a.props;if(o(l))for(var c in l)u[c]=Ft(c,l,e||n);else o(r.attrs)&&Fe(u,r.attrs),o(r.props)&&Fe(u,r.props);var h=new De(r,u,s,i,t),f=a.render.call(null,h._c,h);if(f instanceof dt)return ke(f,r,h.parent,a);if(Array.isArray(f)){for(var d=ce(f)||[],p=new Array(d.length),g=0;g<d.length;g++)p[g]=ke(d[g],r,h.parent,a);return p}}(t,d,e,r,a);var p=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(t){for(var e=t.hook||(t.hook={}),r=0;r<je.length;r++){var n=je[r],i=e[n],o=Be[n];i===o||i&&i._merged||(e[n]=i?Ve(o,i):o)}}(e);var v=t.options.name||l;return new dt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:d,listeners:p,tag:l,children:a},h)}}}function Ve(t,e){var r=function(r,n){t(r,n),e(r,n)};return r._merged=!0,r}function ze(t,e,r,n,i,l){return(Array.isArray(r)||a(r))&&(i=n,n=r,r=void 0),s(l)&&(i=2),function(t,e,r,n,i){if(o(r)&&o(r.__ob__))return gt();if(o(r)&&o(r.is)&&(e=r.is),!e)return gt();var s,a,l;(Array.isArray(n)&&"function"==typeof n[0]&&((r=r||{}).scopedSlots={default:n[0]},n.length=0),2===i?n=ce(n):1===i&&(n=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(n)),"string"==typeof e)?(a=t.$vnode&&t.$vnode.ns||j.getTagNamespace(e),s=j.isReservedTag(e)?new dt(j.parsePlatformTagName(e),r,n,void 0,void 0,t):r&&r.pre||!o(l=kt(t.$options,"components",e))?new dt(e,r,n,void 0,void 0,t):Ue(l,r,t,n,e)):s=Ue(e,r,t,n);return Array.isArray(s)?s:o(s)?(o(a)&&We(s,a),o(r)&&function(t){u(t.style)&&ne(t.style),u(t.class)&&ne(t.class)}(r),s):gt()}(t,e,r,n,i)}function We(t,e,r){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,r=!0),o(t.children))for(var n=0,a=t.children.length;n<a;n++){var u=t.children[n];o(u.tag)&&(i(u.ns)||s(r)&&"svg"!==u.tag)&&We(u,e,r)}}var Ge,He=null;function $e(t,e){return(t.__esModule||st&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function Xe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(o(r)&&(o(r.componentOptions)||ve(r)))return r}}function qe(t,e){Ge.$on(t,e)}function Ye(t,e){Ge.$off(t,e)}function Ke(t,e){var r=Ge;return function n(){var i=e.apply(null,arguments);null!==i&&r.$off(t,n)}}function Je(t,e,r){Ge=t,ae(e,r||{},qe,Ye,Ke,t),Ge=void 0}var Ze=null;function Qe(t){var e=Ze;return Ze=t,function(){Ze=e}}function tr(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function er(t,e){if(e){if(t._directInactive=!1,tr(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)er(t.$children[r]);nr(t,"activated")}}function rr(t,e){if(!(e&&(t._directInactive=!0,tr(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)rr(t.$children[r]);nr(t,"deactivated")}}function nr(t,e){ht();var r=t.$options[e],n=e+" hook";if(r)for(var i=0,o=r.length;i<o;i++)Wt(r[i],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),ft()}var ir=[],or=[],sr={},ar=!1,ur=!1,lr=0,cr=0,hr=Date.now;if(G&&!q){var fr=window.performance;fr&&"function"==typeof fr.now&&hr()>document.createEvent("Event").timeStamp&&(hr=function(){return fr.now()})}function dr(){var t,e;for(cr=hr(),ur=!0,ir.sort((function(t,e){return t.id-e.id})),lr=0;lr<ir.length;lr++)(t=ir[lr]).before&&t.before(),e=t.id,sr[e]=null,t.run();var r=or.slice(),n=ir.slice();lr=ir.length=or.length=0,sr={},ar=ur=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,er(t[e],!0)}(r),function(t){for(var e=t.length;e--;){var r=t[e],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&nr(n,"updated")}}(n),nt&&j.devtools&&nt.emit("flush")}var pr=0,gr=function(t,e,r,n,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++pr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ot,this.newDepIds=new ot,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}(e),this.getter||(this.getter=R)),this.value=this.lazy?void 0:this.get()};gr.prototype.get=function(){var t;ht(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;zt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ne(t),ft(),this.cleanupDeps()}return t},gr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},gr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},gr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==sr[e]){if(sr[e]=!0,ur){for(var r=ir.length-1;r>lr&&ir[r].id>t.id;)r--;ir.splice(r+1,0,t)}else ir.push(t);ar||(ar=!0,ee(dr))}}(this)},gr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user){var r='callback for watcher "'+this.expression+'"';Wt(this.cb,this.vm,[t,e],this.vm,r)}else this.cb.call(this.vm,t,e)}}},gr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},gr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},gr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var vr={enumerable:!0,configurable:!0,get:R,set:R};function mr(t,e,r){vr.get=function(){return this[e][r]},vr.set=function(t){this[e][r]=t},Object.defineProperty(t,r,vr)}var _r={lazy:!0};function yr(t,e,r){var n=!rt();"function"==typeof r?(vr.get=n?br(e):xr(r),vr.set=R):(vr.get=r.get?n&&!1!==r.cache?br(e):xr(r.get):R,vr.set=r.set||R),Object.defineProperty(t,e,vr)}function br(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),lt.target&&e.depend(),e.value}}function xr(t){return function(){return t.call(this,this)}}function Tr(t,e,r,n){return c(r)&&(n=r,r=r.handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,n)}var Er=0;function wr(t){var e=t.options;if(t.super){var r=wr(t.super);if(r!==t.superOptions){t.superOptions=r;var n=function(t){var e,r=t.options,n=t.sealedOptions;for(var i in r)r[i]!==n[i]&&(e||(e={}),e[i]=r[i]);return e}(t);n&&C(t.extendOptions,n),(e=t.options=Dt(r,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Ar(t){this._init(t)}function Sr(t){return t&&(t.Ctor.options.name||t.tag)}function Ir(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(r=t,!("[object RegExp]"!==l.call(r))&&t.test(e));var r}function Cr(t,e){var r=t.cache,n=t.keys,i=t._vnode;for(var o in r){var s=r[o];if(s){var a=s.name;a&&!e(a)&&Or(r,o,n,i)}}}function Or(t,e,r,n){var i=t[e];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),t[e]=null,m(r,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Er++,e._isVue=!0,t&&t._isComponent?function(t,e){var r=t.$options=Object.create(t.constructor.options),n=e._parentVnode;r.parent=e.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Dt(wr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Je(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=pe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,r,n,i){return ze(t,e,r,n,i,!1)},t.$createElement=function(e,r,n,i){return ze(t,e,r,n,i,!0)};var o=r&&r.data;At(t,"$attrs",o&&o.attrs||n,null,!0),At(t,"$listeners",e._parentListeners||n,null,!0)}(e),nr(e,"beforeCreate"),function(t){var e=de(t.$options.inject,t);e&&(Tt(!1),Object.keys(e).forEach((function(r){At(t,r,e[r])})),Tt(!0))}(e),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var r=t.$options.propsData||{},n=t._props={},i=t.$options._propKeys=[];t.$parent&&Tt(!1);var o=function(o){i.push(o);var s=Ft(o,e,r,t);At(n,o,s),o in t||mr(t,"_props",o)};for(var s in e)o(s);Tt(!0)}(t,e.props),e.methods&&function(t,e){for(var r in t.$options.props,e)t[r]="function"!=typeof e[r]?R:S(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){ht();try{return t.call(e,e)}catch(t){return zt(t,e,"data()"),{}}finally{ft()}}(e,t):e||{})||(e={});for(var r,n=Object.keys(e),i=t.$options.props,o=(t.$options.methods,n.length);o--;){var s=n[o];i&&y(i,s)||(r=void 0,36===(r=(s+"").charCodeAt(0))||95===r)||mr(t,"_data",s)}wt(e,!0)}(t):wt(t._data={},!0),e.computed&&function(t,e){var r=t._computedWatchers=Object.create(null),n=rt();for(var i in e){var o=e[i],s="function"==typeof o?o:o.get;n||(r[i]=new gr(t,s||R,R,_r)),i in t||yr(t,i,o)}}(t,e.computed),e.watch&&e.watch!==Q&&function(t,e){for(var r in e){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)Tr(t,r,n[i]);else Tr(t,r,n)}}(t,e.watch)}(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),nr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Ar),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=St,t.prototype.$delete=It,t.prototype.$watch=function(t,e,r){var n=this;if(c(e))return Tr(n,t,e,r);(r=r||{}).user=!0;var i=new gr(n,t,e,r);if(r.immediate){var o='callback for immediate watcher "'+i.expression+'"';ht(),Wt(e,n,[i.value],n,o),ft()}return function(){i.teardown()}}}(Ar),function(t){var e=/^hook:/;t.prototype.$on=function(t,r){var n=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)n.$on(t[i],r);else(n._events[t]||(n._events[t]=[])).push(r),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var r=this;function n(){r.$off(t,n),e.apply(r,arguments)}return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)r.$off(t[n],e);return r}var o,s=r._events[t];if(!s)return r;if(!e)return r._events[t]=null,r;for(var a=s.length;a--;)if((o=s[a])===e||o.fn===e){s.splice(a,1);break}return r},t.prototype.$emit=function(t){var e=this,r=e._events[t];if(r){r=r.length>1?I(r):r;for(var n=I(arguments,1),i='event handler for "'+t+'"',o=0,s=r.length;o<s;o++)Wt(r[o],e,n,e,i)}return e}}(Ar),function(t){t.prototype._update=function(t,e){var r=this,n=r.$el,i=r._vnode,o=Qe(r);r._vnode=t,r.$el=i?r.__patch__(i,t):r.__patch__(r.$el,t,e,!1),o(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){nr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),nr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Ar),function(t){Le(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,r=e.$options,n=r.render,i=r._parentVnode;i&&(e.$scopedSlots=me(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{He=e,t=n.call(e._renderProxy,e.$createElement)}catch(r){zt(r,e,"render"),t=e._vnode}finally{He=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof dt||(t=gt()),t.parent=i,t}}(Ar);var Rr=[String,RegExp,Array],Mr={name:"keep-alive",abstract:!0,props:{include:Rr,exclude:Rr,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,r=t.keys,n=t.vnodeToCache,i=t.keyToCache;if(n){var o=n.tag,s=n.componentInstance,a=n.componentOptions;e[i]={name:Sr(a),tag:o,componentInstance:s},r.push(i),this.max&&r.length>parseInt(this.max)&&Or(e,r[0],r,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Or(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Cr(t,(function(t){return Ir(e,t)}))})),this.$watch("exclude",(function(e){Cr(t,(function(t){return!Ir(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Xe(t),r=e&&e.componentOptions;if(r){var n=Sr(r),i=this.include,o=this.exclude;if(i&&(!n||!Ir(i,n))||o&&n&&Ir(o,n))return e;var s=this.cache,a=this.keys,u=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;s[u]?(e.componentInstance=s[u].componentInstance,m(a,u),a.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},Nr={KeepAlive:Mr};!function(t){var e={get:function(){return j}};Object.defineProperty(t,"config",e),t.util={warn:at,extend:C,mergeOptions:Dt,defineReactive:At},t.set=St,t.delete=It,t.nextTick=ee,t.observable=function(t){return wt(t),t},t.options=Object.create(null),F.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,C(t.options.components,Nr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=I(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Dt(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,n=r.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];var o=t.name||r.options.name,s=function(t){this._init(t)};return(s.prototype=Object.create(r.prototype)).constructor=s,s.cid=e++,s.options=Dt(r.options,t),s.super=r,s.options.props&&function(t){var e=t.options.props;for(var r in e)mr(t.prototype,"_props",r)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var r in e)yr(t.prototype,r,e[r])}(s),s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,F.forEach((function(t){s[t]=r[t]})),o&&(s.options.components[o]=s),s.superOptions=r.options,s.extendOptions=t,s.sealedOptions=C({},s.options),i[n]=s,s}}(t),function(t){F.forEach((function(e){t[e]=function(t,r){return r?("component"===e&&c(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}}))}(t)}(Ar),Object.defineProperty(Ar.prototype,"$isServer",{get:rt}),Object.defineProperty(Ar.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ar,"FunctionalRenderContext",{value:De}),Ar.version="2.6.14";var Pr=g("style,class"),Lr=g("input,textarea,option,select,progress"),Dr=g("contenteditable,draggable,spellcheck"),kr=g("events,caret,typing,plaintext-only"),Fr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Br="http://www.w3.org/1999/xlink",jr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ur=function(t){return jr(t)?t.slice(6,t.length):""},Vr=function(t){return null==t||!1===t};function zr(t,e){return{staticClass:Wr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Wr(t,e){return t?e?t+" "+e:t:e||""}function Gr(t){return Array.isArray(t)?function(t){for(var e,r="",n=0,i=t.length;n<i;n++)o(e=Gr(t[n]))&&""!==e&&(r&&(r+=" "),r+=e);return r}(t):u(t)?function(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}(t):"string"==typeof t?t:""}var Hr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},$r=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),qr=function(t){return $r(t)||Xr(t)},Yr=Object.create(null),Kr=g("text,number,password,search,email,tel,url"),Jr=Object.freeze({createElement:function(t,e){var r=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r},createElementNS:function(t,e){return document.createElementNS(Hr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,r){t.insertBefore(e,r)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Zr={create:function(t,e){Qr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Qr(t,!0),Qr(e))},destroy:function(t){Qr(t,!0)}};function Qr(t,e){var r=t.data.ref;if(o(r)){var n=t.context,i=t.componentInstance||t.elm,s=n.$refs;e?Array.isArray(s[r])?m(s[r],i):s[r]===i&&(s[r]=void 0):t.data.refInFor?Array.isArray(s[r])?s[r].indexOf(i)<0&&s[r].push(i):s[r]=[i]:s[r]=i}}var tn=new dt("",{},[]),en=["create","activate","update","remove","destroy"];function rn(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var r,n=o(r=t.data)&&o(r=r.attrs)&&r.type,i=o(r=e.data)&&o(r=r.attrs)&&r.type;return n===i||Kr(n)&&Kr(i)}(t,e)||s(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function nn(t,e,r){var n,i,s={};for(n=e;n<=r;++n)o(i=t[n].key)&&(s[i]=n);return s}var on={create:sn,update:sn,destroy:function(t){sn(t,tn)}};function sn(t,e){(t.data.directives||e.data.directives)&&function(t,e){var r,n,i,o=t===tn,s=e===tn,a=un(t.data.directives,t.context),u=un(e.data.directives,e.context),l=[],c=[];for(r in u)n=a[r],i=u[r],n?(i.oldValue=n.value,i.oldArg=n.arg,cn(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(cn(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var r=0;r<l.length;r++)cn(l[r],"inserted",e,t)};o?ue(e,"insert",h):h()}if(c.length&&ue(e,"postpatch",(function(){for(var r=0;r<c.length;r++)cn(c[r],"componentUpdated",e,t)})),!o)for(r in a)u[r]||cn(a[r],"unbind",t,t,s)}(t,e)}var an=Object.create(null);function un(t,e){var r,n,i=Object.create(null);if(!t)return i;for(r=0;r<t.length;r++)(n=t[r]).modifiers||(n.modifiers=an),i[ln(n)]=n,n.def=kt(e.$options,"directives",n.name);return i}function ln(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function cn(t,e,r,n,i){var o=t.def&&t.def[e];if(o)try{o(r.elm,t,r,n,i)}catch(n){zt(n,r.context,"directive "+t.name+" "+e+" hook")}}var hn=[Zr,on];function fn(t,e){var r=e.componentOptions;if(!(o(r)&&!1===r.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var n,s,a=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(n in o(l.__ob__)&&(l=e.data.attrs=C({},l)),l)s=l[n],u[n]!==s&&dn(a,n,s,e.data.pre);for(n in(q||K)&&l.value!==u.value&&dn(a,"value",l.value),u)i(l[n])&&(jr(n)?a.removeAttributeNS(Br,Ur(n)):Dr(n)||a.removeAttribute(n))}}function dn(t,e,r,n){n||t.tagName.indexOf("-")>-1?pn(t,e,r):Fr(e)?Vr(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r)):Dr(e)?t.setAttribute(e,function(t,e){return Vr(e)||"false"===e?"false":"contenteditable"===t&&kr(e)?e:"true"}(e,r)):jr(e)?Vr(r)?t.removeAttributeNS(Br,Ur(e)):t.setAttributeNS(Br,e,r):pn(t,e,r)}function pn(t,e,r){if(Vr(r))t.removeAttribute(e);else{if(q&&!Y&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==r&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,r)}}var gn={create:fn,update:fn};function vn(t,e){var r=e.elm,n=e.data,s=t.data;if(!(i(n.staticClass)&&i(n.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var a=function(t){for(var e=t.data,r=t,n=t;o(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(e=zr(n.data,e));for(;o(r=r.parent);)r&&r.data&&(e=zr(e,r.data));return i=e.staticClass,s=e.class,o(i)||o(s)?Wr(i,Gr(s)):"";var i,s}(e),u=r._transitionClasses;o(u)&&(a=Wr(a,Gr(u))),a!==r._prevClass&&(r.setAttribute("class",a),r._prevClass=a)}}var mn,_n={create:vn,update:vn};function yn(t,e,r){var n=mn;return function i(){var o=e.apply(null,arguments);null!==o&&Tn(t,i,r,n)}}var bn=Xt&&!(Z&&Number(Z[1])<=53);function xn(t,e,r,n){if(bn){var i=cr,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}mn.addEventListener(t,e,tt?{capture:r,passive:n}:r)}function Tn(t,e,r,n){(n||mn).removeEventListener(t,e._wrapper||e,r)}function En(t,e){if(!i(t.data.on)||!i(e.data.on)){var r=e.data.on||{},n=t.data.on||{};mn=e.elm,function(t){if(o(t.__r)){var e=q?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}o(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(r),ae(r,n,xn,Tn,yn,e.context),mn=void 0}}var wn,An={create:En,update:En};function Sn(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,n,s=e.elm,a=t.data.domProps||{},u=e.data.domProps||{};for(r in o(u.__ob__)&&(u=e.data.domProps=C({},u)),a)r in u||(s[r]="");for(r in u){if(n=u[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),n===a[r])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===r&&"PROGRESS"!==s.tagName){s._value=n;var l=i(n)?"":String(n);In(s,l)&&(s.value=l)}else if("innerHTML"===r&&Xr(s.tagName)&&i(s.innerHTML)){(wn=wn||document.createElement("div")).innerHTML="<svg>"+n+"</svg>";for(var c=wn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}else if(n!==a[r])try{s[r]=n}catch(t){}}}}function In(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var r=!0;try{r=document.activeElement!==t}catch(t){}return r&&t.value!==e}(t,e)||function(t,e){var r=t.value,n=t._vModifiers;if(o(n)){if(n.number)return p(r)!==p(e);if(n.trim)return r.trim()!==e.trim()}return r!==e}(t,e))}var Cn={create:Sn,update:Sn},On=b((function(t){var e={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Rn(t){var e=Mn(t.style);return t.staticStyle?C(t.staticStyle,e):e}function Mn(t){return Array.isArray(t)?O(t):"string"==typeof t?On(t):t}var Nn,Pn=/^--/,Ln=/\s*!important$/,Dn=function(t,e,r){if(Pn.test(e))t.style.setProperty(e,r);else if(Ln.test(r))t.style.setProperty(A(e),r.replace(Ln,""),"important");else{var n=Fn(e);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)t.style[n]=r[i];else t.style[n]=r}},kn=["Webkit","Moz","ms"],Fn=b((function(t){if(Nn=Nn||document.createElement("div").style,"filter"!==(t=T(t))&&t in Nn)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<kn.length;r++){var n=kn[r]+e;if(n in Nn)return n}}));function Bn(t,e){var r=e.data,n=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(n.staticStyle)&&i(n.style))){var s,a,u=e.elm,l=n.staticStyle,c=n.normalizedStyle||n.style||{},h=l||c,f=Mn(e.data.style)||{};e.data.normalizedStyle=o(f.__ob__)?C({},f):f;var d=function(t,e){for(var r,n={},i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(r=Rn(i.data))&&C(n,r);(r=Rn(t.data))&&C(n,r);for(var o=t;o=o.parent;)o.data&&(r=Rn(o.data))&&C(n,r);return n}(e);for(a in h)i(d[a])&&Dn(u,a,"");for(a in d)(s=d[a])!==h[a]&&Dn(u,a,null==s?"":s)}}var jn={create:Bn,update:Bn},Un=/\s+/;function Vn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Un).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function zn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Un).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var r=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";r.indexOf(n)>=0;)r=r.replace(n," ");(r=r.trim())?t.setAttribute("class",r):t.removeAttribute("class")}}function Wn(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&C(e,Gn(t.name||"v")),C(e,t),e}return"string"==typeof t?Gn(t):void 0}}var Gn=b((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Hn=G&&!Y,$n="transition",Xn="animation",qn="transition",Yn="transitionend",Kn="animation",Jn="animationend";Hn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(qn="WebkitTransition",Yn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Kn="WebkitAnimation",Jn="webkitAnimationEnd"));var Zn=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Qn(t){Zn((function(){Zn(t)}))}function ti(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),Vn(t,e))}function ei(t,e){t._transitionClasses&&m(t._transitionClasses,e),zn(t,e)}function ri(t,e,r){var n=ii(t,e),i=n.type,o=n.timeout,s=n.propCount;if(!i)return r();var a=i===$n?Yn:Jn,u=0,l=function(){t.removeEventListener(a,c),r()},c=function(e){e.target===t&&++u>=s&&l()};setTimeout((function(){u<s&&l()}),o+1),t.addEventListener(a,c)}var ni=/\b(transform|all)(,|$)/;function ii(t,e){var r,n=window.getComputedStyle(t),i=(n[qn+"Delay"]||"").split(", "),o=(n[qn+"Duration"]||"").split(", "),s=oi(i,o),a=(n[Kn+"Delay"]||"").split(", "),u=(n[Kn+"Duration"]||"").split(", "),l=oi(a,u),c=0,h=0;return e===$n?s>0&&(r=$n,c=s,h=o.length):e===Xn?l>0&&(r=Xn,c=l,h=u.length):h=(r=(c=Math.max(s,l))>0?s>l?$n:Xn:null)?r===$n?o.length:u.length:0,{type:r,timeout:c,propCount:h,hasTransform:r===$n&&ni.test(n[qn+"Property"])}}function oi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,r){return si(e)+si(t[r])})))}function si(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ai(t,e){var r=t.elm;o(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=Wn(t.data.transition);if(!i(n)&&!o(r._enterCb)&&1===r.nodeType){for(var s=n.css,a=n.type,l=n.enterClass,c=n.enterToClass,h=n.enterActiveClass,f=n.appearClass,d=n.appearToClass,g=n.appearActiveClass,v=n.beforeEnter,m=n.enter,_=n.afterEnter,y=n.enterCancelled,b=n.beforeAppear,x=n.appear,T=n.afterAppear,E=n.appearCancelled,w=n.duration,A=Ze,S=Ze.$vnode;S&&S.parent;)A=S.context,S=S.parent;var I=!A._isMounted||!t.isRootInsert;if(!I||x||""===x){var C=I&&f?f:l,O=I&&g?g:h,R=I&&d?d:c,M=I&&b||v,N=I&&"function"==typeof x?x:m,P=I&&T||_,L=I&&E||y,k=p(u(w)?w.enter:w),F=!1!==s&&!Y,B=ci(N),j=r._enterCb=D((function(){F&&(ei(r,R),ei(r,O)),j.cancelled?(F&&ei(r,C),L&&L(r)):P&&P(r),r._enterCb=null}));t.data.show||ue(t,"insert",(function(){var e=r.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),N&&N(r,j)})),M&&M(r),F&&(ti(r,C),ti(r,O),Qn((function(){ei(r,C),j.cancelled||(ti(r,R),B||(li(k)?setTimeout(j,k):ri(r,a,j)))}))),t.data.show&&(e&&e(),N&&N(r,j)),F||B||j()}}}function ui(t,e){var r=t.elm;o(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=Wn(t.data.transition);if(i(n)||1!==r.nodeType)return e();if(!o(r._leaveCb)){var s=n.css,a=n.type,l=n.leaveClass,c=n.leaveToClass,h=n.leaveActiveClass,f=n.beforeLeave,d=n.leave,g=n.afterLeave,v=n.leaveCancelled,m=n.delayLeave,_=n.duration,y=!1!==s&&!Y,b=ci(d),x=p(u(_)?_.leave:_),T=r._leaveCb=D((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),y&&(ei(r,c),ei(r,h)),T.cancelled?(y&&ei(r,l),v&&v(r)):(e(),g&&g(r)),r._leaveCb=null}));m?m(E):E()}function E(){T.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),f&&f(r),y&&(ti(r,l),ti(r,h),Qn((function(){ei(r,l),T.cancelled||(ti(r,c),b||(li(x)?setTimeout(T,x):ri(r,a,T)))}))),d&&d(r,T),y||b||T())}}function li(t){return"number"==typeof t&&!isNaN(t)}function ci(t){if(i(t))return!1;var e=t.fns;return o(e)?ci(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function hi(t,e){!0!==e.data.show&&ai(e)}var fi=function(t){var e,r,n={},u=t.modules,l=t.nodeOps;for(e=0;e<en.length;++e)for(n[en[e]]=[],r=0;r<u.length;++r)o(u[r][en[e]])&&n[en[e]].push(u[r][en[e]]);function c(t){var e=l.parentNode(t);o(e)&&l.removeChild(e,t)}function h(t,e,r,i,a,u,c){if(o(t.elm)&&o(u)&&(t=u[c]=mt(t)),t.isRootInsert=!a,!function(t,e,r,i){var a=t.data;if(o(a)){var u=o(t.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(t,!1),o(t.componentInstance))return f(t,e),d(r,t.elm,i),s(u)&&function(t,e,r,i){for(var s,a=t;a.componentInstance;)if(o(s=(a=a.componentInstance._vnode).data)&&o(s=s.transition)){for(s=0;s<n.activate.length;++s)n.activate[s](tn,a);e.push(a);break}d(r,t.elm,i)}(t,e,r,i),!0}}(t,e,r,i)){var h=t.data,g=t.children,v=t.tag;o(v)?(t.elm=t.ns?l.createElementNS(t.ns,v):l.createElement(v,t),_(t),p(t,g,e),o(h)&&m(t,e),d(r,t.elm,i)):s(t.isComment)?(t.elm=l.createComment(t.text),d(r,t.elm,i)):(t.elm=l.createTextNode(t.text),d(r,t.elm,i))}}function f(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(m(t,e),_(t)):(Qr(t),e.push(t))}function d(t,e,r){o(t)&&(o(r)?l.parentNode(r)===t&&l.insertBefore(t,e,r):l.appendChild(t,e))}function p(t,e,r){if(Array.isArray(e))for(var n=0;n<e.length;++n)h(e[n],r,t.elm,null,!0,e,n);else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function m(t,r){for(var i=0;i<n.create.length;++i)n.create[i](tn,t);o(e=t.data.hook)&&(o(e.create)&&e.create(tn,t),o(e.insert)&&r.push(t))}function _(t){var e;if(o(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var r=t;r;)o(e=r.context)&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),r=r.parent;o(e=Ze)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function y(t,e,r,n,i,o){for(;n<=i;++n)h(r[n],o,t,e,!1,r,n)}function b(t){var e,r,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<n.destroy.length;++e)n.destroy[e](t);if(o(e=t.children))for(r=0;r<t.children.length;++r)b(t.children[r])}function x(t,e,r){for(;e<=r;++e){var n=t[e];o(n)&&(o(n.tag)?(T(n),b(n)):c(n.elm))}}function T(t,e){if(o(e)||o(t.data)){var r,i=n.remove.length+1;for(o(e)?e.listeners+=i:e=function(t,e){function r(){0==--r.listeners&&c(t)}return r.listeners=e,r}(t.elm,i),o(r=t.componentInstance)&&o(r=r._vnode)&&o(r.data)&&T(r,e),r=0;r<n.remove.length;++r)n.remove[r](t,e);o(r=t.data.hook)&&o(r=r.remove)?r(t,e):e()}else c(t.elm)}function E(t,e,r,n){for(var i=r;i<n;i++){var s=e[i];if(o(s)&&rn(t,s))return i}}function w(t,e,r,a,u,c){if(t!==e){o(e.elm)&&o(a)&&(e=a[u]=mt(e));var f=e.elm=t.elm;if(s(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?I(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;o(p)&&o(d=p.hook)&&o(d=d.prepatch)&&d(t,e);var g=t.children,m=e.children;if(o(p)&&v(e)){for(d=0;d<n.update.length;++d)n.update[d](t,e);o(d=p.hook)&&o(d=d.update)&&d(t,e)}i(e.text)?o(g)&&o(m)?g!==m&&function(t,e,r,n,s){for(var a,u,c,f=0,d=0,p=e.length-1,g=e[0],v=e[p],m=r.length-1,_=r[0],b=r[m],T=!s;f<=p&&d<=m;)i(g)?g=e[++f]:i(v)?v=e[--p]:rn(g,_)?(w(g,_,n,r,d),g=e[++f],_=r[++d]):rn(v,b)?(w(v,b,n,r,m),v=e[--p],b=r[--m]):rn(g,b)?(w(g,b,n,r,m),T&&l.insertBefore(t,g.elm,l.nextSibling(v.elm)),g=e[++f],b=r[--m]):rn(v,_)?(w(v,_,n,r,d),T&&l.insertBefore(t,v.elm,g.elm),v=e[--p],_=r[++d]):(i(a)&&(a=nn(e,f,p)),i(u=o(_.key)?a[_.key]:E(_,e,f,p))?h(_,n,t,g.elm,!1,r,d):rn(c=e[u],_)?(w(c,_,n,r,d),e[u]=void 0,T&&l.insertBefore(t,c.elm,g.elm)):h(_,n,t,g.elm,!1,r,d),_=r[++d]);f>p?y(t,i(r[m+1])?null:r[m+1].elm,r,d,m,n):d>m&&x(e,f,p)}(f,g,m,r,c):o(m)?(o(t.text)&&l.setTextContent(f,""),y(f,null,m,0,m.length-1,r)):o(g)?x(g,0,g.length-1):o(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),o(p)&&o(d=p.hook)&&o(d=d.postpatch)&&d(t,e)}}}function A(t,e,r){if(s(r)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var S=g("attrs,class,staticClass,staticStyle,key");function I(t,e,r,n){var i,a=e.tag,u=e.data,l=e.children;if(n=n||u&&u.pre,e.elm=t,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(i=u.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return f(e,r),!0;if(o(a)){if(o(l))if(t.hasChildNodes())if(o(i=u)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!I(h,l[d],r,n)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else p(e,l,r);if(o(u)){var g=!1;for(var v in u)if(!S(v)){g=!0,m(e,r);break}!g&&u.class&&ne(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,a){if(!i(e)){var u,c=!1,f=[];if(i(t))c=!0,h(e,f);else{var d=o(t.nodeType);if(!d&&rn(t,e))w(t,e,f,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(k)&&(t.removeAttribute(k),r=!0),s(r)&&I(t,e,f))return A(e,f,!0),t;u=t,t=new dt(l.tagName(u).toLowerCase(),{},[],void 0,u)}var p=t.elm,g=l.parentNode(p);if(h(e,f,p._leaveCb?null:g,l.nextSibling(p)),o(e.parent))for(var m=e.parent,_=v(e);m;){for(var y=0;y<n.destroy.length;++y)n.destroy[y](m);if(m.elm=e.elm,_){for(var T=0;T<n.create.length;++T)n.create[T](tn,m);var E=m.data.hook.insert;if(E.merged)for(var S=1;S<E.fns.length;S++)E.fns[S]()}else Qr(m);m=m.parent}o(g)?x([t],0,0):o(t.tag)&&b(t)}}return A(e,f,c),e.elm}o(t)&&b(t)}}({nodeOps:Jr,modules:[gn,_n,An,Cn,jn,G?{create:hi,activate:hi,remove:function(t,e){!0!==t.data.show?ui(t,e):e()}}:{}].concat(hn)});Y&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&bi(t,"input")}));var di={inserted:function(t,e,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?ue(r,"postpatch",(function(){di.componentUpdated(t,e,r)})):pi(t,e,r.context),t._vOptions=[].map.call(t.options,mi)):("textarea"===r.tag||Kr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",_i),t.addEventListener("compositionend",yi),t.addEventListener("change",yi),Y&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){pi(t,e,r.context);var n=t._vOptions,i=t._vOptions=[].map.call(t.options,mi);i.some((function(t,e){return!P(t,n[e])}))&&(t.multiple?e.value.some((function(t){return vi(t,i)})):e.value!==e.oldValue&&vi(e.value,i))&&bi(t,"change")}}};function pi(t,e,r){gi(t,e),(q||K)&&setTimeout((function(){gi(t,e)}),0)}function gi(t,e,r){var n=e.value,i=t.multiple;if(!i||Array.isArray(n)){for(var o,s,a=0,u=t.options.length;a<u;a++)if(s=t.options[a],i)o=L(n,mi(s))>-1,s.selected!==o&&(s.selected=o);else if(P(mi(s),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function vi(t,e){return e.every((function(e){return!P(e,t)}))}function mi(t){return"_value"in t?t._value:t.value}function _i(t){t.target.composing=!0}function yi(t){t.target.composing&&(t.target.composing=!1,bi(t.target,"input"))}function bi(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function xi(t){return!t.componentInstance||t.data&&t.data.transition?t:xi(t.componentInstance._vnode)}var Ti={bind:function(t,e,r){var n=e.value,i=(r=xi(r)).data&&r.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&i?(r.data.show=!0,ai(r,(function(){t.style.display=o}))):t.style.display=n?o:"none"},update:function(t,e,r){var n=e.value;!n!=!e.oldValue&&((r=xi(r)).data&&r.data.transition?(r.data.show=!0,n?ai(r,(function(){t.style.display=t.__vOriginalDisplay})):ui(r,(function(){t.style.display="none"}))):t.style.display=n?t.__vOriginalDisplay:"none")},unbind:function(t,e,r,n,i){i||(t.style.display=t.__vOriginalDisplay)}},Ei={model:di,show:Ti},wi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ai(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ai(Xe(e.children)):t}function Si(t){var e={},r=t.$options;for(var n in r.propsData)e[n]=t[n];var i=r._parentListeners;for(var o in i)e[T(o)]=i[o];return e}function Ii(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Ci=function(t){return t.tag||ve(t)},Oi=function(t){return"show"===t.name},Ri={name:"transition",props:wi,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(Ci)).length){var n=this.mode,i=r[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=Ai(i);if(!o)return i;if(this._leaving)return Ii(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var u=(o.data||(o.data={})).transition=Si(this),l=this._vnode,c=Ai(l);if(o.data.directives&&o.data.directives.some(Oi)&&(o.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,c)&&!ve(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=C({},u);if("out-in"===n)return this._leaving=!0,ue(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ii(t,i);if("in-out"===n){if(ve(o))return l;var f,d=function(){f()};ue(u,"afterEnter",d),ue(u,"enterCancelled",d),ue(h,"delayLeave",(function(t){f=t}))}}return i}}},Mi=C({tag:String,moveClass:String},wi);function Ni(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Pi(t){t.data.newPos=t.elm.getBoundingClientRect()}function Li(t){var e=t.data.pos,r=t.data.newPos,n=e.left-r.left,i=e.top-r.top;if(n||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}delete Mi.mode;var Di={Transition:Ri,TransitionGroup:{props:Mi,beforeMount:function(){var t=this,e=this._update;this._update=function(r,n){var i=Qe(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,r,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=Si(this),a=0;a<i.length;a++){var u=i[a];u.tag&&null!=u.key&&0!==String(u.key).indexOf("__vlist")&&(o.push(u),r[u.key]=u,(u.data||(u.data={})).transition=s)}if(n){for(var l=[],c=[],h=0;h<n.length;h++){var f=n[h];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?l.push(f):c.push(f)}this.kept=t(e,null,l),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ni),t.forEach(Pi),t.forEach(Li),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var r=t.elm,n=r.style;ti(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(Yn,r._moveCb=function t(n){n&&n.target!==r||n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(Yn,t),r._moveCb=null,ei(r,e))})}})))},methods:{hasMove:function(t,e){if(!Hn)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){zn(r,t)})),Vn(r,e),r.style.display="none",this.$el.appendChild(r);var n=ii(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}}};Ar.config.mustUseProp=function(t,e,r){return"value"===r&&Lr(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Ar.config.isReservedTag=qr,Ar.config.isReservedAttr=Pr,Ar.config.getTagNamespace=function(t){return Xr(t)?"svg":"math"===t?"math":void 0},Ar.config.isUnknownElement=function(t){if(!G)return!0;if(qr(t))return!1;if(t=t.toLowerCase(),null!=Yr[t])return Yr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Yr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Yr[t]=/HTMLUnknownElement/.test(e.toString())},C(Ar.options.directives,Ei),C(Ar.options.components,Di),Ar.prototype.__patch__=G?fi:R,Ar.prototype.$mount=function(t,e){return function(t,e,r){var n;return t.$el=e,t.$options.render||(t.$options.render=gt),nr(t,"beforeMount"),n=function(){t._update(t._render(),r)},new gr(t,n,R,{before:function(){t._isMounted&&!t._isDestroyed&&nr(t,"beforeUpdate")}},!0),r=!1,null==t.$vnode&&(t._isMounted=!0,nr(t,"mounted")),t}(this,t=t&&G?function(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}(t):void 0,e)},G&&setTimeout((function(){j.devtools&&nt&&nt.emit("init",Ar)}),0);const ki=Ar}],e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};(()=>{"use strict";r.r(n),r.d(n,{default:()=>a});var t=r(553),e=r(1),i=r.n(e),o=r(12);class s{constructor(t,e){this.container=t,this.load(e)}async load(e){this.options=e||{};const n=r(528).default,o=this.container;this.player&&await this.destroy();const{width:s,height:a}=i().DomUtil.innerSize(o);for(this.setSize({width:s,height:a});o.firstChild;)o.removeChild(o.firstChild);const u=new t.default({render:t=>t(n,{props:{options:this.options,width:s,height:a}})}).$mount();o.appendChild(u.$el),this.player=u.$children[0],this.resizeListener=this.onResize(),window.addEventListener("resize",this.resizeListener)}fit(){this.resizeListener&&this.resizeListener()}async destroy(){window.removeEventListener("resize",this.resizeListener),await this.player.destroy(),this.resizeListener=null}onResize(){return()=>{this.resizing||(this.resizing=!0,requestAnimationFrame((()=>{const{width:t,height:e}=i().DomUtil.innerSize(this.container);t==this.width&&e==this.height||this.setSize({width:t,height:e}),this.resizing=!1})))}}setSize({width:t,height:e}){this.width=t,this.height=e,this.player&&this.player.setSize({width:t,height:e})}toast(t,e){this.player.toast(t,e)}log(...t){this.player.log(...t)}play(){this.player.play()}pause(){this.player.pause()}on(t,e){this.player.$on(t,e)}off(t,e){this.player.$off(t,e)}once(t,e){this.player.$once(t,e)}async capture(){return await this.player.capture()}get playing(){return this.options.playing||!1}get duration(){return this.options.duration||0}get currentTime(){return this.options.currentTime||0}set currentTime(t){this.player.seek(Number(t)||0)}get playbackRate(){return this.options.speed||1}set playbackRate(t){this.options.speed=Number(t)||1}get volume(){return this.options.volume||1}set volume(t){this.options.volume=Number(t)||1}get version(){return this.player.version}}const a={utils:i(),TYPES:o.TYPES,InkPaint:o.InkPaint,create:(t,e)=>new s(t,e)}})(),window.miraplayer=n.default})();